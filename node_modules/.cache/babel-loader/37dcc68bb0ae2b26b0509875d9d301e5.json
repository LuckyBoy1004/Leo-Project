{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\My Project\\\\Leo\\\\Nivid\\\\src\\\\pages\\\\Etape2.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { FaChevronDown } from 'react-icons/fa';\nimport ServicesSlider from '../components/ServicesSlider';\nimport { items } from '../components/servicesData';\nimport { useAuth } from \"../context/userContext\"; // context\n\nimport SellersMap from '../components/SellersMap';\nimport { GoogleApiWrapper } from 'google-maps-react';\nimport { useFirebase } from \"../assets/base-context\";\nimport { useHistory } from 'react-router-dom';\nimport StickerBudgetLeft from \"../components/StickerBudgetLeft\";\nimport Image from '../components/utilities/Image';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select, { SelectChangeEvent } from '@mui/material/Select';\nimport Checkbox from '@mui/material/Checkbox';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nconst initialFilter = {\n  vegan: false,\n  halal: false,\n  casher: false,\n  vegetarien: false\n};\n\nconst Etape2 = props => {\n  _s();\n\n  const firebaseContext = useFirebase();\n  const firestore = firebaseContext.firestore();\n  const {\n    event,\n    setCurrentStepProcess\n  } = useAuth(); // context\n\n  const history = useHistory();\n  const [selectedMenu, setSelectedMenu] = useState(\"decorations\");\n  const [selectedSubMenu, setSelectedSubMenu] = useState(\"fleuristes\");\n  const [currentPageOffers, setCurrentPageOffers] = useState(0);\n  const [beforeSubMenu, setBeforeSubMenu] = useState(\"\");\n  const [isSubMenuDisplay, setIsSubMenuDisplay] = useState(true);\n  const [sellers, setSellers] = useState([]);\n  const [allSellers, setAllSellers] = useState([]); // C'est tout les sellers qui match en subcategory, ET qui sont à plus de 5km ( pour afficher les marker gris sur la map )\n\n  const [loading, setLoading] = useState(true);\n  const [categorySellers, setCategorySellers] = useState([]); // Tout les sellers qui match avec la category seulement, et à moins de 5 km ( pour afficher le nombre de\n  // prestataire dans la category en cours)\n\n  const [windowsWidth, setWindowsWidth] = useState(window.innerWidth); // State pour le scroll du menu category en mobile version\n\n  const [isDown, setIsDown] = useState(false);\n  const [startX, setStartX] = useState();\n  const [scrollLeft, setScrollLeft] = useState();\n  const [isSubMenuNotActiveMobileDisplay, setIsSubMenuNotActiveMobileDisplay] = useState(false);\n  const [isSliderHeaderIsMoving, setIsSliderHeaderIsMoving] = useState(false);\n  const [foodTypeFilter, setFoodTypeFilter] = useState(initialFilter);\n  const [isFoodFilterOpened, setIsFoodFilterOpened] = useState(false);\n\n  const isMobile = () => windowsWidth > 1100 ? false : true;\n\n  const handleResize = width => setWindowsWidth(width);\n\n  useEffect(() => {\n    event && event.status && event.status !== \"creating\" && history.push('/dashboard');\n    event && !event.status && history.push('/dashboard');\n    !event && history.push('/dashboard');\n    window.addEventListener(\"resize\", e => handleResize(window.innerWidth));\n    setLoading(true);\n    getSellersFromDB(selectedMenu, selectedSubMenu);\n    setCurrentStepProcess(2);\n  }, [selectedMenu, selectedSubMenu, foodTypeFilter]);\n  useEffect(() => {\n    setFoodTypeFilter(initialFilter);\n    setIsFoodFilterOpened(false);\n  }, [selectedMenu]);\n\n  function handleCategoryChange(category, subcategory) {\n    if (isSliderHeaderIsMoving) return;else {\n      setIsSubMenuNotActiveMobileDisplay(false);\n\n      if (category !== selectedMenu) {\n        setSellers([]);\n        setSelectedMenu(category);\n        setSelectedSubMenu(subcategory);\n        setCurrentPageOffers(0);\n\n        if (category === \"nourriture\") {\n          setIsSubMenuDisplay(false);\n          setBeforeSubMenu(\"\");\n        } else setIsSubMenuDisplay(true);\n      }\n    }\n  }\n\n  function handleSubCategoryChange(key) {\n    if (key !== selectedSubMenu) {\n      setSellers([]);\n      setSelectedSubMenu(key);\n      setCurrentPageOffers(0);\n      setIsSubMenuNotActiveMobileDisplay(false);\n    }\n  }\n\n  function displayBeforeSubMenu() {\n    const table = [\"Service à table\", \"Dinatoire\", \"Buffet\"];\n    return table.map((name, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => (setBeforeSubMenu(name), setIsSubMenuDisplay(true)),\n      className: \"subMenuItem beforeSubMenu\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this));\n  }\n\n  function handleOpeningSellersDetails(sellerId) {\n    history.push(`/creer-mon-evenement/etape-2/prestataires/${sellerId}`);\n  }\n\n  async function getSellersFromDB(category, subCategory) {\n    const refSellers = firestore.collection(\"sellers\"); // On va choper TOUT les sellers à moins de 5km pour ensuite faire le tri avec les category\n\n    const results = [];\n    var query = refSellers;\n    query = query.where(\"category\", \"==\", category);\n    query = query.where(\"status\", \"==\", \"opened\");\n    query.get().then(async res => {\n      res.forEach(doc => {\n        results.push({ ...doc.data(),\n          id: doc.id\n        });\n      });\n      let filteredResults = [];\n\n      if (selectedMenu === \"nourriture\") {\n        if (foodTypeFilter.vegan === true) {\n          results.forEach(item => {\n            if (item.foodTypes === undefined) return;\n            let filtered = item.foodTypes.filter(foodType => foodType === \"Vegan\");\n            if (filtered.length) filteredResults.push(item);\n          });\n        }\n\n        if (foodTypeFilter.halal === true) {\n          results.forEach(item => {\n            if (item.foodTypes === undefined) return;\n            let filtered = item.foodTypes.filter(foodType => foodType === \"Halal\");\n            if (filtered.length) filteredResults.push(item);\n          });\n        }\n\n        if (foodTypeFilter.casher === true) {\n          results.forEach(item => {\n            if (item.foodTypes === undefined) return;\n            let filtered = item.foodTypes.filter(foodType => foodType === \"Casher\");\n            if (filtered.length) filteredResults.push(item);\n          });\n        }\n\n        if (foodTypeFilter.vegetarien === true) {\n          results.forEach(item => {\n            if (item.foodTypes === undefined) return;\n            let filtered = item.foodTypes.filter(foodType => foodType === \"Vegetarien\");\n            if (filtered.length) filteredResults.push(item);\n          });\n        }\n      }\n\n      if (foodTypeFilter.vegetarien === false && foodTypeFilter.casher === false && foodTypeFilter.halal === false && foodTypeFilter.vegan === false) filteredResults = [...results];\n\n      if (filteredResults.length > 0) {\n        const categorySellersQuery = await filterSellersByDistance(filteredResults);\n        const categorySellersClose = [];\n\n        for (const result of categorySellersQuery) {\n          if (result.firstName) {\n            categorySellersClose.push(result);\n          }\n        }\n\n        const newSellers = categorySellersClose.filter(seller => seller.subcategory === subCategory);\n        setSellers(newSellers);\n        setCategorySellers(categorySellersClose); // On enlève les sellers à moins de 5 kilometres, pour ne garder dans allSellers uniquement ceux à plus de 5. Pour envoyer à la map\n\n        const copyAllSellers = [...filteredResults].filter(item => item.subcategory === subCategory);\n        const newAllSellers = copyAllSellers.filter(item => !newSellers.includes(item));\n        setAllSellers(newAllSellers);\n      } else {\n        setSellers([]);\n        setCategorySellers([]);\n      }\n\n      setLoading(false);\n    });\n  }\n\n  async function filterSellersByDistance(data) {\n    return Promise.all(data.map(item => {\n      const eventLatLng = event.latLng ? event.latLng : {\n        lat: 48.51666,\n        lng: -34.41888\n      };\n      return getDistanceBetweenTwoPoints(eventLatLng, item.latLng).then(result => {\n        if (result / 1000 < 5) {\n          return item;\n        } else {\n          return [];\n        }\n      });\n    }));\n  }\n\n  async function getDistanceBetweenTwoPoints(eventPos, sellerPos) {\n    var origin = new props.google.maps.LatLng(eventPos.lat, eventPos.lng);\n    var destination = new props.google.maps.LatLng(sellerPos.lat, sellerPos.lng);\n    var service = new props.google.maps.DistanceMatrixService();\n    return new Promise(resolve => {\n      service.getDistanceMatrix({\n        origins: [origin],\n        destinations: [destination],\n        travelMode: 'DRIVING'\n      }, (response, status) => {\n        resolve(response.rows[0].elements[0].distance.value);\n      });\n    });\n  }\n\n  const sliderCategory = useRef();\n\n  function handleMouseDownSliderHeader(e) {\n    setIsDown(true); // console.log(e.touches[0])\n\n    console.log(e);\n    setStartX(windowsWidth < 1100 ? e.clientX : e.pageX - sliderCategory.current.offsetLeft);\n    setScrollLeft(sliderCategory.current.scrollLeft);\n    setIsSliderHeaderIsMoving(false);\n  }\n\n  function handleMouseLeaveAndUpSliderHeader() {\n    setIsDown(false);\n  }\n\n  function handleMouseMoveSliderHeader(e) {\n    if (!isDown) return;\n    setIsSliderHeaderIsMoving(true);\n\n    if (e.changedTouches.length > 1) {\n      e.preventDefault();\n    }\n\n    console.log(e);\n    const x = windowsWidth < 1100 ? e.clientX : e.pageX - sliderCategory.current.offsetLeft;\n    const walk = (x - startX) * 2; //scroll-fast\n\n    sliderCategory.current.scrollLeft = scrollLeft - walk;\n  }\n\n  function handleFoodTypeChanged(isChecked, type) {\n    let newFoodTypeFilter = { ...foodTypeFilter\n    };\n\n    switch (type) {\n      case \"Vegan\":\n        newFoodTypeFilter.vegan = isChecked;\n        break;\n\n      case \"Halal\":\n        newFoodTypeFilter.halal = isChecked;\n        break;\n\n      case \"Casher\":\n        newFoodTypeFilter.casher = isChecked;\n        break;\n\n      case \"Vegetarien\":\n        newFoodTypeFilter.vegetarien = isChecked;\n        break;\n\n      default:\n        break;\n    }\n\n    setFoodTypeFilter(newFoodTypeFilter);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [!isMobile() ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"headerEtape2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: selectedMenu === \"decorations\" ? \"category active\" : \"category\",\n        onClick: () => handleCategoryChange(\"decorations\", \"fleuristes\"),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"D\\xE9corations \", /*#__PURE__*/_jsxDEV(FaChevronDown, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [categorySellers.length, \" prestataires au total\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: selectedMenu === \"ambiance\" ? \"category active\" : \"category\",\n        onClick: () => handleCategoryChange(\"ambiance\", \"spectacle\"),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Ambiance/Activit\\xE9 \", /*#__PURE__*/_jsxDEV(FaChevronDown, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 47\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [categorySellers.length, \" prestataires au total\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: selectedMenu === \"nourriture\" ? \"category active\" : \"category\",\n        onClick: () => handleCategoryChange(\"nourriture\", \"service\"),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Nourriture et boisson \", /*#__PURE__*/_jsxDEV(FaChevronDown, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [categorySellers.length, \" prestataires au total\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: sliderCategory,\n      className: isDown ? \"headerEtape2 mobile active\" : \"headerEtape2 mobile\",\n      onMouseDown: e => handleMouseDownSliderHeader(e),\n      onMouseLeave: () => handleMouseLeaveAndUpSliderHeader(),\n      onMouseUp: () => handleMouseLeaveAndUpSliderHeader(),\n      onMouseMove: e => handleMouseMoveSliderHeader(e),\n      onTouchStart: e => handleMouseDownSliderHeader(e),\n      onTouchEnd: () => handleMouseLeaveAndUpSliderHeader(),\n      onTouchMove: e => handleMouseMoveSliderHeader(e),\n      style: {\n        touchAction: 'none'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: selectedMenu === \"decorations\" ? \"category active\" : \"category\",\n        onClick: () => handleCategoryChange(\"decorations\", \"fleuristes\"),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"D\\xE9corations \", /*#__PURE__*/_jsxDEV(FaChevronDown, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [categorySellers.length, \" prestataires au total\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: selectedMenu === \"ambiance\" ? \"category active\" : \"category\",\n        onClick: () => handleCategoryChange(\"ambiance\", \"spectacle\"),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Ambiance/Activit\\xE9 \", /*#__PURE__*/_jsxDEV(FaChevronDown, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 47\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [categorySellers.length, \" prestataires au total\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: selectedMenu === \"nourriture\" ? \"category active\" : \"category\",\n        onClick: () => handleCategoryChange(\"nourriture\", \"service\"),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Nourriture et boisson \", /*#__PURE__*/_jsxDEV(FaChevronDown, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [categorySellers.length, \" prestataires au total\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: isMobile() ? \"formEtape2Container mobile\" : \"formEtape2Container\",\n      children: [!isMobile() ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"subHeaderEtape2\",\n          children: [selectedMenu === \"nourriture\" && beforeSubMenu.length < 1 && displayBeforeSubMenu(), isSubMenuDisplay && Object.entries(items[selectedMenu]).map(([key, item]) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: selectedSubMenu === key ? \"subMenuItem active\" : \"subMenuItem\",\n              onClick: () => handleSubCategoryChange(key),\n              children: [/*#__PURE__*/_jsxDEV(Image, {\n                url: item.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: key\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [categorySellers.filter(seller => seller.subcategory === key).length, \" prestataires dans vos alentours\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 45\n              }, this)]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 41\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stickerBudgetLeft\",\n            children: /*#__PURE__*/_jsxDEV(StickerBudgetLeft, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 25\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: isSubMenuNotActiveMobileDisplay ? \"subHeaderEtape2 mobile active\" : \"subHeaderEtape2 mobile\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"infoSubHeaderTopButton\",\n          children: \"Appuyez pour changer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 25\n        }, this), selectedMenu === \"nourriture\" && beforeSubMenu.length < 1 && displayBeforeSubMenu(), isSubMenuDisplay && Object.entries(items[selectedMenu]).map(([key, item]) => {\n          if (selectedSubMenu === key) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subMenuItem active\",\n              onClick: () => setIsSubMenuNotActiveMobileDisplay(!isSubMenuNotActiveMobileDisplay),\n              children: [/*#__PURE__*/_jsxDEV(Image, {\n                url: item.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: key\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [categorySellers.filter(seller => seller.subcategory === key).length, \" prestataires dans vos alentours\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 45\n              }, this)]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 41\n            }, this);\n          }\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hideItemSubHeaderEtape2\",\n          children: Object.entries(items[selectedMenu]).map(([key, item]) => {\n            if (selectedSubMenu !== key) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"subMenuItem\",\n                onClick: () => handleSubCategoryChange(key),\n                children: [/*#__PURE__*/_jsxDEV(Image, {\n                  url: item.icon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: key\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [categorySellers.filter(seller => seller.subcategory === key).length, \" prestataires dans vos alentours\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 49\n                }, this)]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 45\n              }, this);\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 21\n      }, this), selectedMenu === \"nourriture\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"foodTypeFilter\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => setIsFoodFilterOpened(r => !r),\n          className: \"foodTypeFilter_select\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"R\\xE9gime alimentaire \", /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 51\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 29\n          }, this), isFoodFilterOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: e => e.stopPropagation(),\n            className: \"foodTypeFilter_select_dropDown\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: foodTypeFilter.vegan ? \"active\" : \"\",\n                  children: \"Vegan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    checked: foodTypeFilter.vegan,\n                    onChange: e => handleFoodTypeChanged(e.target.checked, \"Vegan\"),\n                    inputProps: {\n                      'aria-label': 'controlled'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: foodTypeFilter.casher ? \"active\" : \"\",\n                  children: \"Casher\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    checked: foodTypeFilter.casher,\n                    onChange: e => handleFoodTypeChanged(e.target.checked, \"Casher\"),\n                    inputProps: {\n                      'aria-label': 'controlled'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: foodTypeFilter.halal ? \"active\" : \"\",\n                  children: \"Halal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    checked: foodTypeFilter.halal,\n                    onChange: e => handleFoodTypeChanged(e.target.checked, \"Halal\"),\n                    inputProps: {\n                      'aria-label': 'controlled'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: foodTypeFilter.vegetarien ? \"active\" : \"\",\n                  children: \"V\\xE9g\\xE9tarien\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    checked: foodTypeFilter.vegetarien,\n                    onChange: e => handleFoodTypeChanged(e.target.checked, \"Vegetarien\"),\n                    inputProps: {\n                      'aria-label': 'controlled'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 423,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: isMobile() && isSubMenuNotActiveMobileDisplay ? \"contentEtape2 mobile notActive\" : isMobile() && !isSubMenuNotActiveMobileDisplay ? \"contentEtape2 mobile\" : \"contentEtape2\",\n        children: [/*#__PURE__*/_jsxDEV(ServicesSlider, {\n          sellers: sellers,\n          loading: loading,\n          currentPageOffers: currentPageOffers,\n          setCurrentPageOffers: setCurrentPageOffers,\n          handleOpeningSellersDetails: handleOpeningSellersDetails,\n          isMobile: isMobile(),\n          windowsWidth: windowsWidth,\n          selectedSubMenu: selectedSubMenu,\n          selectedMenu: selectedMenu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 21\n        }, this), !isMobile() && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mapContainer\",\n          children: /*#__PURE__*/_jsxDEV(SellersMap, {\n            sellers: sellers,\n            allSellers: allSellers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 275,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Etape2, \"TupLFIMnonZR7xf0Yi1h1m5aKpY=\", false, function () {\n  return [useFirebase, useAuth, useHistory];\n});\n\n_c = Etape2;\nexport default GoogleApiWrapper({\n  apiKey: \"AIzaSyAim92JbJjr_fgoP0bYxzdCAz9PsAu5JWY\"\n})(Etape2);\n\nvar _c;\n\n$RefreshReg$(_c, \"Etape2\");","map":{"version":3,"sources":["F:/My Project/Leo/Nivid/src/pages/Etape2.js"],"names":["React","useState","useEffect","useRef","FaChevronDown","ServicesSlider","items","useAuth","SellersMap","GoogleApiWrapper","useFirebase","useHistory","StickerBudgetLeft","Image","MenuItem","FormControl","Select","SelectChangeEvent","Checkbox","ExpandMoreIcon","initialFilter","vegan","halal","casher","vegetarien","Etape2","props","firebaseContext","firestore","event","setCurrentStepProcess","history","selectedMenu","setSelectedMenu","selectedSubMenu","setSelectedSubMenu","currentPageOffers","setCurrentPageOffers","beforeSubMenu","setBeforeSubMenu","isSubMenuDisplay","setIsSubMenuDisplay","sellers","setSellers","allSellers","setAllSellers","loading","setLoading","categorySellers","setCategorySellers","windowsWidth","setWindowsWidth","window","innerWidth","isDown","setIsDown","startX","setStartX","scrollLeft","setScrollLeft","isSubMenuNotActiveMobileDisplay","setIsSubMenuNotActiveMobileDisplay","isSliderHeaderIsMoving","setIsSliderHeaderIsMoving","foodTypeFilter","setFoodTypeFilter","isFoodFilterOpened","setIsFoodFilterOpened","isMobile","handleResize","width","status","push","addEventListener","e","getSellersFromDB","handleCategoryChange","category","subcategory","handleSubCategoryChange","key","displayBeforeSubMenu","table","map","name","i","handleOpeningSellersDetails","sellerId","subCategory","refSellers","collection","results","query","where","get","then","res","forEach","doc","data","id","filteredResults","item","foodTypes","undefined","filtered","filter","foodType","length","categorySellersQuery","filterSellersByDistance","categorySellersClose","result","firstName","newSellers","seller","copyAllSellers","newAllSellers","includes","Promise","all","eventLatLng","latLng","lat","lng","getDistanceBetweenTwoPoints","eventPos","sellerPos","origin","google","maps","LatLng","destination","service","DistanceMatrixService","resolve","getDistanceMatrix","origins","destinations","travelMode","response","rows","elements","distance","value","sliderCategory","handleMouseDownSliderHeader","console","log","clientX","pageX","current","offsetLeft","handleMouseLeaveAndUpSliderHeader","handleMouseMoveSliderHeader","changedTouches","preventDefault","x","walk","handleFoodTypeChanged","isChecked","type","newFoodTypeFilter","touchAction","Object","entries","icon","r","stopPropagation","target","checked","apiKey"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,SAASC,KAAT,QAAsB,4BAAtB;AACA,SAASC,OAAT,QAAwB,wBAAxB,C,CAAkD;;AAClD,OAAOC,UAAP,MAAuB,0BAAvB;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,iBAAP,MAA8B,iCAA9B;AAEA,OAAOC,KAAP,MAAkB,+BAAlB;AAEA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,MAAP,IAAiBC,iBAAjB,QAA0C,sBAA1C;AACA,OAAOC,QAAP,MAAqB,wBAArB;AAEA,OAAOC,cAAP,MAA2B,gCAA3B;AAEA,MAAMC,aAAa,GAAG;AAClBC,EAAAA,KAAK,EAAE,KADW;AAElBC,EAAAA,KAAK,EAAE,KAFW;AAGlBC,EAAAA,MAAM,EAAE,KAHU;AAIlBC,EAAAA,UAAU,EAAE;AAJM,CAAtB;;AAOA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AAAA;;AAEtB,QAAMC,eAAe,GAAGjB,WAAW,EAAnC;AACA,QAAMkB,SAAS,GAAGD,eAAe,CAACC,SAAhB,EAAlB;AAEA,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAmCvB,OAAO,EAAhD,CALsB,CAK6B;;AACnD,QAAMwB,OAAO,GAAGpB,UAAU,EAA1B;AAEA,QAAM,CAACqB,YAAD,EAAeC,eAAf,IAAkChC,QAAQ,CAAC,aAAD,CAAhD;AACA,QAAM,CAACiC,eAAD,EAAkBC,kBAAlB,IAAwClC,QAAQ,CAAC,YAAD,CAAtD;AACA,QAAM,CAACmC,iBAAD,EAAoBC,oBAApB,IAA4CpC,QAAQ,CAAC,CAAD,CAA1D;AACA,QAAM,CAACqC,aAAD,EAAgBC,gBAAhB,IAAoCtC,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACuC,gBAAD,EAAmBC,mBAAnB,IAA0CxC,QAAQ,CAAC,IAAD,CAAxD;AACA,QAAM,CAACyC,OAAD,EAAUC,UAAV,IAAwB1C,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAAC2C,UAAD,EAAaC,aAAb,IAA8B5C,QAAQ,CAAC,EAAD,CAA5C,CAdsB,CAc4B;;AAClD,QAAM,CAAC6C,OAAD,EAAUC,UAAV,IAAwB9C,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAAC+C,eAAD,EAAkBC,kBAAlB,IAAwChD,QAAQ,CAAC,EAAD,CAAtD,CAhBsB,CAgBsC;AAC5D;;AACA,QAAM,CAACiD,YAAD,EAAeC,eAAf,IAAkClD,QAAQ,CAACmD,MAAM,CAACC,UAAR,CAAhD,CAlBsB,CAmBtB;;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBtD,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACuD,MAAD,EAASC,SAAT,IAAsBxD,QAAQ,EAApC;AACA,QAAM,CAACyD,UAAD,EAAaC,aAAb,IAA8B1D,QAAQ,EAA5C;AAEA,QAAM,CAAC2D,+BAAD,EAAkCC,kCAAlC,IAAwE5D,QAAQ,CAAC,KAAD,CAAtF;AAEA,QAAM,CAAC6D,sBAAD,EAAyBC,yBAAzB,IAAsD9D,QAAQ,CAAC,KAAD,CAApE;AAEA,QAAM,CAAC+D,cAAD,EAAiBC,iBAAjB,IAAsChE,QAAQ,CAACmB,aAAD,CAApD;AACA,QAAM,CAAC8C,kBAAD,EAAqBC,qBAArB,IAA8ClE,QAAQ,CAAC,KAAD,CAA5D;;AAIA,QAAMmE,QAAQ,GAAG,MAAMlB,YAAY,GAAG,IAAf,GAAsB,KAAtB,GAA8B,IAArD;;AAEA,QAAMmB,YAAY,GAAIC,KAAD,IAAWnB,eAAe,CAACmB,KAAD,CAA/C;;AAGApE,EAAAA,SAAS,CAAC,MAAM;AACZ2B,IAAAA,KAAK,IAAIA,KAAK,CAAC0C,MAAf,IAAyB1C,KAAK,CAAC0C,MAAN,KAAiB,UAA1C,IAAwDxC,OAAO,CAACyC,IAAR,CAAa,YAAb,CAAxD;AACA3C,IAAAA,KAAK,IAAI,CAACA,KAAK,CAAC0C,MAAhB,IAA0BxC,OAAO,CAACyC,IAAR,CAAa,YAAb,CAA1B;AACA,KAAC3C,KAAD,IAAUE,OAAO,CAACyC,IAAR,CAAa,YAAb,CAAV;AACApB,IAAAA,MAAM,CAACqB,gBAAP,CAAwB,QAAxB,EAAmCC,CAAD,IAAOL,YAAY,CAACjB,MAAM,CAACC,UAAR,CAArD;AACAN,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA4B,IAAAA,gBAAgB,CAAC3C,YAAD,EAAeE,eAAf,CAAhB;AACAJ,IAAAA,qBAAqB,CAAC,CAAD,CAArB;AACH,GARQ,EAQN,CAACE,YAAD,EAAeE,eAAf,EAAgC8B,cAAhC,CARM,CAAT;AAUA9D,EAAAA,SAAS,CAAC,MAAM;AACZ+D,IAAAA,iBAAiB,CAAC7C,aAAD,CAAjB;AACA+C,IAAAA,qBAAqB,CAAC,KAAD,CAArB;AACH,GAHQ,EAGN,CAACnC,YAAD,CAHM,CAAT;;AAKA,WAAS4C,oBAAT,CAA8BC,QAA9B,EAAwCC,WAAxC,EAAqD;AACjD,QAAIhB,sBAAJ,EAA4B,OAA5B,KACK;AACDD,MAAAA,kCAAkC,CAAC,KAAD,CAAlC;;AACA,UAAIgB,QAAQ,KAAK7C,YAAjB,EAA+B;AAC3BW,QAAAA,UAAU,CAAC,EAAD,CAAV;AACAV,QAAAA,eAAe,CAAC4C,QAAD,CAAf;AACA1C,QAAAA,kBAAkB,CAAC2C,WAAD,CAAlB;AACAzC,QAAAA,oBAAoB,CAAC,CAAD,CAApB;;AACA,YAAIwC,QAAQ,KAAK,YAAjB,EAA+B;AAAEpC,UAAAA,mBAAmB,CAAC,KAAD,CAAnB;AAA4BF,UAAAA,gBAAgB,CAAC,EAAD,CAAhB;AAAsB,SAAnF,MACKE,mBAAmB,CAAC,IAAD,CAAnB;AACR;AACJ;AACJ;;AAED,WAASsC,uBAAT,CAAiCC,GAAjC,EAAsC;AAClC,QAAIA,GAAG,KAAK9C,eAAZ,EAA6B;AACzBS,MAAAA,UAAU,CAAC,EAAD,CAAV;AACAR,MAAAA,kBAAkB,CAAC6C,GAAD,CAAlB;AACA3C,MAAAA,oBAAoB,CAAC,CAAD,CAApB;AACAwB,MAAAA,kCAAkC,CAAC,KAAD,CAAlC;AACH;AACJ;;AAED,WAASoB,oBAAT,GAAgC;AAC5B,UAAMC,KAAK,GAAG,CAAC,iBAAD,EAAoB,WAApB,EAAiC,QAAjC,CAAd;AACA,WAAOA,KAAK,CAACC,GAAN,CAAU,CAACC,IAAD,EAAOC,CAAP,kBACb;AAAK,MAAA,OAAO,EAAE,OAAO9C,gBAAgB,CAAC6C,IAAD,CAAhB,EAAwB3C,mBAAmB,CAAC,IAAD,CAAlD,CAAd;AAAiF,MAAA,SAAS,EAAC,2BAA3F;AAAA,6BACI;AAAA,kBAAI2C;AAAJ;AAAA;AAAA;AAAA;AAAA;AADJ,OAA8EC,CAA9E;AAAA;AAAA;AAAA;AAAA,YADG,CAAP;AAKH;;AAED,WAASC,2BAAT,CAAqCC,QAArC,EAA+C;AAC3CxD,IAAAA,OAAO,CAACyC,IAAR,CAAc,6CAA4Ce,QAAS,EAAnE;AACH;;AAED,iBAAeZ,gBAAf,CAAgCE,QAAhC,EAA0CW,WAA1C,EAAuD;AACnD,UAAMC,UAAU,GAAG7D,SAAS,CAAC8D,UAAV,CAAqB,SAArB,CAAnB,CADmD,CAGnD;;AACA,UAAMC,OAAO,GAAG,EAAhB;AACA,QAAIC,KAAK,GAAGH,UAAZ;AACAG,IAAAA,KAAK,GAAGA,KAAK,CAACC,KAAN,CAAY,UAAZ,EAAwB,IAAxB,EAA8BhB,QAA9B,CAAR;AACAe,IAAAA,KAAK,GAAGA,KAAK,CAACC,KAAN,CAAY,QAAZ,EAAsB,IAAtB,EAA4B,QAA5B,CAAR;AACAD,IAAAA,KAAK,CAACE,GAAN,GAAYC,IAAZ,CAAiB,MAAMC,GAAN,IAAa;AAE1BA,MAAAA,GAAG,CAACC,OAAJ,CAAYC,GAAG,IAAI;AACfP,QAAAA,OAAO,CAACnB,IAAR,CAAa,EAAE,GAAG0B,GAAG,CAACC,IAAJ,EAAL;AAAiBC,UAAAA,EAAE,EAAEF,GAAG,CAACE;AAAzB,SAAb;AACH,OAFD;AAGA,UAAIC,eAAe,GAAG,EAAtB;;AACA,UAAIrE,YAAY,KAAK,YAArB,EAAmC;AAC/B,YAAIgC,cAAc,CAAC3C,KAAf,KAAyB,IAA7B,EAAmC;AAC/BsE,UAAAA,OAAO,CAACM,OAAR,CAAgBK,IAAI,IAAI;AACpB,gBAAIA,IAAI,CAACC,SAAL,KAAmBC,SAAvB,EAAkC;AAClC,gBAAIC,QAAQ,GAAGH,IAAI,CAACC,SAAL,CAAeG,MAAf,CAAsBC,QAAQ,IAAIA,QAAQ,KAAK,OAA/C,CAAf;AACA,gBAAIF,QAAQ,CAACG,MAAb,EAAqBP,eAAe,CAAC7B,IAAhB,CAAqB8B,IAArB;AACxB,WAJD;AAKH;;AACD,YAAItC,cAAc,CAAC1C,KAAf,KAAyB,IAA7B,EAAmC;AAC/BqE,UAAAA,OAAO,CAACM,OAAR,CAAgBK,IAAI,IAAI;AACpB,gBAAIA,IAAI,CAACC,SAAL,KAAmBC,SAAvB,EAAkC;AAClC,gBAAIC,QAAQ,GAAGH,IAAI,CAACC,SAAL,CAAeG,MAAf,CAAsBC,QAAQ,IAAIA,QAAQ,KAAK,OAA/C,CAAf;AACA,gBAAIF,QAAQ,CAACG,MAAb,EAAqBP,eAAe,CAAC7B,IAAhB,CAAqB8B,IAArB;AACxB,WAJD;AAKH;;AACD,YAAItC,cAAc,CAACzC,MAAf,KAA0B,IAA9B,EAAoC;AAChCoE,UAAAA,OAAO,CAACM,OAAR,CAAgBK,IAAI,IAAI;AACpB,gBAAIA,IAAI,CAACC,SAAL,KAAmBC,SAAvB,EAAkC;AAClC,gBAAIC,QAAQ,GAAGH,IAAI,CAACC,SAAL,CAAeG,MAAf,CAAsBC,QAAQ,IAAIA,QAAQ,KAAK,QAA/C,CAAf;AACA,gBAAIF,QAAQ,CAACG,MAAb,EAAqBP,eAAe,CAAC7B,IAAhB,CAAqB8B,IAArB;AACxB,WAJD;AAKH;;AACD,YAAItC,cAAc,CAACxC,UAAf,KAA8B,IAAlC,EAAwC;AACpCmE,UAAAA,OAAO,CAACM,OAAR,CAAgBK,IAAI,IAAI;AACpB,gBAAIA,IAAI,CAACC,SAAL,KAAmBC,SAAvB,EAAkC;AAClC,gBAAIC,QAAQ,GAAGH,IAAI,CAACC,SAAL,CAAeG,MAAf,CAAsBC,QAAQ,IAAIA,QAAQ,KAAK,YAA/C,CAAf;AACA,gBAAIF,QAAQ,CAACG,MAAb,EAAqBP,eAAe,CAAC7B,IAAhB,CAAqB8B,IAArB;AACxB,WAJD;AAKH;AACJ;;AAED,UAAItC,cAAc,CAACxC,UAAf,KAA8B,KAA9B,IAAuCwC,cAAc,CAACzC,MAAf,KAA0B,KAAjE,IAA0EyC,cAAc,CAAC1C,KAAf,KAAyB,KAAnG,IAA4G0C,cAAc,CAAC3C,KAAf,KAAyB,KAAzI,EACIgF,eAAe,GAAG,CAAC,GAAGV,OAAJ,CAAlB;;AAEJ,UAAIU,eAAe,CAACO,MAAhB,GAAyB,CAA7B,EAAgC;AAC5B,cAAMC,oBAAoB,GAAG,MAAMC,uBAAuB,CAACT,eAAD,CAA1D;AACA,cAAMU,oBAAoB,GAAG,EAA7B;;AACA,aAAK,MAAMC,MAAX,IAAqBH,oBAArB,EAA2C;AACvC,cAAIG,MAAM,CAACC,SAAX,EAAsB;AAClBF,YAAAA,oBAAoB,CAACvC,IAArB,CAA0BwC,MAA1B;AACH;AACJ;;AACD,cAAME,UAAU,GAAGH,oBAAoB,CAACL,MAArB,CAA4BS,MAAM,IAAIA,MAAM,CAACrC,WAAP,KAAuBU,WAA7D,CAAnB;AACA7C,QAAAA,UAAU,CAACuE,UAAD,CAAV;AACAjE,QAAAA,kBAAkB,CAAC8D,oBAAD,CAAlB,CAV4B,CAW5B;;AACA,cAAMK,cAAc,GAAG,CAAC,GAAGf,eAAJ,EAAqBK,MAArB,CAA4BJ,IAAI,IAAIA,IAAI,CAACxB,WAAL,KAAqBU,WAAzD,CAAvB;AACA,cAAM6B,aAAa,GAAGD,cAAc,CAACV,MAAf,CAAuBJ,IAAD,IAAU,CAACY,UAAU,CAACI,QAAX,CAAoBhB,IAApB,CAAjC,CAAtB;AACAzD,QAAAA,aAAa,CAACwE,aAAD,CAAb;AACH,OAfD,MAgBK;AACD1E,QAAAA,UAAU,CAAC,EAAD,CAAV;AACAM,QAAAA,kBAAkB,CAAC,EAAD,CAAlB;AACH;;AACDF,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KA7DD;AA8DH;;AAED,iBAAe+D,uBAAf,CAAuCX,IAAvC,EAA6C;AACzC,WAAOoB,OAAO,CAACC,GAAR,CACHrB,IAAI,CAAChB,GAAL,CAASmB,IAAI,IAAI;AACb,YAAMmB,WAAW,GAAG5F,KAAK,CAAC6F,MAAN,GAAe7F,KAAK,CAAC6F,MAArB,GAA8B;AAAEC,QAAAA,GAAG,EAAE,QAAP;AAAiBC,QAAAA,GAAG,EAAE,CAAC;AAAvB,OAAlD;AACA,aAAOC,2BAA2B,CAACJ,WAAD,EAAcnB,IAAI,CAACoB,MAAnB,CAA3B,CACF3B,IADE,CACIiB,MAAD,IAAY;AACd,YAAKA,MAAM,GAAG,IAAV,GAAkB,CAAtB,EAAyB;AAAE,iBAAOV,IAAP;AAAa,SAAxC,MACK;AAAE,iBAAO,EAAP;AAAW;AACrB,OAJE,CAAP;AAKH,KAPD,CADG,CAAP;AAUH;;AAED,iBAAeuB,2BAAf,CAA2CC,QAA3C,EAAqDC,SAArD,EAAgE;AAC5D,QAAIC,MAAM,GAAG,IAAItG,KAAK,CAACuG,MAAN,CAAaC,IAAb,CAAkBC,MAAtB,CAA6BL,QAAQ,CAACH,GAAtC,EAA2CG,QAAQ,CAACF,GAApD,CAAb;AACA,QAAIQ,WAAW,GAAG,IAAI1G,KAAK,CAACuG,MAAN,CAAaC,IAAb,CAAkBC,MAAtB,CAA6BJ,SAAS,CAACJ,GAAvC,EAA4CI,SAAS,CAACH,GAAtD,CAAlB;AAEA,QAAIS,OAAO,GAAG,IAAI3G,KAAK,CAACuG,MAAN,CAAaC,IAAb,CAAkBI,qBAAtB,EAAd;AACA,WAAO,IAAIf,OAAJ,CAAYgB,OAAO,IAAI;AAC1BF,MAAAA,OAAO,CAACG,iBAAR,CACI;AACIC,QAAAA,OAAO,EAAE,CAACT,MAAD,CADb;AAEIU,QAAAA,YAAY,EAAE,CAACN,WAAD,CAFlB;AAGIO,QAAAA,UAAU,EAAE;AAHhB,OADJ,EAKO,CAACC,QAAD,EAAWrE,MAAX,KAAsB;AACrBgE,QAAAA,OAAO,CAACK,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,QAAjB,CAA0B,CAA1B,EAA6BC,QAA7B,CAAsCC,KAAvC,CAAP;AACH,OAPL;AASH,KAVM,CAAP;AAWH;;AAED,QAAMC,cAAc,GAAG9I,MAAM,EAA7B;;AACA,WAAS+I,2BAAT,CAAqCxE,CAArC,EAAwC;AACpCnB,IAAAA,SAAS,CAAC,IAAD,CAAT,CADoC,CAEpC;;AACA4F,IAAAA,OAAO,CAACC,GAAR,CAAY1E,CAAZ;AACAjB,IAAAA,SAAS,CAACP,YAAY,GAAG,IAAf,GAAsBwB,CAAC,CAAC2E,OAAxB,GAAkC3E,CAAC,CAAC4E,KAAF,GAAUL,cAAc,CAACM,OAAf,CAAuBC,UAApE,CAAT;AACA7F,IAAAA,aAAa,CAACsF,cAAc,CAACM,OAAf,CAAuB7F,UAAxB,CAAb;AACAK,IAAAA,yBAAyB,CAAC,KAAD,CAAzB;AACH;;AAED,WAAS0F,iCAAT,GAA6C;AACzClG,IAAAA,SAAS,CAAC,KAAD,CAAT;AACH;;AAED,WAASmG,2BAAT,CAAqChF,CAArC,EAAwC;AACpC,QAAI,CAACpB,MAAL,EAAa;AACbS,IAAAA,yBAAyB,CAAC,IAAD,CAAzB;;AACA,QAAIW,CAAC,CAACiF,cAAF,CAAiB/C,MAAjB,GAA0B,CAA9B,EAAgC;AAC5BlC,MAAAA,CAAC,CAACkF,cAAF;AACH;;AACDT,IAAAA,OAAO,CAACC,GAAR,CAAY1E,CAAZ;AACA,UAAMmF,CAAC,GAAG3G,YAAY,GAAG,IAAf,GAAsBwB,CAAC,CAAC2E,OAAxB,GAAkC3E,CAAC,CAAC4E,KAAF,GAAUL,cAAc,CAACM,OAAf,CAAuBC,UAA7E;AACA,UAAMM,IAAI,GAAG,CAACD,CAAC,GAAGrG,MAAL,IAAe,CAA5B,CARoC,CAQL;;AAC/ByF,IAAAA,cAAc,CAACM,OAAf,CAAuB7F,UAAvB,GAAoCA,UAAU,GAAGoG,IAAjD;AACH;;AAED,WAASC,qBAAT,CAA+BC,SAA/B,EAA0CC,IAA1C,EAAgD;AAC5C,QAAIC,iBAAiB,GAAG,EAAE,GAAGlG;AAAL,KAAxB;;AACA,YAAQiG,IAAR;AACI,WAAK,OAAL;AACIC,QAAAA,iBAAiB,CAAC7I,KAAlB,GAA0B2I,SAA1B;AAEA;;AACJ,WAAK,OAAL;AACIE,QAAAA,iBAAiB,CAAC5I,KAAlB,GAA0B0I,SAA1B;AAEA;;AACJ,WAAK,QAAL;AACIE,QAAAA,iBAAiB,CAAC3I,MAAlB,GAA2ByI,SAA3B;AAEA;;AACJ,WAAK,YAAL;AACIE,QAAAA,iBAAiB,CAAC1I,UAAlB,GAA+BwI,SAA/B;AAEA;;AAEJ;AACI;AAnBR;;AAqBA/F,IAAAA,iBAAiB,CAACiG,iBAAD,CAAjB;AACH;;AAGD,sBACI;AAAA,eACK,CAAC9F,QAAQ,EAAT,gBACG;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAEpC,YAAY,KAAK,aAAjB,GAAiC,iBAAjC,GAAqD,UAArE;AAAiF,QAAA,OAAO,EAAE,MAAM4C,oBAAoB,CAAC,aAAD,EAAgB,YAAhB,CAApH;AAAA,gCACI;AAAA,qDAAgB,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,qBAAO5B,eAAe,CAAC4D,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAKI;AAAK,QAAA,SAAS,EAAE5E,YAAY,KAAK,UAAjB,GAA8B,iBAA9B,GAAkD,UAAlE;AAA8E,QAAA,OAAO,EAAE,MAAM4C,oBAAoB,CAAC,UAAD,EAAa,WAAb,CAAjH;AAAA,gCACI;AAAA,2DAAsB,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,kBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,qBAAO5B,eAAe,CAAC4D,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,eASI;AAAK,QAAA,SAAS,EAAE5E,YAAY,KAAK,YAAjB,GAAgC,iBAAhC,GAAoD,UAApE;AAAgF,QAAA,OAAO,EAAE,MAAM4C,oBAAoB,CAAC,YAAD,EAAe,SAAf,CAAnH;AAAA,gCACI;AAAA,4DAA0B,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,kBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,qBAAO5B,eAAe,CAAC4D,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADH,gBAoBG;AACI,MAAA,GAAG,EAAEqC,cADT;AAEI,MAAA,SAAS,EAAE3F,MAAM,GAAG,4BAAH,GAAkC,qBAFvD;AAGI,MAAA,WAAW,EAAGoB,CAAD,IAAOwE,2BAA2B,CAACxE,CAAD,CAHnD;AAII,MAAA,YAAY,EAAE,MAAM+E,iCAAiC,EAJzD;AAKI,MAAA,SAAS,EAAE,MAAMA,iCAAiC,EALtD;AAMI,MAAA,WAAW,EAAG/E,CAAD,IAAOgF,2BAA2B,CAAChF,CAAD,CANnD;AAQI,MAAA,YAAY,EAAGA,CAAD,IAAOwE,2BAA2B,CAACxE,CAAD,CARpD;AASI,MAAA,UAAU,EAAE,MAAM+E,iCAAiC,EATvD;AAUI,MAAA,WAAW,EAAG/E,CAAD,IAAOgF,2BAA2B,CAAChF,CAAD,CAVnD;AAWI,MAAA,KAAK,EAAE;AAACyF,QAAAA,WAAW,EAAE;AAAd,OAXX;AAAA,8BAaI;AAAK,QAAA,SAAS,EAAEnI,YAAY,KAAK,aAAjB,GAAiC,iBAAjC,GAAqD,UAArE;AAAiF,QAAA,OAAO,EAAE,MAAM4C,oBAAoB,CAAC,aAAD,EAAgB,YAAhB,CAApH;AAAA,gCACI;AAAA,qDAAgB,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,qBAAO5B,eAAe,CAAC4D,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAbJ,eAiBI;AAAK,QAAA,SAAS,EAAE5E,YAAY,KAAK,UAAjB,GAA8B,iBAA9B,GAAkD,UAAlE;AAA8E,QAAA,OAAO,EAAE,MAAM4C,oBAAoB,CAAC,UAAD,EAAa,WAAb,CAAjH;AAAA,gCACI;AAAA,2DAAsB,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,kBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,qBAAO5B,eAAe,CAAC4D,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBJ,eAqBI;AAAK,QAAA,SAAS,EAAE5E,YAAY,KAAK,YAAjB,GAAgC,iBAAhC,GAAoD,UAApE;AAAgF,QAAA,OAAO,EAAE,MAAM4C,oBAAoB,CAAC,YAAD,EAAe,SAAf,CAAnH;AAAA,gCACI;AAAA,4DAA0B,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,kBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,qBAAO5B,eAAe,CAAC4D,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cArBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YArBR,eAoDI;AAAK,MAAA,SAAS,EAAExC,QAAQ,KAAK,4BAAL,GAAoC,qBAA5D;AAAA,iBACK,CAACA,QAAQ,EAAT,gBACG;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,qBACMpC,YAAY,KAAK,YAAjB,IAAiCM,aAAa,CAACsE,MAAd,GAAuB,CAAzD,IAA+D3B,oBAAoB,EADxF,EAEKzC,gBAAgB,IACb4H,MAAM,CAACC,OAAP,CAAe/J,KAAK,CAAC0B,YAAD,CAApB,EAAoCmD,GAApC,CAAwC,CAAC,CAACH,GAAD,EAAMsB,IAAN,CAAD,KAAiB;AACrD,gCACI;AAAe,cAAA,SAAS,EAAEpE,eAAe,KAAK8C,GAApB,GAA0B,oBAA1B,GAAiD,aAA3E;AAA0F,cAAA,OAAO,EAAE,MAAMD,uBAAuB,CAACC,GAAD,CAAhI;AAAA,sCACI,QAAC,KAAD;AAAO,gBAAA,GAAG,EAAEsB,IAAI,CAACgE;AAAjB;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA,0BAAItF;AAAJ;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI;AAAA,2BAAOhC,eAAe,CAAC0D,MAAhB,CAAuBS,MAAM,IAAIA,MAAM,CAACrC,WAAP,KAAuBE,GAAxD,EAA6D4B,MAApE;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ;AAAA,eAAU5B,GAAV;AAAA;AAAA;AAAA;AAAA,oBADJ;AAOH,WARD,CAHR,eAaI;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,mCACI,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAbJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,uBADH,gBAqBG;AAAK,QAAA,SAAS,EAAEpB,+BAA+B,GAAG,+BAAH,GAAqC,wBAApF;AAAA,gCACI;AAAG,UAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEM5B,YAAY,KAAK,YAAjB,IAAiCM,aAAa,CAACsE,MAAd,GAAuB,CAAzD,IAA+D3B,oBAAoB,EAFxF,EAGKzC,gBAAgB,IACb4H,MAAM,CAACC,OAAP,CAAe/J,KAAK,CAAC0B,YAAD,CAApB,EAAoCmD,GAApC,CAAwC,CAAC,CAACH,GAAD,EAAMsB,IAAN,CAAD,KAAiB;AACrD,cAAIpE,eAAe,KAAK8C,GAAxB,EAA6B;AACzB,gCACI;AAAe,cAAA,SAAS,EAAC,oBAAzB;AAA8C,cAAA,OAAO,EAAE,MAAMnB,kCAAkC,CAAC,CAACD,+BAAF,CAA/F;AAAA,sCACI,QAAC,KAAD;AAAO,gBAAA,GAAG,EAAE0C,IAAI,CAACgE;AAAjB;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA,0BAAItF;AAAJ;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI;AAAA,2BAAOhC,eAAe,CAAC0D,MAAhB,CAAuBS,MAAM,IAAIA,MAAM,CAACrC,WAAP,KAAuBE,GAAxD,EAA6D4B,MAApE;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ;AAAA,eAAU5B,GAAV;AAAA;AAAA;AAAA;AAAA,oBADJ;AAOH;AACJ,SAVD,CAJR,eAgBI;AAAK,UAAA,SAAS,EAAC,yBAAf;AAAA,oBAEQoF,MAAM,CAACC,OAAP,CAAe/J,KAAK,CAAC0B,YAAD,CAApB,EAAoCmD,GAApC,CAAwC,CAAC,CAACH,GAAD,EAAMsB,IAAN,CAAD,KAAiB;AACrD,gBAAIpE,eAAe,KAAK8C,GAAxB,EAA6B;AACzB,kCACI;AAAe,gBAAA,SAAS,EAAC,aAAzB;AAAuC,gBAAA,OAAO,EAAE,MAAMD,uBAAuB,CAACC,GAAD,CAA7E;AAAA,wCACI,QAAC,KAAD;AAAO,kBAAA,GAAG,EAAEsB,IAAI,CAACgE;AAAjB;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAA,4BAAItF;AAAJ;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI;AAAA,6BAAOhC,eAAe,CAAC0D,MAAhB,CAAuBS,MAAM,IAAIA,MAAM,CAACrC,WAAP,KAAuBE,GAAxD,EAA6D4B,MAApE;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ;AAAA,iBAAU5B,GAAV;AAAA;AAAA;AAAA;AAAA,sBADJ;AAOH;AACJ,WAVD;AAFR;AAAA;AAAA;AAAA;AAAA,gBAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAtBR,EAwDKhD,YAAY,KAAK,YAAjB,iBACG;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,+BACI;AAAK,UAAA,OAAO,EAAE,MAAMmC,qBAAqB,CAACoG,CAAC,IAAI,CAACA,CAAP,CAAzC;AAAoD,UAAA,SAAS,EAAC,uBAA9D;AAAA,kCACI;AAAA,8DAAsB,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,oBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEKrG,kBAAkB,iBACf;AAAK,YAAA,OAAO,EAAGQ,CAAD,IAAOA,CAAC,CAAC8F,eAAF,EAArB;AAA0C,YAAA,SAAS,EAAC,gCAApD;AAAA,mCACI;AAAA,sCACI;AAAA,wCACI;AAAG,kBAAA,SAAS,EAAExG,cAAc,CAAC3C,KAAf,GAAuB,QAAvB,GAAkC,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAA,yCACI,QAAC,QAAD;AACI,oBAAA,OAAO,EAAE2C,cAAc,CAAC3C,KAD5B;AAEI,oBAAA,QAAQ,EAAGqD,CAAD,IAAOqF,qBAAqB,CAACrF,CAAC,CAAC+F,MAAF,CAASC,OAAV,EAAmB,OAAnB,CAF1C;AAGI,oBAAA,UAAU,EAAE;AAAE,oCAAc;AAAhB;AAHhB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAWI;AAAA,wCACI;AAAG,kBAAA,SAAS,EAAE1G,cAAc,CAACzC,MAAf,GAAwB,QAAxB,GAAmC,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAA,yCACI,QAAC,QAAD;AACI,oBAAA,OAAO,EAAEyC,cAAc,CAACzC,MAD5B;AAEI,oBAAA,QAAQ,EAAGmD,CAAD,IAAOqF,qBAAqB,CAACrF,CAAC,CAAC+F,MAAF,CAASC,OAAV,EAAmB,QAAnB,CAF1C;AAGI,oBAAA,UAAU,EAAE;AAAE,oCAAc;AAAhB;AAHhB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAXJ,eAqBI;AAAA,wCACI;AAAG,kBAAA,SAAS,EAAE1G,cAAc,CAAC1C,KAAf,GAAuB,QAAvB,GAAkC,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAA,yCACI,QAAC,QAAD;AACI,oBAAA,OAAO,EAAE0C,cAAc,CAAC1C,KAD5B;AAEI,oBAAA,QAAQ,EAAGoD,CAAD,IAAOqF,qBAAqB,CAACrF,CAAC,CAAC+F,MAAF,CAASC,OAAV,EAAmB,OAAnB,CAF1C;AAGI,oBAAA,UAAU,EAAE;AAAE,oCAAc;AAAhB;AAHhB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBArBJ,eA+BI;AAAA,wCACI;AAAG,kBAAA,SAAS,EAAE1G,cAAc,CAACxC,UAAf,GAA4B,QAA5B,GAAuC,EAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAA,yCACI,QAAC,QAAD;AACI,oBAAA,OAAO,EAAEwC,cAAc,CAACxC,UAD5B;AAEI,oBAAA,QAAQ,EAAGkD,CAAD,IAAOqF,qBAAqB,CAACrF,CAAC,CAAC+F,MAAF,CAASC,OAAV,EAAmB,YAAnB,CAF1C;AAGI,oBAAA,UAAU,EAAE;AAAE,oCAAc;AAAhB;AAHhB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBA/BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAzDR,eA+GI;AAAK,QAAA,SAAS,EAENtG,QAAQ,MAAMR,+BAAd,GAAgD,gCAAhD,GACMQ,QAAQ,MAAM,CAACR,+BAAf,GAAiD,sBAAjD,GACI,eAJlB;AAAA,gCAOI,QAAC,cAAD;AACI,UAAA,OAAO,EAAElB,OADb;AAEI,UAAA,OAAO,EAAEI,OAFb;AAGI,UAAA,iBAAiB,EAAEV,iBAHvB;AAII,UAAA,oBAAoB,EAAEC,oBAJ1B;AAKI,UAAA,2BAA2B,EAAEiD,2BALjC;AAMI,UAAA,QAAQ,EAAElB,QAAQ,EANtB;AAOI,UAAA,YAAY,EAAElB,YAPlB;AAQI,UAAA,eAAe,EAAEhB,eARrB;AASI,UAAA,YAAY,EAAEF;AATlB;AAAA;AAAA;AAAA;AAAA,gBAPJ,EAmBK,CAACoC,QAAQ,EAAT,iBACG;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA,iCACI,QAAC,UAAD;AAAY,YAAA,OAAO,EAAE1B,OAArB;AAA8B,YAAA,UAAU,EAAEE;AAA1C;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBApBR;AAAA;AAAA;AAAA;AAAA;AAAA,cA/GJ;AAAA;AAAA;AAAA;AAAA;AAAA,YApDJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAgMH,CAtbD;;GAAMnB,M;UAEsBf,W,EAGiBH,O,EACzBI,U;;;KANdc,M;AAwbN,eAAehB,gBAAgB,CAAC;AAC5BkK,EAAAA,MAAM,EAAG;AADmB,CAAD,CAAhB,CAEZlJ,MAFY,CAAf","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { FaChevronDown } from 'react-icons/fa';\r\nimport ServicesSlider from '../components/ServicesSlider'\r\nimport { items } from '../components/servicesData'\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport SellersMap from '../components/SellersMap'\r\nimport { GoogleApiWrapper } from 'google-maps-react';\r\nimport { useFirebase } from \"../assets/base-context\";\r\nimport { useHistory } from 'react-router-dom'\r\nimport StickerBudgetLeft from \"../components/StickerBudgetLeft\";\r\n\r\nimport Image from '../components/utilities/Image'\r\n\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select, { SelectChangeEvent } from '@mui/material/Select';\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nconst initialFilter = {\r\n    vegan: false,\r\n    halal: false,\r\n    casher: false,\r\n    vegetarien: false\r\n}\r\n\r\nconst Etape2 = (props) => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n    const { event, setCurrentStepProcess } = useAuth() // context\r\n    const history = useHistory()\r\n\r\n    const [selectedMenu, setSelectedMenu] = useState(\"decorations\");\r\n    const [selectedSubMenu, setSelectedSubMenu] = useState(\"fleuristes\");\r\n    const [currentPageOffers, setCurrentPageOffers] = useState(0);\r\n    const [beforeSubMenu, setBeforeSubMenu] = useState(\"\");\r\n    const [isSubMenuDisplay, setIsSubMenuDisplay] = useState(true);\r\n    const [sellers, setSellers] = useState([]);\r\n    const [allSellers, setAllSellers] = useState([]); // C'est tout les sellers qui match en subcategory, ET qui sont à plus de 5km ( pour afficher les marker gris sur la map )\r\n    const [loading, setLoading] = useState(true);\r\n    const [categorySellers, setCategorySellers] = useState([]); // Tout les sellers qui match avec la category seulement, et à moins de 5 km ( pour afficher le nombre de\r\n    // prestataire dans la category en cours)\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    // State pour le scroll du menu category en mobile version\r\n    const [isDown, setIsDown] = useState(false)\r\n    const [startX, setStartX] = useState()\r\n    const [scrollLeft, setScrollLeft] = useState()\r\n\r\n    const [isSubMenuNotActiveMobileDisplay, setIsSubMenuNotActiveMobileDisplay] = useState(false)\r\n\r\n    const [isSliderHeaderIsMoving, setIsSliderHeaderIsMoving] = useState(false)\r\n\r\n    const [foodTypeFilter, setFoodTypeFilter] = useState(initialFilter)\r\n    const [isFoodFilterOpened, setIsFoodFilterOpened] = useState(false)\r\n\r\n\r\n\r\n    const isMobile = () => windowsWidth > 1100 ? false : true\r\n\r\n    const handleResize = (width) => setWindowsWidth(width)\r\n\r\n\r\n    useEffect(() => {\r\n        event && event.status && event.status !== \"creating\" && history.push('/dashboard')\r\n        event && !event.status && history.push('/dashboard')\r\n        !event && history.push('/dashboard')\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n        setLoading(true)\r\n        getSellersFromDB(selectedMenu, selectedSubMenu)\r\n        setCurrentStepProcess(2)\r\n    }, [selectedMenu, selectedSubMenu, foodTypeFilter])\r\n\r\n    useEffect(() => {\r\n        setFoodTypeFilter(initialFilter)\r\n        setIsFoodFilterOpened(false)\r\n    }, [selectedMenu])\r\n\r\n    function handleCategoryChange(category, subcategory) {\r\n        if (isSliderHeaderIsMoving) return\r\n        else {\r\n            setIsSubMenuNotActiveMobileDisplay(false)\r\n            if (category !== selectedMenu) {\r\n                setSellers([])\r\n                setSelectedMenu(category)\r\n                setSelectedSubMenu(subcategory)\r\n                setCurrentPageOffers(0)\r\n                if (category === \"nourriture\") { setIsSubMenuDisplay(false); setBeforeSubMenu(\"\") }\r\n                else setIsSubMenuDisplay(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleSubCategoryChange(key) {\r\n        if (key !== selectedSubMenu) {\r\n            setSellers([])\r\n            setSelectedSubMenu(key)\r\n            setCurrentPageOffers(0)\r\n            setIsSubMenuNotActiveMobileDisplay(false)\r\n        }\r\n    }\r\n\r\n    function displayBeforeSubMenu() {\r\n        const table = [\"Service à table\", \"Dinatoire\", \"Buffet\"]\r\n        return table.map((name, i) =>\r\n            <div onClick={() => (setBeforeSubMenu(name), setIsSubMenuDisplay(true))} key={i} className=\"subMenuItem beforeSubMenu\">\r\n                <p>{name}</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    function handleOpeningSellersDetails(sellerId) {\r\n        history.push(`/creer-mon-evenement/etape-2/prestataires/${sellerId}`)\r\n    }\r\n\r\n    async function getSellersFromDB(category, subCategory) {\r\n        const refSellers = firestore.collection(\"sellers\");\r\n\r\n        // On va choper TOUT les sellers à moins de 5km pour ensuite faire le tri avec les category\r\n        const results = []\r\n        var query = refSellers\r\n        query = query.where(\"category\", \"==\", category)\r\n        query = query.where(\"status\", \"==\", \"opened\")\r\n        query.get().then(async res => {\r\n\r\n            res.forEach(doc => {\r\n                results.push({ ...doc.data(), id: doc.id })\r\n            })\r\n            let filteredResults = []\r\n            if (selectedMenu === \"nourriture\") {\r\n                if (foodTypeFilter.vegan === true) {\r\n                    results.forEach(item => {\r\n                        if (item.foodTypes === undefined) return\r\n                        let filtered = item.foodTypes.filter(foodType => foodType === \"Vegan\")\r\n                        if (filtered.length) filteredResults.push(item)\r\n                    })\r\n                }\r\n                if (foodTypeFilter.halal === true) {\r\n                    results.forEach(item => {\r\n                        if (item.foodTypes === undefined) return\r\n                        let filtered = item.foodTypes.filter(foodType => foodType === \"Halal\")\r\n                        if (filtered.length) filteredResults.push(item)\r\n                    })\r\n                }\r\n                if (foodTypeFilter.casher === true) {\r\n                    results.forEach(item => {\r\n                        if (item.foodTypes === undefined) return\r\n                        let filtered = item.foodTypes.filter(foodType => foodType === \"Casher\")\r\n                        if (filtered.length) filteredResults.push(item)\r\n                    })\r\n                }\r\n                if (foodTypeFilter.vegetarien === true) {\r\n                    results.forEach(item => {\r\n                        if (item.foodTypes === undefined) return\r\n                        let filtered = item.foodTypes.filter(foodType => foodType === \"Vegetarien\")\r\n                        if (filtered.length) filteredResults.push(item)\r\n                    })\r\n                }\r\n            }\r\n\r\n            if (foodTypeFilter.vegetarien === false && foodTypeFilter.casher === false && foodTypeFilter.halal === false && foodTypeFilter.vegan === false)\r\n                filteredResults = [...results]\r\n\r\n            if (filteredResults.length > 0) {\r\n                const categorySellersQuery = await filterSellersByDistance(filteredResults)\r\n                const categorySellersClose = []\r\n                for (const result of categorySellersQuery) {\r\n                    if (result.firstName) {\r\n                        categorySellersClose.push(result)\r\n                    }\r\n                }\r\n                const newSellers = categorySellersClose.filter(seller => seller.subcategory === subCategory)\r\n                setSellers(newSellers)\r\n                setCategorySellers(categorySellersClose)\r\n                // On enlève les sellers à moins de 5 kilometres, pour ne garder dans allSellers uniquement ceux à plus de 5. Pour envoyer à la map\r\n                const copyAllSellers = [...filteredResults].filter(item => item.subcategory === subCategory)\r\n                const newAllSellers = copyAllSellers.filter((item) => !newSellers.includes(item));\r\n                setAllSellers(newAllSellers)\r\n            }\r\n            else {\r\n                setSellers([])\r\n                setCategorySellers([])\r\n            }\r\n            setLoading(false)\r\n        })\r\n    }\r\n\r\n    async function filterSellersByDistance(data) {\r\n        return Promise.all(\r\n            data.map(item => {\r\n                const eventLatLng = event.latLng ? event.latLng : { lat: 48.51666, lng: -34.41888 }\r\n                return getDistanceBetweenTwoPoints(eventLatLng, item.latLng)\r\n                    .then((result) => {\r\n                        if ((result / 1000) < 5) { return item }\r\n                        else { return [] }\r\n                    })\r\n            })\r\n        )\r\n    }\r\n\r\n    async function getDistanceBetweenTwoPoints(eventPos, sellerPos) {\r\n        var origin = new props.google.maps.LatLng(eventPos.lat, eventPos.lng);\r\n        var destination = new props.google.maps.LatLng(sellerPos.lat, sellerPos.lng);\r\n\r\n        var service = new props.google.maps.DistanceMatrixService();\r\n        return new Promise(resolve => {\r\n            service.getDistanceMatrix(\r\n                {\r\n                    origins: [origin],\r\n                    destinations: [destination],\r\n                    travelMode: 'DRIVING',\r\n                }, (response, status) => {\r\n                    resolve(response.rows[0].elements[0].distance.value)\r\n                }\r\n            )\r\n        });\r\n    }\r\n\r\n    const sliderCategory = useRef()\r\n    function handleMouseDownSliderHeader(e) {\r\n        setIsDown(true)\r\n        // console.log(e.touches[0])\r\n        console.log(e)\r\n        setStartX(windowsWidth < 1100 ? e.clientX : e.pageX - sliderCategory.current.offsetLeft)\r\n        setScrollLeft(sliderCategory.current.scrollLeft)\r\n        setIsSliderHeaderIsMoving(false)\r\n    }\r\n\r\n    function handleMouseLeaveAndUpSliderHeader() {\r\n        setIsDown(false)\r\n    }\r\n\r\n    function handleMouseMoveSliderHeader(e) {\r\n        if (!isDown) return\r\n        setIsSliderHeaderIsMoving(true)\r\n        if (e.changedTouches.length > 1){\r\n            e.preventDefault()\r\n        }\r\n        console.log(e)\r\n        const x = windowsWidth < 1100 ? e.clientX : e.pageX - sliderCategory.current.offsetLeft;\r\n        const walk = (x - startX) * 2; //scroll-fast\r\n        sliderCategory.current.scrollLeft = scrollLeft - walk;\r\n    }\r\n\r\n    function handleFoodTypeChanged(isChecked, type) {\r\n        let newFoodTypeFilter = { ...foodTypeFilter }\r\n        switch (type) {\r\n            case \"Vegan\":\r\n                newFoodTypeFilter.vegan = isChecked\r\n\r\n                break;\r\n            case \"Halal\":\r\n                newFoodTypeFilter.halal = isChecked\r\n\r\n                break;\r\n            case \"Casher\":\r\n                newFoodTypeFilter.casher = isChecked\r\n\r\n                break;\r\n            case \"Vegetarien\":\r\n                newFoodTypeFilter.vegetarien = isChecked\r\n\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        setFoodTypeFilter(newFoodTypeFilter)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {!isMobile() ?\r\n                <div className=\"headerEtape2\">\r\n                    <div className={selectedMenu === \"decorations\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"decorations\", \"fleuristes\")}>\r\n                        <h1>Décorations <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n                    </div>\r\n                    <div className={selectedMenu === \"ambiance\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"ambiance\", \"spectacle\")}>\r\n                        <h1>Ambiance/Activité <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n                    </div>\r\n                    <div className={selectedMenu === \"nourriture\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"nourriture\", \"service\")}>\r\n                        <h1>Nourriture et boisson <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n                    </div>\r\n                    {/* <div className={selectedMenu === \"service\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"service\", \"serveurs\")}>\r\n                        <h1>Service sur place <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n            </div> */}\r\n                </div>\r\n                :\r\n                <div\r\n                    ref={sliderCategory}\r\n                    className={isDown ? \"headerEtape2 mobile active\" : \"headerEtape2 mobile\"}\r\n                    onMouseDown={(e) => handleMouseDownSliderHeader(e)}\r\n                    onMouseLeave={() => handleMouseLeaveAndUpSliderHeader()}\r\n                    onMouseUp={() => handleMouseLeaveAndUpSliderHeader()}\r\n                    onMouseMove={(e) => handleMouseMoveSliderHeader(e)}\r\n\r\n                    onTouchStart={(e) => handleMouseDownSliderHeader(e)}\r\n                    onTouchEnd={() => handleMouseLeaveAndUpSliderHeader()}\r\n                    onTouchMove={(e) => handleMouseMoveSliderHeader(e)}\r\n                    style={{touchAction: 'none'}}\r\n                >\r\n                    <div className={selectedMenu === \"decorations\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"decorations\", \"fleuristes\")}>\r\n                        <h1>Décorations <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n                    </div>\r\n                    <div className={selectedMenu === \"ambiance\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"ambiance\", \"spectacle\")}>\r\n                        <h1>Ambiance/Activité <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n                    </div>\r\n                    <div className={selectedMenu === \"nourriture\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"nourriture\", \"service\")}>\r\n                        <h1>Nourriture et boisson <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n                    </div>\r\n                    {/* <div className={selectedMenu === \"service\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"service\", \"serveurs\")}>\r\n                        <h1>Service sur place <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n        </div> */}\r\n                </div>\r\n            }\r\n            <div className={isMobile() ? \"formEtape2Container mobile\" : \"formEtape2Container\"} >\r\n                {!isMobile() ?\r\n                    <>\r\n                        <div className=\"subHeaderEtape2\">\r\n                            {(selectedMenu === \"nourriture\" && beforeSubMenu.length < 1) && displayBeforeSubMenu()}\r\n                            {isSubMenuDisplay &&\r\n                                Object.entries(items[selectedMenu]).map(([key, item]) => {\r\n                                    return (\r\n                                        <div key={key} className={selectedSubMenu === key ? \"subMenuItem active\" : \"subMenuItem\"} onClick={() => handleSubCategoryChange(key)}>\r\n                                            <Image url={item.icon} />\r\n                                            <p>{key}</p>\r\n                                            <span>{categorySellers.filter(seller => seller.subcategory === key).length} prestataires dans vos alentours</span>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                            <div className=\"stickerBudgetLeft\">\r\n                                <StickerBudgetLeft />\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                    :\r\n                    <div className={isSubMenuNotActiveMobileDisplay ? \"subHeaderEtape2 mobile active\" : \"subHeaderEtape2 mobile\"}>\r\n                        <p className=\"infoSubHeaderTopButton\">Appuyez pour changer</p>\r\n                        {(selectedMenu === \"nourriture\" && beforeSubMenu.length < 1) && displayBeforeSubMenu()}\r\n                        {isSubMenuDisplay &&\r\n                            Object.entries(items[selectedMenu]).map(([key, item]) => {\r\n                                if (selectedSubMenu === key) {\r\n                                    return (\r\n                                        <div key={key} className=\"subMenuItem active\" onClick={() => setIsSubMenuNotActiveMobileDisplay(!isSubMenuNotActiveMobileDisplay)}>\r\n                                            <Image url={item.icon} />\r\n                                            <p>{key}</p>\r\n                                            <span>{categorySellers.filter(seller => seller.subcategory === key).length} prestataires dans vos alentours</span>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            })\r\n                        }\r\n                        <div className=\"hideItemSubHeaderEtape2\">\r\n                            {\r\n                                Object.entries(items[selectedMenu]).map(([key, item]) => {\r\n                                    if (selectedSubMenu !== key) {\r\n                                        return (\r\n                                            <div key={key} className=\"subMenuItem\" onClick={() => handleSubCategoryChange(key)}>\r\n                                                <Image url={item.icon} />\r\n                                                <p>{key}</p>\r\n                                                <span>{categorySellers.filter(seller => seller.subcategory === key).length} prestataires dans vos alentours</span>\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                }\r\n\r\n                {selectedMenu === \"nourriture\" &&\r\n                    <div className=\"foodTypeFilter\">\r\n                        <div onClick={() => setIsFoodFilterOpened(r => !r)} className=\"foodTypeFilter_select\">\r\n                            <p>Régime alimentaire <ExpandMoreIcon /></p>\r\n                            {isFoodFilterOpened &&\r\n                                <div onClick={(e) => e.stopPropagation()} className=\"foodTypeFilter_select_dropDown\">\r\n                                    <ul>\r\n                                        <li>\r\n                                            <p className={foodTypeFilter.vegan ? \"active\" : \"\"}>Vegan</p>\r\n                                            <span>\r\n                                                <Checkbox\r\n                                                    checked={foodTypeFilter.vegan}\r\n                                                    onChange={(e) => handleFoodTypeChanged(e.target.checked, \"Vegan\")}\r\n                                                    inputProps={{ 'aria-label': 'controlled' }}\r\n                                                />\r\n                                            </span>\r\n                                        </li>\r\n                                        <li>\r\n                                            <p className={foodTypeFilter.casher ? \"active\" : \"\"}>Casher</p>\r\n                                            <span>\r\n                                                <Checkbox\r\n                                                    checked={foodTypeFilter.casher}\r\n                                                    onChange={(e) => handleFoodTypeChanged(e.target.checked, \"Casher\")}\r\n                                                    inputProps={{ 'aria-label': 'controlled' }}\r\n                                                />\r\n                                            </span>\r\n                                        </li>\r\n                                        <li>\r\n                                            <p className={foodTypeFilter.halal ? \"active\" : \"\"}>Halal</p>\r\n                                            <span>\r\n                                                <Checkbox\r\n                                                    checked={foodTypeFilter.halal}\r\n                                                    onChange={(e) => handleFoodTypeChanged(e.target.checked, \"Halal\")}\r\n                                                    inputProps={{ 'aria-label': 'controlled' }}\r\n                                                />\r\n                                            </span>\r\n                                        </li>\r\n                                        <li>\r\n                                            <p className={foodTypeFilter.vegetarien ? \"active\" : \"\"}>Végétarien</p>\r\n                                            <span>\r\n                                                <Checkbox\r\n                                                    checked={foodTypeFilter.vegetarien}\r\n                                                    onChange={(e) => handleFoodTypeChanged(e.target.checked, \"Vegetarien\")}\r\n                                                    inputProps={{ 'aria-label': 'controlled' }}\r\n                                                />\r\n                                            </span>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                }\r\n\r\n\r\n                <div className=\r\n                    {\r\n                        isMobile() && isSubMenuNotActiveMobileDisplay ? \"contentEtape2 mobile notActive\"\r\n                            : isMobile() && !isSubMenuNotActiveMobileDisplay ? \"contentEtape2 mobile\"\r\n                                : \"contentEtape2\"\r\n                    }\r\n                >\r\n                    <ServicesSlider\r\n                        sellers={sellers}\r\n                        loading={loading}\r\n                        currentPageOffers={currentPageOffers}\r\n                        setCurrentPageOffers={setCurrentPageOffers}\r\n                        handleOpeningSellersDetails={handleOpeningSellersDetails}\r\n                        isMobile={isMobile()}\r\n                        windowsWidth={windowsWidth}\r\n                        selectedSubMenu={selectedSubMenu}\r\n                        selectedMenu={selectedMenu}\r\n                    />\r\n\r\n                    {!isMobile() &&\r\n                        <div className=\"mapContainer\">\r\n                            <SellersMap sellers={sellers} allSellers={allSellers} />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div >\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n    apiKey: (\"AIzaSyAim92JbJjr_fgoP0bYxzdCAz9PsAu5JWY\")\r\n})(Etape2)"]},"metadata":{},"sourceType":"module"}