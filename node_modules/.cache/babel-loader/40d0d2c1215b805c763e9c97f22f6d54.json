{"ast":null,"code":"import _regeneratorRuntime from\"F:/My Project/Leo/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/My Project/Leo/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/My Project/Leo/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import\"../styles/Login.css\";import{Link,useHistory}from'react-router-dom';import logoWhite from\"../images/logoWhite.svg\";import logo from\"../images/logoBlack.svg\";import{useAuth}from\"../context/userContext\";// context\nimport{ButtonSmall,ButtonLarge}from'../components/utilities/Buttons';import BackIcon from'@mui/icons-material/ArrowBackIosNew';import checkedsvg from'../images/checked.png';import Title from'../components/utilities/Title';import Loader from\"../components/Loader\";var PasswordForget=function PasswordForget(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(window.innerWidth),_useState6=_slicedToArray(_useState5,2),windowsWidth=_useState6[0],setWindowsWidth=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isSent=_useState8[0],setIsSent=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isSending=_useState10[0],setIsSending=_useState10[1];var _useAuth=useAuth(),getAuthUserFromHisEmail=_useAuth.getAuthUserFromHisEmail;// context\nvar history=useHistory();var isMobile=function isMobile(){return windowsWidth>1100?false:true;};var handleResize=function handleResize(width){return setWindowsWidth(width);};useEffect(function(){window.addEventListener(\"resize\",function(e){return handleResize(window.innerWidth);});},[]);function handleSendPasswordForget(_x){return _handleSendPasswordForget.apply(this,arguments);}function _handleSendPasswordForget(){_handleSendPasswordForget=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return getAuthUserFromHisEmail(email).then(function(res){if(res===true){setIsSending(false);setIsSent(true);}else if(res===\"invalid\"){setIsSending(false);setError(\"Le format de l'e-mail est incorrect\");}else if(res===\"notexist\"){setIsSending(false);setError(\"L'email que vous avez renseigné n'est associé à aucun compte.\");}});case 3:case\"end\":return _context.stop();}}},_callee);}));return _handleSendPasswordForget.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"passwordForget_container\",children:[/*#__PURE__*/_jsxs(\"header\",{style:{position:\"relative\",zIndex:\"999\",display:\"flex\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return history.push(\"/\");},className:\"logoContainer\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:!isMobile()?logoWhite:logo})}),/*#__PURE__*/_jsx(\"div\",{className:\"LoginBackLink\",children:/*#__PURE__*/_jsx(ButtonSmall,{color:\"orange\",onClick:function onClick(){return history.push(\"/\");},value:\"Revenir \\xE0 l'accueil\",iconMUIStart:/*#__PURE__*/_jsx(BackIcon,{sx:{fontSize:16}}),classname:\"flex\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"passwordForget\",children:[!isMobile()&&/*#__PURE__*/_jsx(\"div\",{className:\"passwordForget_left\"}),/*#__PURE__*/_jsx(\"div\",{className:\"passwordForget_right\",children:/*#__PURE__*/_jsx(\"div\",{className:\"passwordForget_form\",children:isSending?/*#__PURE__*/_jsx(Loader,{}):!isSent?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Vous avez perdu votre mot de passe ?\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"errorMessage\",children:error}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Identifiant / Adresse email\"}),/*#__PURE__*/_jsx(\"input\",{value:email,type:\"email\",name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsx(\"div\",{className:\"formField\",children:/*#__PURE__*/_jsx(ButtonLarge,{onClick:function onClick(e){setIsSending(true);handleSendPasswordForget(e);},color:\"orange\",value:\"Envoyer le mail de r\\xE9initialisation\"})})})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{alt:\"\",style:{width:\"60px\"},src:checkedsvg}),/*#__PURE__*/_jsx(Title,{value:\"Votre demande de r\\xE9initialisation a bien \\xE9t\\xE9 envoy\\xE9e.\",type:\"h2\",font:\"roboto-medium\",align:\"center\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"passwordForget_form_bottom\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Vous n'avez pas re\\xE7u d'email de r\\xE9initialisation ?\"}),/*#__PURE__*/_jsx(\"a\",{href:\"\",onClick:function onClick(e){setIsSending(true);handleSendPasswordForget(e);},children:\"Envoyer \\xE0 nouveau\"})]})]})})})]})]});};export default PasswordForget;","map":{"version":3,"sources":["F:/My Project/Leo/Nivid/src/pages/passwordForget.js"],"names":["React","useState","useEffect","Link","useHistory","useAuth","ButtonSmall","ButtonLarge","BackIcon","checkedsvg","Title","Loader","PasswordForget","email","setEmail","error","setError","window","innerWidth","windowsWidth","setWindowsWidth","isSent","setIsSent","isSending","setIsSending","getAuthUserFromHisEmail","history","isMobile","handleResize","width","addEventListener","e","handleSendPasswordForget","preventDefault","then","res","position","zIndex","display","justifyContent","push","logoWhite","logo","fontSize","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Login.css\"\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport logoWhite from \"../images/logoWhite.svg\"\r\nimport logo from \"../images/logoBlack.svg\"\r\nimport { useAuth } from \"../context/userContext\"; // context\r\n\r\nimport { ButtonSmall, ButtonLarge } from '../components/utilities/Buttons'\r\nimport BackIcon from '@mui/icons-material/ArrowBackIosNew';\r\nimport checkedsvg from '../images/checked.png'\r\nimport Title from '../components/utilities/Title'\r\nimport Loader from \"../components/Loader\";\r\n\r\nconst PasswordForget = () => {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [isSent, setIsSent] = useState(false);\r\n    const [isSending, setIsSending] = useState(false);\r\n\r\n    const { getAuthUserFromHisEmail } = useAuth() // context\r\n    const history = useHistory()\r\n\r\n    const isMobile = () => windowsWidth > 1100 ? false : true\r\n    const handleResize = (width) => setWindowsWidth(width)\r\n\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n    }, [])\r\n\r\n\r\n\r\n    async function handleSendPasswordForget(e) {\r\n        e.preventDefault()\r\n        await getAuthUserFromHisEmail(email)\r\n            .then(res => {\r\n                if (res === true) {\r\n                    setIsSending(false)\r\n                    setIsSent(true)\r\n                }\r\n                else if (res === \"invalid\") {\r\n                    setIsSending(false)\r\n                    setError(\"Le format de l'e-mail est incorrect\")\r\n                }\r\n                else if (res === \"notexist\") {\r\n                    setIsSending(false)\r\n                    setError(\"L'email que vous avez renseigné n'est associé à aucun compte.\")\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"passwordForget_container\">\r\n            <header style={{ position: \"relative\", zIndex: \"999\", display: \"flex\", justifyContent: \"space-between\" }}>\r\n                <div onClick={() => history.push(\"/\")} className=\"logoContainer\">\r\n                    <img alt=\"\" src={!isMobile() ? logoWhite : logo} />\r\n                </div>\r\n                <div className=\"LoginBackLink\">\r\n                    <ButtonSmall\r\n                        color=\"orange\"\r\n                        onClick={() => history.push(\"/\")}\r\n                        value=\"Revenir à l'accueil\"\r\n                        iconMUIStart={<BackIcon sx={{ fontSize: 16 }} />}\r\n                        classname=\"flex\"\r\n                    />\r\n                </div>\r\n            </header>\r\n            <div className=\"passwordForget\">\r\n                {!isMobile() && <div className=\"passwordForget_left\"></div>}\r\n                <div className=\"passwordForget_right\">\r\n                    <div className=\"passwordForget_form\">\r\n                        {isSending ?\r\n                            <Loader />\r\n                            : !isSent ?\r\n                                <>\r\n                                    <h1>Vous avez perdu votre mot de passe ?</h1>\r\n                                    {error && (\r\n                                        <div className=\"errorMessage\">\r\n                                            {error}\r\n                                        </div>\r\n                                    )}\r\n                                    <form>\r\n                                        <div className=\"formLine\">\r\n                                            <div className=\"formField\">\r\n                                                <label>Identifiant / Adresse email</label>\r\n                                                <input value={email} type=\"email\" name=\"email\" onChange={(e) => setEmail(e.target.value)} />\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n\r\n                                        <div className=\"formLine\">\r\n                                            <div className=\"formField\">\r\n                                                <ButtonLarge\r\n                                                    onClick={(e) => { setIsSending(true); handleSendPasswordForget(e) }}\r\n                                                    color={\"orange\"}\r\n                                                    value=\"Envoyer le mail de réinitialisation\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </form>\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <img alt=\"\" style={{ width: \"60px\" }} src={checkedsvg} />\r\n                                    <Title value=\"Votre demande de réinitialisation a bien été envoyée.\" type=\"h2\" font=\"roboto-medium\" align=\"center\" />\r\n                                    <div className=\"passwordForget_form_bottom\">\r\n                                        <p>Vous n'avez pas reçu d'email de réinitialisation ?</p>\r\n                                        <a href=\"\" onClick={(e) => { setIsSending(true); handleSendPasswordForget(e) }}>Envoyer à nouveau</a>\r\n                                    </div>\r\n                                </>\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default PasswordForget;\r\n"]},"metadata":{},"sourceType":"module"}