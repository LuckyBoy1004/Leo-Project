{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '../context/userContext';\nimport { CSSTransition } from 'react-transition-group';\nimport Title from './utilities/Title';\nimport SubTitle from './utilities/SubTitle';\nimport { ButtonSmall } from './utilities/Buttons';\nimport Image from '../components/utilities/Image';\nimport ModalYesNo from './utilities/ModalYesNo';\nimport imgwitness from \"../images/witness.svg\";\nimport imgwishlist from \"../images/wishlist.svg\";\nimport imgshooping from \"../images/shopping-bag.svg\";\nimport emptyStar from \"../images/starempty.png\";\nimport star from \"../images/star.svg\";\nimport greenTrace from \"../images/greenTrace.png\";\nimport EarningChart from '../components/EarningChart';\nimport NoteWidget from '../components/NoteWidget';\nimport Loader from './Loader';\n\nconst Prest_Dashboard_Dashboard = ({\n  setStep\n}) => {\n  _s();\n\n  const [isMounted, setIsMounted] = useState(false);\n  const [sales, setSales] = useState([]);\n  const [monthlyEarns, setmMonthlyEarns] = useState(0);\n  const [monthlySales, setmMonthlySales] = useState(0);\n  const [monthlyViews, setmMonthlyViews] = useState(0);\n  const [isModalOpened, setIsModalOpened] = useState(false);\n  const [totalAmount, setTotalAmount] = useState(0);\n  const [wishListCount, setWishListCount] = useState(0);\n  const [reviews, setReviews] = useState([]);\n  const [position, setPosition] = useState(0);\n  const [sellersCount, setSellersCount] = useState(0);\n  const {\n    seller,\n    getSalesOfSellerIdFromDB,\n    formateToDateWithWords,\n    formateToDate,\n    getViewsOfSeller,\n    sendInBlue_sendPaymentRequestToAdmin,\n    getTotalAmountDueToSeller,\n    getWishListCountOfSeller,\n    getReviewsOfSellerUid,\n    getSellerPosition,\n    getSellersCount\n  } = useAuth();\n  useEffect(() => {\n    getSales().then(salesList => {\n      getMonthlyEarns(salesList).then(res => {\n        setmMonthlyEarns(res);\n        getMonthlySales(salesList).then(res => {\n          setmMonthlySales(res);\n          getMonthlyViews().then(res => {\n            setmMonthlyViews(res);\n            getWishListCountOfSeller(seller.uid).then(res => {\n              setWishListCount(res);\n              getReviewsOfSellerUid(seller.uid).then(res => {\n                setReviews(res);\n                getPositionOfSeller().then(res => {\n                  getSellersCount().then(res => {\n                    setSellersCount(res);\n                    setIsMounted(true);\n                  });\n                });\n              });\n            });\n          });\n        });\n      });\n    });\n  }, []);\n\n  async function getSales() {\n    const salesList = await getSalesOfSellerIdFromDB(seller.uid);\n    setSales(salesList);\n    return salesList;\n  }\n\n  async function getMonthlyEarns(salesList) {\n    const lastMonthEarns = salesList.filter(sale => sale.date > dateTodayMinusByDay(30) && sale.status === \"validated\" && sale.total === sale.paid);\n    let earns = 0;\n    lastMonthEarns.map(sale => earns = earns + sale.total);\n    return earns;\n  }\n\n  async function getMonthlySales(salesList) {\n    const lastMonthSales = salesList.filter(sale => sale.date > dateTodayMinusByDay(30) && sale.status === \"validated\");\n    const lastMonthServices = [];\n    lastMonthSales.forEach(sale => {\n      sale.choosedServices.forEach(service => {\n        lastMonthServices.push(service);\n      });\n    });\n    return lastMonthServices.length;\n  }\n\n  async function getMonthlyViews() {\n    const views = await getViewsOfSeller(seller.uid);\n    const lastMonthViews = views.filter(view => view.date.seconds * 1000 > dateTodayMinusByDay(30));\n    return lastMonthViews;\n  }\n\n  function dateTodayMinusByDay(day) {\n    const date = new Date();\n    date.setHours(date.getHours() - 24 * day);\n    return date;\n  }\n\n  function dateTodayPlusByDay(day) {\n    const date = new Date();\n    date.setHours(date.getHours() + 24 * day);\n    return date;\n  }\n\n  function getDaysLeftBeforeSaleDelete(eventDate) {\n    const daysLeftTimestamp = (eventDate.seconds * 1000 || eventDate) - Date.now();\n    const daysLeft = Math.ceil(daysLeftTimestamp / 1000 / 86400);\n    return daysLeft - 10 === 0 ? \"aujourd'hui\" : `${daysLeft - 10} jours`;\n  }\n\n  async function handlePaymentRequest() {\n    const amount = await getTotalAmountDueToSeller();\n    setTotalAmount(amount);\n    setIsModalOpened(true);\n  }\n\n  function handleYesNoRequestPayment(val) {\n    if (val === \"yes\") {\n      if (totalAmount > 10) {\n        sendInBlue_sendPaymentRequestToAdmin();\n      } else {}\n    }\n\n    setIsModalOpened(false);\n  }\n\n  async function getPositionOfSeller() {\n    const position = await getSellerPosition(seller.uid);\n    setPosition(position);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CSSTransition, {\n      in: !isMounted,\n      timeout: 300,\n      classNames: \"pageTransition\",\n      unmountOnExit: true,\n      children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n      in: isMounted,\n      timeout: 300,\n      classNames: \"pageTransition\",\n      unmountOnExit: true,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prest_Dashboard_Dashboard\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"prest_dashboard_header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard_left_container\",\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              class: \"Revenusmois\",\n              type: \"h2\",\n              font: \"roboto-medium\",\n              value: \"Revenus du mois actuel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Title, {\n              type: \"h1\",\n              font: \"roboto-bold\",\n              value: `${monthlyEarns}â‚¬`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ButtonSmall, {\n              onClick: () => handlePaymentRequest(),\n              color: \"blue\",\n              value: \"Demander un virement\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard_statsHeader_container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image blue\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Image, {\n                    url: imgwitness\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 67\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 61\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content\",\n                children: [/*#__PURE__*/_jsxDEV(Title, {\n                  type: \"h2\",\n                  font: \"roboto-bold\",\n                  value: `${monthlyViews.length}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(SubTitle, {\n                  color: \"grey\",\n                  type: \"big\",\n                  font: \"roboto-bold\",\n                  value: \"Nombre de vues mensuelles\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image red\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Image, {\n                    url: imgwishlist\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 66\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 60\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content\",\n                children: [/*#__PURE__*/_jsxDEV(Title, {\n                  type: \"h2\",\n                  font: \"roboto-bold\",\n                  value: wishListCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(SubTitle, {\n                  color: \"grey\",\n                  type: \"big\",\n                  font: \"roboto-bold\",\n                  value: \"Ajouts en wishlist\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image yellow\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Image, {\n                    url: imgshooping\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 69\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 63\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content\",\n                children: [/*#__PURE__*/_jsxDEV(Title, {\n                  type: \"h2\",\n                  font: \"roboto-bold\",\n                  value: `${monthlySales}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(SubTitle, {\n                  color: \"grey\",\n                  type: \"big\",\n                  font: \"roboto-bold\",\n                  value: \"Nombre de ventes mensuelles\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"prest_dashboard_1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header\",\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              type: \"h2\",\n              font: \"roboto-medium\",\n              value: \"Vos commandes r\\xE9centes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 29\n            }, this), sales.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"blueLink\",\n              onClick: () => setStep(2),\n              children: \"Voir toutes les commandes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: [sales.filter(sale => sale.status !== \"rejected\").sort((a, b) => b.date - a.date).slice(0, 4).map((sale, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"header\",\n                children: [sale.status === \"pending\" && /*#__PURE__*/_jsxDEV(SubTitle, {\n                  color: \"#acacac\",\n                  type: \"big\",\n                  font: \"roboto-bold\",\n                  value: \"Commande r\\xE9cente en attente de validation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 75\n                }, this), sale.status === \"validated\" && /*#__PURE__*/_jsxDEV(SubTitle, {\n                  color: \"rgb(127, 207, 127)\",\n                  type: \"big\",\n                  font: \"roboto-bold\",\n                  value: \"Commande valid\\xE9e\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 77\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"left imagesSuperpos\",\n                  children: sale.choosedServices.slice(0, 3).map(service => /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(Image, {\n                      url: service.image\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 58\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 53\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"commandTitle\",\n                    children: [\"Commande #\", sale.id, \" - \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: formateToDate(sale.date)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 99\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Montant de la commande : \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [sale.total, \"\\u20AC\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 226,\n                      columnNumber: 77\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 41\n              }, this)]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 37\n            }, this)), sales.filter(sale => sale.status !== \"rejected\").length < 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"textInEmptyQuery\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Aucune commande r\\xE9cente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 67\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"prest_dashboard_2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header\",\n            children: /*#__PURE__*/_jsxDEV(Title, {\n              type: \"h2\",\n              font: \"roboto-medium\",\n              value: \"Rappel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"left\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"header\",\n                children: /*#__PURE__*/_jsxDEV(SubTitle, {\n                  type: \"big\",\n                  font: \"roboto-bold\",\n                  value: \"\\xC9v\\xE8nements prochains \\xE0 pr\\xE9parer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content\",\n                children: [sales.filter(sale => sale.eventDate < dateTodayPlusByDay(10) && sale.status === \"validated\").sort((a, b) => b.eventDate - a.eventDate).slice(0, 3).map((sale, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `item ${sale.eventDate < dateTodayPlusByDay(5) ? \"red\" : \"blue\"}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"left\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"commandTitle\",\n                      children: [\"Commande #\", sale.id, \" - \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: formateToDate(sale.date)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 255,\n                        columnNumber: 103\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"blueLink\",\n                      children: \"Voir les d\\xE9tails de la commande\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 256,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"right\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Date de l'\\xE9v\\xE8nement :\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: formateToDateWithWords(sale.eventDate)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 49\n                  }, this)]\n                }, key, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 45\n                }, this)), sales.filter(sale => sale.date > dateTodayMinusByDay(10) && sale.status === \"validated\").length < 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"textInEmptyQuery\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Aucun rappel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 75\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"right\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"header\",\n                children: /*#__PURE__*/_jsxDEV(SubTitle, {\n                  type: \"big\",\n                  font: \"roboto-bold\",\n                  value: \"Commandes \\xE0 valider/v\\xE9rifier avant expiration\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content\",\n                children: [sales.filter(sale => sale.eventDate < dateTodayPlusByDay(20) && sale.status === \"pending\").sort((a, b) => b.eventDate - a.eventDate).slice(0, 2).map((sale, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Commande toujours en attente de validation\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"Expire: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: getDaysLeftBeforeSaleDelete(sale.eventDate)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 284,\n                        columnNumber: 64\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"left imagesSuperpos\",\n                      children: sale.choosedServices.slice(0, 3).map(service => /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(Image, {\n                          url: service.image\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 289,\n                          columnNumber: 66\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 289,\n                        columnNumber: 61\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 287,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"right\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"commandTitle\",\n                        children: [\"Commande #\", sale.id, \" - \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: formateToDate(sale.date)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 293,\n                          columnNumber: 107\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 293,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"commandTitle\",\n                        children: [\"Montant de la commande : \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [sale.total, \"\\u20AC\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 294,\n                          columnNumber: 110\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bottom\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Date de l'\\xE9v\\xE8nement :\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 299,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: formateToDateWithWords(sale.eventDate)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 300,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Nombre de personne :\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [sale.people, \" personnes\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 49\n                  }, this)]\n                }, key, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 45\n                }, this)), sales.filter(sale => sale.eventDate < dateTodayPlusByDay(20) && sale.status === \"pending\").length < 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"textInEmptyQuery\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Aucune commande \\xE0 valider\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 75\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bottom\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legendeContainer\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"L\\xE9gende :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"blueLegend\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Prochainement\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"redLegend\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Tr\\xE8s prochainement\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 29\n            }, this), sales.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"buttonContainer\",\n              children: /*#__PURE__*/_jsxDEV(ButtonSmall, {\n                onClick: () => setStep(2),\n                color: \"blue\",\n                value: \"Voir toutes les commandes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"reviewsContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reviewsContainer__header\",\n            children: /*#__PURE__*/_jsxDEV(Title, {\n              type: \"h2\",\n              font: \"roboto-medium\",\n              value: \"Commentaires r\\xE9cents\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 25\n          }, this), reviews.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"textInEmptyQuery\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Aucun commentaire \\xE0 afficher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reviewsContainer__content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"reviewsContainer__left\",\n                children: [/*#__PURE__*/_jsxDEV(Title, {\n                  type: \"h2\",\n                  font: \"roboto-medium\",\n                  value: \"Votre note actuelle est\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"reviewsContainer__globalNoteStars\",\n                  children: [/*#__PURE__*/_jsxDEV(Image, {\n                    url: star\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Image, {\n                    url: star\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Image, {\n                    url: star\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Image, {\n                    url: star\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Image, {\n                    url: emptyStar\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"reviewsContainer__globalNote\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [seller.note, \"/5\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"reviewsContainer__classement\",\n                  children: [/*#__PURE__*/_jsxDEV(Title, {\n                    type: \"h2\",\n                    align: \"center\",\n                    font: \"roboto-medium\",\n                    value: \"Vous \\xEAtes class\\xE9*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reviewsContainer__classementContent\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [position, \"\\xE8me\", /*#__PURE__*/_jsxDEV(Image, {\n                        url: greenTrace\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 366,\n                        columnNumber: 65\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"sur \", sellersCount]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 367,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"reviewsContainer__right\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"reviewsContainer__cards__container\",\n                  children: reviews.sort((a, b) => {\n                    var keyA = new Date(a.date),\n                        keyB = new Date(b.date); // Compare the 2 dates\n\n                    if (keyA < keyB) return -1;\n                    if (keyA > keyB) return 1;\n                    return 0;\n                  }).slice(0, 3).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reviewsContainer__card\",\n                    children: [new Date().getDate() - 7 < new Date(item.date.seconds * 1000).getDate() && /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Nouveau\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 387,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"reviewsContainer__card__subTitle\",\n                      children: [\"Ev\\xE8nement du \", formateToDate(item.eventDate.seconds * 1000)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"reviewsContainer__card__content\",\n                      children: item.comment\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(NoteWidget, {\n                      note: item.note\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 53\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reviewsContainer__bottom\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"reviewsContainer__bottom_button\",\n                children: /*#__PURE__*/_jsxDEV(ButtonSmall, {\n                  color: \"grey\",\n                  value: \"Voir plus de commentaires\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"* Ce classement est g\\xE9n\\xE9r\\xE9 en fonction du type de service que vous proposez & du p\\xE9rim\\xE8tre dans lequel vous vous trouvez par rapport aux autres pr\\xE9stataires\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"chartContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chartContainer__header\",\n            children: /*#__PURE__*/_jsxDEV(Title, {\n              type: \"h2\",\n              font: \"roboto-medium\",\n              value: \"Vos statistiques\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(EarningChart, {\n            sales: sales\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n      in: isModalOpened,\n      timeout: 200,\n      classNames: \"pageTransition\",\n      unmountOnExit: true,\n      children: /*#__PURE__*/_jsxDEV(ModalYesNo, {\n        callback: val => handleYesNoRequestPayment(val),\n        value: `Solde actuel: ${totalAmount}â‚¬`,\n        value2: totalAmount < 10 && \"Impossible de demander un virement, votre solde est nul.\",\n        disabled: totalAmount < 10 ? true : false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Prest_Dashboard_Dashboard, \"CQ4qj1BIlwceCyFr2HoheRqLHjk=\", false, function () {\n  return [useAuth];\n});\n\n_c = Prest_Dashboard_Dashboard;\nexport default Prest_Dashboard_Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Prest_Dashboard_Dashboard\");","map":{"version":3,"sources":["/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Dashboard.js"],"names":["useState","useEffect","useAuth","CSSTransition","Title","SubTitle","ButtonSmall","Image","ModalYesNo","emptyStar","greenTrace","EarningChart","NoteWidget","Loader","Prest_Dashboard_Dashboard","setStep","isMounted","setIsMounted","sales","setSales","monthlyEarns","setmMonthlyEarns","monthlySales","setmMonthlySales","monthlyViews","setmMonthlyViews","isModalOpened","setIsModalOpened","totalAmount","setTotalAmount","wishListCount","setWishListCount","reviews","setReviews","position","setPosition","sellersCount","setSellersCount","seller","getSalesOfSellerIdFromDB","formateToDateWithWords","formateToDate","getViewsOfSeller","sendInBlue_sendPaymentRequestToAdmin","getTotalAmountDueToSeller","getWishListCountOfSeller","getReviewsOfSellerUid","getSellerPosition","getSellersCount","getSales","then","salesList","getMonthlyEarns","res","getMonthlySales","getMonthlyViews","uid","getPositionOfSeller","lastMonthEarns","filter","sale","date","dateTodayMinusByDay","status","total","paid","earns","map","lastMonthSales","lastMonthServices","forEach","choosedServices","service","push","length","views","lastMonthViews","view","seconds","day","Date","setHours","getHours","dateTodayPlusByDay","getDaysLeftBeforeSaleDelete","eventDate","daysLeftTimestamp","now","daysLeft","Math","ceil","handlePaymentRequest","amount","handleYesNoRequestPayment","val","imgwitness","imgwishlist","imgshooping","sort","a","b","slice","key","image","id","people","star","note","keyA","keyB","item","getDate","name","comment"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport { useAuth } from '../context/userContext'\nimport { CSSTransition } from 'react-transition-group'\n\nimport Title from './utilities/Title'\nimport SubTitle from './utilities/SubTitle'\nimport { ButtonSmall } from './utilities/Buttons'\nimport Image from '../components/utilities/Image'\nimport ModalYesNo from './utilities/ModalYesNo'\n\nimport imgwitness from '../images/witness.svg'\nimport imgwishlist from '../images/wishlist.svg'\nimport imgshooping from '../images/shopping-bag.svg'\nimport emptyStar from \"../images/starempty.png\"\nimport star from \"../images/star.svg\"\nimport greenTrace from \"../images/greenTrace.png\"\n\nimport EarningChart from '../components/EarningChart'\nimport NoteWidget from '../components/NoteWidget'\nimport Loader from './Loader'\n\n\nconst Prest_Dashboard_Dashboard = ({ setStep }) => {\n\n    const [isMounted, setIsMounted] = useState(false);\n    const [sales, setSales] = useState([]);\n    const [monthlyEarns, setmMonthlyEarns] = useState(0);\n    const [monthlySales, setmMonthlySales] = useState(0);\n    const [monthlyViews, setmMonthlyViews] = useState(0);\n    const [isModalOpened, setIsModalOpened] = useState(false)\n    const [totalAmount, setTotalAmount] = useState(0)\n    const [wishListCount, setWishListCount] = useState(0)\n    const [reviews, setReviews] = useState([])\n    const [position, setPosition] = useState(0)\n    const [sellersCount, setSellersCount] = useState(0)\n\n    const { seller,\n        getSalesOfSellerIdFromDB,\n        formateToDateWithWords,\n        formateToDate,\n        getViewsOfSeller,\n        sendInBlue_sendPaymentRequestToAdmin,\n        getTotalAmountDueToSeller,\n        getWishListCountOfSeller,\n        getReviewsOfSellerUid,\n        getSellerPosition,\n        getSellersCount } = useAuth()\n\n    useEffect(() => {\n        getSales().then(salesList => {\n            getMonthlyEarns(salesList).then(res => {\n                setmMonthlyEarns(res)\n                getMonthlySales(salesList).then(res => {\n                    setmMonthlySales(res)\n                    getMonthlyViews().then(res => {\n                        setmMonthlyViews(res)\n                        getWishListCountOfSeller(seller.uid).then(res => {\n                            setWishListCount(res)\n                            getReviewsOfSellerUid(seller.uid).then(res => {\n                                setReviews(res)\n                                getPositionOfSeller().then(res => {\n                                    getSellersCount().then(res => {\n                                        setSellersCount(res)\n                                        setIsMounted(true)\n                                    })\n                                })\n                            })\n                        })\n                    })\n                })\n            })\n        })\n    }, [])\n\n    async function getSales() {\n        const salesList = await getSalesOfSellerIdFromDB(seller.uid)\n        setSales(salesList)\n        return salesList\n    }\n\n    async function getMonthlyEarns(salesList) {\n        const lastMonthEarns = salesList.filter(sale => sale.date > dateTodayMinusByDay(30) && sale.status === \"validated\" && sale.total === sale.paid)\n        let earns = 0\n        lastMonthEarns.map(sale => earns = earns + sale.total)\n        return earns\n    }\n\n    async function getMonthlySales(salesList) {\n        const lastMonthSales = salesList.filter(sale => sale.date > dateTodayMinusByDay(30) && sale.status === \"validated\")\n        const lastMonthServices = []\n        lastMonthSales.forEach(sale => {\n            sale.choosedServices.forEach(service => {\n                lastMonthServices.push(service)\n            })\n        })\n        return lastMonthServices.length\n    }\n\n    async function getMonthlyViews() {\n        const views = await getViewsOfSeller(seller.uid)\n        const lastMonthViews = views.filter(view => view.date.seconds * 1000 > dateTodayMinusByDay(30))\n        return lastMonthViews\n    }\n\n    function dateTodayMinusByDay(day) {\n        const date = new Date()\n        date.setHours(date.getHours() - (24 * day))\n        return date\n    }\n\n    function dateTodayPlusByDay(day) {\n        const date = new Date()\n        date.setHours(date.getHours() + (24 * day))\n        return date\n    }\n\n    function getDaysLeftBeforeSaleDelete(eventDate) {\n        const daysLeftTimestamp = (eventDate.seconds * 1000 || eventDate) - Date.now()\n        const daysLeft = Math.ceil(daysLeftTimestamp / 1000 / 86400)\n        return daysLeft - 10 === 0 ? \"aujourd'hui\" : `${daysLeft - 10} jours`\n    }\n\n    async function handlePaymentRequest() {\n        const amount = await getTotalAmountDueToSeller()\n        setTotalAmount(amount)\n        setIsModalOpened(true)\n    }\n\n    function handleYesNoRequestPayment(val) {\n        if (val === \"yes\") {\n            if (totalAmount > 10) {\n                sendInBlue_sendPaymentRequestToAdmin()\n            }\n            else {\n\n            }\n        }\n        setIsModalOpened(false)\n    }\n\n    async function getPositionOfSeller() {\n        const position = await getSellerPosition(seller.uid)\n        setPosition(position)\n    }\n\n    return (\n        <>\n            <CSSTransition\n                in={!isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <Loader />\n            </CSSTransition>\n\n            <CSSTransition\n                in={isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <div className=\"prest_Dashboard_Dashboard\">\n\n                    <section className=\"prest_dashboard_header\">\n                        <div className=\"dashboard_left_container\">\n                            <Title class=\"Revenusmois\" type=\"h2\" font=\"roboto-medium\" value=\"Revenus du mois actuel\" />\n                            <Title type=\"h1\" font=\"roboto-bold\" value={`${monthlyEarns}â‚¬`} />\n                            <ButtonSmall onClick={() => handlePaymentRequest()} color=\"blue\" value=\"Demander un virement\" />\n                        </div>\n                        <div className=\"dashboard_statsHeader_container\">\n                            <div className=\"item\">\n                                <div className=\"image blue\"><span><Image url={imgwitness} /></span></div>\n                                <div className=\"content\">\n                                    <Title type=\"h2\" font=\"roboto-bold\" value={`${monthlyViews.length}`} />\n                                    <span></span>\n                                    <SubTitle color=\"grey\" type=\"big\" font=\"roboto-bold\" value=\"Nombre de vues mensuelles\" />\n                                </div>\n                            </div>\n                            <div className=\"item\">\n                                <div className=\"image red\"><span><Image url={imgwishlist} /></span></div>\n                                <div className=\"content\">\n                                    <Title type=\"h2\" font=\"roboto-bold\" value={wishListCount} />\n                                    <span></span>\n                                    <SubTitle color=\"grey\" type=\"big\" font=\"roboto-bold\" value=\"Ajouts en wishlist\" />\n                                </div>\n                            </div>\n                            <div className=\"item\">\n                                <div className=\"image yellow\"><span><Image url={imgshooping} /></span></div>\n                                <div className=\"content\">\n                                    <Title type=\"h2\" font=\"roboto-bold\" value={`${monthlySales}`} />\n                                    <span></span>\n                                    <SubTitle color=\"grey\" type=\"big\" font=\"roboto-bold\" value=\"Nombre de ventes mensuelles\" />\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n\n                    <section className=\"prest_dashboard_1\">\n                        <div className=\"header\">\n                            <Title type=\"h2\" font=\"roboto-medium\" value=\"Vos commandes rÃ©centes\" />\n                            {sales.length > 0 &&\n                                <p className=\"blueLink\" onClick={() => setStep(2)}>Voir toutes les commandes</p>\n                            }\n                        </div>\n                        <div className=\"content\">\n\n                            {sales\n                                .filter(sale => sale.status !== \"rejected\")\n                                .sort((a, b) => b.date - a.date)\n                                .slice(0, 4)\n                                .map((sale, key) =>\n                                    <div className=\"item\" key={key}>\n                                        <div className=\"header\">\n                                            {sale.status === \"pending\" && <SubTitle color=\"#acacac\" type=\"big\" font=\"roboto-bold\" value=\"Commande rÃ©cente en attente de validation\" />}\n                                            {sale.status === \"validated\" && <SubTitle color=\"rgb(127, 207, 127)\" type=\"big\" font=\"roboto-bold\" value=\"Commande validÃ©e\" />}\n                                        </div>\n                                        <div className=\"content\">\n                                            <div className=\"left imagesSuperpos\">\n                                                {sale.choosedServices.slice(0, 3).map(service =>\n                                                    <div><Image url={service.image} /></div>\n                                                )}\n                                            </div>\n                                            <div className=\"right\">\n                                                <p className=\"commandTitle\">Commande #{sale.id} - <span>{formateToDate(sale.date)}</span></p>\n                                                <p>Montant de la commande : <span>{sale.total}â‚¬</span></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                )}\n                            {sales.filter(sale => sale.status !== \"rejected\").length < 1 &&\n                                <div className=\"textInEmptyQuery\"><p>Aucune commande rÃ©cente</p></div>\n                            }\n\n                        </div>\n                    </section>\n                    <section className=\"prest_dashboard_2\">\n                        <div className=\"header\">\n                            <Title type=\"h2\" font=\"roboto-medium\" value=\"Rappel\" />\n                        </div>\n                        <div className=\"content\">\n                            <div className=\"left\">\n                                <div className=\"header\">\n                                    <SubTitle type=\"big\" font=\"roboto-bold\" value=\"Ã‰vÃ¨nements prochains Ã  prÃ©parer\" />\n                                </div>\n                                <div className=\"content\">\n\n                                    {sales\n                                        .filter(sale => sale.eventDate < dateTodayPlusByDay(10) && sale.status === \"validated\")\n                                        .sort((a, b) => b.eventDate - a.eventDate)\n                                        .slice(0, 3)\n                                        .map((sale, key) =>\n                                            <div key={key} className={`item ${sale.eventDate < dateTodayPlusByDay(5) ? \"red\" : \"blue\"}`}>\n                                                <div className=\"left\">\n                                                    <p className=\"commandTitle\">Commande #{sale.id} - <span>{formateToDate(sale.date)}</span></p>\n                                                    <p className=\"blueLink\">Voir les dÃ©tails de la commande</p>\n                                                </div>\n                                                <div className=\"right\">\n                                                    <label>Date de l'Ã©vÃ¨nement :</label>\n                                                    <p>{formateToDateWithWords(sale.eventDate)}</p>\n                                                </div>\n                                            </div>\n                                        )}\n                                    {sales.filter(sale => sale.date > dateTodayMinusByDay(10) && sale.status === \"validated\").length < 1 &&\n                                        <div className=\"textInEmptyQuery\"><p>Aucun rappel</p></div>\n                                    }\n\n                                </div>\n                            </div>\n                            <div className=\"right\">\n                                <div className=\"header\">\n                                    <SubTitle type=\"big\" font=\"roboto-bold\" value=\"Commandes Ã  valider/vÃ©rifier avant expiration\" />\n                                </div>\n                                <div className=\"content\">\n\n                                    {sales\n                                        .filter(sale => sale.eventDate < dateTodayPlusByDay(20) && sale.status === \"pending\")\n                                        .sort((a, b) => b.eventDate - a.eventDate)\n                                        .slice(0, 2)\n                                        .map((sale, key) =>\n                                            <div key={key} className=\"item\">\n                                                <div className=\"header\">\n                                                    <p>Commande toujours en attente de validation</p>\n                                                    <p>Expire: <span>{getDaysLeftBeforeSaleDelete(sale.eventDate)}</span></p>\n                                                </div>\n                                                <div className=\"content\">\n                                                    <div className=\"left imagesSuperpos\">\n                                                        {sale.choosedServices.slice(0, 3).map(service =>\n                                                            <div><Image url={service.image} /></div>\n                                                        )}\n                                                    </div>\n                                                    <div className=\"right\">\n                                                        <p className=\"commandTitle\">Commande #{sale.id} - <span>{formateToDate(sale.date)}</span></p>\n                                                        <p className=\"commandTitle\">Montant de la commande : <span>{sale.total}â‚¬</span></p>\n                                                    </div>\n                                                </div>\n                                                <div className=\"bottom\">\n                                                    <div>\n                                                        <label>Date de l'Ã©vÃ¨nement :</label>\n                                                        <p>{formateToDateWithWords(sale.eventDate)}</p>\n                                                    </div>\n                                                    <div>\n                                                        <label>Nombre de personne :</label>\n                                                        <p>{sale.people} personnes</p>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        )}\n                                    {sales.filter(sale => sale.eventDate < dateTodayPlusByDay(20) && sale.status === \"pending\").length < 1 &&\n                                        <div className=\"textInEmptyQuery\"><p>Aucune commande Ã  valider</p></div>\n                                    }\n\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"bottom\">\n                            <div className=\"legendeContainer\">\n                                <label>LÃ©gende :</label>\n                                <div className=\"blueLegend\">\n                                    <span></span>\n                                    <p>Prochainement</p>\n                                </div>\n                                <div className=\"redLegend\">\n                                    <span></span>\n                                    <p>TrÃ¨s prochainement</p>\n                                </div>\n                            </div>\n                            {sales.length > 0 &&\n                                <div className=\"buttonContainer\">\n                                    <ButtonSmall onClick={() => setStep(2)} color=\"blue\" value=\"Voir toutes les commandes\" />\n                                </div>\n                            }\n                        </div>\n                    </section>\n\n                    <section className=\"reviewsContainer\">\n                        <div className=\"reviewsContainer__header\">\n                            <Title type=\"h2\" font=\"roboto-medium\" value=\"Commentaires rÃ©cents\" />\n                        </div>\n                        {reviews.length === 0 ?\n\n\n                            <div className=\"textInEmptyQuery\">\n                                <p>Aucun commentaire Ã  afficher</p>\n                            </div>\n                            :\n                            <>\n                                <div className=\"reviewsContainer__content\">\n                                    <div className=\"reviewsContainer__left\">\n                                        <Title type=\"h2\" font=\"roboto-medium\" value=\"Votre note actuelle est\" />\n                                        <div className=\"reviewsContainer__globalNoteStars\">\n                                            <Image url={star} />\n                                            <Image url={star} />\n                                            <Image url={star} />\n                                            <Image url={star} />\n                                            <Image url={emptyStar} />\n                                        </div>\n\n                                        <div className=\"reviewsContainer__globalNote\">\n                                            <p>{seller.note}/5</p>\n                                        </div>\n\n                                        <div className=\"reviewsContainer__classement\">\n                                            <Title type=\"h2\" align=\"center\" font=\"roboto-medium\" value=\"Vous Ãªtes classÃ©*\" />\n                                            <div className=\"reviewsContainer__classementContent\">\n                                                <p>{position}Ã¨me<Image url={greenTrace} /></p>\n                                                <span>sur {sellersCount}</span>\n                                            </div>\n                                        </div>\n\n                                    </div>\n                                    <div className=\"reviewsContainer__right\">\n                                        <div className=\"reviewsContainer__cards__container\">\n                                            {reviews\n                                                .sort((a, b) => {\n                                                    var keyA = new Date(a.date),\n                                                        keyB = new Date(b.date);\n                                                    // Compare the 2 dates\n                                                    if (keyA < keyB) return -1;\n                                                    if (keyA > keyB) return 1;\n                                                    return 0;\n                                                })\n                                                .slice(0, 3)\n                                                .map(item =>\n                                                    <div className=\"reviewsContainer__card\">\n                                                        {new Date().getDate() - 7 < new Date(item.date.seconds * 1000).getDate() &&\n                                                            <span>Nouveau</span>\n                                                        }\n                                                        <h3>{item.name}</h3>\n                                                        <p className=\"reviewsContainer__card__subTitle\">EvÃ¨nement du {formateToDate(item.eventDate.seconds * 1000)}</p>\n                                                        <p className=\"reviewsContainer__card__content\">{item.comment}</p>\n                                                        <NoteWidget note={item.note} />\n                                                    </div>\n                                                )}\n\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"reviewsContainer__bottom\">\n                                    <div className=\"reviewsContainer__bottom_button\">\n                                        <ButtonSmall color=\"grey\" value=\"Voir plus de commentaires\" />\n                                    </div>\n                                    <p>* Ce classement est gÃ©nÃ©rÃ© en fonction du type de service que vous proposez\n                                        & du pÃ©rimÃ¨tre dans lequel vous vous trouvez par rapport aux autres prÃ©stataires</p>\n                                </div>\n                            </>\n                        }\n\n                    </section>\n\n                    <section className=\"chartContainer\">\n                        <div className=\"chartContainer__header\">\n                            <Title type=\"h2\" font=\"roboto-medium\" value=\"Vos statistiques\" />\n                        </div>\n                        <EarningChart sales={sales} />\n                    </section>\n\n                </div>\n            </CSSTransition>\n            <CSSTransition\n                in={isModalOpened}\n                timeout={200}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <ModalYesNo\n                    callback={(val) => handleYesNoRequestPayment(val)}\n                    value={`Solde actuel: ${totalAmount}â‚¬`}\n                    value2={totalAmount < 10 && \"Impossible de demander un virement, votre solde est nul.\"}\n                    disabled={totalAmount < 10 ? true : false}\n                />\n            </CSSTransition>\n        </>\n    )\n}\n\nexport default Prest_Dashboard_Dashboard"]},"metadata":{},"sourceType":"module"}