{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bc/Desktop/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/bc/Desktop/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/bc/Desktop/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/bc/Desktop/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import{useFirebase}from\"../../assets/base-context\";import{Services}from'./Services';import LocationSearchInput from\"../autocompletePlaces\";import{ShowDocuments}from'./components/ShowDocuments';import{useAuth}from'../../context/userContext';var category=[{id:'decorations',name:'Décoration'},{id:'ambiance',name:' Ambiance'},{id:'table',name:'À table'}// { id: 'service', name: 'Service sur place' },\n];var subCategory=[{id:'intérieures',name:'Décorations intérieures'},{id:'extérieurs',name:'Décorations extérieurs'},{id:'Éclairages',name:'Éclairages'},{id:'Musique',name:'Musique'},{id:'Activités',name:'Activités'},{id:'Nourriture',name:'Nourriture'},{id:'Boissons',name:'Boissons'}];var ShowSeller=function ShowSeller(props){var firebaseContext=useFirebase();var firestore=firebaseContext.firestore();var currentSeller=props.currentSeller;var handleDeletePrestataire=props.handleDeletePrestataire;var refSeller=firestore.collection(\"sellers\").doc(currentSeller);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),seller=_useState2[0],setSeller=_useState2[1];var _useState3=useState({type:\"\",message:\"\"}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),currentSubmenu=_useState8[0],setCurrentSubmenu=_useState8[1];var _useState9=useState(\"show\"),_useState10=_slicedToArray(_useState9,2),step=_useState10[0],setStep=_useState10[1];var _useAuth=useAuth(),setSellerStatus=_useAuth.setSellerStatus;useEffect(function(){getData().then(function(){setLoading(false);});},[step]);function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var query,results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return refSeller.get();case 2:query=_context.sent;results=query.data();setSeller(_objectSpread(_objectSpread({},results),{},{uid:query.id}));case 5:case\"end\":return _context.stop();}}},_callee);}));return _getData.apply(this,arguments);}function handleAdressChanged(adress,latLng){setSeller(_objectSpread(_objectSpread({},seller),{},{adress:adress,latLng:latLng}));}function handleOnChangeInputs(name,value){name===\"companyName\"?setSeller(_objectSpread(_objectSpread({},seller),{},{companyName:value})):name===\"category\"?setSeller(_objectSpread(_objectSpread({},seller),{},{category:value})):name===\"subcategory\"?setSeller(_objectSpread(_objectSpread({},seller),{},{subcategory:value})):name===\"description\"?setSeller(_objectSpread(_objectSpread({},seller),{},{description:value})):name===\"firstName\"?setSeller(_objectSpread(_objectSpread({},seller),{},{firstName:value})):name===\"lastName\"?setSeller(_objectSpread(_objectSpread({},seller),{},{lastName:value})):name===\"phone\"?setSeller(_objectSpread(_objectSpread({},seller),{},{phone:value})):name===\"siret\"?setSeller(_objectSpread(_objectSpread({},seller),{},{siret:value})):name===\"website\"&&setSeller(_objectSpread(_objectSpread({},seller),{},{website:value}));}function handleSendForm(_x){return _handleSendForm.apply(this,arguments);}function _handleSendForm(){_handleSendForm=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return refSeller.update(_objectSpread(_objectSpread({},seller),{},{companyName:seller.companyName,adress:seller.adress,latLng:seller.latLng,category:seller.category,subcategory:seller.subcategory,description:seller.description,firstName:seller.firstName,lastName:seller.lastName,phone:seller.phone,siret:seller.siret,website:seller.website})).catch(function(error){console.error(error);}).then(function(){setStep(\"show\");});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _handleSendForm.apply(this,arguments);}function handleValidSeller(){return _handleValidSeller.apply(this,arguments);}function _handleValidSeller(){_handleValidSeller=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var countValidDocs,doc;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(seller.status!==\"validated\"&&seller.status!==\"opened\")){_context3.next=12;break;}countValidDocs=0;for(doc in seller.documents){if(seller.documents[doc].status&&seller.documents[doc].status===\"validated\"){countValidDocs+=1;}}if(!(countValidDocs===5)){_context3.next=9;break;}_context3.next=6;return setSellerStatus(seller.uid,\"validated\");case 6:setSeller(_objectSpread(_objectSpread({},seller),{},{status:\"validated\"}));_context3.next=10;break;case 9:setError({type:\"missedValidatedDocs\",message:\"Attention, tout les documents doivent être validés pour valider le prestataire.\"});case 10:_context3.next=15;break;case 12:_context3.next=14;return setSellerStatus(seller.uid,\"pending\");case 14:setSeller(_objectSpread(_objectSpread({},seller),{},{status:\"pending\"}));case 15:case\"end\":return _context3.stop();}}},_callee3);}));return _handleValidSeller.apply(this,arguments);}function handleOpenStore(){return _handleOpenStore.apply(this,arguments);}function _handleOpenStore(){_handleOpenStore=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(seller.status);if(!(seller.status===\"validated\")){_context4.next=7;break;}_context4.next=4;return setSellerStatus(seller.uid,\"opened\");case 4:setSeller(_objectSpread(_objectSpread({},seller),{},{status:\"opened\"}));_context4.next=16;break;case 7:if(!(seller.status===\"opened\")){_context4.next=13;break;}_context4.next=10;return setSellerStatus(seller.uid,\"validated\");case 10:setSeller(_objectSpread(_objectSpread({},seller),{},{status:\"validated\"}));_context4.next=16;break;case 13:_context4.next=15;return setSellerStatus(seller.uid,\"opened\");case 15:setSeller(_objectSpread(_objectSpread({},seller),{},{status:\"opened\"}));// setError({ type: \"missedValidatedDocs\", message: \"Le prestataire doit être validé avant de pouvoir ouvrir sa boutique\" })\ncase 16:case\"end\":return _context4.stop();}}},_callee4);}));return _handleOpenStore.apply(this,arguments);}return!loading&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:seller.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"showSellerContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"headerShowSellerContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:currentSubmenu===0&&\"active\",onClick:function onClick(){return setCurrentSubmenu(0);},children:/*#__PURE__*/_jsx(\"h3\",{children:\"Infos\"})}),/*#__PURE__*/_jsx(\"div\",{className:currentSubmenu===1&&\"active\",onClick:function onClick(){return setCurrentSubmenu(1);},children:/*#__PURE__*/_jsx(\"h3\",{children:\"Services\"})})]}),currentSubmenu===0?/*#__PURE__*/_jsxs(\"div\",{children:[step===\"show\"?/*#__PURE__*/_jsxs(\"div\",{className:\"infoShowSellerContainer\",children:[/*#__PURE__*/_jsx(\"img\",{alt:seller.name,src:seller.image_path.url}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom: \"}),seller.companyName]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Adresse: \"}),seller.adress]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cat\\xE9gorie: \"}),seller.category]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sous cat\\xE9gorie: \"}),seller.subcategory]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email: \"}),seller.email]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description: \"}),seller.description]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Siret: \"}),seller.siret]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Site web: \"}),seller.website]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"T\\xE9l\\xE9hone: \"}),seller.phone]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pr\\xE9nom du g\\xE9rant: \"}),seller.firstName]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom du g\\xE9rant: \"}),seller.lastName]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Statut du compte: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"statusSeller\",style:{color:seller.status===\"validated\"?\"green\":seller.status===\"opened\"?\"green\":seller.status===\"subscribing\"&&\"red\"},children:seller.status===\"validated\"||seller.status===\"opened\"?\"Validé\":seller.status===\"pending\"?\"En attente\":seller.status===\"subscribing\"&&\"Inscription ou manque de documents\"})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Boutique: \",/*#__PURE__*/_jsx(\"span\",{style:{color:seller.status===\"opened\"?\"green\":\"red\"},children:seller.status===\"opened\"?\"Ouverte\":\"Fermée\"})]})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"buttonAdminTransparent\",onClick:function onClick(){return setStep(\"edit\");},children:\"Modifier les informations\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDeletePrestataire();},className:\"buttonAdminTransparent\",children:\"Supprimer ce pr\\xE9stataire\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleValidSeller();},className:\"buttonAdminValid\",children:seller.status===\"validated\"||seller.status===\"opened\"?\"Invalider\":\"Valider le prestataire\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleOpenStore();},className:\"buttonAdminInfo\",children:seller.status===\"opened\"?\"Fermer la boutique\":\"Ouvrir la boutique\"}),/*#__PURE__*/_jsx(\"div\",{children:error.type===\"missedValidatedDocs\"&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMessage\",children:error.message})})]}):step===\"edit\"&&/*#__PURE__*/_jsx(\"div\",{className:\"infoEditSellerContainer\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom de la boutique\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:seller.companyName,onChange:function onChange(e){return handleOnChangeInputs(\"companyName\",e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:seller.description,onChange:function onChange(e){return handleOnChangeInputs(\"description\",e.target.value);},name:\"description\",cols:\"30\",rows:\"10\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lieu de l'\\xE9v\\xE8nement\"}),/*#__PURE__*/_jsx(LocationSearchInput,{placeType:\"address\",value:seller.adress,onChanged:handleAdressChanged})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cat\\xE9gorie\"}),/*#__PURE__*/_jsx(\"select\",{onChange:function onChange(e){return handleOnChangeInputs(\"category\",e.target.value);},children:category.map(function(item){return/*#__PURE__*/_jsx(\"option\",{selected:seller.category===item.id&&\"selected\",value:item.id,children:item.name});})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sous cat\\xE9gorie\"}),/*#__PURE__*/_jsx(\"select\",{onChange:function onChange(e){return handleOnChangeInputs(\"subcategory\",e.target.value);},children:subCategory.map(function(item){return/*#__PURE__*/_jsx(\"option\",{selected:seller.subcategory===item.id&&\"selected\",value:item.id,children:item.name});})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pr\\xE9nom du g\\xE9rant\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",value:seller.firstName,onChange:function onChange(e){return handleOnChangeInputs(\"firstName\",e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom du g\\xE9rant\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",value:seller.lastName,onChange:function onChange(e){return handleOnChangeInputs(\"lastName\",e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Site web\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"website\",value:seller.website,onChange:function onChange(e){return handleOnChangeInputs(\"website\",e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Num\\xE9ro de t\\xE9l\\xE9phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",value:seller.phone,onChange:function onChange(e){return handleOnChangeInputs(\"phone\",e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Siret\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"siret\",value:seller.siret,onChange:function onChange(e){return handleOnChangeInputs(\"siret\",e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Sauvegarder\",onClick:function onClick(e){return handleSendForm(e);}}),/*#__PURE__*/_jsx(\"button\",{className:\"buttonAdminTransparent\",onClick:function onClick(){return setStep('show');},children:\"Revenir en arri\\xE8re\"})]})})]})}),seller.status&&seller.documents&&/*#__PURE__*/_jsx(ShowDocuments,{sellerId:seller.uid,documents:seller.documents})]}):/*#__PURE__*/_jsx(Services,{categorySeller:seller.category,sellerName:seller.name,currentSeller:currentSeller})]})]});};export default ShowSeller;","map":{"version":3,"sources":["/Users/bc/Desktop/Nivid/src/components/Admin/ShowSeller.js"],"names":["React","useEffect","useState","useFirebase","Services","LocationSearchInput","ShowDocuments","useAuth","category","id","name","subCategory","ShowSeller","props","firebaseContext","firestore","currentSeller","handleDeletePrestataire","refSeller","collection","doc","seller","setSeller","type","message","error","setError","loading","setLoading","currentSubmenu","setCurrentSubmenu","step","setStep","setSellerStatus","getData","then","get","query","results","data","uid","handleAdressChanged","adress","latLng","handleOnChangeInputs","value","companyName","subcategory","description","firstName","lastName","phone","siret","website","handleSendForm","e","preventDefault","update","catch","console","handleValidSeller","status","countValidDocs","documents","handleOpenStore","log","image_path","url","email","color","target","map","item"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useFirebase } from \"../../assets/base-context\";\r\nimport { Services } from './Services'\r\nimport LocationSearchInput from \"../autocompletePlaces\"\r\nimport { ShowDocuments } from './components/ShowDocuments'\r\nimport { useAuth } from '../../context/userContext'\r\n\r\n\r\nconst category = [\r\n    { id: 'decorations', name: 'Décoration' },\r\n    { id: 'ambiance', name: ' Ambiance' },\r\n    { id: 'table', name: 'À table' },\r\n    // { id: 'service', name: 'Service sur place' },\r\n]\r\n\r\nconst subCategory = [\r\n    { id: 'intérieures', name: 'Décorations intérieures' },\r\n    { id: 'extérieurs', name: 'Décorations extérieurs' },\r\n    { id: 'Éclairages', name: 'Éclairages' },\r\n\r\n    { id: 'Musique', name: 'Musique' },\r\n    { id: 'Activités', name: 'Activités' },\r\n\r\n    { id: 'Nourriture', name: 'Nourriture' },\r\n    { id: 'Boissons', name: 'Boissons' },\r\n]\r\n\r\nconst ShowSeller = (props) => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n    const currentSeller = props.currentSeller\r\n    const handleDeletePrestataire = props.handleDeletePrestataire\r\n    const refSeller = firestore.collection(\"sellers\").doc(currentSeller);\r\n\r\n    const [seller, setSeller] = useState([])\r\n    const [error, setError] = useState({ type: \"\", message: \"\" })\r\n    const [loading, setLoading] = useState(true)\r\n    const [currentSubmenu, setCurrentSubmenu] = useState(0)\r\n    const [step, setStep] = useState(\"show\")\r\n\r\n    const { setSellerStatus } = useAuth()\r\n\r\n\r\n    useEffect(() => {\r\n        getData().then(() => {\r\n            setLoading(false)\r\n        })\r\n    }, [step])\r\n\r\n    async function getData() {\r\n        const query = await refSeller.get();\r\n        const results = query.data()\r\n        setSeller({ ...results, uid: query.id })\r\n    }\r\n\r\n    function handleAdressChanged(adress, latLng) {\r\n        setSeller({ ...seller, adress: adress, latLng: latLng })\r\n    }\r\n\r\n    function handleOnChangeInputs(name, value) {\r\n        name === \"companyName\" ? setSeller({ ...seller, companyName: value })\r\n            : name === \"category\" ? setSeller({ ...seller, category: value })\r\n                : name === \"subcategory\" ? setSeller({ ...seller, subcategory: value })\r\n                    : name === \"description\" ? setSeller({ ...seller, description: value })\r\n                        : name === \"firstName\" ? setSeller({ ...seller, firstName: value })\r\n                            : name === \"lastName\" ? setSeller({ ...seller, lastName: value })\r\n                                : name === \"phone\" ? setSeller({ ...seller, phone: value })\r\n                                    : name === \"siret\" ? setSeller({ ...seller, siret: value })\r\n                                        : name === \"website\" && setSeller({ ...seller, website: value })\r\n    }\r\n\r\n    async function handleSendForm(e) {\r\n        e.preventDefault()\r\n\r\n        await refSeller.update({\r\n            ...seller,\r\n            companyName: seller.companyName,\r\n            adress: seller.adress,\r\n            latLng: seller.latLng,\r\n            category: seller.category,\r\n            subcategory: seller.subcategory,\r\n            description: seller.description,\r\n            firstName: seller.firstName,\r\n            lastName: seller.lastName,\r\n            phone: seller.phone,\r\n            siret: seller.siret,\r\n            website: seller.website,\r\n        })\r\n            .catch((error) => {\r\n                console.error(error)\r\n            })\r\n            .then(() => {\r\n                setStep(\"show\")\r\n            })\r\n    }\r\n\r\n    async function handleValidSeller() {\r\n        if (seller.status !== \"validated\" && seller.status !== \"opened\" ) {\r\n            let countValidDocs = 0\r\n            for (const doc in seller.documents) {\r\n                if (seller.documents[doc].status && seller.documents[doc].status === \"validated\") {\r\n                    countValidDocs += 1\r\n                }\r\n            }\r\n            if (countValidDocs === 5) {\r\n                await setSellerStatus(seller.uid, \"validated\")\r\n                setSeller({ ...seller, status: \"validated\" })\r\n            }\r\n            else {\r\n                setError({ type: \"missedValidatedDocs\", message: \"Attention, tout les documents doivent être validés pour valider le prestataire.\" })\r\n            }\r\n        }\r\n        else {\r\n            await setSellerStatus(seller.uid, \"pending\")\r\n            setSeller({ ...seller, status: \"pending\" })\r\n        }\r\n    }\r\n\r\n    async function handleOpenStore() {\r\n        console.log(seller.status)\r\n        if (seller.status === \"validated\") {\r\n            await setSellerStatus(seller.uid, \"opened\")\r\n            setSeller({ ...seller, status: \"opened\" })\r\n        }\r\n        else if (seller.status === \"opened\") {\r\n            await setSellerStatus(seller.uid, \"validated\")\r\n            setSeller({ ...seller, status: \"validated\" })\r\n        }\r\n        else {\r\n            await setSellerStatus(seller.uid, \"opened\")\r\n            setSeller({ ...seller, status: \"opened\" })\r\n            // setError({ type: \"missedValidatedDocs\", message: \"Le prestataire doit être validé avant de pouvoir ouvrir sa boutique\" })\r\n        }\r\n    }\r\n\r\n    return !loading && (\r\n        <div>\r\n            <h2>{seller.name}</h2>\r\n            <div className=\"showSellerContainer\">\r\n                <div className=\"headerShowSellerContainer\">\r\n                    <div className={currentSubmenu === 0 && \"active\"} onClick={() => setCurrentSubmenu(0)}><h3>Infos</h3></div>\r\n                    <div className={currentSubmenu === 1 && \"active\"} onClick={() => setCurrentSubmenu(1)}><h3>Services</h3></div>\r\n                </div>\r\n                {currentSubmenu === 0 ?\r\n                    <div>\r\n                        {step === \"show\" ?\r\n                            <div className=\"infoShowSellerContainer\">\r\n                                <img alt={seller.name} src={seller.image_path.url} />\r\n                                <ul>\r\n                                    <li><label>Nom: </label>{seller.companyName}</li>\r\n                                    <li><label>Adresse: </label>{seller.adress}</li>\r\n                                    <li><label>Catégorie: </label>{seller.category}</li>\r\n                                    <li><label>Sous catégorie: </label>{seller.subcategory}</li>\r\n                                    <li><label>Email: </label>{seller.email}</li>\r\n                                    <li><label>Description: </label>{seller.description}</li>\r\n                                    <li><label>Siret: </label>{seller.siret}</li>\r\n                                    <li><label>Site web: </label>{seller.website}</li>\r\n                                    <li><label>Téléhone: </label>{seller.phone}</li>\r\n                                    <li><label>Prénom du gérant: </label>{seller.firstName}</li>\r\n                                    <li><label>Nom du gérant: </label>{seller.lastName}</li>\r\n                                    <li>\r\n                                        <label>Statut du compte: </label>\r\n                                        <span\r\n                                            className=\"statusSeller\"\r\n                                            style={{\r\n                                                color:\r\n                                                    seller.status === \"validated\" ? \"green\"\r\n                                                        : seller.status === \"opened\" ? \"green\"\r\n                                                            : seller.status === \"subscribing\" && \"red\"\r\n                                            }}>\r\n                                            {(seller.status === \"validated\" || seller.status === \"opened\") ? \"Validé\"\r\n                                                : seller.status === \"pending\" ? \"En attente\"\r\n                                                    : seller.status === \"subscribing\" && \"Inscription ou manque de documents\"\r\n                                            }\r\n                                        </span>\r\n                                    </li>\r\n                                    <li>\r\n                                        <label>\r\n                                            Boutique: <span style={{ color: seller.status === \"opened\" ? \"green\" : \"red\" }}>{seller.status === \"opened\" ? \"Ouverte\" : \"Fermée\"}</span>\r\n                                        </label>\r\n                                    </li>\r\n                                </ul>\r\n                                <button className=\"buttonAdminTransparent\" onClick={() => setStep(\"edit\")}>Modifier les informations</button>\r\n                                <button onClick={() => handleDeletePrestataire()} className=\"buttonAdminTransparent\">Supprimer ce préstataire</button>\r\n                                <button onClick={() => handleValidSeller()} className=\"buttonAdminValid\">\r\n                                    { (seller.status === \"validated\" || seller.status === \"opened\") ? \"Invalider\" : \"Valider le prestataire\"}\r\n                                </button>\r\n                                <button onClick={() => handleOpenStore()} className=\"buttonAdminInfo\">\r\n                                    {seller.status === \"opened\" ? \"Fermer la boutique\" : \"Ouvrir la boutique\"}\r\n                                </button>\r\n                                <div>\r\n                                    {error.type === \"missedValidatedDocs\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                                </div>\r\n                            </div>\r\n                            : step === \"edit\" &&\r\n                            <div className=\"infoEditSellerContainer\">\r\n                                <form>\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Nom de la boutique</label>\r\n                                            <input type=\"text\" name=\"name\" value={seller.companyName} onChange={e => handleOnChangeInputs(\"companyName\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Description</label>\r\n                                            <textarea value={seller.description} onChange={e => handleOnChangeInputs(\"description\", e.target.value)} name=\"description\" cols=\"30\" rows=\"10\"></textarea>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Lieu de l'évènement</label>\r\n                                            <LocationSearchInput placeType=\"address\" value={seller.adress} onChanged={handleAdressChanged} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Catégorie</label>\r\n                                            <select onChange={e => handleOnChangeInputs(\"category\", e.target.value)}>\r\n                                                {category.map((item) => {\r\n                                                    return <option selected={seller.category === item.id && \"selected\"} value={item.id}>{item.name}</option>\r\n                                                })}\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Sous catégorie</label>\r\n                                            <select onChange={e => handleOnChangeInputs(\"subcategory\", e.target.value)}>\r\n                                                {subCategory.map((item) => {\r\n                                                    return <option selected={seller.subcategory === item.id && \"selected\"} value={item.id}>{item.name}</option>\r\n                                                })}\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Prénom du gérant</label>\r\n                                            <input type=\"text\" name=\"firstName\" value={seller.firstName} onChange={e => handleOnChangeInputs(\"firstName\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Nom du gérant</label>\r\n                                            <input type=\"text\" name=\"lastName\" value={seller.lastName} onChange={e => handleOnChangeInputs(\"lastName\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Site web</label>\r\n                                            <input type=\"text\" name=\"website\" value={seller.website} onChange={e => handleOnChangeInputs(\"website\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Numéro de téléphone</label>\r\n                                            <input type=\"text\" name=\"phone\" value={seller.phone} onChange={e => handleOnChangeInputs(\"phone\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Siret</label>\r\n                                            <input type=\"text\" name=\"siret\" value={seller.siret} onChange={e => handleOnChangeInputs(\"siret\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <input type=\"submit\" value=\"Sauvegarder\" onClick={(e) => handleSendForm(e)} />\r\n                                            <button className=\"buttonAdminTransparent\" onClick={() => setStep('show')}>Revenir en arrière</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        }\r\n                        {(seller.status && seller.documents) && <ShowDocuments sellerId={seller.uid} documents={seller.documents} />}\r\n                    </div>\r\n                    :\r\n                    <Services categorySeller={seller.category} sellerName={seller.name} currentSeller={currentSeller} />\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default ShowSeller"]},"metadata":{},"sourceType":"module"}