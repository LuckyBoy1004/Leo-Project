{"ast":null,"code":"import _objectSpread from\"/Users/bonnieclyde/Desktop/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/bonnieclyde/Desktop/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/bonnieclyde/Desktop/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bonnieclyde/Desktop/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/bonnieclyde/Desktop/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import'../styles/Dashboard.css';import Slideshow from\"../components/Slider\";import{useHistory}from\"react-router-dom\";import Header from'../components/Header';import{useAuth}from'../context/userContext';import ProgressBar from'react-bootstrap/ProgressBar';import UpdateProfil from'../components/UpdateProfil';import InterestedSellers from'../components/InterestedSellers';import WishList from'../components/WishList';import BlogWidget from'../components/BlogWidget';import{CSSTransition}from'react-transition-group';import{ButtonSmall}from'../components/utilities/Buttons';import Image from'../components/utilities/Image';var Dashboard=function Dashboard(){var _useAuth=useAuth(),event=_useAuth.event,user=_useAuth.user,formatLabelTimePicker=_useAuth.formatLabelTimePicker,getCurrentUserProfil=_useAuth.getCurrentUserProfil,getSellersInDbWithUids=_useAuth.getSellersInDbWithUids,getSalesOfEventIdFromDB=_useAuth.getSalesOfEventIdFromDB,updateEventStatus=_useAuth.updateEventStatus,clearEvent=_useAuth.clearEvent;var history=useHistory();var _useState=useState(window.innerWidth),_useState2=_slicedToArray(_useState,2),windowsWidth=_useState2[0],setWindowsWidth=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),step=_useState6[0],setStep=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),pourcent=_useState8[0],setPourcent=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),sellers=_useState10[0],setSellers=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];// if (step === 3) {\n//     const WishList = import('../components/WishList')\n// }\nfunction isMobile(){if(windowsWidth>1160){return false;}else{return true;}}function handleResize(width){setWindowsWidth(width);}useEffect(function(){if(event&&event.status&&event.status!==\"passed\"&&event.date&&event.date<Date.now()){updateEventStatus(\"passed\");clearEvent();}else{getSellerListFromServices();getPourcentBar();}window.addEventListener(\"resize\",function(e){return handleResize(window.innerWidth);});},[event]);function getPourcentBar(){return _getPourcentBar.apply(this,arguments);}function _getPourcentBar(){_getPourcentBar=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var pourcentToDisplay,pourcentBudget,sales;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(event.status){_context.next=2;break;}return _context.abrupt(\"return\");case 2:pourcentBudget=event.budgetLeft/event.budget*100;if(!(event.status===\"pending\")){_context.next=8;break;}_context.next=6;return getSalesOfEventIdFromDB(event.id);case 6:sales=_context.sent;pourcentToDisplay=Math.floor((event.date-sales[0].date)*100/Date.now());case 8:pourcentToDisplay=event.status===\"creating\"?pourcentBudget:pourcentToDisplay;setPourcent(100-pourcentToDisplay+5);case 10:case\"end\":return _context.stop();}}},_callee);}));return _getPourcentBar.apply(this,arguments);}function handleCreateEvent(){return _handleCreateEvent.apply(this,arguments);}function _handleCreateEvent(){_handleCreateEvent=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getCurrentUserProfil();case 2:data=_context2.sent;if(!user.emailVerified){setError(\"Vous n'avez pas encore confirmé votre adresse email.\");}else if(data.firstName===undefined||data.name===undefined||data.birthDate===undefined){setError(\"Vous devez compléter votre profil pour pouvoir créer votre premier évènement.\");}else{history.push(\"/creer-mon-evenement/etape-1\");}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _handleCreateEvent.apply(this,arguments);}function getSellerListFromServices(){return _getSellerListFromServices.apply(this,arguments);}function _getSellerListFromServices(){_getSellerListFromServices=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var sellerIDList,service,sellersList,uniqueSellersList,finalSellersList,_finalSellersList;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!(event.choosedServices.length<1||event.status===null)){_context5.next=2;break;}return _context5.abrupt(\"return\",null);case 2:sellerIDList=[];for(service in event.choosedServices){sellerIDList=[].concat(_toConsumableArray(sellerIDList),[event.choosedServices[service].sellerId]);}_context5.next=6;return getSellersInDbWithUids(sellerIDList);case 6:sellersList=_context5.sent;uniqueSellersList=sellersList&&sellersList.filter(function(thing,index,self){return self.findIndex(function(t){return t.email===thing.email;})===index;});if(!(event.status===\"creating\")){_context5.next=12;break;}setSellers(uniqueSellersList);setLoading(false);return _context5.abrupt(\"return\");case 12:finalSellersList=[];uniqueSellersList.map(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(seller){var status,newSeller;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getSaleStatus(seller.uid);case 2:status=_context3.sent;newSeller=_objectSpread(_objectSpread({},seller),{},{status:status});finalSellersList=[].concat(_toConsumableArray(finalSellersList),[newSeller]);if(uniqueSellersList.length===finalSellersList.length){setSellers(finalSellersList);setLoading(false);}case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref.apply(this,arguments);};}());if(event.status===\"pending\"){_finalSellersList=[];uniqueSellersList.map(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(seller){var status,newSeller;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return getSaleStatus(seller.uid);case 2:status=_context4.sent;newSeller=_objectSpread(_objectSpread({},seller),{},{status:status});_finalSellersList=[].concat(_toConsumableArray(_finalSellersList),[newSeller]);if(uniqueSellersList.length===_finalSellersList.length){setSellers(_finalSellersList);setLoading(false);}case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref2.apply(this,arguments);};}());}else if(event.status===\"creating\"){setSellers(uniqueSellersList);setLoading(false);}case 15:case\"end\":return _context5.stop();}}},_callee5);}));return _getSellerListFromServices.apply(this,arguments);}function getSaleStatus(_x){return _getSaleStatus.apply(this,arguments);}function _getSaleStatus(){_getSaleStatus=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var sales,sale;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return getSalesOfEventIdFromDB(event.id);case 2:sales=_context6.sent;sale=sales.filter(function(sale){return sale.sellerID===id;});return _context6.abrupt(\"return\",sale[0].status);case 5:case\"end\":return _context6.stop();}}},_callee6);}));return _getSaleStatus.apply(this,arguments);}function getDaysLeftBeforeEvent(){var timestampLeft=event.date-Date.now();var daysLeft=timestampLeft/1000/86400;return Math.ceil(daysLeft);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:!isMobile()?\"dashboard\":\"dashboard mobile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboardHeader\",children:[/*#__PURE__*/_jsx(CSSTransition,{in:step===1,timeout:200,classNames:\"elementTransition\",unmountOnExit:true,children:/*#__PURE__*/_jsxs(\"p\",{className:\"elementTransition\",children:[\"Content de vous revoir \",/*#__PURE__*/_jsx(\"span\",{children:user.displayName})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:step===1&&\"active\",onClick:function onClick(){return setStep(1);},children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"span\",{className:step===2&&\"active\",onClick:function onClick(){return setStep(2);},children:\"Mes informations personnelles\"}),/*#__PURE__*/_jsx(\"span\",{className:step===3&&\"active\",onClick:function onClick(){return setStep(3);},children:\"Wishlist\"})]})]}),step===1?/*#__PURE__*/_jsxs(\"div\",{className:windowsWidth<600?\"dashboardContent mobile\":\"dashboardContent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftSide\",children:[event&&/*#__PURE__*/_jsx(\"h1\",{children:\"Votre \\xE9v\\xE8nement\"}),event.status&&event.status!==\"passed\"?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"containerBudgetHeader\",children:[event.status===\"creating\"&&/*#__PURE__*/_jsxs(\"h2\",{children:[\"Il vous reste \",event.budgetLeft<0?0:event.budgetLeft,\"\\u20AC sur votre budget total de \",event.budget,\"\\u20AC\"]}),event.status===\"pending\"&&/*#__PURE__*/_jsxs(\"h2\",{children:[\"Plus que \",getDaysLeftBeforeEvent(),\" jours \\xE0 patienter\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"progressBarEvent\",children:/*#__PURE__*/_jsx(ProgressBar,{now:pourcent})}),event.status===\"creating\"&&/*#__PURE__*/_jsx(ButtonSmall,{onClick:function onClick(e){return history.push('/creer-mon-evenement/etape-2');},color:\"orange\",value:\"Reprendre la cr\\xE9ation de mon \\xE9v\\xE8nement\",backgroundColor:\"rgba(245, 192, 67)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboardInfo\",children:[/*#__PURE__*/_jsxs(\"div\",{className:windowsWidth<600?\"insetLeftSide mobile\":\"insetLeftSide\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"headerDashboardInset\",children:/*#__PURE__*/_jsx(\"h2\",{style:{color:'rgba(245, 192, 67)'},children:\"Infos \\xE9v\\xE8nement\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboardInfoContent\",style:{minHeight:'0px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom de l'\\xE9v\\xE8nement:\"}),/*#__PURE__*/_jsx(\"p\",{children:event.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date:\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date(event.date).toLocaleDateString(\"fr-FR\",{weekday:\"long\",year:\"numeric\",month:\"long\",day:\"numeric\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cr\\xE9neau:\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'rgb(239 25 136)'},children:[\"Commence \\xE0 \",/*#__PURE__*/_jsx(\"span\",{children:formatLabelTimePicker(event.startAt)})]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'rgb(27 76 239)'},children:[\"se termine \\xE0 \",/*#__PURE__*/_jsx(\"span\",{children:formatLabelTimePicker(event.endAt)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",children:/*#__PURE__*/_jsxs(\"label\",{style:{fontSize:'30px'},children:[\"Afficher plus \",/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:'rgba(244, 244, 244)',border:'0px',fontSize:'30px'},children:\"+\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item buttonContainer\",children:event.status===\"creating\"&&/*#__PURE__*/_jsx(ButtonSmall,{onClick:function onClick(){return history.push('/creer-mon-evenement/etape-1');},color:\"grey\",value:\"Modifier les informations de l'\\xE9v\\xE8nement\",marginTop:\"20px\"})})]}),windowsWidth<600&&/*#__PURE__*/_jsx(\"div\",{className:\"separator\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insetRightSide\",children:[!isMobile()?/*#__PURE__*/_jsxs(\"div\",{className:\"headerDashboardInset\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'rgba(245, 192, 67)'},children:\"Prestataires s\\xE9lectionn\\xE9s\"}),/*#__PURE__*/_jsx(\"br\",{}),event.choosedServices.length>0?/*#__PURE__*/_jsxs(\"p\",{style:{color:'rgba(245, 192, 67)'},children:[sellers&&sellers.length,\" prestataires au total\"]}):/*#__PURE__*/_jsx(\"span\",{children:\"Vous n'avez pas encore choisi de prestataire\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"headerDashboardInset\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'rgba(245, 192, 67)',marginLeft:'10%'},children:\"Prestataires s\\xE9lectionn\\xE9s\"}),sellers&&sellers.length>0?/*#__PURE__*/_jsxs(\"p\",{style:{color:'rgba(245, 192, 67)'},children:[sellers&&sellers.length,\" prestataires au total\"]}):/*#__PURE__*/_jsx(\"span\",{children:\"Vous n'avez pas encore choisi de prestataire\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Slideshow,{eventStatus:event.status,sellers:sellers,windowsWidth:windowsWidth,isMobile:isMobile()})})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:isMobile()?\"noEventDisplayDashboard mobile\":\"noEventDisplayDashboard\",children:[/*#__PURE__*/_jsx(Image,{url:\"/images/triste.png\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"C\\u2019est dur \\xE0 croire!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Mais il semblerait que n\\u2019ayez toujours pas planifi\\xE9 d\\u2019\\xE9v\\xE8nement sur NIVID\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleCreateEvent();},children:\"Cr\\xE9er mon premier \\xE9v\\xE8nement\"}),error.length>0&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMessage\",children:error})]})]}),!isMobile()&&/*#__PURE__*/_jsxs(\"div\",{children:[event.status===\"creating\"&&/*#__PURE__*/_jsx(InterestedSellers,{}),/*#__PURE__*/_jsx(BlogWidget,{})]})]}):step===2?/*#__PURE__*/_jsx(UpdateProfil,{isMobile:isMobile()}):step===3&&/*#__PURE__*/_jsx(WishList,{eventStatus:event.status,isMobile:isMobile()})]})]});};export default Dashboard;","map":{"version":3,"sources":["/Users/bonnieclyde/Desktop/Nivid/src/pages/Dashboard.js"],"names":["React","useState","useEffect","Slideshow","useHistory","Header","useAuth","ProgressBar","UpdateProfil","InterestedSellers","WishList","BlogWidget","CSSTransition","ButtonSmall","Image","Dashboard","event","user","formatLabelTimePicker","getCurrentUserProfil","getSellersInDbWithUids","getSalesOfEventIdFromDB","updateEventStatus","clearEvent","history","window","innerWidth","windowsWidth","setWindowsWidth","error","setError","step","setStep","pourcent","setPourcent","sellers","setSellers","loading","setLoading","isMobile","handleResize","width","status","date","Date","now","getSellerListFromServices","getPourcentBar","addEventListener","e","pourcentBudget","budgetLeft","budget","id","sales","pourcentToDisplay","Math","floor","handleCreateEvent","data","emailVerified","firstName","undefined","name","birthDate","push","choosedServices","length","sellerIDList","service","sellerId","sellersList","uniqueSellersList","filter","thing","index","self","findIndex","t","email","finalSellersList","map","seller","getSaleStatus","uid","newSeller","sale","sellerID","getDaysLeftBeforeEvent","timestampLeft","daysLeft","ceil","displayName","color","minHeight","toLocaleDateString","weekday","year","month","day","startAt","endAt","fontSize","backgroundColor","border","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport '../styles/Dashboard.css'\r\nimport Slideshow from \"../components/Slider\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Header from '../components/Header'\r\nimport { useAuth } from '../context/userContext'\r\nimport ProgressBar from 'react-bootstrap/ProgressBar';\r\nimport UpdateProfil from '../components/UpdateProfil'\r\nimport InterestedSellers from '../components/InterestedSellers'\r\nimport WishList from '../components/WishList'\r\nimport BlogWidget from '../components/BlogWidget'\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nimport { ButtonSmall } from '../components/utilities/Buttons'\r\nimport Image from '../components/utilities/Image'\r\n\r\nconst Dashboard = () => {\r\n\r\n    const { event, user, formatLabelTimePicker, getCurrentUserProfil, getSellersInDbWithUids, getSalesOfEventIdFromDB, updateEventStatus, clearEvent } = useAuth()\r\n    const history = useHistory()\r\n\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [error, setError] = useState(\"\")\r\n    const [step, setStep] = useState(1)\r\n    const [pourcent, setPourcent] = useState(0);\r\n\r\n    const [sellers, setSellers] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // if (step === 3) {\r\n    //     const WishList = import('../components/WishList')\r\n    // }\r\n\r\n    function isMobile() {\r\n        if (windowsWidth > 1160) {\r\n            return false\r\n        }\r\n        else {\r\n            return true\r\n        }\r\n    }\r\n\r\n    function handleResize(width) {\r\n        setWindowsWidth(width)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (event && event.status && event.status !== \"passed\" && event.date && event.date < Date.now()) {\r\n            updateEventStatus(\"passed\")\r\n            clearEvent()\r\n        } else {\r\n            getSellerListFromServices()\r\n            getPourcentBar()\r\n        }\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n\r\n    }, [event])\r\n\r\n    async function getPourcentBar() {\r\n        if (!event.status) return\r\n\r\n        let pourcentToDisplay\r\n        const pourcentBudget = (event.budgetLeft / event.budget) * 100\r\n        if (event.status === \"pending\") {\r\n            const sales = await getSalesOfEventIdFromDB(event.id)\r\n            pourcentToDisplay = Math.floor(((event.date - sales[0].date) * 100) / Date.now())\r\n        }\r\n        pourcentToDisplay = event.status === \"creating\" ? pourcentBudget : pourcentToDisplay\r\n        setPourcent(100 - pourcentToDisplay + 5)\r\n    }\r\n\r\n    async function handleCreateEvent() {\r\n        const data = await getCurrentUserProfil()\r\n        if (!user.emailVerified) {\r\n            setError(\"Vous n'avez pas encore confirmé votre adresse email.\")\r\n        }\r\n        else if (data.firstName === undefined || data.name === undefined || data.birthDate === undefined) {\r\n            setError(\"Vous devez compléter votre profil pour pouvoir créer votre premier évènement.\")\r\n        }\r\n        else {\r\n            history.push(\"/creer-mon-evenement/etape-1\")\r\n        }\r\n    }\r\n\r\n\r\n\r\n    async function getSellerListFromServices() {\r\n        if (event.choosedServices.length < 1 || event.status === null) return null\r\n\r\n        let sellerIDList = []\r\n        for (const service in event.choosedServices) {\r\n            sellerIDList = [...sellerIDList, event.choosedServices[service].sellerId]\r\n        }\r\n        const sellersList = await getSellersInDbWithUids(sellerIDList)\r\n        const uniqueSellersList = sellersList && sellersList.filter((thing, index, self) => self.findIndex(t => t.email === thing.email) === index)\r\n\r\n        if (event.status === \"creating\") {\r\n            setSellers(uniqueSellersList)\r\n            setLoading(false)\r\n            return\r\n        }\r\n\r\n        let finalSellersList = []\r\n        uniqueSellersList.map(async seller => {\r\n            const status = await getSaleStatus(seller.uid)\r\n            const newSeller = { ...seller, status: status }\r\n            finalSellersList = [...finalSellersList, newSeller]\r\n\r\n            if (uniqueSellersList.length === finalSellersList.length) {\r\n                setSellers(finalSellersList)\r\n                setLoading(false)\r\n            }\r\n        })\r\n\r\n\r\n        if (event.status === \"pending\") {\r\n            let finalSellersList = []\r\n            uniqueSellersList.map(async seller => {\r\n                const status = await getSaleStatus(seller.uid)\r\n                const newSeller = { ...seller, status: status }\r\n                finalSellersList = [...finalSellersList, newSeller]\r\n\r\n                if (uniqueSellersList.length === finalSellersList.length) {\r\n                    setSellers(finalSellersList)\r\n                    setLoading(false)\r\n                }\r\n            })\r\n        }\r\n        else if (event.status === \"creating\") {\r\n            setSellers(uniqueSellersList)\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    async function getSaleStatus(id) {\r\n        const sales = await getSalesOfEventIdFromDB(event.id)\r\n        const sale = sales.filter(sale => sale.sellerID === id)\r\n        return sale[0].status\r\n    }\r\n\r\n    function getDaysLeftBeforeEvent() {\r\n        const timestampLeft = event.date - Date.now()\r\n        const daysLeft = timestampLeft / 1000 / 86400\r\n        return Math.ceil(daysLeft)\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <div className={!isMobile() ? \"dashboard\" : \"dashboard mobile\"}>\r\n                <div className=\"dashboardHeader\">\r\n                    \r\n            <CSSTransition\r\n                in={step === 1}\r\n                timeout={200}\r\n                classNames=\"elementTransition\"\r\n                unmountOnExit\r\n            >\r\n                <p className=\"elementTransition\">Content de vous revoir <span>{user.displayName}</span></p>\r\n            </CSSTransition>\r\n                    <div>\r\n                        <span className={step === 1 && \"active\"} onClick={() => setStep(1)}>Dashboard</span>\r\n                        <span className={step === 2 && \"active\"} onClick={() => setStep(2)}>Mes informations personnelles</span>\r\n                        <span className={step === 3 && \"active\"} onClick={() => setStep(3)}>Wishlist</span>\r\n                    </div>\r\n                </div>\r\n                {/* {!user.emailVerified && <EmailNotVerified />} */}\r\n                {step === 1 ? <div className={windowsWidth < 600 ? \"dashboardContent mobile\" : \"dashboardContent\"}>\r\n                    <div className=\"leftSide\">\r\n                        {event && <h1>Votre évènement</h1>}\r\n                        {event.status && event.status !== \"passed\" ? (\r\n                            <div>\r\n                                <div className=\"containerBudgetHeader\">\r\n                                    {event.status === \"creating\" && <h2>Il vous reste {event.budgetLeft < 0 ? 0 : event.budgetLeft }€ sur votre budget total de {event.budget}€</h2>}\r\n                                    {event.status === \"pending\" && <h2>Plus que {getDaysLeftBeforeEvent()} jours à patienter</h2>}\r\n                                    <div className=\"progressBarEvent\">\r\n                                        <ProgressBar now={pourcent} />\r\n                                    </div>\r\n                                    {event.status === \"creating\" &&\r\n                                        <ButtonSmall\r\n                                            onClick={(e) => history.push('/creer-mon-evenement/etape-2')}\r\n                                            color=\"orange\"\r\n                                            value=\"Reprendre la création de mon évènement\"\r\n                                            backgroundColor=\"rgba(245, 192, 67)\"\r\n                                        />\r\n                                    }\r\n                                </div>\r\n                                <div className=\"dashboardInfo\">\r\n                                    <div className={windowsWidth < 600 ? \"insetLeftSide mobile\" : \"insetLeftSide\"}>\r\n                                        <div className=\"headerDashboardInset\">\r\n                                            <h2 style={{color:'rgba(245, 192, 67)'}}>Infos évènement</h2>\r\n                                        </div>\r\n                                        <div className=\"dashboardInfoContent\" style={{minHeight:'0px'}}>\r\n                                            <div className=\"item\">\r\n                                                <label>Nom de l'évènement:</label>\r\n                                                <p>{event.name}</p>\r\n                                            </div>\r\n                                            <div className=\"item\">\r\n                                                <label>Date:</label>\r\n                                                <p>{new Date(event.date).toLocaleDateString(\"fr-FR\", { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" })}</p>\r\n                                            </div>\r\n                                            <div className=\"item\">\r\n                                                <label>Créneau:</label>\r\n                                                <p style={{color:'rgb(239 25 136)'}}>Commence à <span>{formatLabelTimePicker(event.startAt)}</span></p>\r\n                                                <p style={{color:'rgb(27 76 239)'}}>se termine à <span>{formatLabelTimePicker(event.endAt)}</span></p>\r\n                                            </div>\r\n                                            {/* <div className=\"item\">\r\n                                                <label>Nombre de personnes:</label>\r\n                                                <p>{event.people} personnes</p>\r\n                                            </div>\r\n                                            <div className=\"item\">\r\n                                                <label>Nombre de m²:</label>\r\n                                                <p>{event.placeSize}</p>\r\n                                            </div> */}\r\n                                            <div className=\"item\">\r\n                                                <label style={{fontSize:'30px'}}>Afficher plus <button style={{backgroundColor:'rgba(244, 244, 244)', border:'0px', fontSize:'30px'}}>\r\n                                                    {/* <svg width=\"36\" height=\"36\" viewBox=\"0 0 24 24\">\r\n                                                        <path d=\"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z\"></path>\r\n                                                    </svg> */}\r\n                                                +</button></label>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"item buttonContainer\">\r\n                                            {event.status === \"creating\" &&\r\n                                                <ButtonSmall\r\n                                                    onClick={() => history.push('/creer-mon-evenement/etape-1')}\r\n                                                    color=\"grey\"\r\n                                                    value=\"Modifier les informations de l'évènement\"\r\n                                                    marginTop=\"20px\"\r\n                                                />\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {windowsWidth < 600 && <div className=\"separator\"></div>}\r\n\r\n                                    <div className=\"insetRightSide\">\r\n                                        {!isMobile() ?\r\n                                            <div className=\"headerDashboardInset\">\r\n                                                <h2 style={{color:'rgba(245, 192, 67)'}}>Prestataires sélectionnés</h2><br/>\r\n                                                {event.choosedServices.length > 0 ?\r\n                                                    <p style={{color:'rgba(245, 192, 67)'}}>{sellers && sellers.length} prestataires au total</p>\r\n                                                    : <span>Vous n'avez pas encore choisi de prestataire</span>\r\n                                                }\r\n                                            </div>\r\n                                            :\r\n                                            <div className=\"headerDashboardInset\">\r\n                                                <h2 style={{color:'rgba(245, 192, 67)', marginLeft:'10%'}}>Prestataires sélectionnés</h2>\r\n                                                {sellers && sellers.length > 0 ?\r\n                                                    <p style={{color:'rgba(245, 192, 67)'}}>{sellers && sellers.length} prestataires au total</p>\r\n                                                    : <span>Vous n'avez pas encore choisi de prestataire</span>}\r\n                                            </div>\r\n                                        }\r\n                                        <div>\r\n                                            <Slideshow eventStatus={event.status} sellers={sellers} windowsWidth={windowsWidth} isMobile={isMobile()} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                            :\r\n                            <div className={isMobile() ? \"noEventDisplayDashboard mobile\" : \"noEventDisplayDashboard\"}>\r\n                                <Image url=\"/images/triste.png\" />\r\n                                <h2>C’est dur à croire!</h2>\r\n                                <p>Mais il semblerait que n’ayez toujours pas planifié d’évènement sur NIVID</p>\r\n                                <button onClick={() => handleCreateEvent()}>Créer mon premier évènement</button>\r\n                                {error.length > 0 && <p className=\"errorMessage\">{error}</p>}\r\n                            </div>\r\n\r\n                        }\r\n                    </div>\r\n                    {!isMobile() &&\r\n                        <div>\r\n                            {event.status === \"creating\" &&\r\n                                <InterestedSellers />\r\n                            }\r\n                            <BlogWidget />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                    : step === 2 ?\r\n                        <UpdateProfil isMobile={isMobile()} />\r\n                        : step === 3 &&\r\n                        <WishList eventStatus={event.status} isMobile={isMobile()} />\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}