{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\My Project\\\\Copie de Nivid\\\\Copie de Nivid (1)\\\\src\\\\pages\\\\Subscribe.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"../styles/Login.css\";\nimport { Link, useHistory } from 'react-router-dom';\nimport logo from \"../images/Logo Nivid - Noir.png\";\nimport { useAuth } from \"../context/userContext\"; // context\n\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport DatePicker from '@mui/lab/DatePicker';\nimport frLocale from 'date-fns/locale/fr';\nimport MobileDatePicker from '@mui/lab/MobileDatePicker';\nimport { ButtonLarge } from '../components/utilities/Buttons';\n\nconst Subscribe = () => {\n  _s();\n\n  const [firstName, setFirstName] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [emailConfirm, setEmailConfirm] = useState(\"\");\n  const [tel, setTel] = useState(\"\");\n  const [birthDate, setBirthDate] = useState(new Date('January 1, 1989'));\n  const [gender, setGender] = useState(\"h\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [fieldError, setFieldError] = useState(\"\");\n  const [windowsWidth, setWindowsWidth] = useState(window.innerWidth);\n  const [isCalendarOpened, setIsCalendarOpened] = useState(false);\n  const {\n    subscribe,\n    signInWithGoogle\n  } = useAuth(); // context\n\n  const history = useHistory();\n\n  function isMobile() {\n    if (windowsWidth > 1100) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  function handleResize(width) {\n    setWindowsWidth(width);\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", e => handleResize(window.innerWidth));\n  }, []);\n\n  async function handleSubscribeForm(e) {\n    e.preventDefault();\n    const valid = await isValid();\n\n    if (valid === true) {\n      const res = await subscribe(email, password, firstName, name, tel, gender, birthDate);\n\n      if (res === \"auth/email-already-in-use\") {\n        setError(\"Cet email est déjà utilisé\");\n      } else if (res === true) {\n        history.push('/confirmation');\n      }\n    }\n  }\n\n  async function isValid() {\n    // else if(birthDate !== 0) {setError(\"Veuillez renseigner votre nom\")} A faire avec la date de naissance\n    if (firstName.length > 1) {\n      if (name.length > 1) {\n        if (tel.toString().length === 0 || tel.toString().length === 10) {\n          if (password.length >= 8) {\n            if (password === passwordConfirm) {\n              if (email === emailConfirm) {\n                return true;\n              } else {\n                setError(\"La confirmation de l'email ne correspond pas\");\n                setFieldError(\"emailconfirm\");\n              }\n            } else {\n              setError(\"La confirmation du mot de passe ne correspond pas\");\n              setFieldError(\"passwordconfirm\");\n            }\n          } else {\n            setError(\"Votre mot de passe doit contenir au moins 8 caractères\");\n            setFieldError(\"password\");\n          }\n        } else {\n          setError(\"Veuillez renseigner un numéro de téléphone valide\");\n          setFieldError(\"tel\");\n        }\n      } else {\n        setError(\"Veuillez renseigner votre nom\");\n        setFieldError(\"nom\");\n      }\n    } else {\n      setError(\"Veuillez renseigner votre prénom\");\n      setFieldError(\"prenom\");\n    }\n  }\n\n  function handleOnChangeInputs(name, value) {\n    if (name === fieldError) {\n      setFieldError(\"\");\n    }\n\n    if (name === \"prenom\") {\n      setFirstName(value);\n    } else if (name === \"nom\") {\n      setName(value);\n    } else if (name === \"birthDate\") {\n      setBirthDate(value);\n      setIsCalendarOpened(false);\n    } else if (name === \"sexe\") {\n      setGender(value);\n    } else if (name === \"tel\") {\n      setTel(value);\n    } else if (name === \"email\") {\n      setEmail(value);\n    } else if (name === \"emailconfirm\") {\n      setEmailConfirm(value);\n    } else if (name === \"password\") {\n      setPassword(value);\n    } else if (name === \"passwordconfirm\") {\n      setPasswordConfirm(value);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: !isMobile() ? \"loginSubscribeContainer\" : \"loginSubscribeContainer mobile\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logoContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"\",\n          src: logo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"blocLoginTopRight\",\n      children: [!isMobile() && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"LoginBackLink\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Revenir \\xE0 l'accueil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Vous avez d\\xE9j\\xE0 un compte ?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/compte\",\n        children: \"Connectez-vous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: !isMobile() ? \"subscribePageContainer\" : \"subscribePageContainer mobile\",\n      children: [!isMobile() && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"marketingBlocForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"marketingItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Inscris-toi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"gratuitement en 1 minute pour cr\\xE9er ton \\xE9v\\xE8nement et d\\xE9couvrir les offres de partenaires autour de chez toi.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"marketingItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Imagine\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"ton \\xE9v\\xE8nement en choisissant ce dont tu as envie, en g\\xE9rant habilement ton budget\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"marketingItem\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Que la f\\xEAte commence !\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subscribeContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"googleSignInContainer\",\n          children: /*#__PURE__*/_jsxDEV(\"buttton\", {\n            className: \"googleSignInButton\",\n            onClick: () => signInWithGoogle(),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"googleSignInButtonImageContainer\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: '/images/google.png'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Inscrivez-vous avec Google\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"LoginDiviserContainer\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"LoginDiviser\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"ou\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"errorMessage\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formLine\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: fieldError === \"prenom\" ? \"formField error\" : \"formField\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Pr\\xE9nom\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: firstName,\n                type: \"text\",\n                name: \"prenom\",\n                onChange: e => handleOnChangeInputs(\"prenom\", e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: fieldError === \"nom\" ? \"formField error\" : \"formField\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Nom\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: name,\n                type: \"text\",\n                name: \"nom\",\n                onChange: e => handleOnChangeInputs(\"nom\", e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formLine\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: fieldError === \"birthDate\" ? \"formFieldSpecialDate error\" : \"formFieldSpecialDate\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Date de naissance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => setIsCalendarOpened(!isCalendarOpened),\n                className: \"etape1DatePicker subscribe\",\n                children: new Date(birthDate).toLocaleDateString(\"fr-FR\", {\n                  year: \"numeric\",\n                  month: \"long\",\n                  day: \"numeric\"\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 33\n              }, this), isCalendarOpened && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"calendarContainerAbsolute\",\n                children: /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n                  style: {\n                    position: \"relative!important\"\n                  },\n                  locale: frLocale,\n                  dateAdapter: AdapterDateFns,\n                  children: isMobile() ? /*#__PURE__*/_jsxDEV(MobileDatePicker, {\n                    label: \"Date de l'\\xE9v\\xE8nement\",\n                    open: isCalendarOpened,\n                    onClose: () => setIsCalendarOpened(false),\n                    value: birthDate,\n                    onChange: val => handleOnChangeInputs(\"birthDate\", val),\n                    renderInput: () => null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 49\n                  }, this) : /*#__PURE__*/_jsxDEV(DatePicker, {\n                    open: isCalendarOpened,\n                    onClose: () => setIsCalendarOpened(false),\n                    value: birthDate,\n                    onChange: val => handleOnChangeInputs(\"birthDate\", val),\n                    renderInput: () => null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: fieldError === \"sexe\" ? \"formField error\" : \"formField\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Sexe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: gender,\n                onChange: e => handleOnChangeInputs(\"sexe\", e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"h\",\n                  children: \"Homme\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"f\",\n                  children: \"Femme\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formLine\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: fieldError === \"tel\" ? \"formField error\" : \"formField\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Num\\xE9ro de t\\xE9l\\xE9phone (facultatif)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: tel,\n                type: \"tel\",\n                name: \"numero\",\n                onChange: e => handleOnChangeInputs(\"tel\", e.target.value),\n                pattern: \"[0-9]{2}-[0-9]{2}-[0-9]{2}-[0-9]{2}-[0-9]{2}\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formLine\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: fieldError === \"email\" ? \"formField error\" : \"formField\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: email,\n                type: \"email\",\n                name: \"email\",\n                onChange: e => handleOnChangeInputs(\"email\", e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: fieldError === \"password\" ? \"formField error\" : \"formField\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Mot de passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: password,\n                type: \"password\",\n                name: \"password\",\n                onChange: e => handleOnChangeInputs(\"password\", e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formLine\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: fieldError === \"emailconfirm\" ? \"formField error\" : \"formField\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Confirmation d'email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: emailConfirm,\n                type: \"email\",\n                name: \"emailconfirm\",\n                onChange: e => handleOnChangeInputs(\"emailconfirm\", e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: fieldError === \"passwordconfirm\" ? \"formField error\" : \"formField\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Confirmation mot de passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: passwordConfirm,\n                type: \"password\",\n                name: \"passwordconfirm\",\n                onChange: e => handleOnChangeInputs(\"passwordconfirm\", e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bottomSubscribeContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formField conditionsGenerales\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"En cr\\xE9ant un compte chez Nivid, vous acceptez les \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"CGU\",\n            children: \"conditions g\\xE9n\\xE9rales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 74\n          }, this), \" du site.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formField\",\n        children: /*#__PURE__*/_jsxDEV(ButtonLarge, {\n          onClick: e => handleSubscribeForm(e),\n          color: \"orange\",\n          value: \"S'inscrire\",\n          backgroundColor: \"rgba(245, 192, 67)\",\n          marginTop: \"10px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Subscribe, \"mo7lQVLf38jAyhl6/WocXpLeEUY=\", false, function () {\n  return [useAuth, useHistory];\n});\n\n_c = Subscribe;\nexport default Subscribe;\n\nvar _c;\n\n$RefreshReg$(_c, \"Subscribe\");","map":{"version":3,"sources":["F:/My Project/Copie de Nivid/Copie de Nivid (1)/src/pages/Subscribe.js"],"names":["React","useState","useEffect","Link","useHistory","logo","useAuth","AdapterDateFns","LocalizationProvider","DatePicker","frLocale","MobileDatePicker","ButtonLarge","Subscribe","firstName","setFirstName","name","setName","email","setEmail","emailConfirm","setEmailConfirm","tel","setTel","birthDate","setBirthDate","Date","gender","setGender","password","setPassword","passwordConfirm","setPasswordConfirm","error","setError","fieldError","setFieldError","windowsWidth","setWindowsWidth","window","innerWidth","isCalendarOpened","setIsCalendarOpened","subscribe","signInWithGoogle","history","isMobile","handleResize","width","addEventListener","e","handleSubscribeForm","preventDefault","valid","isValid","res","push","length","toString","handleOnChangeInputs","value","target","toLocaleDateString","year","month","day","position","val"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Login.css\"\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport logo from \"../images/Logo Nivid - Noir.png\"\r\nimport { useAuth } from \"../context/userContext\"; // context\r\n\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport frLocale from 'date-fns/locale/fr';\r\nimport MobileDatePicker from '@mui/lab/MobileDatePicker';\r\n\r\nimport { ButtonLarge } from '../components/utilities/Buttons'\r\n\r\nconst Subscribe = () => {\r\n\r\n    const [firstName, setFirstName] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [emailConfirm, setEmailConfirm] = useState(\"\");\r\n    const [tel, setTel] = useState(\"\");\r\n    const [birthDate, setBirthDate] = useState(new Date('January 1, 1989'));\r\n    const [gender, setGender] = useState(\"h\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [passwordConfirm, setPasswordConfirm] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [fieldError, setFieldError] = useState(\"\");\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [isCalendarOpened, setIsCalendarOpened] = useState(false);\r\n\r\n\r\n    const { subscribe, signInWithGoogle } = useAuth() // context\r\n    const history = useHistory()\r\n\r\n\r\n    function isMobile() {\r\n        if (windowsWidth > 1100) {\r\n            return false\r\n        }\r\n        else {\r\n            return true\r\n        }\r\n    }\r\n\r\n    function handleResize(width) {\r\n        setWindowsWidth(width)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n    }, [])\r\n\r\n    async function handleSubscribeForm(e) {\r\n        e.preventDefault()\r\n        const valid = await isValid()\r\n        if (valid === true) {\r\n            const res = await subscribe(email, password, firstName, name, tel, gender, birthDate)\r\n            if (res === \"auth/email-already-in-use\") {\r\n                setError(\"Cet email est déjà utilisé\")\r\n            }\r\n            else if (res === true) {\r\n                history.push('/confirmation')\r\n            }\r\n        }\r\n    }\r\n\r\n    async function isValid() {\r\n        // else if(birthDate !== 0) {setError(\"Veuillez renseigner votre nom\")} A faire avec la date de naissance\r\n        if (firstName.length > 1) {\r\n            if (name.length > 1) {\r\n                if (tel.toString().length === 0 || (tel.toString().length === 10)) {\r\n                    if (password.length >= 8) {\r\n                        if (password === passwordConfirm) {\r\n                            if (email === emailConfirm) {\r\n                                return true\r\n                            }\r\n                            else {\r\n                                setError(\"La confirmation de l'email ne correspond pas\")\r\n                                setFieldError(\"emailconfirm\")\r\n                            }\r\n                        }\r\n                        else {\r\n                            setError(\"La confirmation du mot de passe ne correspond pas\")\r\n                            setFieldError(\"passwordconfirm\")\r\n                        }\r\n                    }\r\n                    else {\r\n                        setError(\"Votre mot de passe doit contenir au moins 8 caractères\")\r\n                        setFieldError(\"password\")\r\n                    }\r\n                }\r\n                else {\r\n                    setError(\"Veuillez renseigner un numéro de téléphone valide\")\r\n                    setFieldError(\"tel\")\r\n                }\r\n            }\r\n            else {\r\n                setError(\"Veuillez renseigner votre nom\")\r\n                setFieldError(\"nom\")\r\n            }\r\n        }\r\n        else {\r\n            setError(\"Veuillez renseigner votre prénom\")\r\n            setFieldError(\"prenom\")\r\n        }\r\n    }\r\n\r\n    function handleOnChangeInputs(name, value) {\r\n        if (name === fieldError) {\r\n            setFieldError(\"\")\r\n        }\r\n        if (name === \"prenom\") { setFirstName(value) }\r\n        else if (name === \"nom\") { setName(value) }\r\n        else if (name === \"birthDate\") { setBirthDate(value); setIsCalendarOpened(false) }\r\n        else if (name === \"sexe\") { setGender(value) }\r\n        else if (name === \"tel\") { setTel(value) }\r\n        else if (name === \"email\") { setEmail(value) }\r\n        else if (name === \"emailconfirm\") { setEmailConfirm(value) }\r\n        else if (name === \"password\") { setPassword(value) }\r\n        else if (name === \"passwordconfirm\") { setPasswordConfirm(value) }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={!isMobile() ? \"loginSubscribeContainer\" : \"loginSubscribeContainer mobile\"}>\r\n            <header>\r\n                <div className=\"logoContainer\">\r\n                    <img alt=\"\" src={logo} />\r\n                </div>\r\n            </header>\r\n            <div className=\"blocLoginTopRight\">\r\n                {!isMobile() &&\r\n                    <div className=\"LoginBackLink\">\r\n                        <Link to=\"/\">Revenir à l'accueil</Link>\r\n                    </div>\r\n                }\r\n                <p>Vous avez déjà un compte ?</p>\r\n                <Link to=\"/compte\">Connectez-vous</Link>\r\n            </div>\r\n            <div className={!isMobile() ? \"subscribePageContainer\" : \"subscribePageContainer mobile\"}>\r\n                {!isMobile() &&\r\n                    <div className=\"marketingBlocForm\">\r\n                        <div className=\"marketingItem\">\r\n                            <h2>Inscris-toi</h2>\r\n                            <p>gratuitement en 1 minute pour créer ton évènement et découvrir les offres de partenaires autour de chez toi.</p>\r\n                        </div>\r\n                        <div className=\"marketingItem\">\r\n                            <h3>Imagine</h3>\r\n                            <p>ton évènement en choisissant ce dont tu as envie, en gérant habilement ton budget</p>\r\n                        </div>\r\n                        <div className=\"marketingItem\">\r\n                            <h3>Que la fête commence !</h3>\r\n                            {/* <p>En vous inscrivant, vous accéderez à des tarifs spécialement négociés pour vous, et que vous ne trouverez nulle part ailleurs.</p> */}\r\n                        </div>\r\n                    </div>\r\n                }\r\n                <div className=\"subscribeContainer\">\r\n                    <div className=\"googleSignInContainer\">\r\n                        <buttton className=\"googleSignInButton\" onClick={() => signInWithGoogle()}>\r\n                            <div className=\"googleSignInButtonImageContainer\">\r\n                                <img alt=\"\" src={'/images/google.png'} />\r\n                            </div>\r\n                            <span>Inscrivez-vous avec Google</span>\r\n                        </buttton>\r\n                    </div>\r\n                    <div className=\"LoginDiviserContainer\">\r\n                        <div className=\"LoginDiviser\">\r\n                            <p>ou</p>\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"errorMessage\">{error}</p>\r\n                    <form>\r\n                        <div className=\"formLine\">\r\n                            <div className={fieldError === \"prenom\" ? \"formField error\" : \"formField\"}>\r\n                                <label>Prénom</label>\r\n                                <input value={firstName} type=\"text\" name=\"prenom\" onChange={(e) => handleOnChangeInputs(\"prenom\", e.target.value)} />\r\n                            </div>\r\n                            <div className={fieldError === \"nom\" ? \"formField error\" : \"formField\"}>\r\n                                <label>Nom</label>\r\n                                <input value={name} type=\"text\" name=\"nom\" onChange={(e) => handleOnChangeInputs(\"nom\", e.target.value)} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"formLine\">\r\n                            <div className={fieldError === \"birthDate\" ? \"formFieldSpecialDate error\" : \"formFieldSpecialDate\"}>\r\n                                <label>Date de naissance</label>\r\n                                <div\r\n                                    onClick={() => setIsCalendarOpened(!isCalendarOpened)}\r\n                                    className=\"etape1DatePicker subscribe\"\r\n                                >\r\n                                    {new Date(birthDate).toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"long\", day: \"numeric\" })}\r\n                                </div>\r\n                                {isCalendarOpened &&\r\n                                    <div className=\"calendarContainerAbsolute\">\r\n                                        <LocalizationProvider style={{ position: \"relative!important\" }} locale={frLocale} dateAdapter={AdapterDateFns}>\r\n                                            {isMobile() ?\r\n                                                <MobileDatePicker\r\n                                                    label=\"Date de l'évènement\"\r\n                                                    open={isCalendarOpened}\r\n                                                    onClose={() => setIsCalendarOpened(false)}\r\n                                                    value={birthDate}\r\n                                                    onChange={(val) => handleOnChangeInputs(\"birthDate\", val)}\r\n                                                    renderInput={() => null}\r\n                                                />\r\n                                                :\r\n                                                <DatePicker\r\n                                                    open={isCalendarOpened}\r\n                                                    onClose={() => setIsCalendarOpened(false)}\r\n                                                    value={birthDate}\r\n                                                    onChange={(val) => handleOnChangeInputs(\"birthDate\", val)}\r\n                                                    renderInput={() => null}\r\n                                                />\r\n                                            }\r\n                                        </LocalizationProvider>\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                            <div className={fieldError === \"sexe\" ? \"formField error\" : \"formField\"}>\r\n                                <label>Sexe</label>\r\n                                <select value={gender} onChange={(e) => handleOnChangeInputs(\"sexe\", e.target.value)}>\r\n                                    <option value=\"h\">Homme</option>\r\n                                    <option value=\"f\">Femme</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"formLine\">\r\n                            <div className={fieldError === \"tel\" ? \"formField error\" : \"formField\"}>\r\n                                <label>Numéro de téléphone (facultatif)</label>\r\n                                <input value={tel} type=\"tel\" name=\"numero\" onChange={(e) => handleOnChangeInputs(\"tel\", e.target.value)} pattern=\"[0-9]{2}-[0-9]{2}-[0-9]{2}-[0-9]{2}-[0-9]{2}\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"formLine\">\r\n                            <div className={fieldError === \"email\" ? \"formField error\" : \"formField\"}>\r\n                                <label>Email</label>\r\n                                <input value={email} type=\"email\" name=\"email\" onChange={(e) => handleOnChangeInputs(\"email\", e.target.value)} />\r\n                            </div>\r\n                            <div className={fieldError === \"password\" ? \"formField error\" : \"formField\"}>\r\n                                <label>Mot de passe</label>\r\n                                <input value={password} type=\"password\" name=\"password\" onChange={(e) => handleOnChangeInputs(\"password\", e.target.value)} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"formLine\">\r\n                            <div className={fieldError === \"emailconfirm\" ? \"formField error\" : \"formField\"}>\r\n                                <label>Confirmation d'email</label>\r\n                                <input value={emailConfirm} type=\"email\" name=\"emailconfirm\" onChange={(e) => handleOnChangeInputs(\"emailconfirm\", e.target.value)} />\r\n                            </div>\r\n                            <div className={fieldError === \"passwordconfirm\" ? \"formField error\" : \"formField\"}>\r\n                                <label>Confirmation mot de passe</label>\r\n                                <input value={passwordConfirm} type=\"password\" name=\"passwordconfirm\" onChange={(e) => handleOnChangeInputs(\"passwordconfirm\", e.target.value)} />\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"bottomSubscribeContainer\">\r\n                <div className=\"formField conditionsGenerales\">\r\n                    <p>En créant un compte chez Nivid, vous acceptez les <a href=\"CGU\">conditions générales</a> du site.</p>\r\n                </div>\r\n                <div className=\"formField\">\r\n                    <ButtonLarge\r\n                        onClick={(e) => handleSubscribeForm(e)}\r\n                        color=\"orange\"\r\n                        value=\"S'inscrire\"\r\n                        backgroundColor=\"rgba(245, 192, 67)\"\r\n                        marginTop=\"10px\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Subscribe;\r\n"]},"metadata":{},"sourceType":"module"}