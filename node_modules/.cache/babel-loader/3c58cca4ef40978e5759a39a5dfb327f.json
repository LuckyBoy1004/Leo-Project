{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Home/Desktop/Boulot/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Home/Desktop/Boulot/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Home/Desktop/Boulot/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import logo from\"../images/Logo Nivid - Noir.png\";import{useHistory}from'react-router-dom';import{useAuth}from\"../context/userContext\";// context\nvar Footer=function Footer(){var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAdded=_useState4[0],setIsAdded=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errorNewsletter=_useState6[0],setErrorNewsletter=_useState6[1];var _useState7=useState(window.innerWidth),_useState8=_slicedToArray(_useState7,2),windowsWidth=_useState8[0],setWindowsWidth=_useState8[1];var _useAuth=useAuth(),sendInBlue_addContactToNewsletter=_useAuth.sendInBlue_addContactToNewsletter;// context\nuseEffect(function(){window.addEventListener(\"resize\",function(e){return handleResize(window.innerWidth);});});var isMobile=function isMobile(){return windowsWidth>1160?false:true;};var handleResize=function handleResize(width){return setWindowsWidth(width);};function handleNewsletterSubscribe(){return _handleNewsletterSubscribe.apply(this,arguments);}function _handleNewsletterSubscribe(){_handleNewsletterSubscribe=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var isEmailValid,req;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return handleAddNewEmail(email);case 2:isEmailValid=_context.sent;if(!(isEmailValid===true)){_context.next=8;break;}_context.next=6;return sendInBlue_addContactToNewsletter(email);case 6:req=_context.sent;if(req===true){setEmail(\"\");setIsAdded(true);}else setErrorNewsletter(\"Vous êtes déjà inscrit\");case 8:case\"end\":return _context.stop();}}},_callee);}));return _handleNewsletterSubscribe.apply(this,arguments);}function handleAddNewEmail(_x){return _handleAddNewEmail.apply(this,arguments);}function _handleAddNewEmail(){_handleAddNewEmail=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(email){var containAt,containDot;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:containAt=email.indexOf(\"@\");if(!(containAt<1)){_context2.next=3;break;}return _context2.abrupt(\"return\",false);case 3:containDot=email.indexOf(\".\");if(!(containDot<=containAt+2)){_context2.next=6;break;}return _context2.abrupt(\"return\",false);case 6:if(!(containDot===email.length-1)){_context2.next=8;break;}return _context2.abrupt(\"return\",false);case 8:return _context2.abrupt(\"return\",true);case 9:case\"end\":return _context2.stop();}}},_callee2);}));return _handleAddNewEmail.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"footer \".concat(isMobile()&&\"mobile\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"column logo\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:logo})}),/*#__PURE__*/_jsxs(\"div\",{className:\"column nivid\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"A propos\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return history.push('/qui-sommes-nous');},children:\"Qui sommes-nous ?\"}),/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return history.push('/faq');},children:\"Blog\"}),/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return history.push('/faq');},children:\"FAQ\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"column aide\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Besoin d'aide ?\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return history.push('/demande-de-rappel');},children:\"Devenir partenaire\"}),/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return history.push('/acces-prestataire');},children:\"Connexion partenaire\"}),/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return history.push('/contact');},children:\"Aide & assistance\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"column legal\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"La loi c'est la loi\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return history.push('/cgv');},children:\"CGV\"}),/*#__PURE__*/_jsx(\"li\",{children:\"CGU\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Politique de confidentialit\\xE9\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Mentions l\\xE9gales\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"column newsletter\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Restons en contact!\"}),!isAdded?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"0% de spam, 100% de bon plan\"}),/*#__PURE__*/_jsx(\"span\",{children:\"1 fois par semaine\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputContainerNewsletter\",children:[/*#__PURE__*/_jsx(\"input\",{value:email,onChange:function onChange(e){return setEmail(e.target.value);},placeholder:\"Votre e-mail\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return handleNewsletterSubscribe();},className:\"arrowRightContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"arrowRight\"})}),errorNewsletter!==\"\"&&/*#__PURE__*/_jsx(\"span\",{children:errorNewsletter})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Merci pour votre inscription\"})]})]});};export default Footer;","map":{"version":3,"sources":["C:/Users/Home/Desktop/Boulot/Nivid/src/components/Footer.js"],"names":["React","useEffect","useState","logo","useHistory","useAuth","Footer","history","email","setEmail","isAdded","setIsAdded","errorNewsletter","setErrorNewsletter","window","innerWidth","windowsWidth","setWindowsWidth","sendInBlue_addContactToNewsletter","addEventListener","e","handleResize","isMobile","width","handleNewsletterSubscribe","handleAddNewEmail","isEmailValid","req","containAt","indexOf","containDot","length","push","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport logo from \"../images/Logo Nivid - Noir.png\"\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useAuth } from \"../context/userContext\"; // context\r\n\r\nconst Footer = () => {\r\n\r\n    const history = useHistory()\r\n    const [email, setEmail] = useState(\"\")\r\n    const [isAdded, setIsAdded] = useState(false)\r\n    const [errorNewsletter, setErrorNewsletter] = useState(\"\")\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n\r\n    const { sendInBlue_addContactToNewsletter } = useAuth() // context\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n    })\r\n    \r\n    const isMobile = () => (windowsWidth > 1160) ? false : true\r\n    const handleResize = (width) => setWindowsWidth(width)\r\n\r\n    async function handleNewsletterSubscribe() {\r\n        const isEmailValid = await handleAddNewEmail(email)\r\n        if (isEmailValid === true) {\r\n            const req = await sendInBlue_addContactToNewsletter(email)\r\n            if (req === true) {\r\n                setEmail(\"\")\r\n                setIsAdded(true)\r\n            }\r\n            else setErrorNewsletter(\"Vous êtes déjà inscrit\")\r\n        }\r\n    }\r\n\r\n    async function handleAddNewEmail(email) {\r\n        let containAt = email.indexOf(\"@\")\r\n        if (containAt < 1) return false;\r\n\r\n        let containDot = email.indexOf(\".\")\r\n        if (containDot <= containAt + 2) return false;\r\n\r\n\r\n        if (containDot === email.length - 1) return false;\r\n\r\n        return true\r\n    }\r\n\r\n    return (\r\n        <div className={`footer ${isMobile() && \"mobile\"}`}>\r\n            <div className=\"column logo\">\r\n                <img alt=\"\" src={logo} />\r\n            </div>\r\n            <div className=\"column nivid\">\r\n                <h2>A propos</h2>\r\n                <ul>\r\n                    <li onClick={() => history.push('/qui-sommes-nous')}>Qui sommes-nous ?</li>\r\n                    <li onClick={() => history.push('/faq')}>Blog</li>\r\n                    <li onClick={() => history.push('/faq')}>FAQ</li>\r\n                </ul>\r\n            </div>\r\n            <div className=\"column aide\">\r\n                <h2>Besoin d'aide ?</h2>\r\n                <ul>\r\n                    <li onClick={() => history.push('/demande-de-rappel')}>Devenir partenaire</li>\r\n                    <li onClick={() => history.push('/acces-prestataire')}>Connexion partenaire</li>\r\n                    <li onClick={() => history.push('/contact')}>Aide & assistance</li>\r\n                </ul>\r\n            </div>\r\n            <div className=\"column legal\">\r\n                <h2>La loi c'est la loi</h2>\r\n                <ul>\r\n                    <li onClick={() => history.push('/cgv')}>CGV</li>\r\n                    <li>CGU</li>\r\n                    <li>Politique de confidentialité</li>\r\n                    <li>Mentions légales</li>\r\n                </ul>\r\n            </div>\r\n            <div className=\"column newsletter\">\r\n                <h2>Restons en contact!</h2>\r\n                {!isAdded ?\r\n                    <>\r\n                        <p>0% de spam, 100% de bon plan</p>\r\n                        <span>1 fois par semaine</span>\r\n                        <div className=\"inputContainerNewsletter\">\r\n                            <input value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Votre e-mail\" />\r\n                            <div onClick={() => handleNewsletterSubscribe()} className=\"arrowRightContainer\">\r\n                                <div className=\"arrowRight\"></div>\r\n                            </div>\r\n                            {\r\n                                errorNewsletter !== \"\" && <span>{errorNewsletter}</span>\r\n                            }\r\n                        </div>\r\n                    </>\r\n                    :\r\n                    <p>Merci pour votre inscription</p>\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer"]},"metadata":{},"sourceType":"module"}