{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/bc/Desktop/Nivid 2/src/components/WishList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useAuth } from '../context/userContext';\nimport { useHistory } from \"react-router-dom\";\nimport ReactLoading from 'react-loading';\nimport { ButtonSmall } from './utilities/Buttons';\nimport Image from './utilities/Image';\n\nconst WishList = ({\n  eventStatus,\n  isMobile\n}) => {\n  _s();\n\n  const {\n    user,\n    getWishList,\n    getSellersInDbWithUids,\n    deleteItemFromWishList\n  } = useAuth();\n  const [loading, setLoading] = useState(true);\n  const [wishList, setWishList] = useState([]);\n  const history = useHistory();\n  useEffect(() => {\n    getWishList(user.uid).then(sellersIds => {\n      sellersIds.length > 0 ? getSellersInDbWithUids(sellersIds).then(sellersData => {\n        setWishList(sellersData);\n        setLoading(false);\n      }) : setLoading(false);\n    });\n  }, []);\n\n  async function deleteItem(sellerID) {\n    await deleteItemFromWishList(sellerID);\n    const newWishList = wishList.filter(item => item.uid !== sellerID);\n    setWishList(newWishList);\n    return;\n  }\n\n  function handleSellerClicked(sellerID) {\n    if (eventStatus === \"creating\") {\n      history.push(`/creer-mon-evenement/etape-2/prestataires/${sellerID}`);\n    }\n  }\n\n  return loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: isMobile ? \"dashboardWishlist mobile\" : \"dashboardWishlist\",\n    children: /*#__PURE__*/_jsxDEV(ReactLoading, {\n      className: isMobile ? \"loadingSpinner mobile\" : \"loadingSpinner\",\n      type: \"spin\",\n      color: \"rgba(245, 192, 67)\",\n      height: 50,\n      width: 50\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: isMobile ? \"dashboardWishlist mobile\" : \"dashboardWishlist\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leftSide\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Vos prestataires favoris\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wishlist_content\",\n        children: [wishList.map((item, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wishlist__item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"heartContainer\",\n            children: /*#__PURE__*/_jsxDEV(Image, {\n              url: \"/images/heart.svg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => handleSellerClicked(item.uid),\n            className: `wishlist__item_top ${eventStatus === \"creating\" && \"clickable\"}`,\n            style: {\n              backgroundImage: `url(${item.image_path.url})`,\n              backgroundSize: \"cover\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"wishlist__item_details\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: item.companyName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"+ en savoir plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wishlist__item_bottom\",\n            children: /*#__PURE__*/_jsxDEV(ButtonSmall, {\n              onClick: () => deleteItem(item.uid),\n              color: \"red\",\n              value: \"Retirer de ma liste\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 33\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 29\n        }, this)), wishList.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"noContent\",\n          children: \"Pas de prestataires dans vos favoris\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 51\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 13\n  }, this);\n};\n\n_s(WishList, \"WSWAHp6a95Lx2tUoByH5eBmFa84=\", false, function () {\n  return [useAuth, useHistory];\n});\n\n_c = WishList;\nexport default WishList;\n\nvar _c;\n\n$RefreshReg$(_c, \"WishList\");","map":{"version":3,"sources":["/Users/bc/Desktop/Nivid 2/src/components/WishList.js"],"names":["React","useState","useEffect","useAuth","useHistory","ReactLoading","ButtonSmall","Image","WishList","eventStatus","isMobile","user","getWishList","getSellersInDbWithUids","deleteItemFromWishList","loading","setLoading","wishList","setWishList","history","uid","then","sellersIds","length","sellersData","deleteItem","sellerID","newWishList","filter","item","handleSellerClicked","push","map","key","backgroundImage","image_path","url","backgroundSize","companyName"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,wBAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,YAAP,MAAyB,eAAzB;AAEA,SAASC,WAAT,QAA4B,qBAA5B;AACA,OAAOC,KAAP,MAAkB,mBAAlB;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA,WAAF;AAAeC,EAAAA;AAAf,CAAD,KAA+B;AAAA;;AAE5C,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,WAAR;AAAqBC,IAAAA,sBAArB;AAA6CC,IAAAA;AAA7C,MAAwEX,OAAO,EAArF;AAEA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACgB,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,EAAD,CAAxC;AAEA,QAAMkB,OAAO,GAAGf,UAAU,EAA1B;AAGAF,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,WAAW,CAACD,IAAI,CAACS,GAAN,CAAX,CACKC,IADL,CACUC,UAAU,IAAI;AAChBA,MAAAA,UAAU,CAACC,MAAX,GAAoB,CAApB,GACIV,sBAAsB,CAACS,UAAD,CAAtB,CACKD,IADL,CACUG,WAAW,IAAI;AACjBN,QAAAA,WAAW,CAACM,WAAD,CAAX;AACAR,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH,OAJL,CADJ,GAOIA,UAAU,CAAC,KAAD,CAPd;AASH,KAXL;AAYH,GAbQ,EAaN,EAbM,CAAT;;AAeA,iBAAeS,UAAf,CAA0BC,QAA1B,EAAoC;AAChC,UAAMZ,sBAAsB,CAACY,QAAD,CAA5B;AACA,UAAMC,WAAW,GAAGV,QAAQ,CAACW,MAAT,CAAgBC,IAAI,IAAIA,IAAI,CAACT,GAAL,KAAaM,QAArC,CAApB;AACAR,IAAAA,WAAW,CAACS,WAAD,CAAX;AACA;AACH;;AAED,WAASG,mBAAT,CAA6BJ,QAA7B,EAAuC;AACnC,QAAIjB,WAAW,KAAK,UAApB,EAAgC;AAC5BU,MAAAA,OAAO,CAACY,IAAR,CAAc,6CAA4CL,QAAS,EAAnE;AACH;AACJ;;AAED,SAAOX,OAAO,gBACV;AAAK,IAAA,SAAS,EAAEL,QAAQ,GAAG,0BAAH,GAAgC,mBAAxD;AAAA,2BACI,QAAC,YAAD;AAAc,MAAA,SAAS,EAAEA,QAAQ,GAAG,uBAAH,GAA6B,gBAA9D;AAAgF,MAAA,IAAI,EAAC,MAArF;AAA4F,MAAA,KAAK,EAAC,oBAAlG;AAAuH,MAAA,MAAM,EAAE,EAA/H;AAAmI,MAAA,KAAK,EAAE;AAA1I;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADU,gBAKN;AAAK,IAAA,SAAS,EAAEA,QAAQ,GAAG,0BAAH,GAAgC,mBAAxD;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,mBACKO,QAAQ,CAACe,GAAT,CAAa,CAACH,IAAD,EAAOI,GAAP,kBACV;AAAe,UAAA,SAAS,EAAC,gBAAzB;AAAA,kCACI;AAAM,YAAA,SAAS,EAAC,gBAAhB;AAAA,mCACI,QAAC,KAAD;AAAO,cAAA,GAAG,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII;AACI,YAAA,OAAO,EAAE,MAAMH,mBAAmB,CAACD,IAAI,CAACT,GAAN,CADtC;AAEI,YAAA,SAAS,EAAG,sBAAqBX,WAAW,KAAK,UAAhB,IAA8B,WAAY,EAF/E;AAGI,YAAA,KAAK,EAAE;AAACyB,cAAAA,eAAe,EAAE,OAAML,IAAI,CAACM,UAAL,CAAgBC,GAAI,GAA5C;AAAgDC,cAAAA,cAAc,EAAC;AAA/D,aAHX;AAAA,mCAKI;AAAK,cAAA,SAAS,EAAC,wBAAf;AAAA,sCACI;AAAA,0BAAIR,IAAI,CAACS;AAAT;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAcI;AAAK,YAAA,SAAS,EAAC,uBAAf;AAAA,mCACI,QAAC,WAAD;AAAa,cAAA,OAAO,EAAE,MAAMb,UAAU,CAACI,IAAI,CAACT,GAAN,CAAtC;AAAkD,cAAA,KAAK,EAAC,KAAxD;AAA8D,cAAA,KAAK,EAAC;AAApE;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAdJ;AAAA,WAAUa,GAAV;AAAA;AAAA;AAAA;AAAA,gBADH,CADL,EAqBKhB,QAAQ,CAACM,MAAT,KAAoB,CAApB,iBAAyB;AAAG,UAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBArB9B;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UALR;AAkCH,CAxED;;GAAMf,Q;UAE4EL,O,EAK9DC,U;;;KAPdI,Q;AA0EN,eAAeA,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from '../context/userContext'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ReactLoading from 'react-loading';\r\n\r\nimport { ButtonSmall } from './utilities/Buttons'\r\nimport Image from './utilities/Image'\r\n\r\nconst WishList = ({ eventStatus, isMobile }) => {\r\n\r\n    const { user, getWishList, getSellersInDbWithUids, deleteItemFromWishList } = useAuth()\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [wishList, setWishList] = useState([])\r\n\r\n    const history = useHistory()\r\n\r\n\r\n    useEffect(() => {\r\n        getWishList(user.uid)\r\n            .then(sellersIds => {\r\n                sellersIds.length > 0 ?\r\n                    getSellersInDbWithUids(sellersIds)\r\n                        .then(sellersData => {\r\n                            setWishList(sellersData)\r\n                            setLoading(false)\r\n                        })\r\n                    :\r\n                    setLoading(false)\r\n\r\n            })\r\n    }, [])\r\n\r\n    async function deleteItem(sellerID) {\r\n        await deleteItemFromWishList(sellerID)\r\n        const newWishList = wishList.filter(item => item.uid !== sellerID)\r\n        setWishList(newWishList)\r\n        return\r\n    }\r\n\r\n    function handleSellerClicked(sellerID) {\r\n        if (eventStatus === \"creating\") {\r\n            history.push(`/creer-mon-evenement/etape-2/prestataires/${sellerID}`)\r\n        }\r\n    }\r\n\r\n    return loading ?\r\n        <div className={isMobile ? \"dashboardWishlist mobile\" : \"dashboardWishlist\"}>\r\n            <ReactLoading className={isMobile ? \"loadingSpinner mobile\" : \"loadingSpinner\"} type=\"spin\" color=\"rgba(245, 192, 67)\" height={50} width={50} />\r\n        </div>\r\n        : (\r\n            <div className={isMobile ? \"dashboardWishlist mobile\" : \"dashboardWishlist\"}>\r\n                <div className=\"leftSide\">\r\n                    <h1>Vos prestataires favoris</h1>\r\n                    <div className=\"wishlist_content\">\r\n                        {wishList.map((item, key) =>\r\n                            <div key={key} className=\"wishlist__item\">\r\n                                <span className=\"heartContainer\">\r\n                                    <Image url=\"/images/heart.svg\" />\r\n                                </span>\r\n                                <div\r\n                                    onClick={() => handleSellerClicked(item.uid)}\r\n                                    className={`wishlist__item_top ${eventStatus === \"creating\" && \"clickable\"}`}\r\n                                    style={{backgroundImage:`url(${item.image_path.url})`, backgroundSize:\"cover\"}}\r\n                                >\r\n                                    <div className=\"wishlist__item_details\">\r\n                                        <p>{item.companyName}</p>\r\n                                        <p>+ en savoir plus</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"wishlist__item_bottom\">\r\n                                    <ButtonSmall onClick={() => deleteItem(item.uid)} color=\"red\" value=\"Retirer de ma liste\" />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        {wishList.length === 0 && <p className=\"noContent\">Pas de prestataires dans vos favoris</p>}\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        )\r\n}\r\n\r\nexport default WishList"]},"metadata":{},"sourceType":"module"}