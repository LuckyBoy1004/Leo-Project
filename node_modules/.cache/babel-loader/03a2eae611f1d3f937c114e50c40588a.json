{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bonnieclyde/Desktop/Copie de Nivid (1)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bonnieclyde/Desktop/Copie de Nivid (1)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/bonnieclyde/Desktop/Copie de Nivid (1)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/bonnieclyde/Desktop/Copie de Nivid (1)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/bonnieclyde/Desktop/Copie de Nivid (1)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import\"../styles/Prest_.css\";import{useHistory}from'react-router-dom';import{useAuth}from\"../context/userContext\";// context\nimport DeleteIcon from'@mui/icons-material/DeleteOutline';import IconButton from'@mui/material/IconButton';import AddIcon from'@mui/icons-material/Add';import{useDetectClickOutside}from'react-detect-click-outside';import{ButtonSmall,ButtonLarge}from'../components/utilities/Buttons';import Layout from'../components/utilities/Layout';import Title from'../components/utilities/Title';import SubTitle from'../components/utilities/SubTitle';import NumericInput from'react-numeric-input';import{useFirebase}from\"../assets/base-context\";import ReactLoading from'react-loading';import{FaTrashAlt}from'react-icons/fa';import{CSSTransition}from'react-transition-group';import Image from'../components/utilities/Image';import Radio from'@mui/material/Radio';import RadioGroup from'@mui/material/RadioGroup';import FormControlLabel from'@mui/material/FormControlLabel';var BoxConfirm=function BoxConfirm(_ref){var type=_ref.type,position=_ref.position,callback=_ref.callback,callbackClose=_ref.callbackClose;var refConfirmBox=useDetectClickOutside({onTriggered:callbackClose});return/*#__PURE__*/_jsxs(\"div\",{ref:refConfirmBox,className:\"confirmBox \".concat(position),children:[/*#__PURE__*/_jsxs(\"span\",{children:[type===\"delete\"&&\"Confirmation de suprresion d'une variation\",type===\"save\"&&\"Confirmation de sauvegarde\"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[type===\"delete\"&&\"Êtes-vous sûr de vouloir supprimer cette variation ?\",type===\"save\"&&\"Vous n'avez rien oublié ?\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[type===\"delete\"&&\"Cette action est irréversible\",type===\"save\"&&\"Si jamais... Vous pouvez toujours modifier ce service directement depuis votre dashboard\"]}),/*#__PURE__*/_jsx(ButtonSmall,{onClick:callback,color:type===\"delete\"?\"red\":\"green\",value:\"Je confirme\",marginTop:\"20px\"})]});};var Prest_Step2=function Prest_Step2(){var firebaseContext=useFirebase();var storage=firebaseContext.storage();var _useState=useState({type:\"\",message:\"\"}),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),buttonLoading=_useState4[0],setButtonLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),services=_useState6[0],setServices=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),pictureTokensToDelete=_useState8[0],setPictureTokensToDelete=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isFormOpened=_useState10[0],setIsFormOpened=_useState10[1];var _useAuth=useAuth(),seller=_useAuth.seller,setCurrentStepProcess=_useAuth.setCurrentStepProcess,addSellerServices=_useAuth.addSellerServices,getServicesOfCurrentSellerFromDB=_useAuth.getServicesOfCurrentSellerFromDB,deleteOldSellerPicture=_useAuth.deleteOldSellerPicture,addFoodTypeToSeller=_useAuth.addFoodTypeToSeller;// context\nvar history=useHistory();seller.status!==\"subscribing\"&&history.push('/mon-compte-partenaire');var initialNewService={category:seller.category,name:\"\",images:[],description:\"\",price:0,variations:[],foodType:\"Aucun\",id:null};var _useState11=useState(initialNewService),_useState12=_slicedToArray(_useState11,2),newService=_useState12[0],setNewService=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isMounted=_useState14[0],setIsMounted=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isPopupConfirmDeleteOpened=_useState16[0],setIsPopupConfirmDeleteOpened=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isPopupConfirmSaveOpened=_useState18[0],setIsPopupConfirmSaveOpened=_useState18[1];var _useState19=useState(-1),_useState20=_slicedToArray(_useState19,2),currentDeletingVariation=_useState20[0],setCurrentDeletingVariation=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),isServiceAddedCorrectly=_useState22[0],setIsServiceAddedCorrectly=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),isVariations=_useState24[0],setIsVariations=_useState24[1];setCurrentStepProcess(2);useEffect(function(){function getCurrentServicesFromDB(){getServicesOfCurrentSellerFromDB().then(function(data){setServices(data);});}getCurrentServicesFromDB();setIsMounted(true);},[]);function handleChange(e){var type=e.target.files[0].type;var size=e.target.files[0].size;if(type!==\"image/png\"&&type!==\"image/jpeg\"&&type!==\"image/jpg\"&&type!==\"application/pdf\"){setError({type:\"imageType\",message:\"Votre fichier n'est ni une image jpeg, jpg, png ou PDF.\"});}else if(size>2000000){setError({type:\"imageSize\",message:\"Votre image fait plus de 2Mo.\"});}else{var newURL=URL.createObjectURL(e.target.files[0]);e.target.files[0].localURL=newURL;setNewService(_objectSpread(_objectSpread({},newService),{},{images:[].concat(_toConsumableArray(newService.images),[e.target.files[0]])}));setError({type:\"\",message:\"\"});}}function euroFormat(num){return num+'€';}function handleDeletePicture(item){var newPictures=_toConsumableArray(newService.images);for(var i=0;i<newPictures.length;i++){if(newPictures[i].localURL===item||newPictures[i].url===item){if(newPictures[i].url===item){setPictureTokensToDelete([].concat(_toConsumableArray(pictureTokensToDelete),[newPictures[i].token]));}newPictures.splice(i,1);}}setNewService(_objectSpread(_objectSpread({},newService),{},{images:newPictures}));}function handleServiceClicked(item){setIsVariations(item.variations.length>0?true:false);clearInputs();setNewService(item);setIsFormOpened(true);}function clearInputs(){setNewService(initialNewService);setError({type:\"\",message:\"\"});}function handleAddService(){setIsPopupConfirmSaveOpened(false);if(newService.name.length<5){setError({type:\"name\",message:\"Le nom de votre offre doit faire au minimum 5 caractères.\"});}else if(newService.description.length<20||newService.description.length>300){setError({type:\"description\",message:\"Votre description doit comporter entre 20 et 300 caractères.\"});}else if(newService.images.length===0){setError({type:\"noPictures\",message:\"Vous devez ajouter au moins une photo de votre service.\"});}else{setIsFormOpened(false);//Si l'id est égal à Null, c'est que le service est nouveau\n//Si l'id n'est pas null, on ne créera pas un nouveau service on modifiera l'actuel\nif(newService.id!==null){var newServicesList=_toConsumableArray(services);var index=newServicesList.findIndex(function(service){return service.id===newService.id;});var serviceToUpload=_objectSpread({},newService);if(!isVariations)serviceToUpload.variations=[];newServicesList[index]=serviceToUpload;setServices(newServicesList);clearInputs();setIsServiceAddedCorrectly(true);setTimeout(function(){setIsServiceAddedCorrectly(false);},2000);}else{if(services.length>=5){setError({type:\"maxServices\",message:\"Vous avez déjà atteint le maximum d'offres sur votre boutique.\"});}else{var reconstructedService=newService;reconstructedService.id=services.length;if(!isVariations)reconstructedService.variations=[];setServices([].concat(_toConsumableArray(services),[reconstructedService]));clearInputs();setIsServiceAddedCorrectly(true);setTimeout(function(){setIsServiceAddedCorrectly(false);},2000);}}}}function handleClickedAddService(){setIsFormOpened(true);setIsVariations(false);clearInputs();document.getElementById('serviceName').focus();}function handleFormSend(){setButtonLoading(true);if(services.length>0){var newAllServicesArray=[];services.forEach(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(service){var newServiceImageArray,newServiceArray,i,token,url,newImg;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:newServiceImageArray=service.images.filter(function(image){return!image.localURL;});newServiceArray={description:service.description,id:service.id,name:service.name,images:newServiceImageArray,price:service.price,category:service.category,variations:service.variations,foodType:service.foodType!==undefined?service.foodType:\"Aucun\"};if(!(seller.category===\"nourriture\")){_context.next=5;break;}_context.next=5;return addFoodTypeToSeller(service.foodType!==undefined?service.foodType:\"Aucun\");case 5:i=0;case 6:if(!(i<service.images.length)){_context.next=19;break;}if(!service.images[i].localURL){_context.next=16;break;}token=Math.random().toString(36).substr(2,19);_context.next=11;return handleUploadFile(service.images[i],token);case 11:url=_context.sent;newImg={url:url,token:token};newServiceImageArray.push(newImg);newServiceArray.images=newServiceImageArray;pictureTokensToDelete.length>0&&deleteOldSellerPicture(pictureTokensToDelete,\"services\");case 16:i++;_context.next=6;break;case 19:newAllServicesArray=[].concat(_toConsumableArray(newAllServicesArray),[newServiceArray]);if(!(services.length===newAllServicesArray.length)){_context.next=24;break;}_context.next=23;return addSellerServices(newAllServicesArray);case 23:history.push('/mon-compte-partenaire/process/verification-1');case 24:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());}else{setError({type:\"serviceSize\",message:\"Merci d'ajouter au moins un service à votre boutique.\"});setButtonLoading(false);}}function handleUploadFile(image,token){return new Promise(function(resolve,reject){var upload=storage.ref(\"services/\".concat(token)).put(image);upload.on(\"state_changed\",function(snapshot){},function(error){console.log(error);},function(){storage.ref(\"services\").child(token).getDownloadURL().then(function(url){resolve(url);}).catch(function(error){console.error(error);reject(error);});});});}function handleVariationChanged(type,val,key){var newVariations=_toConsumableArray(newService.variations);var newVariation=_objectSpread({},newService.variations[key]);if(type===\"name\")newVariation.name=val;else if(type===\"price\")newVariation.price=val;newVariations[key]=newVariation;setNewService(_objectSpread(_objectSpread({},newService),{},{variations:newVariations}));}function handleDeleteVariation(key){var newVariations=_toConsumableArray(newService.variations);newVariations.splice(key,key+1);setNewService(_objectSpread(_objectSpread({},newService),{},{variations:newVariations}));setCurrentDeletingVariation(-1);setIsPopupConfirmDeleteOpened(false);}function handleFoodTypeChanged(e){var newNewService=_objectSpread({},newService);newNewService.foodType=e.target.value;setNewService(newNewService);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(CSSTransition,{in:isMounted,timeout:300,classNames:\"pageTransition\",unmountOnExit:true,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Prest-Step2-Header\",children:[/*#__PURE__*/_jsx(SubTitle,{value:\"Cr\\xE9ation de vos services\",type:\"big\",font:\"roboto-medium\",align:\"left\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Sur cette page vous pourrez cr\\xE9er vos services, qui seront ensuite visible sur la page de votre profil NIVID.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Prenez donc le temps de bien choisir vos photos, r\\xE9fl\\xE9chir vos prix & r\\xE9diger une bonne description.\"}),/*#__PURE__*/_jsx(Title,{value:\"Ajouter vos services\",type:\"h2\",font:\"roboto-medium\",align:\"left\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"servicesListeContainer\",children:[services.map(function(item,key){return/*#__PURE__*/_jsx(\"div\",{className:\"serviceContainer\",onClick:function onClick(){return handleServiceClicked(item);},children:/*#__PURE__*/_jsx(\"div\",{className:\"detailsServiceItem active\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"serviceItem\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imgDetailsServiceItem\",children:/*#__PURE__*/_jsx(Image,{url:item.images[0].localURL||item.images[0].url})}),/*#__PURE__*/_jsxs(\"div\",{className:\"contentDetailsServiceItem\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{children:[item.variations.length>0?item.variations[0].price:item.price,\",00\\u20AC\"]})]})]})})},key);}),services.length<5&&/*#__PURE__*/_jsx(\"label\",{onClick:function onClick(){return handleClickedAddService();},className:\"label-file\",children:\"+\"})]}),/*#__PURE__*/_jsxs(\"span\",{children:[services.length,\" / 5\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:isFormOpened?\"formWrapContainer active\":\"formWrapContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Prest-Step2-Section0\",children:[/*#__PURE__*/_jsx(Title,{value:\"Type de service:\",type:\"h3\",font:\"roboto-medium\",align:\"left\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Prest-Step2-Section0_serviceType\",children:[/*#__PURE__*/_jsx(Title,{onClick:function onClick(){return setIsVariations(false);},customClass:!isVariations&&\"active\",value:\"Service simple\",type:\"h2\",font:\"roboto-medium\",align:\"left\"}),/*#__PURE__*/_jsx(Title,{onClick:function onClick(){newService.variations.length===0&&setNewService(_objectSpread(_objectSpread({},newService),{},{variations:[{name:\"\",price:0}]}));setIsVariations(true);},customClass:isVariations&&\"active\",value:\"Service variable\",type:\"h2\",font:\"roboto-medium\",align:\"left\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Prest-Step2-Section1 \".concat(isVariations?\"noFlex\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(Title,{value:\"Intitul\\xE9 du service\",type:\"h2\",font:\"roboto-medium\",align:\"left\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Le nom de votre offre, par exemple : x5 fleurs de d\\xE9corations de table\"}),/*#__PURE__*/_jsx(\"div\",{className:\"formField withoutMargin\",children:/*#__PURE__*/_jsx(\"input\",{className:\"\".concat(error.type===\"name\"?\"invalid\":\"\"),id:\"serviceName\",type:\"text\",value:newService.name,onChange:function onChange(e){return setError({type:\"\",message:\"\"}),setNewService(_objectSpread(_objectSpread({},newService),{},{name:e.target.value}));}})})]}),!isVariations&&/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(Title,{value:\"Prix de votre service\",type:\"h2\",font:\"roboto-medium\",align:\"left\"}),/*#__PURE__*/_jsx(\"div\",{className:\"formField withoutMargin\",children:/*#__PURE__*/_jsx(NumericInput,{format:euroFormat,className:\"form-control\",value:newService.price,min:20,max:1000,step:1,precision:0,size:9,mobile:true,onChange:function onChange(value){return setError({type:\"\",message:\"\"}),setNewService(_objectSpread(_objectSpread({},newService),{},{price:value}));}})})]})]}),seller.category===\"nourriture\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"Prest-Step2-Section1bis\",children:[/*#__PURE__*/_jsx(Title,{value:\"R\\xE9gime alimentaire\",type:\"h2\",font:\"roboto-medium\",align:\"left\"}),/*#__PURE__*/_jsxs(RadioGroup,{row:true,\"aria-label\":\"gender\",name:\"row-radio-buttons-group\",onChange:handleFoodTypeChanged,value:newService.foodType!==undefined?newService.foodType:\"Aucun\",children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"Vegan\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Vegan\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"Casher\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Casher\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"Halal\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Halal\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"Vegetarien\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"V\\xE9g\\xE9tarien\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"Aucun\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Aucun\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Prest-Step2-Section2\",children:[/*#__PURE__*/_jsx(Title,{value:\"Description de votre service\",type:\"h2\",font:\"roboto-medium\",align:\"left\"}),/*#__PURE__*/_jsx(\"p\",{children:\"D\\xE9crivez au mieux le service que vous proposez au travers de cette offre.\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newService.description,onChange:function onChange(e){return setNewService(_objectSpread(_objectSpread({},newService),{},{description:e.target.value}));},className:\"\".concat(error.type===\"description\"&&\"invalid\")})]}),isVariations&&/*#__PURE__*/_jsxs(\"div\",{className:\"Prest-Step2-Section2bis\",children:[/*#__PURE__*/_jsx(Title,{value:\"Cr\\xE9ation des d\\xE9clinaisons\",type:\"h2\",font:\"roboto-medium\",align:\"left\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Prest-Step2-Section2bis_variations\",children:newService.variations.map(function(variation,key){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"variation_header\",children:[/*#__PURE__*/_jsx(Title,{value:\"Variation \".concat(key),type:\"h3\",font:\"roboto-medium\",align:\"left\"}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){setCurrentDeletingVariation(key);setIsPopupConfirmDeleteOpened(true);},color:\"error\",\"aria-label\":\"delete\",children:/*#__PURE__*/_jsx(DeleteIcon,{})}),isPopupConfirmDeleteOpened&&currentDeletingVariation===key&&/*#__PURE__*/_jsx(BoxConfirm,{type:\"delete\",position:\"bottom\",callback:function callback(){return handleDeleteVariation(key);},callbackClose:function callbackClose(){setCurrentDeletingVariation(-1);setIsPopupConfirmDeleteOpened(false);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Prest-Step2-Section2bis_variation_item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(Title,{value:\"Intitul\\xE9 de la variation\",type:\"h2\",font:\"roboto-medium\",align:\"left\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Le nom de votre variation, par exemple : 6 parts/6 personnes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"formField withoutMargin\",children:/*#__PURE__*/_jsx(\"input\",{className:error.type===\"name\"&&\"invalid\",id:\"serviceName\",type:\"text\",value:newService.variations[key].name,onChange:function onChange(e){return handleVariationChanged(\"name\",e.target.value,key);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(Title,{value:\"Prix de la variation\",type:\"h2\",font:\"roboto-medium\",align:\"left\"}),/*#__PURE__*/_jsx(\"div\",{className:\"formField withoutMargin\",children:/*#__PURE__*/_jsx(NumericInput,{format:euroFormat,className:\"form-control\",value:newService.variations[key].price,min:20,max:1000,step:1,precision:0,size:9,mobile:true,onChange:function onChange(value){return handleVariationChanged(\"price\",value,key);}})})]})]})]});})}),/*#__PURE__*/_jsx(ButtonSmall,{onClick:function onClick(){return setNewService(_objectSpread(_objectSpread({},newService),{},{variations:[].concat(_toConsumableArray(newService.variations),[{name:\"\",price:0}])}));},color:\"blue\",value:\"Ajouter une variation\",marginTop:\"20px\",classname:\"flex\",iconMUIStart:/*#__PURE__*/_jsx(AddIcon,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Prest-Step2-Section3\",children:[/*#__PURE__*/_jsx(Title,{value:\"Photos du services\",type:\"h2\",font:\"roboto-medium\",align:\"left\"}),(error.type===\"imageSize\"||error.type===\"imageType\"||error.type===\"noPictures\")&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMessage\",children:error.message}),/*#__PURE__*/_jsx(\"p\",{children:\"Plusieurs photos peuvent \\xEAtre utile pour le client, cela lui permettra de voir votre service plus en d\\xE9tails.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"servicesListeContainer\",children:[newService.images.map(function(item,key){return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return handleDeletePicture(item.localURL||item.url);},style:{position:\"relative\"},children:[/*#__PURE__*/_jsx(Image,{url:item.localURL||item.url}),/*#__PURE__*/_jsx(FaTrashAlt,{color:\"white\",size:32})]});}),newService.images.length<4&&/*#__PURE__*/_jsx(\"label\",{for:\"file\",className:\"label-file\",children:\"+\"})]}),/*#__PURE__*/_jsx(\"input\",{accept:\"image/jpeg, image/jpg, image/png, application/pdf\",id:\"file\",className:\"input-file\",type:\"file\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"Prest-Step2-Section3-bottom\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"2Mo max par photo\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Type de fichiers accept\\xE9s : jpeg, jpg, png ou PDF\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonSaveOffer\",children:[error.type===\"maxServices\"&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMessage\",children:error.message}),error.type===\"name\"&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMessage\",children:error.message}),error.type===\"description\"&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMessage\",children:error.message}),/*#__PURE__*/_jsx(ButtonSmall,{onClick:function onClick(){return setIsPopupConfirmSaveOpened(true);},color:\"green\",value:\"Sauvergarder cette offre\",marginTop:\"20px\"}),isPopupConfirmSaveOpened&&/*#__PURE__*/_jsx(BoxConfirm,{type:\"save\",position:\"top\",callback:function callback(){return handleAddService();},callbackClose:function callbackClose(){return setIsPopupConfirmSaveOpened(false);}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Prest-Step2-Section4\",children:[/*#__PURE__*/_jsx(Title,{value:\"Si vous avez termin\\xE9 de cr\\xE9er vos services, passez \\xE0 l'\\xE9tape suivante\",type:\"h2\",font:\"roboto-medium\",align:\"right\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Vos services pourront \\xEAtre modifi\\xE9s sur votre tableau de bord plus tard.\"}),/*#__PURE__*/_jsx(ButtonLarge,{onClick:function onClick(){return handleFormSend();},color:\"orange\",width:\"400px\",value:buttonLoading?/*#__PURE__*/_jsx(ReactLoading,{className:\"loadingSpinnerButton\",type:\"spin\",color:\"white\",height:23,width:23}):\"Passer à l'étape suivante\"})]}),error.type===\"serviceSize\"&&/*#__PURE__*/_jsx(\"p\",{className:\"PrestErrorMessage\",children:error.message})]})})}),/*#__PURE__*/_jsx(CSSTransition,{in:isServiceAddedCorrectly,timeout:300,classNames:\"pageTransition\",unmountOnExit:true,children:/*#__PURE__*/_jsx(\"div\",{className:\"serviceAddedMessage\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Annonce sauvegard\\xE9e avec succ\\xE8s\"})})})]});};export default Prest_Step2;","map":{"version":3,"sources":["/Users/bonnieclyde/Desktop/Copie de Nivid (1)/src/pages/Prest_Step2.js"],"names":["React","useState","useEffect","useHistory","useAuth","DeleteIcon","IconButton","AddIcon","useDetectClickOutside","ButtonSmall","ButtonLarge","Layout","Title","SubTitle","NumericInput","useFirebase","ReactLoading","FaTrashAlt","CSSTransition","Image","Radio","RadioGroup","FormControlLabel","BoxConfirm","type","position","callback","callbackClose","refConfirmBox","onTriggered","Prest_Step2","firebaseContext","storage","message","error","setError","buttonLoading","setButtonLoading","services","setServices","pictureTokensToDelete","setPictureTokensToDelete","isFormOpened","setIsFormOpened","seller","setCurrentStepProcess","addSellerServices","getServicesOfCurrentSellerFromDB","deleteOldSellerPicture","addFoodTypeToSeller","history","status","push","initialNewService","category","name","images","description","price","variations","foodType","id","newService","setNewService","isMounted","setIsMounted","isPopupConfirmDeleteOpened","setIsPopupConfirmDeleteOpened","isPopupConfirmSaveOpened","setIsPopupConfirmSaveOpened","currentDeletingVariation","setCurrentDeletingVariation","isServiceAddedCorrectly","setIsServiceAddedCorrectly","isVariations","setIsVariations","getCurrentServicesFromDB","then","data","handleChange","e","target","files","size","newURL","URL","createObjectURL","localURL","euroFormat","num","handleDeletePicture","item","newPictures","i","length","url","token","splice","handleServiceClicked","clearInputs","handleAddService","newServicesList","index","findIndex","service","serviceToUpload","setTimeout","reconstructedService","handleClickedAddService","document","getElementById","focus","handleFormSend","newAllServicesArray","forEach","newServiceImageArray","filter","image","newServiceArray","undefined","Math","random","toString","substr","handleUploadFile","newImg","Promise","resolve","reject","upload","ref","put","on","snapshot","console","log","child","getDownloadURL","catch","handleVariationChanged","val","key","newVariations","newVariation","handleDeleteVariation","handleFoodTypeChanged","newNewService","value","map","variation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Prest_.css\"\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useAuth } from \"../context/userContext\"; // context\r\n\r\nimport DeleteIcon from '@mui/icons-material/DeleteOutline';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\nimport { useDetectClickOutside } from 'react-detect-click-outside';\r\n\r\nimport { ButtonSmall, ButtonLarge } from '../components/utilities/Buttons'\r\nimport Layout from '../components/utilities/Layout'\r\nimport Title from '../components/utilities/Title'\r\nimport SubTitle from '../components/utilities/SubTitle'\r\nimport NumericInput from 'react-numeric-input';\r\nimport { useFirebase } from \"../assets/base-context\";\r\nimport ReactLoading from 'react-loading';\r\n\r\nimport { FaTrashAlt } from 'react-icons/fa'\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nimport Image from '../components/utilities/Image'\r\n\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\n\r\nconst BoxConfirm = ({ type, position, callback, callbackClose }) => {\r\n    const refConfirmBox = useDetectClickOutside({ onTriggered: callbackClose });\r\n    return <div ref={refConfirmBox} className={`confirmBox ${position}`}>\r\n        <span>\r\n            {type === \"delete\" && \"Confirmation de suprresion d'une variation\"}\r\n            {type === \"save\" && \"Confirmation de sauvegarde\"}\r\n        </span>\r\n        <h2>\r\n            {type === \"delete\" && \"Êtes-vous sûr de vouloir supprimer cette variation ?\"}\r\n            {type === \"save\" && \"Vous n'avez rien oublié ?\"}\r\n        </h2>\r\n        <p>\r\n            {type === \"delete\" && \"Cette action est irréversible\"}\r\n            {type === \"save\" && \"Si jamais... Vous pouvez toujours modifier ce service directement depuis votre dashboard\"}\r\n        </p>\r\n\r\n        <ButtonSmall\r\n            onClick={callback}\r\n            color={type === \"delete\" ? \"red\" : \"green\"}\r\n            value=\"Je confirme\"\r\n            marginTop=\"20px\"\r\n        />\r\n    </div>\r\n}\r\n\r\n\r\nconst Prest_Step2 = () => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const storage = firebaseContext.storage()\r\n\r\n    const [error, setError] = useState({ type: \"\", message: \"\" });\r\n    const [buttonLoading, setButtonLoading] = useState(false)\r\n\r\n    const [services, setServices] = useState([])\r\n    const [pictureTokensToDelete, setPictureTokensToDelete] = useState([])\r\n\r\n    const [isFormOpened, setIsFormOpened] = useState(false)\r\n\r\n    const { seller, setCurrentStepProcess, addSellerServices, getServicesOfCurrentSellerFromDB, deleteOldSellerPicture, addFoodTypeToSeller } = useAuth() // context\r\n    const history = useHistory()\r\n\r\n    seller.status !== \"subscribing\" && history.push('/mon-compte-partenaire')\r\n\r\n    const initialNewService = {\r\n        category: seller.category,\r\n        name: \"\",\r\n        images: [],\r\n        description: \"\",\r\n        price: 0,\r\n        variations: [],\r\n        foodType: \"Aucun\",\r\n        id: null\r\n    }\r\n\r\n    const [newService, setNewService] = useState(initialNewService)\r\n\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    const [isPopupConfirmDeleteOpened, setIsPopupConfirmDeleteOpened] = useState(false)\r\n    const [isPopupConfirmSaveOpened, setIsPopupConfirmSaveOpened] = useState(false)\r\n    const [currentDeletingVariation, setCurrentDeletingVariation] = useState(-1)\r\n\r\n    const [isServiceAddedCorrectly, setIsServiceAddedCorrectly] = useState(false)\r\n\r\n    const [isVariations, setIsVariations] = useState(false)\r\n\r\n    setCurrentStepProcess(2)\r\n\r\n    useEffect(() => {\r\n        function getCurrentServicesFromDB() {\r\n            getServicesOfCurrentSellerFromDB().then(data => {\r\n                setServices(data)\r\n            })\r\n        }\r\n        getCurrentServicesFromDB()\r\n        setIsMounted(true)\r\n    }, [])\r\n\r\n\r\n    function handleChange(e) {\r\n        const type = e.target.files[0].type\r\n        const size = e.target.files[0].size\r\n        if (type !== \"image/png\" && type !== \"image/jpeg\" && type !== \"image/jpg\" && type !== \"application/pdf\") {\r\n            setError({ type: \"imageType\", message: \"Votre fichier n'est ni une image jpeg, jpg, png ou PDF.\" })\r\n        }\r\n        else if (size > 2000000) {\r\n            setError({ type: \"imageSize\", message: \"Votre image fait plus de 2Mo.\" })\r\n        }\r\n        else {\r\n            const newURL = URL.createObjectURL(e.target.files[0])\r\n            e.target.files[0].localURL = newURL\r\n            setNewService({ ...newService, images: [...newService.images, e.target.files[0]] })\r\n            setError({ type: \"\", message: \"\" })\r\n        }\r\n    }\r\n\r\n    function euroFormat(num) { return num + '€'; }\r\n\r\n    function handleDeletePicture(item) {\r\n        const newPictures = [...newService.images]\r\n        for (var i = 0; i < newPictures.length; i++) {\r\n            if (newPictures[i].localURL === item || newPictures[i].url === item) {\r\n                if (newPictures[i].url === item) {\r\n                    setPictureTokensToDelete([...pictureTokensToDelete, newPictures[i].token])\r\n                }\r\n                newPictures.splice(i, 1);\r\n            }\r\n        }\r\n        setNewService({ ...newService, images: newPictures })\r\n    }\r\n\r\n    function handleServiceClicked(item) {\r\n        setIsVariations(item.variations.length > 0 ? true : false)\r\n        clearInputs()\r\n        setNewService(item)\r\n        setIsFormOpened(true)\r\n    }\r\n\r\n    function clearInputs() {\r\n        setNewService(initialNewService)\r\n        setError({ type: \"\", message: \"\" })\r\n    }\r\n\r\n    function handleAddService() {\r\n        setIsPopupConfirmSaveOpened(false)\r\n        if (newService.name.length < 5) {\r\n            setError({ type: \"name\", message: \"Le nom de votre offre doit faire au minimum 5 caractères.\" })\r\n        }\r\n        else if (newService.description.length < 20 || newService.description.length > 300) {\r\n            setError({ type: \"description\", message: \"Votre description doit comporter entre 20 et 300 caractères.\" })\r\n        }\r\n        else if (newService.images.length === 0) {\r\n            setError({ type: \"noPictures\", message: \"Vous devez ajouter au moins une photo de votre service.\" })\r\n        }\r\n        else {\r\n            setIsFormOpened(false)\r\n\r\n            //Si l'id est égal à Null, c'est que le service est nouveau\r\n            //Si l'id n'est pas null, on ne créera pas un nouveau service on modifiera l'actuel\r\n            if (newService.id !== null) {\r\n                const newServicesList = [...services]\r\n                var index = newServicesList.findIndex(service => service.id === newService.id)\r\n\r\n                const serviceToUpload = { ...newService }\r\n                if (!isVariations) serviceToUpload.variations = []\r\n                newServicesList[index] = serviceToUpload\r\n\r\n                setServices(newServicesList)\r\n                clearInputs()\r\n                setIsServiceAddedCorrectly(true)\r\n                setTimeout(() => {\r\n                    setIsServiceAddedCorrectly(false)\r\n                }, 2000)\r\n            }\r\n            else {\r\n\r\n                if (services.length >= 5) {\r\n                    setError({ type: \"maxServices\", message: \"Vous avez déjà atteint le maximum d'offres sur votre boutique.\" })\r\n                }\r\n                else {\r\n                    const reconstructedService = newService\r\n                    reconstructedService.id = services.length\r\n                    if (!isVariations) reconstructedService.variations = []\r\n\r\n                    setServices([...services, reconstructedService])\r\n                    clearInputs()\r\n                    setIsServiceAddedCorrectly(true)\r\n                    setTimeout(() => {\r\n                        setIsServiceAddedCorrectly(false)\r\n                    }, 2000)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleClickedAddService() {\r\n        setIsFormOpened(true)\r\n        setIsVariations(false)\r\n        clearInputs()\r\n        document.getElementById('serviceName').focus()\r\n    }\r\n\r\n    function handleFormSend() {\r\n        setButtonLoading(true)\r\n        if (services.length > 0) {\r\n            var newAllServicesArray = []\r\n\r\n            services.forEach(async service => {\r\n                var newServiceImageArray = service.images.filter(image => !image.localURL)\r\n                var newServiceArray = {\r\n                    description: service.description,\r\n                    id: service.id,\r\n                    name: service.name,\r\n                    images: newServiceImageArray,\r\n                    price: service.price,\r\n                    category: service.category,\r\n                    variations: service.variations,\r\n                    foodType: service.foodType !== undefined ? service.foodType : \"Aucun\"\r\n                }\r\n                \r\n                if (seller.category === \"nourriture\")\r\n                    await addFoodTypeToSeller(service.foodType !== undefined ? service.foodType : \"Aucun\")\r\n\r\n                for (var i = 0; i < service.images.length; i++) {\r\n\r\n                    if (service.images[i].localURL) {\r\n                        const token = Math.random().toString(36).substr(2, 19)\r\n                        const url = await handleUploadFile(service.images[i], token)\r\n                        let newImg = { url: url, token: token }\r\n                        newServiceImageArray.push(newImg)\r\n                        newServiceArray.images = newServiceImageArray\r\n                        pictureTokensToDelete.length > 0 && deleteOldSellerPicture(pictureTokensToDelete, \"services\")\r\n                    }\r\n                }\r\n                newAllServicesArray = [...newAllServicesArray, newServiceArray]\r\n                if (services.length === newAllServicesArray.length) {\r\n                    await addSellerServices(newAllServicesArray)\r\n                    history.push('/mon-compte-partenaire/process/verification-1')\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            setError({ type: \"serviceSize\", message: \"Merci d'ajouter au moins un service à votre boutique.\" })\r\n            setButtonLoading(false)\r\n        }\r\n    }\r\n\r\n    function handleUploadFile(image, token) {\r\n\r\n        return new Promise((resolve, reject) => {\r\n\r\n            const upload = storage.ref(`services/${token}`).put(image)\r\n            upload.on(\r\n                \"state_changed\", snapshot => { },\r\n                error => {\r\n                    console.log(error)\r\n                }, () => {\r\n                    storage\r\n                        .ref(\"services\")\r\n                        .child(token)\r\n                        .getDownloadURL()\r\n                        .then(url => {\r\n                            resolve(url);\r\n                        })\r\n                        .catch(error => {\r\n                            console.error(error)\r\n                            reject(error);\r\n                        })\r\n                }\r\n            )\r\n        })\r\n    }\r\n\r\n    function handleVariationChanged(type, val, key) {\r\n        let newVariations = [...newService.variations]\r\n        let newVariation = { ...newService.variations[key] }\r\n        if (type === \"name\") newVariation.name = val\r\n        else if (type === \"price\") newVariation.price = val\r\n        newVariations[key] = newVariation\r\n        setNewService({ ...newService, variations: newVariations })\r\n    }\r\n\r\n    function handleDeleteVariation(key) {\r\n        let newVariations = [...newService.variations]\r\n        newVariations.splice(key, key + 1)\r\n        setNewService({ ...newService, variations: newVariations })\r\n        setCurrentDeletingVariation(-1)\r\n        setIsPopupConfirmDeleteOpened(false)\r\n    }\r\n\r\n\r\n    function handleFoodTypeChanged(e) {\r\n        let newNewService = { ...newService }\r\n        newNewService.foodType = e.target.value\r\n        setNewService(newNewService)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Layout>\r\n                <CSSTransition\r\n                    in={isMounted}\r\n                    timeout={300}\r\n                    classNames=\"pageTransition\"\r\n                    unmountOnExit\r\n                >\r\n                    <div>\r\n                        <div className=\"Prest-Step2-Header\">\r\n                            <SubTitle value=\"Création de vos services\" type=\"big\" font=\"roboto-medium\" align=\"left\" />\r\n                            <p>Sur cette page vous pourrez créer vos services, qui seront ensuite visible sur la page de votre profil NIVID.</p>\r\n                            <p>Prenez donc le temps de bien choisir vos photos, réfléchir vos prix & rédiger une bonne description.</p>\r\n                            <Title value=\"Ajouter vos services\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                            <div className=\"servicesListeContainer\">\r\n                                {\r\n                                    services.map((item, key) => {\r\n                                        return (\r\n                                            <div\r\n                                                className=\"serviceContainer\"\r\n                                                onClick={() => handleServiceClicked(item)}\r\n                                                key={key}\r\n                                            >\r\n\r\n                                                <div className=\"detailsServiceItem active\">\r\n                                                    <div className=\"serviceItem\">\r\n                                                        <div className=\"imgDetailsServiceItem\">\r\n                                                            <Image url={item.images[0].localURL || item.images[0].url} />\r\n                                                        </div>\r\n                                                        <div className=\"contentDetailsServiceItem\">\r\n                                                            <p className=\"title\">{item.name}</p>\r\n                                                            <p>{item.variations.length > 0 ? item.variations[0].price : item.price},00€</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                {services.length < 5 && <label onClick={() => handleClickedAddService()} className=\"label-file\">+</label>}\r\n                            </div>\r\n                            <span>{services.length} / 5</span>\r\n                        </div>\r\n                        <div className=\"divider\"></div>\r\n\r\n                        <div className={isFormOpened ? \"formWrapContainer active\" : \"formWrapContainer\"}>\r\n                            <div className=\"Prest-Step2-Section0\">\r\n                                <Title value=\"Type de service:\" type=\"h3\" font=\"roboto-medium\" align=\"left\" />\r\n                                <div className=\"Prest-Step2-Section0_serviceType\">\r\n                                    <Title onClick={() => setIsVariations(false)} customClass={!isVariations && \"active\"} value=\"Service simple\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                    <Title onClick={() => { newService.variations.length === 0 && setNewService({ ...newService, variations: [{ name: \"\", price: 0 }] }); setIsVariations(true) }} customClass={isVariations && \"active\"} value=\"Service variable\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className={`Prest-Step2-Section1 ${isVariations ? \"noFlex\" : \"\"}`}>\r\n                                <div className=\"left\">\r\n                                    <Title value=\"Intitulé du service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                    <p>Le nom de votre offre, par exemple : x5 fleurs de décorations de table</p>\r\n                                    <div className=\"formField withoutMargin\">\r\n                                        <input\r\n                                            className={`${error.type === \"name\" ? \"invalid\" : \"\"}`}\r\n                                            id=\"serviceName\"\r\n                                            type=\"text\"\r\n                                            value={newService.name}\r\n                                            onChange={(e) => (setError({ type: \"\", message: \"\" }), setNewService({ ...newService, name: e.target.value }))}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                {!isVariations &&\r\n                                    <div className=\"right\">\r\n                                        <Title value=\"Prix de votre service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                        <div className=\"formField withoutMargin\">\r\n                                            <NumericInput\r\n                                                format={euroFormat}\r\n                                                className=\"form-control\"\r\n                                                value={newService.price}\r\n                                                min={20}\r\n                                                max={1000}\r\n                                                step={1}\r\n                                                precision={0}\r\n                                                size={9}\r\n                                                mobile\r\n                                                onChange={(value) => (setError({ type: \"\", message: \"\" }), setNewService({ ...newService, price: value }))}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n\r\n                            {\r\n                                seller.category === \"nourriture\" &&\r\n                                <div className=\"Prest-Step2-Section1bis\">\r\n                                    <Title value=\"Régime alimentaire\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                    {/* <FormGroup style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                                    <FormControlLabel onChange={(e) => handleFoodTypeChanged(e, \"Vegan\")} control={<Checkbox />} label=\"Vegan\" />\r\n                                    <FormControlLabel onChange={(e) => handleFoodTypeChanged(e, \"Casher\")} control={<Checkbox />} label=\"Casher\" />\r\n                                    <FormControlLabel onChange={(e) => handleFoodTypeChanged(e, \"Halal\")} control={<Checkbox />} label=\"Halal\" />\r\n                                    <FormControlLabel onChange={(e) => handleFoodTypeChanged(e, \"Vegetarien\")} control={<Checkbox />} label=\"Végétarien\" />\r\n                                </FormGroup>  */}\r\n                                    <RadioGroup\r\n                                        row\r\n                                        aria-label=\"gender\"\r\n                                        name=\"row-radio-buttons-group\"\r\n                                        onChange={handleFoodTypeChanged}\r\n                                        value={newService.foodType !== undefined ? newService.foodType : \"Aucun\"}\r\n                                    >\r\n                                        <FormControlLabel value=\"Vegan\" control={<Radio />} label=\"Vegan\" />\r\n                                        <FormControlLabel value=\"Casher\" control={<Radio />} label=\"Casher\" />\r\n                                        <FormControlLabel value=\"Halal\" control={<Radio />} label=\"Halal\" />\r\n                                        <FormControlLabel value=\"Vegetarien\" control={<Radio />} label=\"Végétarien\" />\r\n                                        <FormControlLabel value=\"Aucun\" control={<Radio />} label=\"Aucun\" />\r\n                                    </RadioGroup>\r\n                                </div>\r\n\r\n                            }\r\n\r\n                            <div className=\"Prest-Step2-Section2\">\r\n                                <Title value=\"Description de votre service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                <p>Décrivez au mieux le service que vous proposez au travers de cette offre.</p>\r\n                                <textarea\r\n                                    value={newService.description}\r\n                                    onChange={(e) => setNewService({ ...newService, description: e.target.value })}\r\n                                    className={`${error.type === \"description\" && \"invalid\"}`}\r\n                                >\r\n                                </textarea>\r\n                            </div>\r\n\r\n                            {isVariations &&\r\n                                <div className=\"Prest-Step2-Section2bis\">\r\n                                    <Title value=\"Création des déclinaisons\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                    <div className=\"Prest-Step2-Section2bis_variations\">\r\n                                        {newService.variations.map((variation, key) => {\r\n                                            return <>\r\n                                                <div className=\"variation_header\">\r\n                                                    <Title value={`Variation ${key}`} type=\"h3\" font=\"roboto-medium\" align=\"left\" />\r\n                                                    <IconButton\r\n                                                        onClick={() => { setCurrentDeletingVariation(key); setIsPopupConfirmDeleteOpened(true) }}\r\n                                                        color=\"error\"\r\n                                                        aria-label=\"delete\"\r\n                                                    >\r\n                                                        <DeleteIcon />\r\n                                                    </IconButton>\r\n                                                    {(isPopupConfirmDeleteOpened && currentDeletingVariation === key) &&\r\n                                                        <BoxConfirm\r\n                                                            type=\"delete\"\r\n                                                            position=\"bottom\"\r\n                                                            callback={() => handleDeleteVariation(key)}\r\n                                                            callbackClose={() => { setCurrentDeletingVariation(-1); setIsPopupConfirmDeleteOpened(false) }}\r\n                                                        />\r\n                                                    }\r\n                                                </div>\r\n                                                <div className=\"Prest-Step2-Section2bis_variation_item\"><div className=\"left\">\r\n                                                    <Title value=\"Intitulé de la variation\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                                    <p>Le nom de votre variation, par exemple : 6 parts/6 personnes</p>\r\n                                                    <div className=\"formField withoutMargin\">\r\n                                                        <input\r\n                                                            className={error.type === \"name\" && \"invalid\"}\r\n                                                            id=\"serviceName\"\r\n                                                            type=\"text\"\r\n                                                            value={newService.variations[key].name}\r\n                                                            onChange={(e) => handleVariationChanged(\"name\", e.target.value, key)}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                                    <div className=\"right\">\r\n                                                        <Title value=\"Prix de la variation\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                                        <div className=\"formField withoutMargin\">\r\n                                                            <NumericInput\r\n                                                                format={euroFormat}\r\n                                                                className=\"form-control\"\r\n                                                                value={newService.variations[key].price}\r\n                                                                min={20}\r\n                                                                max={1000}\r\n                                                                step={1}\r\n                                                                precision={0}\r\n                                                                size={9}\r\n                                                                mobile\r\n                                                                onChange={(value) => handleVariationChanged(\"price\", value, key)}\r\n                                                            />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </>\r\n                                        })}\r\n                                    </div>\r\n                                    <ButtonSmall\r\n                                        onClick={() => setNewService({ ...newService, variations: [...newService.variations, { name: \"\", price: 0 }] })}\r\n                                        color=\"blue\"\r\n                                        value=\"Ajouter une variation\"\r\n                                        marginTop=\"20px\"\r\n                                        classname=\"flex\"\r\n                                        iconMUIStart={<AddIcon />}\r\n                                    />\r\n                                </div>\r\n                            }\r\n\r\n                            <div className=\"Prest-Step2-Section3\">\r\n                                <Title value=\"Photos du services\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                {(error.type === \"imageSize\" || error.type === \"imageType\" || error.type === \"noPictures\") && <p className=\"errorMessage\">{error.message}</p>}\r\n                                <p>Plusieurs photos peuvent être utile pour le client, cela lui permettra de voir votre service plus en détails.</p>\r\n                                <div className=\"servicesListeContainer\">\r\n                                    {newService.images.map((item, key) =>\r\n                                        <div onClick={() => handleDeletePicture(item.localURL || item.url)} style={{ position: \"relative\" }}>\r\n                                            <Image url={item.localURL || item.url} /><FaTrashAlt color={\"white\"} size={32} />\r\n                                        </div>\r\n                                    )}\r\n                                    {newService.images.length < 4 && <label for=\"file\" className=\"label-file\">+</label>}\r\n                                </div>\r\n\r\n                                <input accept=\"image/jpeg, image/jpg, image/png, application/pdf\" id=\"file\" className=\"input-file\" type=\"file\" onChange={(e) => handleChange(e)} />\r\n                                <div className=\"Prest-Step2-Section3-bottom\">\r\n                                    <p>2Mo max par photo</p>\r\n                                    <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\r\n                                </div>\r\n                                <div className=\"buttonSaveOffer\">\r\n                                    {error.type === \"maxServices\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                                    {error.type === \"name\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                                    {error.type === \"description\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                                    <ButtonSmall\r\n                                        onClick={() => setIsPopupConfirmSaveOpened(true)}\r\n                                        color=\"green\"\r\n                                        value=\"Sauvergarder cette offre\"\r\n                                        marginTop=\"20px\"\r\n                                    />\r\n                                    {isPopupConfirmSaveOpened &&\r\n                                        <BoxConfirm\r\n                                            type=\"save\"\r\n                                            position=\"top\"\r\n                                            callback={() => handleAddService()}\r\n                                            callbackClose={() => setIsPopupConfirmSaveOpened(false)}\r\n                                        />\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"divider\"></div>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"Prest-Step2-Section4\">\r\n                            <Title value=\"Si vous avez terminé de créer vos services, passez à l'étape suivante\" type=\"h2\" font=\"roboto-medium\" align=\"right\" />\r\n                            <p>Vos services pourront être modifiés sur votre tableau de bord plus tard.</p>\r\n                            <ButtonLarge\r\n                                onClick={() => handleFormSend()}\r\n                                color=\"orange\"\r\n                                width=\"400px\"\r\n                                value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"Passer à l'étape suivante\"}\r\n                            />\r\n                        </div>\r\n\r\n                        {error.type === \"serviceSize\" && <p className=\"PrestErrorMessage\">{error.message}</p>}\r\n                    </div>\r\n                </CSSTransition>\r\n            </Layout>\r\n\r\n            <CSSTransition\r\n                in={isServiceAddedCorrectly}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"serviceAddedMessage\">\r\n                    <p>Annonce sauvegardée avec succès</p>\r\n                </div>\r\n            </CSSTransition>\r\n        </>\r\n    )\r\n}\r\nexport default Prest_Step2;\r\n"]},"metadata":{},"sourceType":"module"}