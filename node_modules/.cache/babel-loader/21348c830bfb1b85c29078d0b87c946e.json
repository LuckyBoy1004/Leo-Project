{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Home/Desktop/Boulot/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Home/Desktop/Boulot/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Home/Desktop/Boulot/Nivid/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import{useFirebase}from\"../../assets/base-context\";export var CreateService=function CreateService(props){var firebaseContext=useFirebase();var firestore=firebaseContext.firestore();var setStep=props.setStep;var setCurrentService=props.setCurrentService;var currentSeller=props.currentSeller;var categorySeller=props.categorySeller;var refService=firestore.collection(\"sellers\").doc(currentSeller).collection(\"services\");var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newName=_useState2[0],setNewName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newPrice=_useState4[0],setNewPrice=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),newDescription=_useState6[0],setNewDescription=_useState6[1];useEffect(function(){},[]);function handleOnChangeInputs(name,value){if(name===\"name\"){setNewName(value);}else if(name===\"price\"){setNewPrice(value);}else if(name===\"description\"){setNewDescription(value);}}function handleSendForm(_x){return _handleSendForm.apply(this,arguments);}function _handleSendForm(){_handleSendForm=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return refService.add({name:newName,price:newPrice,description:newDescription,category:categorySeller,images:[{token:\"\",url:\"https://firebasestorage.googleapis.com/v0/b/nivid-cc8bc.appspot.com/o/sellers%2F9w2urjct1s8?alt=media&token=27d38fc7-1b78-4cb0-bc10-801606febbab\"}]}).catch(function(error){console.error(error);}).then(function(res){setCurrentService(res.id);setStep(\"show\");});case 3:case\"end\":return _context.stop();}}},_callee);}));return _handleSendForm.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Ajouter un nouveau pr\\xE9stataire\"}),/*#__PURE__*/_jsx(\"div\",{className:\"createSellerContainer\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom du service\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:newName,onChange:function onChange(e){return handleOnChangeInputs(\"name\",e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Prix\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"price\",value:newPrice,onChange:function onChange(e){return handleOnChangeInputs(\"price\",e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"D\\xE9scription\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",name:\"description\",value:newDescription,onChange:function onChange(e){return handleOnChangeInputs(\"description\",e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Sauvegarder\",onClick:function onClick(e){return handleSendForm(e);}}),/*#__PURE__*/_jsx(\"button\",{className:\"buttonAdminTransparent\",onClick:function onClick(){return setStep('list');},children:\"Revenir en arri\\xE8re\"})]})})]})})]});};","map":{"version":3,"sources":["C:/Users/Home/Desktop/Boulot/Nivid/src/components/Admin/CreateService.js"],"names":["React","useEffect","useState","useFirebase","CreateService","props","firebaseContext","firestore","setStep","setCurrentService","currentSeller","categorySeller","refService","collection","doc","newName","setNewName","newPrice","setNewPrice","newDescription","setNewDescription","handleOnChangeInputs","name","value","handleSendForm","e","preventDefault","add","price","description","category","images","token","url","catch","error","console","then","res","id","target"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useFirebase } from \"../../assets/base-context\";\r\n\r\nexport const CreateService = (props) => {\r\n    \r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n    const setStep = props.setStep\r\n    const setCurrentService = props.setCurrentService\r\n    const currentSeller = props.currentSeller\r\n    const categorySeller = props.categorySeller\r\n\r\n    const refService = firestore.collection(\"sellers\").doc(currentSeller).collection(\"services\");\r\n\r\n    const [newName, setNewName] = useState(\"\")\r\n    const [newPrice, setNewPrice] = useState(\"\")\r\n    const [newDescription, setNewDescription] = useState([])\r\n    useEffect(() => {\r\n\r\n    }, [])\r\n\r\n    function handleOnChangeInputs(name, value) {\r\n        if (name === \"name\") { setNewName(value) }\r\n        else if (name === \"price\") { setNewPrice(value) }\r\n        else if (name === \"description\") { setNewDescription(value) }\r\n    }\r\n\r\n    async function handleSendForm(e) {\r\n        e.preventDefault()\r\n\r\n        await refService.add({\r\n            name: newName,\r\n            price: newPrice,\r\n            description: newDescription,\r\n            category: categorySeller,\r\n            images: [{token: \"\",url: \"https://firebasestorage.googleapis.com/v0/b/nivid-cc8bc.appspot.com/o/sellers%2F9w2urjct1s8?alt=media&token=27d38fc7-1b78-4cb0-bc10-801606febbab\"}]\r\n        })\r\n            .catch((error) => {\r\n                console.error(error)\r\n            })\r\n            .then(res => {\r\n                setCurrentService(res.id)\r\n                setStep(\"show\")\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Ajouter un nouveau préstataire</h2>\r\n            <div className=\"createSellerContainer\">\r\n                <form>\r\n                    <div className=\"formLine\">\r\n                        <div className=\"formField\">\r\n                            <label>Nom du service</label>\r\n                            <input type=\"text\" name=\"name\" value={newName} onChange={e => handleOnChangeInputs(\"name\", e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"formLine\">\r\n                        <div className=\"formField\">\r\n                            <label>Prix</label>\r\n                            <input type=\"text\" name=\"price\" value={newPrice} onChange={e => handleOnChangeInputs(\"price\", e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"formLine\">\r\n                        <div className=\"formField\">\r\n                            <label>Déscription</label>\r\n                            <textarea type=\"text\" name=\"description\" value={newDescription} onChange={e => handleOnChangeInputs(\"description\", e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"formLine\">\r\n                        <div className=\"formField\">\r\n                            <input type=\"submit\" value=\"Sauvegarder\" onClick={(e) => handleSendForm(e)} />\r\n                            <button className=\"buttonAdminTransparent\" onClick={() => setStep('list')}>Revenir en arrière</button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}