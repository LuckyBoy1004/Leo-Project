{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bonnieclyde/Desktop/Copie de Nivid (1)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bonnieclyde/Desktop/Copie de Nivid (1)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/bonnieclyde/Desktop/Copie de Nivid (1)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/bonnieclyde/Desktop/Copie de Nivid (1)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import\"../styles/Prest_.css\";import{useAuth}from\"../context/userContext\";// context\nimport{useHistory}from\"react-router-dom\";import{useLocation}from\"react-router-dom\";import{ButtonLarge}from\"../components/utilities/Buttons\";import Layout from\"../components/utilities/Layout\";import Title from\"../components/utilities/Title\";import SubTitle from\"../components/utilities/SubTitle\";import ReactLoading from\"react-loading\";import LocationSearchInput from\"../components/autocompletePlaces\";import imgLiasse from\"../images/image00001.png\";import traitOrange from\"../images/traitOrange.png\";import{bool}from\"prop-types\";import{CSSTransition}from\"react-transition-group\";var Prest_Subscribe=function Prest_Subscribe(){var search=useLocation().search;var referral=new URLSearchParams(search).get(\"referral\");var initialData={companyName:\"\",adress:\"\",latLng:{lat:0,lng:0},siret:\"\",website:\"\",firstName:\"\",lastName:\"\",email:\"\",phone:\"\",password:\"\",passwordConfirm:\"\",referral:\"\",status:\"subscribing\"};var history=useHistory();var _useState=useState(initialData),_useState2=_slicedToArray(_useState,2),sellerData=_useState2[0],setSellerData=_useState2[1];var _useState3=useState({type:\"\",message:\"\"}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState({valid:bool,message:\"\"}),_useState6=_slicedToArray(_useState5,2),passwordStatus=_useState6[0],setPasswordStatus=_useState6[1];var _useState7=useState({valid:bool,message:\"\"}),_useState8=_slicedToArray(_useState7,2),passwordConfirmStatus=_useState8[0],setPasswordConfirmStatus=_useState8[1];var _useState9=useState({valid:bool,message:\"\"}),_useState10=_slicedToArray(_useState9,2),affiliateCodeStatus=_useState10[0],setAffiliateCodeStatus=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),buttonLoading=_useState12[0],setButtonLoading=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isMounted=_useState14[0],setIsMounted=_useState14[1];var _useAuth=useAuth(),sellerSubscribe=_useAuth.sellerSubscribe;// context\nuseEffect(function(){if(referral!==null)setSellerData(_objectSpread(_objectSpread({},sellerData),{},{referral:referral}));return setIsMounted(true);},[]);function handleAdressChanged(adress,latLng){if(latLng!==undefined){setSellerData(_objectSpread(_objectSpread({},sellerData),{},{adress:adress,latLng:latLng}));}}function handleFormSubmit(_x){return _handleFormSubmit.apply(this,arguments);}function _handleFormSubmit(){_handleFormSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var companyName,adress,siret,website,firstName,lastName,email,phone,password,latLng,referral;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setButtonLoading(true);companyName=sellerData.companyName,adress=sellerData.adress,siret=sellerData.siret,website=sellerData.website,firstName=sellerData.firstName,lastName=sellerData.lastName,email=sellerData.email,phone=sellerData.phone,password=sellerData.password,latLng=sellerData.latLng,referral=sellerData.referral;isFormComplete().then(function(res){if(res===true){sellerSubscribe(companyName,adress,siret,website,firstName,lastName,email,phone,password,latLng,referral).then(function(res){if(res===\"auth/email-already-in-use\"){setError({type:\"email\",message:\"Cet email est déjà utilisé\"});setButtonLoading(false);}else setTimeout(function(){history.push(\"/mon-compte-partenaire/process/abonnement\");},2000);});}});case 4:case\"end\":return _context.stop();}}},_callee);}));return _handleFormSubmit.apply(this,arguments);}function isFormComplete(){return _isFormComplete.apply(this,arguments);}function _isFormComplete(){_isFormComplete=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(sellerData.companyName.length>0)){_context2.next=36;break;}if(!(sellerData.adress.length>0)){_context2.next=33;break;}if(!(sellerData.siret.length===14)){_context2.next=30;break;}if(!(sellerData.firstName.length>0)){_context2.next=27;break;}if(!(sellerData.lastName.length>0)){_context2.next=24;break;}if(!(sellerData.email.length>0)){_context2.next=21;break;}if(!(sellerData.phone.length===10||sellerData.phone.length===0)){_context2.next=18;break;}if(!(sellerData.password.length>8)){_context2.next=15;break;}if(!(sellerData.password===sellerData.passwordConfirm)){_context2.next=12;break;}return _context2.abrupt(\"return\",true);case 12:setError({type:\"passwordConfirm\",message:\"Les deux mots de passe ne sont pas identiques\"});case 13:_context2.next=16;break;case 15:setError({type:\"password\",message:\"Votre mot de passe doit faire 8 caractère minimum\"});case 16:_context2.next=19;break;case 18:setError({type:\"phone\",message:\"Merci de renseigner un numéro de téléphone valide\"});case 19:_context2.next=22;break;case 21:setError({type:\"email\",message:\"Merci de renseigner un email\"});case 22:_context2.next=25;break;case 24:setError({type:\"lastName\",message:\"Merci de renseigner le nom du gérant\"});case 25:_context2.next=28;break;case 27:setError({type:\"firstName\",message:\"Merci de renseigner le prénom du gérant\"});case 28:_context2.next=31;break;case 30:setError({type:\"siret\",message:\"Merci de renseigner un numéro de Siret valide\"});case 31:_context2.next=34;break;case 33:setError({type:\"adress\",message:\"Vous devez renseigner l'adresse de votre entreprise.\"});case 34:_context2.next=37;break;case 36:setError({type:\"companyName\",message:\"Vous devez renseigner le nom de votre entreprise.\"});case 37:setButtonLoading(false);case 38:case\"end\":return _context2.stop();}}},_callee2);}));return _isFormComplete.apply(this,arguments);}function handlePasswordChanged(password){password.length>8?setPasswordStatus({valid:true}):setPasswordStatus({valid:false});setSellerData(_objectSpread(_objectSpread({},sellerData),{},{password:password}));}function handlePasswordConfirmChanged(password){password.length>8&&password===sellerData.password?setPasswordConfirmStatus({valid:true}):setPasswordConfirmStatus({valid:false});setSellerData(_objectSpread(_objectSpread({},sellerData),{},{passwordConfirm:password}));}function handleAffiliateCodeChanged(code){code.length===12?setAffiliateCodeStatus({valid:true}):setAffiliateCodeStatus({valid:false});setSellerData(_objectSpread(_objectSpread({},sellerData),{},{referral:code}));}return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(CSSTransition,{in:isMounted,timeout:300,classNames:\"pageTransition\",unmountOnExit:true,children:/*#__PURE__*/_jsxs(\"div\",{className:\"prest-subscribe-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"prest-subscribe-beforeHeader\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Votre compte sera valid\\xE9 manuellement par notre \\xE9quipe.\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Vous avez d\\xE9j\\xE0 un compte ?\",\" \",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return history.push(\"/acces-prestataire\");},children:\"Connectez-vous\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"prest-subscribe-header\",children:[/*#__PURE__*/_jsxs(\"h1\",{style:{textAlign:\"center\",fontFamily:\"roboto-medium\"},className:\"bigTitle\",children:[\"Boostez les\",\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\"revenus \",/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:imgLiasse}),/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:traitOrange})]}),/*#__PURE__*/_jsx(\"br\",{}),\"de votre activit\\xE9!\"]}),/*#__PURE__*/_jsx(SubTitle,{value:\"Gr\\xE2ce \\xE0 NIVID, recevez des r\\xE9servations 24H/24 7J/7\",type:\"big\",font:\"roboto-regular\",align:\"center\"}),/*#__PURE__*/_jsx(\"div\",{className:\"divider small\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"errorMessage\",children:error.message}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftForm\",children:[/*#__PURE__*/_jsxs(\"h2\",{class:\"bigTitle\",children:[\"\\xC0 pr\\xE9sent, \",/*#__PURE__*/_jsx(\"br\",{}),\"apprenons-en un peu plus sur vous\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField withoutMargin\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom de l'entreprise\"}),/*#__PURE__*/_jsx(\"input\",{value:sellerData.companyName,type:\"text\",name:\"companyName\",onChange:function onChange(e){return setSellerData(_objectSpread(_objectSpread({},sellerData),{},{companyName:e.target.value}));}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField withoutMargin\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Adresse\"}),/*#__PURE__*/_jsx(LocationSearchInput,{placeType:\"address\",value:sellerData.adress,onChanged:handleAdressChanged,isValid:sellerData.latLng!==undefined&&sellerData.latLng.lat!==0?true:sellerData.latLng!==undefined&&sellerData.latLng.lat===0?null:false})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField withoutMargin\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Num\\xE9ro de siret (14 caract\\xE8res)\"}),/*#__PURE__*/_jsx(\"input\",{value:sellerData.siret,type:\"text\",name:\"siret\",onChange:function onChange(e){return setSellerData(_objectSpread(_objectSpread({},sellerData),{},{siret:e.target.value}));},maxlength:\"14\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField withoutMargin\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Site internet\"}),/*#__PURE__*/_jsx(\"input\",{value:sellerData.website,type:\"text\",name:\"text\",onChange:function onChange(e){return setSellerData(_objectSpread(_objectSpread({},sellerData),{},{website:e.target.value}));}})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rightForm\",children:[/*#__PURE__*/_jsx(Title,{value:\"Coordonn\\xE9es du g\\xE9rant\",type:\"h2\",font:\"roboto-medium\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"formLine\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pr\\xE9nom\"}),/*#__PURE__*/_jsx(\"input\",{value:sellerData.firstName,type:\"text\",name:\"firstName\",onChange:function onChange(e){return setSellerData(_objectSpread(_objectSpread({},sellerData),{},{firstName:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom\"}),/*#__PURE__*/_jsx(\"input\",{value:sellerData.lastName,type:\"text\",name:\"lastName\",onChange:function onChange(e){return setSellerData(_objectSpread(_objectSpread({},sellerData),{},{lastName:e.target.value}));}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{value:sellerData.email,type:\"email\",name:\"email\",onChange:function onChange(e){return setSellerData(_objectSpread(_objectSpread({},sellerData),{},{email:e.target.value}));}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Num\\xE9ro de t\\xE9l\\xE9phone (fixe ou portable)\"}),/*#__PURE__*/_jsx(\"input\",{value:sellerData.phone,type:\"text\",name:\"phone\",onChange:function onChange(e){return setSellerData(_objectSpread(_objectSpread({},sellerData),{},{phone:e.target.value}));}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"formLine\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Mot de passe\"}),/*#__PURE__*/_jsx(\"input\",{className:passwordStatus.valid===true?\"valid\":passwordStatus.valid===false&&\"notValid\",value:sellerData.password,type:\"password\",name:\"text\",onChange:function onChange(e){return handlePasswordChanged(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirmation mot de passe\"}),/*#__PURE__*/_jsx(\"input\",{className:passwordConfirmStatus.valid===true?\"valid\":passwordConfirmStatus.valid===false&&\"notValid\",value:sellerData.passwordConfirm,type:\"password\",name:\"text\",onChange:function onChange(e){return handlePasswordConfirmChanged(e.target.value);}})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actionFormContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftForm\",children:[/*#__PURE__*/_jsx(Title,{value:\"Vous avez un code de parrainage ?\",type:\"h2\",font:\"roboto-medium\"}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField withoutMargin\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Code de votre parrain\"}),/*#__PURE__*/_jsx(\"input\",{className:affiliateCodeStatus.valid===true?\"valid\":affiliateCodeStatus.valid===false&&\"notValid\",value:sellerData.referral,type:\"text\",name:\"text\",onChange:function onChange(e){return handleAffiliateCodeChanged(e.target.value);}})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rightForm\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"En cr\\xE9ant un compte chez Nivid en tant que pr\\xE9stataire, vous acceptez les \",/*#__PURE__*/_jsx(\"a\",{href:\"/CGU\",children:\"conditions g\\xE9n\\xE9rales du site\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsx(\"div\",{className:\"formField withoutMargin\",children:/*#__PURE__*/_jsx(ButtonLarge,{onClick:function onClick(e){return handleFormSubmit(e);},color:\"orange\",value:buttonLoading?/*#__PURE__*/_jsx(ReactLoading,{className:\"loadingSpinnerButton\",type:\"spin\",color:\"white\",height:23,width:23}):\"Créer mon compte\",disabled:buttonLoading?\"disabled\":null,marginTop:\"10px\",width:\"300px\"})})})]})]})]})})});};export default Prest_Subscribe;","map":{"version":3,"sources":["/Users/bonnieclyde/Desktop/Copie de Nivid (1)/src/pages/Prest_Subscribe.js"],"names":["React","useState","useEffect","useAuth","useHistory","useLocation","ButtonLarge","Layout","Title","SubTitle","ReactLoading","LocationSearchInput","imgLiasse","traitOrange","bool","CSSTransition","Prest_Subscribe","search","referral","URLSearchParams","get","initialData","companyName","adress","latLng","lat","lng","siret","website","firstName","lastName","email","phone","password","passwordConfirm","status","history","sellerData","setSellerData","type","message","error","setError","valid","passwordStatus","setPasswordStatus","passwordConfirmStatus","setPasswordConfirmStatus","affiliateCodeStatus","setAffiliateCodeStatus","buttonLoading","setButtonLoading","isMounted","setIsMounted","sellerSubscribe","handleAdressChanged","undefined","handleFormSubmit","e","preventDefault","isFormComplete","then","res","setTimeout","push","length","handlePasswordChanged","handlePasswordConfirmChanged","handleAffiliateCodeChanged","code","textAlign","fontFamily","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Prest_.css\";\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport { ButtonLarge } from \"../components/utilities/Buttons\";\r\nimport Layout from \"../components/utilities/Layout\";\r\nimport Title from \"../components/utilities/Title\";\r\nimport SubTitle from \"../components/utilities/SubTitle\";\r\nimport ReactLoading from \"react-loading\";\r\nimport LocationSearchInput from \"../components/autocompletePlaces\";\r\n\r\nimport imgLiasse from \"../images/image00001.png\";\r\nimport traitOrange from \"../images/traitOrange.png\";\r\nimport { bool } from \"prop-types\";\r\n\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nconst Prest_Subscribe = () => {\r\n  const search = useLocation().search;\r\n  const referral = new URLSearchParams(search).get(\"referral\");\r\n\r\n  const initialData = {\r\n    companyName: \"\",\r\n    adress: \"\",\r\n    latLng: { lat: 0, lng: 0 },\r\n    siret: \"\",\r\n    website: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    password: \"\",\r\n    passwordConfirm: \"\",\r\n    referral: \"\",\r\n    status: \"subscribing\",\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const [sellerData, setSellerData] = useState(initialData);\r\n  const [error, setError] = useState({ type: \"\", message: \"\" });\r\n\r\n  const [passwordStatus, setPasswordStatus] = useState({\r\n    valid: bool,\r\n    message: \"\",\r\n  });\r\n  const [passwordConfirmStatus, setPasswordConfirmStatus] = useState({\r\n    valid: bool,\r\n    message: \"\",\r\n  });\r\n  const [affiliateCodeStatus, setAffiliateCodeStatus] = useState({\r\n    valid: bool,\r\n    message: \"\",\r\n  });\r\n\r\n  const [buttonLoading, setButtonLoading] = useState(false);\r\n  const [isMounted, setIsMounted] = useState(false);\r\n\r\n  const { sellerSubscribe } = useAuth(); // context\r\n\r\n  useEffect(() => {\r\n    if (referral !== null) setSellerData({ ...sellerData, referral: referral });\r\n    return setIsMounted(true);\r\n  }, []);\r\n\r\n  function handleAdressChanged(adress, latLng) {\r\n    if (latLng !== undefined) {\r\n      setSellerData({ ...sellerData, adress: adress, latLng: latLng });\r\n    }\r\n  }\r\n\r\n  async function handleFormSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonLoading(true);\r\n    const {\r\n      companyName,\r\n      adress,\r\n      siret,\r\n      website,\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      phone,\r\n      password,\r\n      latLng,\r\n      referral,\r\n    } = sellerData;\r\n    isFormComplete().then((res) => {\r\n      if (res === true) {\r\n        sellerSubscribe(\r\n          companyName,\r\n          adress,\r\n          siret,\r\n          website,\r\n          firstName,\r\n          lastName,\r\n          email,\r\n          phone,\r\n          password,\r\n          latLng,\r\n          referral\r\n        ).then((res) => {\r\n          if (res === \"auth/email-already-in-use\") {\r\n            setError({ type: \"email\", message: \"Cet email est déjà utilisé\" });\r\n            setButtonLoading(false);\r\n          } else\r\n            setTimeout(() => {\r\n              history.push(\"/mon-compte-partenaire/process/abonnement\");\r\n            }, 2000);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  async function isFormComplete() {\r\n    if (sellerData.companyName.length > 0) {\r\n      if (sellerData.adress.length > 0) {\r\n        if (sellerData.siret.length === 14) {\r\n          if (sellerData.firstName.length > 0) {\r\n            if (sellerData.lastName.length > 0) {\r\n              if (sellerData.email.length > 0) {\r\n                if (\r\n                  sellerData.phone.length === 10 ||\r\n                  sellerData.phone.length === 0\r\n                ) {\r\n                  if (sellerData.password.length > 8) {\r\n                    if (sellerData.password === sellerData.passwordConfirm) {\r\n                      return true;\r\n                    } else {\r\n                      setError({\r\n                        type: \"passwordConfirm\",\r\n                        message:\r\n                          \"Les deux mots de passe ne sont pas identiques\",\r\n                      });\r\n                    }\r\n                  } else {\r\n                    setError({\r\n                      type: \"password\",\r\n                      message:\r\n                        \"Votre mot de passe doit faire 8 caractère minimum\",\r\n                    });\r\n                  }\r\n                } else {\r\n                  setError({\r\n                    type: \"phone\",\r\n                    message:\r\n                      \"Merci de renseigner un numéro de téléphone valide\",\r\n                  });\r\n                }\r\n              } else {\r\n                setError({\r\n                  type: \"email\",\r\n                  message: \"Merci de renseigner un email\",\r\n                });\r\n              }\r\n            } else {\r\n              setError({\r\n                type: \"lastName\",\r\n                message: \"Merci de renseigner le nom du gérant\",\r\n              });\r\n            }\r\n          } else {\r\n            setError({\r\n              type: \"firstName\",\r\n              message: \"Merci de renseigner le prénom du gérant\",\r\n            });\r\n          }\r\n        } else {\r\n          setError({\r\n            type: \"siret\",\r\n            message: \"Merci de renseigner un numéro de Siret valide\",\r\n          });\r\n        }\r\n      } else {\r\n        setError({\r\n          type: \"adress\",\r\n          message: \"Vous devez renseigner l'adresse de votre entreprise.\",\r\n        });\r\n      }\r\n    } else {\r\n      setError({\r\n        type: \"companyName\",\r\n        message: \"Vous devez renseigner le nom de votre entreprise.\",\r\n      });\r\n    }\r\n\r\n    setButtonLoading(false);\r\n  }\r\n\r\n  function handlePasswordChanged(password) {\r\n    password.length > 8\r\n      ? setPasswordStatus({ valid: true })\r\n      : setPasswordStatus({ valid: false });\r\n    setSellerData({ ...sellerData, password: password });\r\n  }\r\n\r\n  function handlePasswordConfirmChanged(password) {\r\n    password.length > 8 && password === sellerData.password\r\n      ? setPasswordConfirmStatus({ valid: true })\r\n      : setPasswordConfirmStatus({ valid: false });\r\n    setSellerData({ ...sellerData, passwordConfirm: password });\r\n  }\r\n\r\n  function handleAffiliateCodeChanged(code) {\r\n    code.length === 12\r\n      ? setAffiliateCodeStatus({ valid: true })\r\n      : setAffiliateCodeStatus({ valid: false });\r\n    setSellerData({ ...sellerData, referral: code });\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <CSSTransition\r\n        in={isMounted}\r\n        timeout={300}\r\n        classNames=\"pageTransition\"\r\n        unmountOnExit\r\n      >\r\n        <div className=\"prest-subscribe-container\">\r\n          <div className=\"prest-subscribe-beforeHeader\">\r\n            <p>Votre compte sera validé manuellement par notre équipe.</p>\r\n            <p>\r\n              Vous avez déjà un compte ?{\" \"}\r\n              <span onClick={() => history.push(\"/acces-prestataire\")}>\r\n                Connectez-vous\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div className=\"prest-subscribe-header\">\r\n            <h1\r\n              style={{ textAlign: \"center\", fontFamily: \"roboto-medium\" }}\r\n              className=\"bigTitle\"\r\n            >\r\n              Boostez les{\" \"}\r\n              <span>\r\n                revenus <img alt=\"\" src={imgLiasse} />\r\n                <img alt=\"\" src={traitOrange} />\r\n              </span>\r\n              <br />\r\n              de votre activité!\r\n            </h1>\r\n            <SubTitle\r\n              value=\"Grâce à NIVID, recevez des réservations 24H/24 7J/7\"\r\n              type=\"big\"\r\n              font=\"roboto-regular\"\r\n              align=\"center\"\r\n            />\r\n            <div className=\"divider small\"></div>\r\n          </div>\r\n\r\n          {error && <div className=\"errorMessage\">{error.message}</div>}\r\n\r\n          <form>\r\n            <div className=\"leftForm\">\r\n               {/* <Title value=\"À présent, <br></br>apprenons-en un peu plus sur vous\" type=\"h2\" font=\"roboto-medium\" /> */ }\r\n              <h2 class=\"bigTitle\">À présent, <br></br>apprenons-en un peu plus sur vous</h2>\r\n              <div className=\"formLine\">\r\n                <div className=\"formField withoutMargin\">\r\n                  <label>Nom de l'entreprise</label>\r\n                  <input\r\n                    value={sellerData.companyName}\r\n                    type=\"text\"\r\n                    name=\"companyName\"\r\n                    onChange={(e) =>\r\n                      setSellerData({\r\n                        ...sellerData,\r\n                        companyName: e.target.value,\r\n                      })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField withoutMargin\">\r\n                  <label>Adresse</label>\r\n                  <LocationSearchInput\r\n                    placeType=\"address\"\r\n                    value={sellerData.adress}\r\n                    onChanged={handleAdressChanged}\r\n                    isValid={\r\n                      sellerData.latLng !== undefined &&\r\n                      sellerData.latLng.lat !== 0\r\n                        ? true\r\n                        : sellerData.latLng !== undefined &&\r\n                          sellerData.latLng.lat === 0\r\n                        ? null\r\n                        : false\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField withoutMargin\">\r\n                  <label>Numéro de siret (14 caractères)</label>\r\n                  <input\r\n                    value={sellerData.siret}\r\n                    type=\"text\"\r\n                    name=\"siret\"\r\n                    onChange={(e) =>\r\n                      setSellerData({ ...sellerData, siret: e.target.value })\r\n                    }\r\n                    maxlength=\"14\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField withoutMargin\">\r\n                  <label>Site internet</label>\r\n                  <input\r\n                    value={sellerData.website}\r\n                    type=\"text\"\r\n                    name=\"text\"\r\n                    onChange={(e) =>\r\n                      setSellerData({ ...sellerData, website: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rightForm\">\r\n              <Title\r\n                value=\"Coordonnées du gérant\"\r\n                type=\"h2\"\r\n                font=\"roboto-medium\"\r\n              />\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField\">\r\n                  <label>Prénom</label>\r\n                  <input\r\n                    value={sellerData.firstName}\r\n                    type=\"text\"\r\n                    name=\"firstName\"\r\n                    onChange={(e) =>\r\n                      setSellerData({\r\n                        ...sellerData,\r\n                        firstName: e.target.value,\r\n                      })\r\n                    }\r\n                  />\r\n                </div>\r\n                <div className=\"formField\">\r\n                  <label>Nom</label>\r\n                  <input\r\n                    value={sellerData.lastName}\r\n                    type=\"text\"\r\n                    name=\"lastName\"\r\n                    onChange={(e) =>\r\n                      setSellerData({ ...sellerData, lastName: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField\">\r\n                  <label>Email</label>\r\n                  <input\r\n                    value={sellerData.email}\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    onChange={(e) =>\r\n                      setSellerData({ ...sellerData, email: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField\">\r\n                  <label>Numéro de téléphone (fixe ou portable)</label>\r\n                  <input\r\n                    value={sellerData.phone}\r\n                    type=\"text\"\r\n                    name=\"phone\"\r\n                    onChange={(e) =>\r\n                      setSellerData({ ...sellerData, phone: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField\">\r\n                  <label>Mot de passe</label>\r\n                  <input\r\n                    className={\r\n                      passwordStatus.valid === true\r\n                        ? \"valid\"\r\n                        : passwordStatus.valid === false && \"notValid\"\r\n                    }\r\n                    value={sellerData.password}\r\n                    type=\"password\"\r\n                    name=\"text\"\r\n                    onChange={(e) => handlePasswordChanged(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"formField\">\r\n                  <label>Confirmation mot de passe</label>\r\n                  <input\r\n                    className={\r\n                      passwordConfirmStatus.valid === true\r\n                        ? \"valid\"\r\n                        : passwordConfirmStatus.valid === false && \"notValid\"\r\n                    }\r\n                    value={sellerData.passwordConfirm}\r\n                    type=\"password\"\r\n                    name=\"text\"\r\n                    onChange={(e) =>\r\n                      handlePasswordConfirmChanged(e.target.value)\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div className=\"actionFormContainer\">\r\n            <div className=\"leftForm\">\r\n              <Title\r\n                value=\"Vous avez un code de parrainage ?\"\r\n                type=\"h2\"\r\n                font=\"roboto-medium\"\r\n              />\r\n              <div className=\"formLine\">\r\n                <div className=\"formField withoutMargin\">\r\n                  <label>Code de votre parrain</label>\r\n                  <input\r\n                    className={\r\n                      affiliateCodeStatus.valid === true\r\n                        ? \"valid\"\r\n                        : affiliateCodeStatus.valid === false && \"notValid\"\r\n                    }\r\n                    value={sellerData.referral}\r\n                    type=\"text\"\r\n                    name=\"text\"\r\n                    onChange={(e) => handleAffiliateCodeChanged(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"rightForm\">\r\n              <p>\r\n                En créant un compte chez Nivid en tant que préstataire, vous\r\n                acceptez les <a href=\"/CGU\">conditions générales du site</a>\r\n              </p>\r\n              <div className=\"formLine\">\r\n                <div className=\"formField withoutMargin\">\r\n                  <ButtonLarge\r\n                    onClick={(e) => handleFormSubmit(e)}\r\n                    color=\"orange\"\r\n                    value={\r\n                      buttonLoading ? (\r\n                        <ReactLoading\r\n                          className=\"loadingSpinnerButton\"\r\n                          type=\"spin\"\r\n                          color=\"white\"\r\n                          height={23}\r\n                          width={23}\r\n                        />\r\n                      ) : (\r\n                        \"Créer mon compte\"\r\n                      )\r\n                    }\r\n                    disabled={buttonLoading ? \"disabled\" : null}\r\n                    marginTop=\"10px\"\r\n                    width=\"300px\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </CSSTransition>\r\n    </Layout>\r\n  );\r\n};\r\nexport default Prest_Subscribe;\r\n"]},"metadata":{},"sourceType":"module"}