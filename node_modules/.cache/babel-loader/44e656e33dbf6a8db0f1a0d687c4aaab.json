{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Home\\\\Desktop\\\\Boulot\\\\Nivid\\\\src\\\\components\\\\Prest_Dashboard_Info.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/userContext';\nimport Title from './utilities/Title';\nimport { ButtonSmall } from './utilities/Buttons';\nimport { CSSTransition } from 'react-transition-group';\nimport ReactLoading from 'react-loading';\n\nconst Prest_Dashboard_Info = () => {\n  _s();\n\n  const {\n    updateSellerProfil,\n    seller\n  } = useAuth();\n  const [error, setError] = useState({\n    type: \"\",\n    message: \"\"\n  });\n  const [confirm, setConfirm] = useState(\"\");\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const initialData = {\n    companyName: \"\",\n    adress: \"\",\n    siret: \"\",\n    website: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phone: \"\",\n    affiliateCode: \"\",\n    status: \"\"\n  };\n  const [isMounted, setIsMounted] = useState(false);\n  const [sellerData, setSellerData] = useState(initialData);\n  const [sellerDataStatus, setSellerDataStatus] = useState({\n    companyName: false,\n    website: false,\n    firstName: false,\n    lastName: false,\n    phone: false\n  });\n  useEffect(() => {\n    setSellerData({\n      companyName: seller.companyName,\n      adress: seller.adress,\n      siret: seller.siret,\n      website: seller.website,\n      firstName: seller.firstName,\n      lastName: seller.lastName,\n      email: seller.email,\n      phone: seller.phone,\n      status: seller.status\n    });\n    setFieldsStatus(seller);\n    return setIsMounted(true);\n  }, []);\n\n  function setFieldsStatus(data) {\n    setSellerDataStatus({\n      companyName: data.companyName.length > 0 ? true : false,\n      firstName: data.firstName.length > 0 ? true : false,\n      lastName: data.lastName.length > 0 ? true : false,\n      phone: data.phone.length === 10 || data.phone.length === 0 ? true : false\n    });\n  }\n\n  async function handleFormSubmit() {\n    if (buttonLoading) return;\n    if (!sellerDataStatus.companyName) return setError({\n      type: \"companyName\",\n      message: \"Vous devez renseigner le nom de votre entreprise.\"\n    });\n    if (!sellerDataStatus.firstName) return setError({\n      type: \"firstName\",\n      message: \"Merci de renseigner le prénom du gérant\"\n    });\n    if (!sellerDataStatus.lastName) return setError({\n      type: \"lastName\",\n      message: \"Merci de renseigner le nom du gérant\"\n    });\n    if (!sellerDataStatus.phone) return setError({\n      type: \"phone\",\n      message: \"Merci de renseigner un numéro de téléphone valide\"\n    });\n    setButtonLoading(true);\n    const data = {\n      companyName: sellerData.companyName,\n      website: sellerData.website,\n      firstName: sellerData.firstName,\n      lastName: sellerData.lastName,\n      phone: sellerData.phone\n    };\n    await updateSellerProfil(data);\n    setButtonLoading(false);\n    setError({\n      type: \"\",\n      message: \"\"\n    });\n    setConfirm(\"Vos informations ont été modifiées\");\n  }\n\n  function handleFieldChange(data) {\n    setFieldsStatus(data);\n    setSellerData(data);\n  }\n\n  return /*#__PURE__*/_jsxDEV(CSSTransition, {\n    in: isMounted,\n    timeout: 300,\n    classNames: \"pageTransition\",\n    unmountOnExit: true,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"prest_Dashboard_Info\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prest_dashboard_info_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prest_dashboard_info_header\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Vous pouvez modifier sur cette page vos informations personnelles entr\\xE9es lors de votre inscription mais attention ! \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 145\n            }, this), \"Celles-ci ne sont modifiables seulement pendant la p\\xE9riode d'attente de validation de votre compte, apr\\xE8s cette p\\xE9riode in ne sera plus possible de modifier vos informations personnelles.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"errorMessage\",\n          children: error.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"leftForm\",\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              value: \"Votre entreprise\",\n              type: \"h2\",\n              font: \"roboto-medium\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField withoutMargin\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Nom de l'entreprise\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: sellerDataStatus.companyName ? \"valid\" : \"notValid\",\n                  value: sellerData.companyName,\n                  type: \"text\",\n                  name: \"companyName\",\n                  onChange: e => handleFieldChange({ ...sellerData,\n                    companyName: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField withoutMargin\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Adresse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  disabled: true,\n                  value: sellerData.adress,\n                  type: \"text\",\n                  name: \"adress\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField withoutMargin\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Num\\xE9ro de Siret\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  disabled: true,\n                  value: sellerData.siret,\n                  type: \"text\",\n                  name: \"siret\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField withoutMargin\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Site internet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: sellerData.website,\n                  type: \"text\",\n                  name: \"text\",\n                  onChange: e => handleFieldChange({ ...sellerData,\n                    website: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rightForm\",\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              value: \"Coordonn\\xE9es du g\\xE9rant\",\n              type: \"h2\",\n              font: \"roboto-medium\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Pr\\xE9nom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: sellerDataStatus.firstName ? \"valid\" : \"notValid\",\n                  value: sellerData.firstName,\n                  type: \"text\",\n                  name: \"firstName\",\n                  onChange: e => handleFieldChange({ ...sellerData,\n                    firstName: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Nom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: sellerDataStatus.lastName ? \"valid\" : \"notValid\",\n                  value: sellerData.lastName,\n                  type: \"text\",\n                  name: \"lastName\",\n                  onChange: e => handleFieldChange({ ...sellerData,\n                    lastName: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  disabled: true,\n                  value: sellerData.email,\n                  type: \"email\",\n                  name: \"email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Num\\xE9ro de t\\xE9l\\xE9phone (fixe ou portable)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: sellerDataStatus.phone ? \"valid\" : sellerData.phone.length === 0 ? \"\" : \"notValid\",\n                  value: sellerData.phone,\n                  type: \"text\",\n                  name: \"phone\",\n                  onChange: e => handleFieldChange({ ...sellerData,\n                    phone: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actionFormContainer\",\n          children: [confirm.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: confirm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 48\n          }, this), /*#__PURE__*/_jsxDEV(ButtonSmall, {\n            onClick: () => handleFormSubmit(),\n            color: \"orange\",\n            disabled: buttonLoading,\n            value: buttonLoading ? /*#__PURE__*/_jsxDEV(ReactLoading, {\n              className: \"loadingSpinnerButton\",\n              type: \"spin\",\n              color: \"white\",\n              height: 23,\n              width: 23\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 52\n            }, this) : \"Sauvegarder les changements\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Prest_Dashboard_Info, \"5jLXCGK/Tx2XrusLMJCPE6Dyf2M=\", false, function () {\n  return [useAuth];\n});\n\n_c = Prest_Dashboard_Info;\nexport default Prest_Dashboard_Info;\n\nvar _c;\n\n$RefreshReg$(_c, \"Prest_Dashboard_Info\");","map":{"version":3,"sources":["C:/Users/Home/Desktop/Boulot/Nivid/src/components/Prest_Dashboard_Info.js"],"names":["React","useState","useEffect","useAuth","Title","ButtonSmall","CSSTransition","ReactLoading","Prest_Dashboard_Info","updateSellerProfil","seller","error","setError","type","message","confirm","setConfirm","buttonLoading","setButtonLoading","initialData","companyName","adress","siret","website","firstName","lastName","email","phone","affiliateCode","status","isMounted","setIsMounted","sellerData","setSellerData","sellerDataStatus","setSellerDataStatus","setFieldsStatus","data","length","handleFormSubmit","handleFieldChange","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useAuth } from '../context/userContext'\r\n\r\nimport Title from './utilities/Title'\r\nimport { ButtonSmall } from './utilities/Buttons'\r\n\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport ReactLoading from 'react-loading';\r\n\r\n\r\nconst Prest_Dashboard_Info = () => {\r\n\r\n    const {\r\n        updateSellerProfil,\r\n        seller\r\n    } = useAuth()\r\n\r\n    const [error, setError] = useState({ type: \"\", message: \"\" });\r\n    const [confirm, setConfirm] = useState(\"\");\r\n    const [buttonLoading, setButtonLoading] = useState(false)\r\n\r\n    const initialData = {\r\n        companyName: \"\",\r\n        adress: \"\",\r\n        siret: \"\",\r\n        website: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        affiliateCode: \"\",\r\n        status: \"\"\r\n    }\r\n\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    const [sellerData, setSellerData] = useState(initialData);\r\n    const [sellerDataStatus, setSellerDataStatus] = useState({\r\n        companyName: false,\r\n        website: false,\r\n        firstName: false,\r\n        lastName: false,\r\n        phone: false,\r\n    });\r\n\r\n    useEffect(() => {\r\n        setSellerData({\r\n            companyName: seller.companyName,\r\n            adress: seller.adress,\r\n            siret: seller.siret,\r\n            website: seller.website,\r\n            firstName: seller.firstName,\r\n            lastName: seller.lastName,\r\n            email: seller.email,\r\n            phone: seller.phone,\r\n            status: seller.status\r\n        })\r\n        setFieldsStatus(seller)\r\n        return setIsMounted(true)\r\n    }, [])\r\n\r\n    function setFieldsStatus(data) {\r\n        setSellerDataStatus({\r\n            companyName: data.companyName.length > 0 ? true : false,\r\n            firstName: data.firstName.length > 0 ? true : false,\r\n            lastName: data.lastName.length > 0 ? true : false,\r\n            phone: data.phone.length === 10 || data.phone.length === 0 ? true : false,\r\n        })\r\n    }\r\n\r\n    async function handleFormSubmit() {\r\n        if (buttonLoading) return\r\n        if (!sellerDataStatus.companyName) return setError({ type: \"companyName\", message: \"Vous devez renseigner le nom de votre entreprise.\" })\r\n        if (!sellerDataStatus.firstName) return setError({ type: \"firstName\", message: \"Merci de renseigner le prénom du gérant\" })\r\n        if (!sellerDataStatus.lastName) return setError({ type: \"lastName\", message: \"Merci de renseigner le nom du gérant\" })\r\n        if (!sellerDataStatus.phone) return setError({ type: \"phone\", message: \"Merci de renseigner un numéro de téléphone valide\" })\r\n        setButtonLoading(true)\r\n        const data = {\r\n            companyName: sellerData.companyName,\r\n            website: sellerData.website,\r\n            firstName: sellerData.firstName,\r\n            lastName: sellerData.lastName,\r\n            phone: sellerData.phone\r\n        }\r\n        await updateSellerProfil(data)\r\n        setButtonLoading(false)\r\n        setError({ type: \"\", message: \"\" })\r\n        setConfirm(\"Vos informations ont été modifiées\")\r\n    }\r\n\r\n\r\n    function handleFieldChange(data) {\r\n        setFieldsStatus(data)\r\n        setSellerData(data)\r\n    }\r\n\r\n\r\n    return (\r\n        <CSSTransition\r\n            in={isMounted}\r\n            timeout={300}\r\n            classNames=\"pageTransition\"\r\n            unmountOnExit\r\n        >\r\n            <div className=\"prest_Dashboard_Info\">\r\n                <div className=\"prest_dashboard_info_container\">\r\n                    <div className=\"prest_dashboard_info_header\">\r\n                        <p>Vous pouvez modifier sur cette page vos informations personnelles entrées lors de votre inscription mais attention ! <br />\r\n                    Celles-ci ne sont modifiables seulement pendant la période d'attente de validation de votre compte, après cette période in ne sera plus possible de modifier vos informations personnelles.\r\n                    </p>\r\n                    </div>\r\n\r\n                    {error && <div className=\"errorMessage\">{error.message}</div>}\r\n\r\n                    <form>\r\n                        <div className=\"leftForm\">\r\n                            <Title value=\"Votre entreprise\" type=\"h2\" font=\"roboto-medium\" />\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Nom de l'entreprise</label>\r\n                                    <input\r\n                                        className={sellerDataStatus.companyName ? \"valid\" : \"notValid\"}\r\n                                        value={sellerData.companyName}\r\n                                        type=\"text\"\r\n                                        name=\"companyName\"\r\n                                        onChange={(e) => handleFieldChange({ ...sellerData, companyName: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Adresse</label>\r\n                                    <input disabled value={sellerData.adress} type=\"text\" name=\"adress\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Numéro de Siret</label>\r\n                                    <input disabled value={sellerData.siret} type=\"text\" name=\"siret\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Site internet</label>\r\n                                    <input\r\n                                        value={sellerData.website}\r\n                                        type=\"text\"\r\n                                        name=\"text\"\r\n                                        onChange={(e) => handleFieldChange({ ...sellerData, website: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"rightForm\">\r\n                            <Title value=\"Coordonnées du gérant\" type=\"h2\" font=\"roboto-medium\" />\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label>Prénom</label>\r\n                                    <input\r\n                                        className={sellerDataStatus.firstName ? \"valid\" : \"notValid\"}\r\n                                        value={sellerData.firstName}\r\n                                        type=\"text\"\r\n                                        name=\"firstName\"\r\n                                        onChange={(e) => handleFieldChange({ ...sellerData, firstName: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"formField\">\r\n                                    <label>Nom</label>\r\n                                    <input\r\n                                        className={sellerDataStatus.lastName ? \"valid\" : \"notValid\"}\r\n                                        value={sellerData.lastName}\r\n                                        type=\"text\"\r\n                                        name=\"lastName\"\r\n                                        onChange={(e) => handleFieldChange({ ...sellerData, lastName: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label>Email</label>\r\n                                    <input disabled value={sellerData.email} type=\"email\" name=\"email\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label>Numéro de téléphone (fixe ou portable)</label>\r\n                                    <input\r\n                                        className={sellerDataStatus.phone ? \"valid\" : sellerData.phone.length === 0 ? \"\" : \"notValid\"}\r\n                                        value={sellerData.phone}\r\n                                        type=\"text\"\r\n                                        name=\"phone\"\r\n                                        onChange={(e) => handleFieldChange({ ...sellerData, phone: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                    <div className=\"actionFormContainer\">\r\n                        {confirm.length > 0 && <p>{confirm}</p>}\r\n                        <ButtonSmall\r\n                            onClick={() => handleFormSubmit()}\r\n                            color=\"orange\"\r\n                            disabled={buttonLoading}\r\n                            value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"Sauvegarder les changements\"}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </CSSTransition>\r\n    )\r\n}\r\n\r\nexport default Prest_Dashboard_Info"]},"metadata":{},"sourceType":"module"}