{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bonnieclyde/Desktop/Copie de Nivid (1)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bonnieclyde/Desktop/Copie de Nivid (1)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/bonnieclyde/Desktop/Copie de Nivid (1)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import\"../styles/Prest_.css\";import{Link,useHistory}from'react-router-dom';import{useAuth}from\"../context/userContext\";// context\nimport{ButtonLarge}from'../components/utilities/Buttons';import Layout from'../components/utilities/Layout';import Title from'../components/utilities/Title';import SubTitle from'../components/utilities/SubTitle';import ReactLoading from'react-loading';import imgPrestLogin from'../images/image00002.jpeg';import{CSSTransition}from'react-transition-group';var Prest_Login=function Prest_Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(window.innerWidth),_useState8=_slicedToArray(_useState7,2),windowsWidth=_useState8[0],setWindowsWidth=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),buttonLoading=_useState10[0],setButtonLoading=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isMounted=_useState12[0],setIsMounted=_useState12[1];var _useAuth=useAuth(),login=_useAuth.login;// context\nvar history=useHistory();function handleResize(width){setWindowsWidth(width);}useEffect(function(){window.addEventListener(\"resize\",function(e){return handleResize(window.innerWidth);});return setIsMounted(true);},[]);function handleLoginForm(_x){return _handleLoginForm.apply(this,arguments);}function _handleLoginForm(){_handleLoginForm=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setButtonLoading(true);_context.prev=2;_context.next=5;return login(email,password);case 5:_context.next=12;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](2);setPassword(\"\");setError(\"Nous n'avons pas réussi à vous identifier, veuillez réessayer.\");setButtonLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,7]]);}));return _handleLoginForm.apply(this,arguments);}return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(CSSTransition,{in:isMounted,timeout:300,classNames:\"pageTransition\",unmountOnExit:true,children:/*#__PURE__*/_jsxs(\"div\",{className:\"prest-login-container\",children:[/*#__PURE__*/_jsx(Title,{value:\"Votre nouvelle boutique vous attends\",type:\"h1\",font:\"roboto-medium\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"prest-login-flex-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"prest-login-left\",children:[/*#__PURE__*/_jsx(SubTitle,{value:\"Gr\\xE2ce \\xE0 Nivid, pilotez votre activit\\xE9 avec nos outils intuitifs.\",type:\"big\",font:\"roboto-regular\"}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsx(Title,{value:\"Connectez-vous \\xE0 Nivid\",type:\"h2\",font:\"roboto-medium\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"errorMessage\",children:error}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField withoutMargin\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Identifiant / Adresse email\"}),/*#__PURE__*/_jsx(\"input\",{value:email,type:\"email\",name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField withoutMargin\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Mot de passe\",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return history.push(\"/mot-de-passe-oublie\");},children:\"Mot de passe oubli\\xE9 ?\"})]}),/*#__PURE__*/_jsx(\"input\",{value:password,type:\"password\",name:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsx(\"div\",{className:\"formField withoutMargin\",children:/*#__PURE__*/_jsx(ButtonLarge,{onClick:function onClick(e){return handleLoginForm(e);},color:\"orange\",value:buttonLoading?/*#__PURE__*/_jsx(ReactLoading,{className:\"loadingSpinnerButton\",type:\"spin\",color:\"white\",height:23,width:23}):\"C’est parti !\",backgroundColor:\"rgba(245, 192, 67)\",marginTop:\"10px\",disabled:buttonLoading?\"disabled\":null})})}),/*#__PURE__*/_jsx(\"div\",{className:\"formLine\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formField loginBottomBloc\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Vous n'avez pas de compte ?\"}),/*#__PURE__*/_jsx(Link,{to:\"/inscription-prestataire\",children:\"Inscrivez-vous\"})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"prest-login-right\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:imgPrestLogin})})]})]})})});};export default Prest_Login;","map":{"version":3,"sources":["/Users/bonnieclyde/Desktop/Copie de Nivid (1)/src/pages/Prest_Login.js"],"names":["React","useState","useEffect","Link","useHistory","useAuth","ButtonLarge","Layout","Title","SubTitle","ReactLoading","imgPrestLogin","CSSTransition","Prest_Login","email","setEmail","password","setPassword","error","setError","window","innerWidth","windowsWidth","setWindowsWidth","buttonLoading","setButtonLoading","isMounted","setIsMounted","login","history","handleResize","width","addEventListener","e","handleLoginForm","preventDefault","target","value","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Prest_.css\"\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useAuth } from \"../context/userContext\"; // context\r\n\r\nimport { ButtonLarge } from '../components/utilities/Buttons'\r\nimport Layout from '../components/utilities/Layout'\r\nimport Title from '../components/utilities/Title'\r\nimport SubTitle from '../components/utilities/SubTitle'\r\nimport ReactLoading from 'react-loading';\r\n\r\nimport imgPrestLogin from '../images/image00002.jpeg'\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nconst Prest_Login = () => {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n\r\n    const [buttonLoading, setButtonLoading] = useState(false)\r\n    \r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    const { login } = useAuth() // context\r\n    const history = useHistory()\r\n\r\n\r\n    function handleResize(width) {\r\n        setWindowsWidth(width)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n        return setIsMounted(true)\r\n    }, [])\r\n\r\n\r\n\r\n    async function handleLoginForm(e) {\r\n        e.preventDefault()\r\n        setButtonLoading(true)\r\n        try {\r\n            await login(email, password)\r\n        } catch {\r\n            setPassword(\"\")\r\n            setError(\"Nous n'avons pas réussi à vous identifier, veuillez réessayer.\")\r\n            setButtonLoading(false)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Layout>\r\n            <CSSTransition\r\n                in={isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"prest-login-container\">\r\n                    <Title value=\"Votre nouvelle boutique vous attends\" type=\"h1\" font=\"roboto-medium\" />\r\n                    <div className=\"prest-login-flex-container\">\r\n                        <div className=\"prest-login-left\">\r\n                            <SubTitle value=\"Grâce à Nivid, pilotez votre activité avec nos outils intuitifs.\" type=\"big\" font=\"roboto-regular\" />\r\n                            <div className=\"divider\"></div>\r\n                            <Title value=\"Connectez-vous à Nivid\" type=\"h2\" font=\"roboto-medium\" />\r\n\r\n                            {error && <div className=\"errorMessage\">{error}</div>}\r\n\r\n                            <form>\r\n                                <div className=\"formLine\">\r\n                                    <div className=\"formField withoutMargin\">\r\n                                        <label>Identifiant / Adresse email</label>\r\n                                        <input value={email} type=\"email\" name=\"email\" onChange={(e) => setEmail(e.target.value)} />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"formLine\">\r\n                                    <div className=\"formField withoutMargin\">\r\n                                        <label>Mot de passe<span onClick={() => history.push(\"/mot-de-passe-oublie\")}>Mot de passe oublié ?</span></label>\r\n                                        <input value={password} type=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)} />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"formLine\">\r\n                                    <div className=\"formField withoutMargin\">\r\n                                        <ButtonLarge\r\n                                            onClick={(e) => handleLoginForm(e)}\r\n                                            color=\"orange\"\r\n                                            value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"C’est parti !\"}\r\n                                            backgroundColor=\"rgba(245, 192, 67)\"\r\n                                            marginTop=\"10px\"\r\n                                            disabled={buttonLoading ? \"disabled\" : null}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"formLine\">\r\n                                    <div className=\"formField loginBottomBloc\">\r\n                                        <p>Vous n'avez pas de compte ?</p>\r\n                                        <Link to=\"/inscription-prestataire\">Inscrivez-vous</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n\r\n                        <div className=\"prest-login-right\">\r\n                            <img alt=\"\" src={imgPrestLogin} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </CSSTransition>\r\n        </Layout>\r\n    )\r\n}\r\nexport default Prest_Login;\r\n"]},"metadata":{},"sourceType":"module"}