{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Home\\\\Desktop\\\\Boulot\\\\Nivid\\\\src\\\\pages\\\\Prest_Subscribe.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"../styles/Prest_.css\";\nimport { useAuth } from \"../context/userContext\"; // context\n\nimport { useHistory } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { ButtonLarge } from '../components/utilities/Buttons';\nimport Layout from '../components/utilities/Layout';\nimport Title from '../components/utilities/Title';\nimport SubTitle from '../components/utilities/SubTitle';\nimport ReactLoading from 'react-loading';\nimport LocationSearchInput from \"../components/autocompletePlaces\";\nimport imgLiasse from '../images/image00001.png';\nimport traitOrange from '../images/traitOrange.png';\nimport { bool } from \"prop-types\";\nimport { CSSTransition } from 'react-transition-group';\n\nconst Prest_Subscribe = () => {\n  _s();\n\n  const search = useLocation().search;\n  const referral = new URLSearchParams(search).get('referral');\n  const initialData = {\n    companyName: \"\",\n    adress: \"\",\n    latLng: {\n      lat: 0,\n      lng: 0\n    },\n    siret: \"\",\n    website: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    passwordConfirm: \"\",\n    referral: \"\",\n    status: \"subscribing\"\n  };\n  const history = useHistory();\n  const [sellerData, setSellerData] = useState(initialData);\n  const [error, setError] = useState({\n    type: \"\",\n    message: \"\"\n  });\n  const [passwordStatus, setPasswordStatus] = useState({\n    valid: bool,\n    message: \"\"\n  });\n  const [passwordConfirmStatus, setPasswordConfirmStatus] = useState({\n    valid: bool,\n    message: \"\"\n  });\n  const [affiliateCodeStatus, setAffiliateCodeStatus] = useState({\n    valid: bool,\n    message: \"\"\n  });\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n  const {\n    sellerSubscribe\n  } = useAuth(); // context\n\n  useEffect(() => {\n    if (referral !== null) setSellerData({ ...sellerData,\n      referral: referral\n    });\n    return setIsMounted(true);\n  }, []);\n\n  function handleAdressChanged(adress, latLng) {\n    if (latLng !== undefined) {\n      setSellerData({ ...sellerData,\n        adress: adress,\n        latLng: latLng\n      });\n      console.log(sellerData);\n    }\n  }\n\n  async function handleFormSubmit(e) {\n    e.preventDefault();\n    setButtonLoading(true);\n    const {\n      companyName,\n      adress,\n      siret,\n      website,\n      firstName,\n      lastName,\n      email,\n      phone,\n      password,\n      latLng,\n      referral\n    } = sellerData;\n    isFormComplete().then(res => {\n      if (res === true) {\n        sellerSubscribe(companyName, adress, siret, website, firstName, lastName, email, phone, password, latLng, referral).then(res => {\n          if (res === \"auth/email-already-in-use\") {\n            setError({\n              type: \"email\",\n              message: \"Cet email est déjà utilisé\"\n            });\n            setButtonLoading(false);\n          } else history.push('/mon-compte-partenaire/process/description');\n        });\n      }\n    });\n  }\n\n  async function isFormComplete() {\n    if (sellerData.companyName.length > 0) {\n      if (sellerData.adress.length > 0) {\n        if (sellerData.siret.length === 14) {\n          if (sellerData.firstName.length > 0) {\n            if (sellerData.lastName.length > 0) {\n              if (sellerData.email.length > 0) {\n                if (sellerData.phone.length === 10 || sellerData.phone.length === 0) {\n                  if (sellerData.password.length > 8) {\n                    if (sellerData.password === sellerData.passwordConfirm) {\n                      return true;\n                    } else {\n                      setError({\n                        type: \"passwordConfirm\",\n                        message: \"Les deux mots de passe ne sont pas identiques\"\n                      });\n                    }\n                  } else {\n                    setError({\n                      type: \"password\",\n                      message: \"Votre mot de passe doit faire 8 caractère minimum\"\n                    });\n                  }\n                } else {\n                  setError({\n                    type: \"phone\",\n                    message: \"Merci de renseigner un numéro de téléphone valide\"\n                  });\n                }\n              } else {\n                setError({\n                  type: \"email\",\n                  message: \"Merci de renseigner un email\"\n                });\n              }\n            } else {\n              setError({\n                type: \"lastName\",\n                message: \"Merci de renseigner le nom du gérant\"\n              });\n            }\n          } else {\n            setError({\n              type: \"firstName\",\n              message: \"Merci de renseigner le prénom du gérant\"\n            });\n          }\n        } else {\n          setError({\n            type: \"siret\",\n            message: \"Merci de renseigner un numéro de Siret valide\"\n          });\n        }\n      } else {\n        setError({\n          type: \"adress\",\n          message: \"Vous devez renseigner l'adresse de votre entreprise.\"\n        });\n      }\n    } else {\n      setError({\n        type: \"companyName\",\n        message: \"Vous devez renseigner le nom de votre entreprise.\"\n      });\n    }\n\n    setButtonLoading(false);\n  }\n\n  function handlePasswordChanged(password) {\n    password.length > 8 ? setPasswordStatus({\n      valid: true\n    }) : setPasswordStatus({\n      valid: false\n    });\n    setSellerData({ ...sellerData,\n      password: password\n    });\n  }\n\n  function handlePasswordConfirmChanged(password) {\n    password.length > 8 && password === sellerData.password ? setPasswordConfirmStatus({\n      valid: true\n    }) : setPasswordConfirmStatus({\n      valid: false\n    });\n    setSellerData({ ...sellerData,\n      passwordConfirm: password\n    });\n  }\n\n  function handleAffiliateCodeChanged(code) {\n    code.length === 12 ? setAffiliateCodeStatus({\n      valid: true\n    }) : setAffiliateCodeStatus({\n      valid: false\n    });\n    setSellerData({ ...sellerData,\n      referral: code\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(CSSTransition, {\n      in: isMounted,\n      timeout: 300,\n      classNames: \"pageTransition\",\n      unmountOnExit: true,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prest-subscribe-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prest-subscribe-beforeHeader\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Votre compte sera valid\\xE9 manuellement par notre \\xE9quipe.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Vous avez d\\xE9j\\xE0 un compte ? \", /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => history.push(\"/acces-prestataire\"),\n              children: \"Connectez-vous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 55\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prest-subscribe-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              textAlign: \"center\",\n              fontFamily: \"roboto-medium\"\n            },\n            className: \"bigTitle\",\n            children: [\"Boostez les \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"revenus \", /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: imgLiasse\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 55\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: traitOrange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 85\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 124\n            }, this), \"de votre activit\\xE9!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(SubTitle, {\n            value: \"Gr\\xE2ce \\xE0 Nivid, pilotez votre activit\\xE9 avec nos outils intuitifs.\",\n            type: \"big\",\n            font: \"roboto-regular\",\n            align: \"center\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"divider small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"errorMessage\",\n          children: error.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"leftForm\",\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              value: \"Votre entreprise\",\n              type: \"h2\",\n              font: \"roboto-medium\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField withoutMargin\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Nom de l'entreprise\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: sellerData.companyName,\n                  type: \"text\",\n                  name: \"companyName\",\n                  onChange: e => setSellerData({ ...sellerData,\n                    companyName: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField withoutMargin\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Adresse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(LocationSearchInput, {\n                  placeType: \"address\",\n                  value: sellerData.adress,\n                  onChanged: handleAdressChanged,\n                  isValid: sellerData.latLng !== undefined && sellerData.latLng.lat !== 0 ? true : sellerData.latLng !== undefined && sellerData.latLng.lat === 0 ? null : false\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField withoutMargin\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Num\\xE9ro de siret (14 caract\\xE8res)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: sellerData.siret,\n                  type: \"text\",\n                  name: \"siret\",\n                  onChange: e => setSellerData({ ...sellerData,\n                    siret: e.target.value\n                  }),\n                  maxlength: \"14\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField withoutMargin\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Site internet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: sellerData.website,\n                  type: \"text\",\n                  name: \"text\",\n                  onChange: e => setSellerData({ ...sellerData,\n                    website: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rightForm\",\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              value: \"Coordonn\\xE9es du g\\xE9rant\",\n              type: \"h2\",\n              font: \"roboto-medium\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Pr\\xE9nom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: sellerData.firstName,\n                  type: \"text\",\n                  name: \"firstName\",\n                  onChange: e => setSellerData({ ...sellerData,\n                    firstName: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Nom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: sellerData.lastName,\n                  type: \"text\",\n                  name: \"lastName\",\n                  onChange: e => setSellerData({ ...sellerData,\n                    lastName: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: sellerData.email,\n                  type: \"email\",\n                  name: \"email\",\n                  onChange: e => setSellerData({ ...sellerData,\n                    email: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Num\\xE9ro de t\\xE9l\\xE9phone (fixe ou portable)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: sellerData.phone,\n                  type: \"text\",\n                  name: \"phone\",\n                  onChange: e => setSellerData({ ...sellerData,\n                    phone: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Mot de passe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: passwordStatus.valid === true ? \"valid\" : passwordStatus.valid === false && \"notValid\",\n                  value: sellerData.password,\n                  type: \"password\",\n                  name: \"text\",\n                  onChange: e => handlePasswordChanged(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Confirmation mot de passe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: passwordConfirmStatus.valid === true ? \"valid\" : passwordConfirmStatus.valid === false && \"notValid\",\n                  value: sellerData.passwordConfirm,\n                  type: \"password\",\n                  name: \"text\",\n                  onChange: e => handlePasswordConfirmChanged(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"actionFormContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"leftForm\",\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              value: \"Vous avez un code de parrainage ?\",\n              type: \"h2\",\n              font: \"roboto-medium\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField withoutMargin\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Code de votre parrain\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: affiliateCodeStatus.valid === true ? \"valid\" : affiliateCodeStatus.valid === false && \"notValid\",\n                  value: sellerData.referral,\n                  type: \"text\",\n                  name: \"text\",\n                  onChange: e => handleAffiliateCodeChanged(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rightForm\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"En cr\\xE9ant un compte chez Nivid en tant que pr\\xE9stataire, vous acceptezles conditions g\\xE9n\\xE9rales du site\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formLine\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"formField withoutMargin\",\n                children: /*#__PURE__*/_jsxDEV(ButtonLarge, {\n                  onClick: e => handleFormSubmit(e),\n                  color: \"orange\",\n                  value: buttonLoading ? /*#__PURE__*/_jsxDEV(ReactLoading, {\n                    className: \"loadingSpinnerButton\",\n                    type: \"spin\",\n                    color: \"white\",\n                    height: 23,\n                    width: 23\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 64\n                  }, this) : \"Créer mon compte\",\n                  disabled: buttonLoading ? \"disabled\" : null,\n                  marginTop: \"10px\",\n                  width: \"300px\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Prest_Subscribe, \"oBGfKybSCS1fPCifO2Xceya3KzI=\", false, function () {\n  return [useLocation, useHistory, useAuth];\n});\n\n_c = Prest_Subscribe;\nexport default Prest_Subscribe;\n\nvar _c;\n\n$RefreshReg$(_c, \"Prest_Subscribe\");","map":{"version":3,"sources":["C:/Users/Home/Desktop/Boulot/Nivid/src/pages/Prest_Subscribe.js"],"names":["React","useState","useEffect","useAuth","useHistory","useLocation","ButtonLarge","Layout","Title","SubTitle","ReactLoading","LocationSearchInput","imgLiasse","traitOrange","bool","CSSTransition","Prest_Subscribe","search","referral","URLSearchParams","get","initialData","companyName","adress","latLng","lat","lng","siret","website","firstName","lastName","email","phone","password","passwordConfirm","status","history","sellerData","setSellerData","error","setError","type","message","passwordStatus","setPasswordStatus","valid","passwordConfirmStatus","setPasswordConfirmStatus","affiliateCodeStatus","setAffiliateCodeStatus","buttonLoading","setButtonLoading","isMounted","setIsMounted","sellerSubscribe","handleAdressChanged","undefined","console","log","handleFormSubmit","e","preventDefault","isFormComplete","then","res","push","length","handlePasswordChanged","handlePasswordConfirmChanged","handleAffiliateCodeChanged","code","textAlign","fontFamily","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Prest_.css\"\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport { ButtonLarge } from '../components/utilities/Buttons'\r\nimport Layout from '../components/utilities/Layout'\r\nimport Title from '../components/utilities/Title'\r\nimport SubTitle from '../components/utilities/SubTitle'\r\nimport ReactLoading from 'react-loading';\r\nimport LocationSearchInput from \"../components/autocompletePlaces\"\r\n\r\nimport imgLiasse from '../images/image00001.png'\r\nimport traitOrange from '../images/traitOrange.png'\r\nimport { bool } from \"prop-types\";\r\n\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nconst Prest_Subscribe = () => {\r\n\r\n    const search = useLocation().search\r\n    const referral = new URLSearchParams(search).get('referral')\r\n\r\n    const initialData = {\r\n        companyName: \"\",\r\n        adress: \"\",\r\n        latLng: { lat: 0, lng: 0 },\r\n        siret: \"\",\r\n        website: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        password: \"\",\r\n        passwordConfirm: \"\",\r\n        referral: \"\",\r\n        status: \"subscribing\"\r\n    }\r\n\r\n    const history = useHistory()\r\n\r\n    const [sellerData, setSellerData] = useState(initialData);\r\n    const [error, setError] = useState({ type: \"\", message: \"\" });\r\n\r\n    const [passwordStatus, setPasswordStatus] = useState({ valid: bool, message: \"\" });\r\n    const [passwordConfirmStatus, setPasswordConfirmStatus] = useState({ valid: bool, message: \"\" });\r\n    const [affiliateCodeStatus, setAffiliateCodeStatus] = useState({ valid: bool, message: \"\" });\r\n\r\n    const [buttonLoading, setButtonLoading] = useState(false)\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    const { sellerSubscribe } = useAuth() // context\r\n\r\n    useEffect(() => {\r\n        if (referral !== null) setSellerData({ ...sellerData, referral: referral })\r\n        return setIsMounted(true)\r\n    }, [])\r\n\r\n    function handleAdressChanged(adress, latLng) {\r\n        if (latLng !== undefined) {\r\n            setSellerData({ ...sellerData, adress: adress, latLng: latLng })\r\n            console.log(sellerData)\r\n        }\r\n    }\r\n\r\n    async function handleFormSubmit(e) {\r\n        e.preventDefault()\r\n        setButtonLoading(true)\r\n        const { companyName, adress, siret, website, firstName, lastName, email, phone, password, latLng, referral } = sellerData\r\n        isFormComplete()\r\n            .then((res) => {\r\n                if (res === true) {\r\n                    sellerSubscribe(companyName, adress, siret, website, firstName, lastName, email, phone, password, latLng, referral)\r\n                        .then(res => {\r\n                            if (res === \"auth/email-already-in-use\") {\r\n                                setError({ type: \"email\", message: \"Cet email est déjà utilisé\" })\r\n                                setButtonLoading(false)\r\n                            }\r\n                            else history.push('/mon-compte-partenaire/process/description')\r\n                        })\r\n                }\r\n            })\r\n    }\r\n\r\n    async function isFormComplete() {\r\n        if (sellerData.companyName.length > 0) {\r\n            if (sellerData.adress.length > 0) {\r\n                if (sellerData.siret.length === 14) {\r\n                    if (sellerData.firstName.length > 0) {\r\n                        if (sellerData.lastName.length > 0) {\r\n                            if (sellerData.email.length > 0) {\r\n                                if (sellerData.phone.length === 10 || sellerData.phone.length === 0) {\r\n                                    if (sellerData.password.length > 8) {\r\n                                        if (sellerData.password === sellerData.passwordConfirm) {\r\n                                            return true\r\n                                        }\r\n                                        else { setError({ type: \"passwordConfirm\", message: \"Les deux mots de passe ne sont pas identiques\" }) }\r\n                                    }\r\n                                    else { setError({ type: \"password\", message: \"Votre mot de passe doit faire 8 caractère minimum\" }) }\r\n                                }\r\n                                else { setError({ type: \"phone\", message: \"Merci de renseigner un numéro de téléphone valide\" }) }\r\n                            }\r\n                            else { setError({ type: \"email\", message: \"Merci de renseigner un email\" }) }\r\n                        }\r\n                        else { setError({ type: \"lastName\", message: \"Merci de renseigner le nom du gérant\" }) }\r\n                    }\r\n                    else { setError({ type: \"firstName\", message: \"Merci de renseigner le prénom du gérant\" }) }\r\n                }\r\n                else { setError({ type: \"siret\", message: \"Merci de renseigner un numéro de Siret valide\" }) }\r\n            }\r\n            else { setError({ type: \"adress\", message: \"Vous devez renseigner l'adresse de votre entreprise.\" }) }\r\n        }\r\n        else { setError({ type: \"companyName\", message: \"Vous devez renseigner le nom de votre entreprise.\" }) }\r\n\r\n        setButtonLoading(false)\r\n    }\r\n\r\n    function handlePasswordChanged(password) {\r\n        password.length > 8 ? setPasswordStatus({ valid: true }) : setPasswordStatus({ valid: false })\r\n        setSellerData({ ...sellerData, password: password })\r\n    }\r\n\r\n    function handlePasswordConfirmChanged(password) {\r\n        (password.length > 8 && password === sellerData.password) ? setPasswordConfirmStatus({ valid: true }) : setPasswordConfirmStatus({ valid: false })\r\n        setSellerData({ ...sellerData, passwordConfirm: password })\r\n    }\r\n\r\n    function handleAffiliateCodeChanged(code) {\r\n        code.length === 12 ? setAffiliateCodeStatus({ valid: true }) : setAffiliateCodeStatus({ valid: false })\r\n        setSellerData({ ...sellerData, referral: code })\r\n    }\r\n\r\n    return (\r\n\r\n        <Layout>\r\n            <CSSTransition\r\n                in={isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"prest-subscribe-container\">\r\n                    <div className=\"prest-subscribe-beforeHeader\">\r\n                        <p>Votre compte sera validé manuellement par notre équipe.</p>\r\n                        <p>Vous avez déjà un compte ? <span onClick={() => history.push(\"/acces-prestataire\")}>Connectez-vous</span></p>\r\n                    </div>\r\n                    <div className=\"prest-subscribe-header\">\r\n                        <h1\r\n                            style={{ textAlign: \"center\", fontFamily: \"roboto-medium\" }}\r\n                            className=\"bigTitle\"\r\n                        >\r\n                            Boostez les <span>revenus <img alt=\"\" src={imgLiasse} /><img alt=\"\" src={traitOrange} /></span><br />\r\n                            de votre activité!\r\n                        </h1>\r\n                        <SubTitle value=\"Grâce à Nivid, pilotez votre activité avec nos outils intuitifs.\" type=\"big\" font=\"roboto-regular\" align=\"center\" />\r\n                        <div className=\"divider small\"></div>\r\n                    </div>\r\n\r\n                    {error && <div className=\"errorMessage\">{error.message}</div>}\r\n\r\n                    <form>\r\n                        <div className=\"leftForm\">\r\n                            <Title value=\"Votre entreprise\" type=\"h2\" font=\"roboto-medium\" />\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Nom de l'entreprise</label>\r\n                                    <input value={sellerData.companyName} type=\"text\" name=\"companyName\" onChange={(e) => setSellerData({ ...sellerData, companyName: e.target.value })} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Adresse</label>\r\n                                    <LocationSearchInput\r\n                                        placeType=\"address\"\r\n                                        value={sellerData.adress}\r\n                                        onChanged={handleAdressChanged}\r\n                                        isValid={\r\n                                            (sellerData.latLng !== undefined && sellerData.latLng.lat !== 0) ? true\r\n                                                : (sellerData.latLng !== undefined && sellerData.latLng.lat === 0) ? null\r\n                                                    : false}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Numéro de siret (14 caractères)</label>\r\n                                    <input\r\n                                        value={sellerData.siret}\r\n                                        type=\"text\"\r\n                                        name=\"siret\"\r\n                                        onChange={(e) => setSellerData({ ...sellerData, siret: e.target.value })}\r\n                                        maxlength=\"14\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Site internet</label>\r\n                                    <input value={sellerData.website} type=\"text\" name=\"text\" onChange={(e) => setSellerData({ ...sellerData, website: e.target.value })} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"rightForm\">\r\n                            <Title value=\"Coordonnées du gérant\" type=\"h2\" font=\"roboto-medium\" />\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label>Prénom</label>\r\n                                    <input value={sellerData.firstName} type=\"text\" name=\"firstName\" onChange={(e) => setSellerData({ ...sellerData, firstName: e.target.value })} />\r\n                                </div>\r\n                                <div className=\"formField\">\r\n                                    <label>Nom</label>\r\n                                    <input value={sellerData.lastName} type=\"text\" name=\"lastName\" onChange={(e) => setSellerData({ ...sellerData, lastName: e.target.value })} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label>Email</label>\r\n                                    <input value={sellerData.email} type=\"email\" name=\"email\" onChange={(e) => setSellerData({ ...sellerData, email: e.target.value })} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label>Numéro de téléphone (fixe ou portable)</label>\r\n                                    <input value={sellerData.phone} type=\"text\" name=\"phone\" onChange={(e) => setSellerData({ ...sellerData, phone: e.target.value })} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label>Mot de passe</label>\r\n                                    <input\r\n                                        className={passwordStatus.valid === true ? \"valid\" : passwordStatus.valid === false && \"notValid\"}\r\n                                        value={sellerData.password} type=\"password\"\r\n                                        name=\"text\"\r\n                                        onChange={(e) => handlePasswordChanged(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"formField\">\r\n                                    <label>Confirmation mot de passe</label>\r\n                                    <input\r\n                                        className={passwordConfirmStatus.valid === true ? \"valid\" : passwordConfirmStatus.valid === false && \"notValid\"}\r\n                                        value={sellerData.passwordConfirm}\r\n                                        type=\"password\"\r\n                                        name=\"text\"\r\n                                        onChange={(e) => handlePasswordConfirmChanged(e.target.value)} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                    <div className=\"actionFormContainer\">\r\n                        <div className=\"leftForm\">\r\n                            <Title value=\"Vous avez un code de parrainage ?\" type=\"h2\" font=\"roboto-medium\" />\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Code de votre parrain</label>\r\n                                    <input\r\n                                        className={affiliateCodeStatus.valid === true ? \"valid\" : affiliateCodeStatus.valid === false && \"notValid\"}\r\n                                        value={sellerData.referral}\r\n                                        type=\"text\"\r\n                                        name=\"text\"\r\n                                        onChange={(e) => handleAffiliateCodeChanged(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"rightForm\">\r\n                            <p>En créant un compte chez Nivid en tant que préstataire, vous acceptezles conditions générales du site</p>\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <ButtonLarge\r\n                                        onClick={(e) => handleFormSubmit(e)}\r\n                                        color=\"orange\"\r\n                                        value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"Créer mon compte\"}\r\n                                        disabled={buttonLoading ? \"disabled\" : null}\r\n                                        marginTop=\"10px\"\r\n                                        width=\"300px\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </CSSTransition>\r\n        </Layout>\r\n\r\n    )\r\n}\r\nexport default Prest_Subscribe;\r\n"]},"metadata":{},"sourceType":"module"}