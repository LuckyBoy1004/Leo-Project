[{"/Users/bc/Desktop/Nivid/src/index.js":"1","/Users/bc/Desktop/Nivid/src/reportWebVitals.js":"2","/Users/bc/Desktop/Nivid/src/App.js":"3","/Users/bc/Desktop/Nivid/src/components/RouteProvider.js":"4","/Users/bc/Desktop/Nivid/src/assets/base-context.js":"5","/Users/bc/Desktop/Nivid/src/context/userContext.js":"6","/Users/bc/Desktop/Nivid/src/assets/base.js":"7","/Users/bc/Desktop/Nivid/src/components/ScrollToTop.js":"8","/Users/bc/Desktop/Nivid/src/components/PrivateRoute.js":"9","/Users/bc/Desktop/Nivid/src/components/Header.js":"10","/Users/bc/Desktop/Nivid/src/components/PrivateSellerRoute.js":"11","/Users/bc/Desktop/Nivid/src/components/Prest_ProcessContainer.js":"12","/Users/bc/Desktop/Nivid/src/components/ProcessContainer.js":"13","/Users/bc/Desktop/Nivid/src/components/Footer.js":"14","/Users/bc/Desktop/Nivid/src/pages/Pepites.js":"15","/Users/bc/Desktop/Nivid/src/pages/Subscribe.js":"16","/Users/bc/Desktop/Nivid/src/pages/Etape2.js":"17","/Users/bc/Desktop/Nivid/src/pages/Blog.js":"18","/Users/bc/Desktop/Nivid/src/pages/Contact.js":"19","/Users/bc/Desktop/Nivid/src/pages/Etape1.js":"20","/Users/bc/Desktop/Nivid/src/pages/paymentConfirm.js":"21","/Users/bc/Desktop/Nivid/src/pages/Invitations.js":"22","/Users/bc/Desktop/Nivid/src/pages/Dashboard.js":"23","/Users/bc/Desktop/Nivid/src/pages/SellerDetailProcess.js":"24","/Users/bc/Desktop/Nivid/src/pages/Prest_Login.js":"25","/Users/bc/Desktop/Nivid/src/pages/Recapitulatif.js":"26","/Users/bc/Desktop/Nivid/src/pages/Prest_Step0.js":"27","/Users/bc/Desktop/Nivid/src/pages/Prest_Dashboard.js":"28","/Users/bc/Desktop/Nivid/src/pages/passwordForget.js":"29","/Users/bc/Desktop/Nivid/src/pages/Prest_Step3.js":"30","/Users/bc/Desktop/Nivid/src/pages/Prest_Step2.js":"31","/Users/bc/Desktop/Nivid/src/pages/ConfirmSubscribe.js":"32","/Users/bc/Desktop/Nivid/src/pages/Prest_Step4.js":"33","/Users/bc/Desktop/Nivid/src/pages/Prest_Step_Confirm.js":"34","/Users/bc/Desktop/Nivid/src/pages/Prest_Step1.js":"35","/Users/bc/Desktop/Nivid/src/pages/ConfirmEmail.js":"36","/Users/bc/Desktop/Nivid/src/pages/GiveReview.js":"37","/Users/bc/Desktop/Nivid/src/pages/CGV.js":"38","/Users/bc/Desktop/Nivid/src/pages/Faq.js":"39","/Users/bc/Desktop/Nivid/src/pages/Contact_Boutique.js":"40","/Users/bc/Desktop/Nivid/src/pages/Prest_Subscribe.js":"41","/Users/bc/Desktop/Nivid/src/pages/Login.js":"42","/Users/bc/Desktop/Nivid/src/pages/CGU.js":"43","/Users/bc/Desktop/Nivid/src/pages/About.js":"44","/Users/bc/Desktop/Nivid/src/pages/Home.js":"45","/Users/bc/Desktop/Nivid/src/components/Admin/PanelDashboard.js":"46","/Users/bc/Desktop/Nivid/src/components/CartWidget.js":"47","/Users/bc/Desktop/Nivid/src/components/ServicesSlider.js":"48","/Users/bc/Desktop/Nivid/src/components/servicesData.js":"49","/Users/bc/Desktop/Nivid/src/components/StickerBudgetLeft.js":"50","/Users/bc/Desktop/Nivid/src/components/SellersMap.js":"51","/Users/bc/Desktop/Nivid/src/components/Admin/Sellers.js":"52","/Users/bc/Desktop/Nivid/src/components/autocompletePlaces.js":"53","/Users/bc/Desktop/Nivid/src/components/NoteWidget.js":"54","/Users/bc/Desktop/Nivid/src/components/utilities/Image.js":"55","/Users/bc/Desktop/Nivid/src/components/utilities/Buttons.js":"56","/Users/bc/Desktop/Nivid/src/components/Admin/user/Users.js":"57","/Users/bc/Desktop/Nivid/src/components/Admin/event/Events.js":"58","/Users/bc/Desktop/Nivid/src/components/utilities/Title.js":"59","/Users/bc/Desktop/Nivid/src/components/utilities/SubTitle.js":"60","/Users/bc/Desktop/Nivid/src/components/utilities/Layout.js":"61","/Users/bc/Desktop/Nivid/src/components/Loader.js":"62","/Users/bc/Desktop/Nivid/src/components/BlogWidget.js":"63","/Users/bc/Desktop/Nivid/src/components/Admin/CreateSeller.js":"64","/Users/bc/Desktop/Nivid/src/components/Admin/Table.js":"65","/Users/bc/Desktop/Nivid/src/components/Admin/ShowSeller.js":"66","/Users/bc/Desktop/Nivid/src/components/utilities/ModalYesNo.js":"67","/Users/bc/Desktop/Nivid/src/components/Admin/event/ShowEvent.js":"68","/Users/bc/Desktop/Nivid/src/components/Admin/Services.js":"69","/Users/bc/Desktop/Nivid/src/components/Admin/event/Services.js":"70","/Users/bc/Desktop/Nivid/src/components/Admin/components/ShowDocuments.js":"71","/Users/bc/Desktop/Nivid/src/components/Admin/CreateService.js":"72","/Users/bc/Desktop/Nivid/src/components/Admin/ShowService.js":"73","/Users/bc/Desktop/Nivid/src/components/Prest_Dashboard_Status_Message.js":"74","/Users/bc/Desktop/Nivid/src/components/Prest_Dashboard_Sponsorship.js":"75","/Users/bc/Desktop/Nivid/src/components/Prest_Dashboard_Info.js":"76","/Users/bc/Desktop/Nivid/src/components/Prest_Dashboard_Services.js":"77","/Users/bc/Desktop/Nivid/src/components/Prest_Dashboard_Commandes.js":"78","/Users/bc/Desktop/Nivid/src/components/Prest_Dashboard_Dashboard.js":"79","/Users/bc/Desktop/Nivid/src/components/ServiceDescription.js":"80","/Users/bc/Desktop/Nivid/src/components/InterestedSellers.js":"81","/Users/bc/Desktop/Nivid/src/components/UpdateProfil.js":"82","/Users/bc/Desktop/Nivid/src/components/Slider.js":"83","/Users/bc/Desktop/Nivid/src/components/WishList.js":"84","/Users/bc/Desktop/Nivid/src/components/EarningChart.js":"85","/Users/bc/Desktop/Nivid/src/components/ServiceConfirmModal.js":"86","/Users/bc/Desktop/Nivid/src/components/FullScreenImg.js":"87","/Users/bc/Desktop/Nivid/src/components/utilities/CustomSelect.js":"88","/Users/bc/Desktop/New Nivid/Leo-Project/src/index.js":"89","/Users/bc/Desktop/New Nivid/Leo-Project/src/App.js":"90","/Users/bc/Desktop/New Nivid/Leo-Project/src/reportWebVitals.js":"91","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/RouteProvider.js":"92","/Users/bc/Desktop/New Nivid/Leo-Project/src/context/userContext.js":"93","/Users/bc/Desktop/New Nivid/Leo-Project/src/assets/base-context.js":"94","/Users/bc/Desktop/New Nivid/Leo-Project/src/assets/base.js":"95","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/PrivateRoute.js":"96","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Header.js":"97","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Footer.js":"98","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/ProcessContainer.js":"99","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/PrivateSellerRoute.js":"100","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_ProcessContainer.js":"101","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/ScrollToTop.js":"102","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Pepites.js":"103","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Login.js":"104","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Dashboard.js":"105","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/About.js":"106","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Contact.js":"107","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Invitations.js":"108","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Etape2.js":"109","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Login.js":"110","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Etape1.js":"111","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Recapitulatif.js":"112","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Dashboard.js":"113","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/paymentConfirm.js":"114","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Subscribe.js":"115","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Step0.js":"116","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Step1.js":"117","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/passwordForget.js":"118","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Step3.js":"119","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Step_Confirm.js":"120","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Step2.js":"121","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/ConfirmSubscribe.js":"122","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/SellerDetailProcess.js":"123","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Step4.js":"124","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/ConfirmEmail.js":"125","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/CGV.js":"126","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/GiveReview.js":"127","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Faq.js":"128","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Home.js":"129","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Contact_Boutique.js":"130","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Blog.js":"131","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Subscribe.js":"132","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/CGU.js":"133","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/PanelDashboard.js":"134","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Loader.js":"135","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/CartWidget.js":"136","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/UpdateProfil.js":"137","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Slider.js":"138","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/WishList.js":"139","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/InterestedSellers.js":"140","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/BlogWidget.js":"141","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/autocompletePlaces.js":"142","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/Sellers.js":"143","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/NoteWidget.js":"144","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/Buttons.js":"145","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/Image.js":"146","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/user/Users.js":"147","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/event/Events.js":"148","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/SubTitle.js":"149","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/Layout.js":"150","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/Title.js":"151","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/StickerBudgetLeft.js":"152","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/ServiceDescription.js":"153","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/servicesData.js":"154","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/ModalYesNo.js":"155","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/CreateSeller.js":"156","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/Table.js":"157","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/ShowSeller.js":"158","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/event/ShowEvent.js":"159","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/FullScreenImg.js":"160","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/ServiceConfirmModal.js":"161","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/CustomSelect.js":"162","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/event/Services.js":"163","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/components/ShowDocuments.js":"164","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/Services.js":"165","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/CreateService.js":"166","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/ShowService.js":"167","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Status_Message.js":"168","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Calendar.js":"169","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Info.js":"170","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Sponsorship.js":"171","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Services.js":"172","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Commandes.js":"173","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Dashboard.js":"174","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/SellersMap.js":"175","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/ServicesSlider.js":"176","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/EarningChart.js":"177"},{"size":519,"mtime":1662508956000,"results":"178","hashOfConfig":"179"},{"size":375,"mtime":1639815528000,"results":"180","hashOfConfig":"179"},{"size":513,"mtime":1662580476000,"results":"181","hashOfConfig":"179"},{"size":7414,"mtime":1665047581192,"results":"182","hashOfConfig":"179"},{"size":367,"mtime":1639815528000,"results":"183","hashOfConfig":"179"},{"size":45693,"mtime":1662914782000,"results":"184","hashOfConfig":"179"},{"size":958,"mtime":1639815528000,"results":"185","hashOfConfig":"179"},{"size":465,"mtime":1639815528000,"results":"186","hashOfConfig":"179"},{"size":455,"mtime":1639815528000,"results":"187","hashOfConfig":"179"},{"size":9652,"mtime":1664439984791,"results":"188","hashOfConfig":"179"},{"size":478,"mtime":1662909644000,"results":"189","hashOfConfig":"179"},{"size":3993,"mtime":1664294608438,"results":"190","hashOfConfig":"179"},{"size":3778,"mtime":1664294605769,"results":"191","hashOfConfig":"179"},{"size":5088,"mtime":1663831616000,"results":"192","hashOfConfig":"179"},{"size":2144,"mtime":1664292756520,"results":"193","hashOfConfig":"179"},{"size":15675,"mtime":1663682490000,"results":"194","hashOfConfig":"179"},{"size":23402,"mtime":1663073640000,"results":"195","hashOfConfig":"179"},{"size":229,"mtime":1639815528000,"results":"196","hashOfConfig":"179"},{"size":2669,"mtime":1662314752000,"results":"197","hashOfConfig":"179"},{"size":17623,"mtime":1663858436645,"results":"198","hashOfConfig":"179"},{"size":6203,"mtime":1662448506000,"results":"199","hashOfConfig":"179"},{"size":4454,"mtime":1639815528000,"results":"200","hashOfConfig":"179"},{"size":15098,"mtime":1664294072781,"results":"201","hashOfConfig":"179"},{"size":9580,"mtime":1662988542000,"results":"202","hashOfConfig":"179"},{"size":5245,"mtime":1664293512188,"results":"203","hashOfConfig":"179"},{"size":12454,"mtime":1639815528000,"results":"204","hashOfConfig":"179"},{"size":9477,"mtime":1664438525037,"results":"205","hashOfConfig":"179"},{"size":3353,"mtime":1664439866136,"results":"206","hashOfConfig":"179"},{"size":5599,"mtime":1642552116000,"results":"207","hashOfConfig":"179"},{"size":12356,"mtime":1662922218000,"results":"208","hashOfConfig":"179"},{"size":31330,"mtime":1664440594235,"results":"209","hashOfConfig":"179"},{"size":2201,"mtime":1639815528000,"results":"210","hashOfConfig":"179"},{"size":13154,"mtime":1662922238000,"results":"211","hashOfConfig":"179"},{"size":1537,"mtime":1639815528000,"results":"212","hashOfConfig":"179"},{"size":15259,"mtime":1662976106000,"results":"213","hashOfConfig":"179"},{"size":3081,"mtime":1643829486000,"results":"214","hashOfConfig":"179"},{"size":7877,"mtime":1642065098000,"results":"215","hashOfConfig":"179"},{"size":4725,"mtime":1639815528000,"results":"216","hashOfConfig":"179"},{"size":7781,"mtime":1662451044000,"results":"217","hashOfConfig":"179"},{"size":6106,"mtime":1664292686298,"results":"218","hashOfConfig":"179"},{"size":16492,"mtime":1664438817693,"results":"219","hashOfConfig":"179"},{"size":5734,"mtime":1663682763000,"results":"220","hashOfConfig":"179"},{"size":43656,"mtime":1642700022000,"results":"221","hashOfConfig":"179"},{"size":4306,"mtime":1663855184194,"results":"222","hashOfConfig":"179"},{"size":14758,"mtime":1664782266302,"results":"223","hashOfConfig":"179"},{"size":1422,"mtime":1639815528000,"results":"224","hashOfConfig":"179"},{"size":5315,"mtime":1639815528000,"results":"225","hashOfConfig":"179"},{"size":15495,"mtime":1663857949666,"results":"226","hashOfConfig":"179"},{"size":1247,"mtime":1662975376000,"results":"227","hashOfConfig":"179"},{"size":1243,"mtime":1639815528000,"results":"228","hashOfConfig":"179"},{"size":3244,"mtime":1639815528000,"results":"229","hashOfConfig":"179"},{"size":2672,"mtime":1639815528000,"results":"230","hashOfConfig":"179"},{"size":3274,"mtime":1642065134000,"results":"231","hashOfConfig":"179"},{"size":566,"mtime":1639815528000,"results":"232","hashOfConfig":"179"},{"size":428,"mtime":1639815528000,"results":"233","hashOfConfig":"179"},{"size":1411,"mtime":1639815528000,"results":"234","hashOfConfig":"179"},{"size":1441,"mtime":1639815528000,"results":"235","hashOfConfig":"179"},{"size":2242,"mtime":1639815528000,"results":"236","hashOfConfig":"179"},{"size":665,"mtime":1639815528000,"results":"237","hashOfConfig":"179"},{"size":401,"mtime":1639815528000,"results":"238","hashOfConfig":"179"},{"size":692,"mtime":1639815528000,"results":"239","hashOfConfig":"179"},{"size":737,"mtime":1639815528000,"results":"240","hashOfConfig":"179"},{"size":3143,"mtime":1642552114000,"results":"241","hashOfConfig":"179"},{"size":5254,"mtime":1662976650000,"results":"242","hashOfConfig":"179"},{"size":5531,"mtime":1639815528000,"results":"243","hashOfConfig":"179"},{"size":16161,"mtime":1664644631346,"results":"244","hashOfConfig":"179"},{"size":797,"mtime":1639815528000,"results":"245","hashOfConfig":"179"},{"size":11463,"mtime":1639815528000,"results":"246","hashOfConfig":"179"},{"size":2789,"mtime":1639815528000,"results":"247","hashOfConfig":"179"},{"size":1428,"mtime":1639815528000,"results":"248","hashOfConfig":"179"},{"size":2905,"mtime":1639815528000,"results":"249","hashOfConfig":"179"},{"size":3382,"mtime":1639815528000,"results":"250","hashOfConfig":"179"},{"size":4766,"mtime":1642065126000,"results":"251","hashOfConfig":"179"},{"size":2454,"mtime":1639815528000,"results":"252","hashOfConfig":"179"},{"size":5329,"mtime":1664375632333,"results":"253","hashOfConfig":"179"},{"size":9980,"mtime":1664374040276,"results":"254","hashOfConfig":"179"},{"size":31031,"mtime":1664440455598,"results":"255","hashOfConfig":"179"},{"size":17763,"mtime":1662987778000,"results":"256","hashOfConfig":"179"},{"size":23338,"mtime":1664376788590,"results":"257","hashOfConfig":"179"},{"size":7737,"mtime":1642065122000,"results":"258","hashOfConfig":"179"},{"size":1797,"mtime":1639815528000,"results":"259","hashOfConfig":"179"},{"size":12195,"mtime":1663856665352,"results":"260","hashOfConfig":"179"},{"size":10273,"mtime":1663063302000,"results":"261","hashOfConfig":"179"},{"size":3517,"mtime":1639815528000,"results":"262","hashOfConfig":"179"},{"size":2145,"mtime":1639815528000,"results":"263","hashOfConfig":"179"},{"size":1888,"mtime":1639815528000,"results":"264","hashOfConfig":"179"},{"size":544,"mtime":1639815528000,"results":"265","hashOfConfig":"179"},{"size":419,"mtime":1639815528000,"results":"266","hashOfConfig":"179"},{"size":501,"mtime":1665131819546,"results":"267","hashOfConfig":"268"},{"size":491,"mtime":1665131819487,"results":"269","hashOfConfig":"268"},{"size":362,"mtime":1665131819549,"results":"270","hashOfConfig":"268"},{"size":7244,"mtime":1665131819490,"results":"271","hashOfConfig":"268"},{"size":45139,"mtime":1665131819522,"results":"272","hashOfConfig":"268"},{"size":355,"mtime":1665131819488,"results":"273","hashOfConfig":"268"},{"size":917,"mtime":1665131819488,"results":"274","hashOfConfig":"268"},{"size":440,"mtime":1665131819490,"results":"275","hashOfConfig":"268"},{"size":9447,"mtime":1665131819489,"results":"276","hashOfConfig":"268"},{"size":4969,"mtime":1665131819489,"results":"277","hashOfConfig":"268"},{"size":3667,"mtime":1665131819490,"results":"278","hashOfConfig":"268"},{"size":463,"mtime":1665131819490,"results":"279","hashOfConfig":"268"},{"size":3897,"mtime":1665131819490,"results":"280","hashOfConfig":"268"},{"size":449,"mtime":1665131819490,"results":"281","hashOfConfig":"268"},{"size":2094,"mtime":1665131819548,"results":"282","hashOfConfig":"268"},{"size":5609,"mtime":1665131819548,"results":"283","hashOfConfig":"268"},{"size":14796,"mtime":1665131819547,"results":"284","hashOfConfig":"268"},{"size":4208,"mtime":1665131819546,"results":"285","hashOfConfig":"268"},{"size":2615,"mtime":1665131819547,"results":"286","hashOfConfig":"268"},{"size":4343,"mtime":1665131819548,"results":"287","hashOfConfig":"268"},{"size":23344,"mtime":1665131819547,"results":"288","hashOfConfig":"268"},{"size":5126,"mtime":1665131819548,"results":"289","hashOfConfig":"268"},{"size":17265,"mtime":1665131819547,"results":"290","hashOfConfig":"268"},{"size":12225,"mtime":1665131819549,"results":"291","hashOfConfig":"268"},{"size":3598,"mtime":1665131819548,"results":"292","hashOfConfig":"268"},{"size":6056,"mtime":1665131819549,"results":"293","hashOfConfig":"268"},{"size":16077,"mtime":1665131819549,"results":"294","hashOfConfig":"268"},{"size":9248,"mtime":1665131819548,"results":"295","hashOfConfig":"268"},{"size":14895,"mtime":1665131819548,"results":"296","hashOfConfig":"268"},{"size":5475,"mtime":1665131819549,"results":"297","hashOfConfig":"268"},{"size":12112,"mtime":1665131819548,"results":"298","hashOfConfig":"268"},{"size":1496,"mtime":1665131819548,"results":"299","hashOfConfig":"268"},{"size":30756,"mtime":1665131819548,"results":"300","hashOfConfig":"268"},{"size":2139,"mtime":1665131819547,"results":"301","hashOfConfig":"268"},{"size":9317,"mtime":1665131819549,"results":"302","hashOfConfig":"268"},{"size":12887,"mtime":1665131819548,"results":"303","hashOfConfig":"268"},{"size":2987,"mtime":1665131819547,"results":"304","hashOfConfig":"268"},{"size":4675,"mtime":1665131819547,"results":"305","hashOfConfig":"268"},{"size":7697,"mtime":1665131819548,"results":"306","hashOfConfig":"268"},{"size":7653,"mtime":1665131819547,"results":"307","hashOfConfig":"268"},{"size":14474,"mtime":1665131819548,"results":"308","hashOfConfig":"268"},{"size":5988,"mtime":1665131819547,"results":"309","hashOfConfig":"268"},{"size":216,"mtime":1665131819547,"results":"310","hashOfConfig":"268"},{"size":15372,"mtime":1665131819549,"results":"311","hashOfConfig":"268"},{"size":43335,"mtime":1665131819547,"results":"312","hashOfConfig":"268"},{"size":1377,"mtime":1665131819488,"results":"313","hashOfConfig":"268"},{"size":707,"mtime":1665131819489,"results":"314","hashOfConfig":"268"},{"size":5150,"mtime":1665131819489,"results":"315","hashOfConfig":"268"},{"size":11957,"mtime":1665131819491,"results":"316","hashOfConfig":"268"},{"size":10060,"mtime":1665131819491,"results":"317","hashOfConfig":"268"},{"size":3435,"mtime":1665131819491,"results":"318","hashOfConfig":"268"},{"size":1754,"mtime":1665131819489,"results":"319","hashOfConfig":"268"},{"size":3085,"mtime":1665131819489,"results":"320","hashOfConfig":"268"},{"size":3182,"mtime":1665131819491,"results":"321","hashOfConfig":"268"},{"size":2599,"mtime":1665131819488,"results":"322","hashOfConfig":"268"},{"size":551,"mtime":1665131819489,"results":"323","hashOfConfig":"268"},{"size":1370,"mtime":1665131819491,"results":"324","hashOfConfig":"268"},{"size":410,"mtime":1665131819491,"results":"325","hashOfConfig":"268"},{"size":1388,"mtime":1665131819489,"results":"326","hashOfConfig":"268"},{"size":2180,"mtime":1665131819488,"results":"327","hashOfConfig":"268"},{"size":392,"mtime":1665131819492,"results":"328","hashOfConfig":"268"},{"size":664,"mtime":1665131819491,"results":"329","hashOfConfig":"268"},{"size":653,"mtime":1665131819492,"results":"330","hashOfConfig":"268"},{"size":1206,"mtime":1665131819491,"results":"331","hashOfConfig":"268"},{"size":7503,"mtime":1665131819490,"results":"332","hashOfConfig":"268"},{"size":1195,"mtime":1665131819491,"results":"333","hashOfConfig":"268"},{"size":771,"mtime":1665131819491,"results":"334","hashOfConfig":"268"},{"size":5142,"mtime":1665131819488,"results":"335","hashOfConfig":"268"},{"size":5406,"mtime":1665131819488,"results":"336","hashOfConfig":"268"},{"size":15863,"mtime":1665131819488,"results":"337","hashOfConfig":"268"},{"size":11251,"mtime":1665131819489,"results":"338","hashOfConfig":"268"},{"size":527,"mtime":1665131819489,"results":"339","hashOfConfig":"268"},{"size":1829,"mtime":1665131819490,"results":"340","hashOfConfig":"268"},{"size":406,"mtime":1665131819491,"results":"341","hashOfConfig":"268"},{"size":1379,"mtime":1665131819488,"results":"342","hashOfConfig":"268"},{"size":2840,"mtime":1665131819488,"results":"343","hashOfConfig":"268"},{"size":2713,"mtime":1665131819488,"results":"344","hashOfConfig":"268"},{"size":3296,"mtime":1665131819488,"results":"345","hashOfConfig":"268"},{"size":4655,"mtime":1665131819488,"results":"346","hashOfConfig":"268"},{"size":2402,"mtime":1665131819490,"results":"347","hashOfConfig":"268"},{"size":18252,"mtime":1665131819489,"results":"348","hashOfConfig":"268"},{"size":9761,"mtime":1665131819490,"results":"349","hashOfConfig":"268"},{"size":5225,"mtime":1665131819490,"results":"350","hashOfConfig":"268"},{"size":30437,"mtime":1665131819490,"results":"351","hashOfConfig":"268"},{"size":17428,"mtime":1665131819489,"results":"352","hashOfConfig":"268"},{"size":22902,"mtime":1665131819490,"results":"353","hashOfConfig":"268"},{"size":3144,"mtime":1665131819490,"results":"354","hashOfConfig":"268"},{"size":15173,"mtime":1665131819490,"results":"355","hashOfConfig":"268"},{"size":2085,"mtime":1665131819489,"results":"356","hashOfConfig":"268"},{"filePath":"357","messages":"358","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},"1d1ybuy",{"filePath":"360","messages":"361","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"362","messages":"363","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"364","messages":"365","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"366","messages":"367","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"368","messages":"369","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"370","usedDeprecatedRules":"359"},{"filePath":"371","messages":"372","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"373","messages":"374","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"375","messages":"376","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"377","messages":"378","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"379","usedDeprecatedRules":"359"},{"filePath":"380","messages":"381","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"382","usedDeprecatedRules":"359"},{"filePath":"383","messages":"384","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"385","usedDeprecatedRules":"359"},{"filePath":"386","messages":"387","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"388","usedDeprecatedRules":"359"},{"filePath":"389","messages":"390","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"391","messages":"392","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"393","usedDeprecatedRules":"359"},{"filePath":"394","messages":"395","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"396","usedDeprecatedRules":"359"},{"filePath":"397","messages":"398","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"399","usedDeprecatedRules":"359"},{"filePath":"400","messages":"401","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"402","usedDeprecatedRules":"359"},{"filePath":"403","messages":"404","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"405","usedDeprecatedRules":"359"},{"filePath":"406","messages":"407","errorCount":0,"fatalErrorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":0,"source":"408","usedDeprecatedRules":"359"},{"filePath":"409","messages":"410","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"411","usedDeprecatedRules":"359"},{"filePath":"412","messages":"413","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"414","usedDeprecatedRules":"359"},{"filePath":"415","messages":"416","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"417","usedDeprecatedRules":"359"},{"filePath":"418","messages":"419","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"420","usedDeprecatedRules":"359"},{"filePath":"421","messages":"422","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"423","usedDeprecatedRules":"359"},{"filePath":"424","messages":"425","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"426","usedDeprecatedRules":"359"},{"filePath":"427","messages":"428","errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"429","usedDeprecatedRules":"359"},{"filePath":"430","messages":"431","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"432","usedDeprecatedRules":"359"},{"filePath":"433","messages":"434","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"435","usedDeprecatedRules":"359"},{"filePath":"436","messages":"437","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"438","usedDeprecatedRules":"359"},{"filePath":"439","messages":"440","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"441","usedDeprecatedRules":"359"},{"filePath":"442","messages":"443","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"444","usedDeprecatedRules":"359"},{"filePath":"445","messages":"446","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"447","usedDeprecatedRules":"359"},{"filePath":"448","messages":"449","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"450","messages":"451","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"452","usedDeprecatedRules":"359"},{"filePath":"453","messages":"454","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"455","usedDeprecatedRules":"359"},{"filePath":"456","messages":"457","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"458","usedDeprecatedRules":"359"},{"filePath":"459","messages":"460","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"461","messages":"462","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"463","usedDeprecatedRules":"359"},{"filePath":"464","messages":"465","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"466","usedDeprecatedRules":"359"},{"filePath":"467","messages":"468","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"469","usedDeprecatedRules":"359"},{"filePath":"470","messages":"471","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"472","usedDeprecatedRules":"359"},{"filePath":"473","messages":"474","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"475","messages":"476","errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"477","usedDeprecatedRules":"359"},{"filePath":"478","messages":"479","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"480","usedDeprecatedRules":"359"},{"filePath":"481","messages":"482","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"483","messages":"484","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"485","usedDeprecatedRules":"359"},{"filePath":"486","messages":"487","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"488","usedDeprecatedRules":"359"},{"filePath":"489","messages":"490","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"491","usedDeprecatedRules":"359"},{"filePath":"492","messages":"493","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"494","usedDeprecatedRules":"359"},{"filePath":"495","messages":"496","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"497","messages":"498","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"499","usedDeprecatedRules":"359"},{"filePath":"500","messages":"501","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"502","messages":"503","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"504","messages":"505","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"506","messages":"507","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"508","messages":"509","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"510","usedDeprecatedRules":"359"},{"filePath":"511","messages":"512","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"513","usedDeprecatedRules":"359"},{"filePath":"514","messages":"515","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"516","messages":"517","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"518","messages":"519","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"520","messages":"521","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"522","messages":"523","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"524","messages":"525","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"526","messages":"527","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"528","usedDeprecatedRules":"359"},{"filePath":"529","messages":"530","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"531","usedDeprecatedRules":"359"},{"filePath":"532","messages":"533","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"534","messages":"535","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"536","usedDeprecatedRules":"359"},{"filePath":"537","messages":"538","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"539","usedDeprecatedRules":"359"},{"filePath":"540","messages":"541","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"542","usedDeprecatedRules":"359"},{"filePath":"543","messages":"544","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"545","usedDeprecatedRules":"359"},{"filePath":"546","messages":"547","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"548","messages":"549","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"550","usedDeprecatedRules":"359"},{"filePath":"551","messages":"552","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"553","messages":"554","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"555","usedDeprecatedRules":"359"},{"filePath":"556","messages":"557","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"558","usedDeprecatedRules":"359"},{"filePath":"559","messages":"560","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"561","usedDeprecatedRules":"359"},{"filePath":"562","messages":"563","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"564","usedDeprecatedRules":"359"},{"filePath":"565","messages":"566","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"567","usedDeprecatedRules":"359"},{"filePath":"568","messages":"569","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"570","usedDeprecatedRules":"359"},{"filePath":"571","messages":"572","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"573","messages":"574","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"575","usedDeprecatedRules":"359"},{"filePath":"576","messages":"577","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"578","usedDeprecatedRules":"359"},{"filePath":"579","messages":"580","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"581","usedDeprecatedRules":"359"},{"filePath":"582","messages":"583","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"584","usedDeprecatedRules":"359"},{"filePath":"585","messages":"586","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"587","usedDeprecatedRules":"359"},{"filePath":"588","messages":"589","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"590","usedDeprecatedRules":"359"},{"filePath":"591","messages":"592","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"359"},{"filePath":"593","messages":"594","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},"d3ijc3",{"filePath":"596","messages":"597","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"598","messages":"599","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"600","messages":"601","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"602","usedDeprecatedRules":"595"},{"filePath":"603","messages":"604","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"605","usedDeprecatedRules":"595"},{"filePath":"606","messages":"607","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"608","messages":"609","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"610","messages":"611","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"612","messages":"613","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"614","usedDeprecatedRules":"595"},{"filePath":"615","messages":"616","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"617","messages":"618","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"619","usedDeprecatedRules":"595"},{"filePath":"620","messages":"621","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"622","usedDeprecatedRules":"595"},{"filePath":"623","messages":"624","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"625","usedDeprecatedRules":"595"},{"filePath":"626","messages":"627","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"628","messages":"629","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"630","usedDeprecatedRules":"595"},{"filePath":"631","messages":"632","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"633","usedDeprecatedRules":"595"},{"filePath":"634","messages":"635","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"636","usedDeprecatedRules":"595"},{"filePath":"637","messages":"638","errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"639","usedDeprecatedRules":"595"},{"filePath":"640","messages":"641","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"642","usedDeprecatedRules":"595"},{"filePath":"643","messages":"644","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"645","usedDeprecatedRules":"595"},{"filePath":"646","messages":"647","errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"648","usedDeprecatedRules":"595"},{"filePath":"649","messages":"650","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"651","usedDeprecatedRules":"595"},{"filePath":"652","messages":"653","errorCount":0,"fatalErrorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":0,"source":"654","usedDeprecatedRules":"595"},{"filePath":"655","messages":"656","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"657","usedDeprecatedRules":"595"},{"filePath":"658","messages":"659","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"660","usedDeprecatedRules":"595"},{"filePath":"661","messages":"662","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"663","usedDeprecatedRules":"595"},{"filePath":"664","messages":"665","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"666","usedDeprecatedRules":"595"},{"filePath":"667","messages":"668","errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"669","usedDeprecatedRules":"595"},{"filePath":"670","messages":"671","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"672","usedDeprecatedRules":"595"},{"filePath":"673","messages":"674","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"675","usedDeprecatedRules":"595"},{"filePath":"676","messages":"677","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"678","usedDeprecatedRules":"595"},{"filePath":"679","messages":"680","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"681","messages":"682","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"683","usedDeprecatedRules":"595"},{"filePath":"684","messages":"685","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"686","usedDeprecatedRules":"595"},{"filePath":"687","messages":"688","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"689","usedDeprecatedRules":"595"},{"filePath":"690","messages":"691","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"692","usedDeprecatedRules":"595"},{"filePath":"693","messages":"694","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"695","usedDeprecatedRules":"595"},{"filePath":"696","messages":"697","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"698","messages":"699","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"700","usedDeprecatedRules":"595"},{"filePath":"701","messages":"702","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"703","usedDeprecatedRules":"595"},{"filePath":"704","messages":"705","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"706","usedDeprecatedRules":"595"},{"filePath":"707","messages":"708","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"709","usedDeprecatedRules":"595"},{"filePath":"710","messages":"711","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"712","usedDeprecatedRules":"595"},{"filePath":"713","messages":"714","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"715","usedDeprecatedRules":"595"},{"filePath":"716","messages":"717","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"718","messages":"719","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"720","messages":"721","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"722","messages":"723","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"724","usedDeprecatedRules":"595"},{"filePath":"725","messages":"726","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"727","usedDeprecatedRules":"595"},{"filePath":"728","messages":"729","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"730","usedDeprecatedRules":"595"},{"filePath":"731","messages":"732","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"733","usedDeprecatedRules":"595"},{"filePath":"734","messages":"735","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"736","messages":"737","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"738","messages":"739","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"740","messages":"741","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"742","usedDeprecatedRules":"595"},{"filePath":"743","messages":"744","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"745","messages":"746","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"747","messages":"748","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"749","messages":"750","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"751","usedDeprecatedRules":"595"},{"filePath":"752","messages":"753","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"754","usedDeprecatedRules":"595"},{"filePath":"755","messages":"756","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"757","messages":"758","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"759","messages":"760","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"761","messages":"762","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"763","usedDeprecatedRules":"595"},{"filePath":"764","messages":"765","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"766","usedDeprecatedRules":"595"},{"filePath":"767","messages":"768","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"769","usedDeprecatedRules":"595"},{"filePath":"770","messages":"771","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"772","messages":"773","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"774","messages":"775","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"776","usedDeprecatedRules":"595"},{"filePath":"777","messages":"778","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"779","usedDeprecatedRules":"595"},{"filePath":"780","messages":"781","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"782","usedDeprecatedRules":"595"},{"filePath":"783","messages":"784","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"785","usedDeprecatedRules":"786"},{"filePath":"787","messages":"788","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"789","usedDeprecatedRules":"595"},{"filePath":"790","messages":"791","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"792","messages":"793","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"794","usedDeprecatedRules":"595"},{"filePath":"795","messages":"796","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"797","usedDeprecatedRules":"595"},{"filePath":"798","messages":"799","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"800","usedDeprecatedRules":"595"},{"filePath":"801","messages":"802","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"803","messages":"804","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"805","usedDeprecatedRules":"595"},{"filePath":"806","messages":"807","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"808","messages":"809","errorCount":0,"fatalErrorCount":0,"warningCount":31,"fixableErrorCount":0,"fixableWarningCount":0,"source":"810","usedDeprecatedRules":"595"},{"filePath":"811","messages":"812","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"813","usedDeprecatedRules":"595"},{"filePath":"814","messages":"815","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"816","usedDeprecatedRules":"595"},{"filePath":"817","messages":"818","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"819","usedDeprecatedRules":"595"},{"filePath":"820","messages":"821","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"822","usedDeprecatedRules":"595"},{"filePath":"823","messages":"824","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"825","usedDeprecatedRules":"595"},{"filePath":"826","messages":"827","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"595"},{"filePath":"828","messages":"829","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"830","usedDeprecatedRules":"595"},{"filePath":"831","messages":"832","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"833","usedDeprecatedRules":"595"},"/Users/bc/Desktop/Nivid/src/index.js",[],["834","835"],"/Users/bc/Desktop/Nivid/src/reportWebVitals.js",[],"/Users/bc/Desktop/Nivid/src/App.js",[],"/Users/bc/Desktop/Nivid/src/components/RouteProvider.js",["836","837","838","839","840"],"/Users/bc/Desktop/Nivid/src/assets/base-context.js",[],"/Users/bc/Desktop/Nivid/src/context/userContext.js",["841","842","843","844","845","846"],"import React, { createContext, useState, useEffect, useContext } from \"react\";\r\nimport firebase from \"firebase/app\";\r\nimport { useFirebase } from \"../assets/base-context\";\r\nimport publicIp from \"public-ip\";\r\n\r\nimport Stripe from \"stripe\";\r\nimport functions from \"firebase/firebase-functions\";\r\nimport { inputAdornmentClasses } from \"@mui/material\";\r\n\r\nvar SibApiV3Sdk = require(\"sib-api-v3-sdk\");\r\n\r\nvar defaultClient = SibApiV3Sdk.ApiClient.instance;\r\n\r\nlet myAPIKey = process.env.REACT_APP_SENDINBLUE_APIKEY;\r\nvar apiKey = defaultClient.authentications[\"api-key\"];\r\napiKey.apiKey = myAPIKey;\r\n\r\nvar partnerKey = defaultClient.authentications[\"partner-key\"];\r\npartnerKey.apiKey = process.env.REACT_APP_SENDINBLUE_APIKEY;\r\n\r\nvar apiInstance = new SibApiV3Sdk.ContactsApi();\r\nvar createContact = new SibApiV3Sdk.CreateContact();\r\n\r\nvar apiInstanceSend = new SibApiV3Sdk.TransactionalEmailsApi();\r\nvar sendSmtpEmail = new SibApiV3Sdk.SendSmtpEmail();\r\n\r\n// Ce fichier comporte toutes les fonctions d'appels et de traitement bdd, et du context global.\r\n// Il englobe l'app dans App.js\r\n\r\nexport const UserContext = createContext();\r\n\r\nexport function useAuth() {\r\n  return useContext(UserContext);\r\n}\r\n\r\nexport const UserProvider = ({ children }) => {\r\n  const firebaseContext = useFirebase();\r\n  const auth = firebaseContext.auth();\r\n  const provider = firebaseContext.provider();\r\n  const storage = firebaseContext.storage();\r\n  const firestore = firebaseContext.firestore();\r\n\r\n  let datePlusYear = new Date();\r\n  datePlusYear.setFullYear(datePlusYear.getFullYear());\r\n\r\n  const initialEvent = {\r\n    name: \"\",\r\n    date: datePlusYear,\r\n    startAt: 0,\r\n    endAt: 86360,\r\n    people: 50,\r\n    placeSize: 250,\r\n    place: \"\",\r\n    latLng: [],\r\n    budget: 50,\r\n    budgetLeft: 0,\r\n    status: null,\r\n    id: null,\r\n    choosedServices: [],\r\n  };\r\n\r\n  const initialSeller = {\r\n    companyName: \"\",\r\n    adress: \"\",\r\n    siret: \"\",\r\n    website: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    phone: \"\",\r\n    description: \"\",\r\n    category: \"\",\r\n    subcategory: \"\",\r\n    image_path: \"\",\r\n  };\r\n\r\n  const [user, setUser] = useState();\r\n  const [seller, setSeller] = useState(initialSeller);\r\n  const [event, setEvent] = useState(initialEvent);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentStepProcess, setCurrentStepProcess] = useState(0);\r\n  const [loadingButtonAddToCard, setLoadingButtonAddToCard] = useState(true);\r\n\r\n  const refUsers = firestore.collection(\"users\");\r\n  const refEvents = firestore.collection(\"events\");\r\n  const refSellers = firestore.collection(\"sellers\");\r\n  const refSales = firestore.collection(\"sales\");\r\n\r\n  const [homeSellersDisplay, setHomeSellersDisplay] = useState([]);\r\n\r\n  const [isCardWidgetOpen, setIsCardWidgetOpen] = useState(false);\r\n\r\n  const createStripeCheckout = user\r\n    ? firebase.functions().httpsCallable(\"createStripeCheckout\")\r\n    : null;\r\n  const createStripeSubscribe = firebase\r\n    .functions()\r\n    .httpsCallable(\"createStripeSubscribe\");\r\n  const stripe =\r\n    user || seller\r\n      ? window.Stripe(\r\n          \"pk_test_51InLbZBwyEuW61Pj3yTYQlp31JobhK9vIKh32GColDUhXcdtzaKhWF5mVRDa9SGw7HujSuEDPCwvh40GEuo6uJxA00iqmaUXQp\"\r\n        )\r\n      : null;\r\n\r\n  const checkStripeReturn =\r\n    user || seller\r\n      ? firebase.functions().httpsCallable(\"checkStripeReturn\")\r\n      : null;\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((data) => {\r\n      return handleAuthChanged(data);\r\n    });\r\n  }, []);\r\n\r\n  async function handleAuthChanged(data) {\r\n    if (data) {\r\n      const isSeller = await isThisUserSeller(data.uid);\r\n      const isUser = await isThisUserUser(data.uid);\r\n      if (isSeller && !isUser) {\r\n        const sellerData = await getSellerDataFromDB(data.uid);\r\n        const sellerServices = await getServicesOfCurrentSellerFromDB();\r\n        setSeller({\r\n          ...initialSeller,\r\n          ...data,\r\n          ...sellerData,\r\n          services: sellerServices,\r\n        });\r\n        setUser();\r\n        setLoading(false);\r\n      } else if (isUser && !isSeller) {\r\n        if (data.emailVerified === false) {\r\n          setUser();\r\n          setSeller();\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        setUser(data);\r\n        setSeller();\r\n        const eventData = await getEvent(data.uid);\r\n        eventData && eventData !== null\r\n          ? await getChoosedServices(eventData)\r\n          : setEvent(initialEvent);\r\n        setLoading(false);\r\n      } else if (isSeller && isUser) {\r\n        const sellerData = await getSellerDataFromDB(data.uid);\r\n        setSeller({ ...initialSeller, ...data, ...sellerData });\r\n        setUser(data);\r\n        const eventData = await getEvent(data.uid);\r\n        eventData && eventData !== null\r\n          ? await getChoosedServices(eventData)\r\n          : setEvent(initialEvent);\r\n        setLoading(false);\r\n      }\r\n    } else {\r\n      setSeller();\r\n      setUser();\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function getSellerDataFromDB(id) {\r\n    const query = await refSellers.doc(id).get();\r\n    const result = query.data();\r\n    return result;\r\n  }\r\n\r\n  async function isThisUserSeller(id) {\r\n    const doc = await refSellers.doc(id).get();\r\n    if (doc.exists) return true;\r\n    return false;\r\n  }\r\n\r\n  async function isThisUserUser(id) {\r\n    const doc = await refUsers.doc(id).get();\r\n    if (doc.exists) return true;\r\n    return false;\r\n  }\r\n\r\n  async function getEvent(uid) {\r\n    const getEvent = await refEvents.where(\"user\", \"==\", uid).get();\r\n    if (getEvent.docs.length > 0) {\r\n      let item = {};\r\n      getEvent.docs.forEach((doc) => {\r\n        const data = doc.data();\r\n        if (data.status && data.status !== \"passed\") {\r\n          item = { ...data };\r\n          item.date = data.date.toMillis();\r\n          item.id = doc.id;\r\n        }\r\n      });\r\n      return item && item.status && item.status !== \"passed\" ? item : null;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  async function addEvent(item) {\r\n    const myEvent = { ...item };\r\n    delete myEvent.id;\r\n    let myNewEvent;\r\n\r\n    if (item.status !== \"creating\") {\r\n      myNewEvent = await createEvent(myEvent);\r\n    }\r\n\r\n    if (item.status === \"creating\") {\r\n      // event existant\r\n      myNewEvent = await updateEvent(item, myEvent);\r\n    }\r\n    await getChoosedServices(myNewEvent);\r\n  }\r\n\r\n  async function createEvent(myEvent) {\r\n    const req = await refUsers.doc(myEvent.user).get();\r\n    const res = req.data();\r\n    var identifier = res.email;\r\n\r\n    var updateContact = {\r\n      attributes: {\r\n        NOTIF_DATE: new Date(myEvent.date),\r\n        EVENTID: event.id,\r\n      },\r\n    };\r\n\r\n    apiInstance.updateContact(identifier, updateContact).then(\r\n      () => {},\r\n      (error) => {\r\n        console.error(error);\r\n      }\r\n    );\r\n\r\n    myEvent.status = \"creating\";\r\n    const docRef = await refEvents.add({\r\n      ...myEvent,\r\n      date: new Date(myEvent.date),\r\n    });\r\n    myEvent.id = docRef.id;\r\n    return myEvent;\r\n  }\r\n\r\n  async function updateEvent(item, myEvent) {\r\n    if (item.place !== event.place) {\r\n      const getServices = await refEvents\r\n        .doc(item.id)\r\n        .collection(\"services\")\r\n        .get();\r\n      getServices.docs.forEach(async (doc) => {\r\n        await refEvents\r\n          .doc(item.id)\r\n          .collection(\"services\")\r\n          .doc(doc.id)\r\n          .delete();\r\n      });\r\n    }\r\n\r\n    await refEvents.doc(item.id).update({\r\n      ...myEvent,\r\n      date: new Date(myEvent.date),\r\n    });\r\n    myEvent.id = item.id;\r\n    return myEvent;\r\n  }\r\n\r\n  async function getBudgetLeft(budget, choosedServices) {\r\n    let totalPrice = 0;\r\n    choosedServices.forEach((item) => {\r\n      if (item.variations && item.variations.length > 0) {\r\n        totalPrice +=\r\n          item.variations.filter((vari) => vari.name === item.variation)[0]\r\n            .price * item.quantity;\r\n      } else totalPrice += item.price * item.quantity;\r\n    });\r\n    const result = budget - totalPrice;\r\n    return result;\r\n  }\r\n\r\n  async function getChoosedServices(item) {\r\n    let choosedServices = [];\r\n    const services = await refEvents.doc(item.id).collection(\"services\").get();\r\n    services.forEach((doc) => {\r\n      choosedServices.push({ ...doc.data(), uid: doc.id });\r\n    });\r\n    const queryPrice = await getBudgetLeft(item.budget, choosedServices);\r\n    const neWObject = {\r\n      ...item,\r\n      budgetLeft: queryPrice,\r\n      choosedServices: choosedServices,\r\n    };\r\n    return setEvent(neWObject);\r\n  }\r\n\r\n  async function login(email, password) {\r\n    return await auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((data) => {\r\n        if (data.user.emailVerified === false) {\r\n          setSeller();\r\n          setUser();\r\n          return false;\r\n        }\r\n        setUser(data.user);\r\n        return true;\r\n      });\r\n  }\r\n\r\n  async function verifyLogin(email, password) {\r\n    const data = await auth.signInWithEmailAndPassword(email, password);\r\n    return data;\r\n  }\r\n\r\n  async function subscribe(\r\n    email,\r\n    password,\r\n    firstName,\r\n    name,\r\n    tel,\r\n    gender,\r\n    birthDate\r\n  ) {\r\n    return auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then(async (userData) => {\r\n        await userData.user.updateProfile({\r\n          displayName: firstName,\r\n        });\r\n        await refUsers\r\n          .doc(userData.user.uid)\r\n          .set({\r\n            firstName: firstName,\r\n            name: name,\r\n            tel: tel,\r\n            gender: gender,\r\n            birthDate: birthDate,\r\n            email: email,\r\n          })\r\n          .catch((error) => {\r\n            return console.log(error);\r\n          });\r\n        userData.user.sendEmailVerification();\r\n        setUser();\r\n        setSeller();\r\n        sendInBlue_addContactSubscribe(email, firstName);\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        return error.code;\r\n      });\r\n  }\r\n\r\n  async function sellerSubscribe(\r\n    companyName,\r\n    adress,\r\n    siret,\r\n    website,\r\n    firstName,\r\n    lastName,\r\n    email,\r\n    phone,\r\n    password,\r\n    latLng,\r\n    referral\r\n  ) {\r\n    const referralToken =\r\n      Date.now().toString().substr(0, 5) +\r\n      Math.random().toString().substr(2, 7);\r\n    return auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then(async (userData) => {\r\n        await userData.user.updateProfile({\r\n          displayName: firstName,\r\n        });\r\n        await refSellers\r\n          .doc(userData.user.uid)\r\n          .set({\r\n            companyName: companyName,\r\n            adress: adress,\r\n            latLng: latLng,\r\n            siret: siret,\r\n            website: website,\r\n            firstName: firstName,\r\n            lastName: lastName,\r\n            phone: phone,\r\n            email: email,\r\n            image_path: \"\",\r\n            status: \"subscribing\",\r\n            referralToken: referralToken,\r\n            referral: referral,\r\n          })\r\n          .catch((error) => {\r\n            return console.log(error);\r\n          });\r\n        if (referral.length === 12) {\r\n          await updateSellerAfterReferralNewSeller(referral, userData.user.uid);\r\n          sendInBlue_sendToParrainAboutNewReferral(referral);\r\n        }\r\n        sendInBlue_addContactSubscribe(\r\n          email,\r\n          firstName,\r\n          lastName,\r\n          userData.user.uid\r\n        );\r\n        setUser();\r\n        setSeller({\r\n          companyName: companyName,\r\n          adress: adress,\r\n          latLng: latLng,\r\n          siret: siret,\r\n          website: website,\r\n          firstName: firstName,\r\n          lastName: lastName,\r\n          phone: phone,\r\n          email: email,\r\n          image_path: \"\",\r\n          status: \"subscribing\",\r\n          referralToken: referralToken,\r\n          referral: referral,\r\n          uid: userData.user.uid\r\n        });\r\n        userData.user.sendEmailVerification();\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        return error.code;\r\n      });\r\n  }\r\n\r\n  async function updateSellerAfterReferralNewSeller(referral, newSellerUid) {\r\n    const docs = await refSellers.where(\"referralToken\", \"==\", referral).get();\r\n    let docSeller = {};\r\n    docs.forEach((doc) => {\r\n      docSeller = { ...doc.data(), uid: doc.id };\r\n    });\r\n    if (\r\n      docSeller.uid !== undefined &&\r\n      docSeller.uid !== null &&\r\n      docSeller.uid.length > 10\r\n    ) {\r\n      refSellers\r\n        .doc(docSeller.uid)\r\n        .collection(\"referral\")\r\n        .add({\r\n          newSeller: newSellerUid,\r\n          date: Date.now(),\r\n        })\r\n        .catch((error) => {\r\n          return console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  function logout() {\r\n    return auth.signOut();\r\n  }\r\n\r\n  async function signInWithGoogle() {\r\n    const result = await auth.signInWithPopup(provider);\r\n    /** @type {firebase.auth.OAuthCredential} */\r\n    var credential = result.credential;\r\n\r\n    // This gives you a Google Access Token. You can use it to access the Google API.\r\n    var token = credential.accessToken;\r\n    // The signed-in user info.\r\n    var user = result.user;\r\n    var doc = await refUsers.doc(user.uid).get();\r\n    if (doc.exists) {\r\n      setUser(auth.currentUser);\r\n    } else {\r\n      await refUsers.doc(user.uid).set({\r\n        firstName: user.displayName,\r\n        email: user.email,\r\n      });\r\n      setUser(auth.currentUser);\r\n    }\r\n  }\r\n\r\n  // Ajouter un service au panier ( BBD et state )\r\n  async function addToCard(sellerID, item, quantity) {\r\n    // Checkons si ce service est deja present dans la liste de cette event\r\n    const newEvent = { ...event };\r\n\r\n    const refCurrentService = refEvents.doc(event.id).collection(\"services\");\r\n\r\n    const doc = await refCurrentService\r\n      .where(\"id\", \"==\", item.id)\r\n      .where(\"variation\", \"==\", item.variation)\r\n      .get();\r\n    const refService = doc.exists && doc.data();\r\n\r\n    // Si le service existe dans les service séléctionnés pour cet event, on actualise juste en renseignant la nouvelle quantity ( BBD et state )\r\n    if (doc.docs.length > 0) {\r\n      await refCurrentService\r\n        .doc(doc.docs[0].id)\r\n        .update({ quantity: quantity });\r\n      //Ici on chope le service concerné dans le state, puis on le modifie pour ajouter la quantity, et on actualise le state\r\n      const services = [...event.choosedServices];\r\n      const service = services.find(\r\n        (service) =>\r\n          service.variation === item.variation && service.id === item.id\r\n      );\r\n      service.quantity = quantity;\r\n      newEvent.choosedServices = services;\r\n      getChoosedServices(newEvent);\r\n      setLoadingButtonAddToCard(false);\r\n    }\r\n    // Mais si le service n'existe pas, on l'ajoute completement ( BBD et state )\r\n    else {\r\n      const itemCopy = { ...item };\r\n      itemCopy.quantity = quantity;\r\n      const newService = [];\r\n      await refCurrentService.add(itemCopy);\r\n      newService.push(item);\r\n      newEvent.choosedServices.push(newService[0]);\r\n      getChoosedServices(newEvent);\r\n      setLoadingButtonAddToCard(false);\r\n    }\r\n    setIsCardWidgetOpen(true);\r\n  }\r\n\r\n  function getServiceQuantityInCard(id) {\r\n    const services = [...event.choosedServices];\r\n    const servicefiltered = services.filter((service) => service.id === id);\r\n    let count = 0;\r\n    if (servicefiltered.length > 1)\r\n      servicefiltered.forEach((service) => (count += service.quantity));\r\n    else if (servicefiltered.length > 0) count += servicefiltered[0].quantity;\r\n    return count;\r\n  }\r\n\r\n  async function updateQuantityService(serviceID, quantity) {\r\n    if (quantity === undefined) return;\r\n    quantity = parseInt(quantity);\r\n\r\n    if (quantity !== 0) {\r\n      await refEvents\r\n        .doc(event.id)\r\n        .collection(\"services\")\r\n        .doc(serviceID)\r\n        .update({ quantity: quantity });\r\n    } else {\r\n      await refEvents\r\n        .doc(event.id)\r\n        .collection(\"services\")\r\n        .doc(serviceID)\r\n        .delete();\r\n    }\r\n\r\n    const eventData = await getEvent(auth.currentUser.uid);\r\n    await getChoosedServices(eventData);\r\n    setLoading(false);\r\n    return;\r\n  }\r\n\r\n  function formatLabelTimePicker(secs) {\r\n    if (secs === 86400) secs = 86360;\r\n    var minutes = Math.floor(secs / 60);\r\n    var hours = Math.floor(minutes / 60);\r\n    minutes = minutes % 60;\r\n    return `${hours}:${(\"0\" + minutes).slice(-2)}`;\r\n  }\r\n\r\n  async function getAuthUserFromHisEmail(email) {\r\n    return auth\r\n      .sendPasswordResetEmail(email)\r\n      .then(() => {\r\n        return true;\r\n      })\r\n      .catch(function (error) {\r\n        if (error.code === \"auth/invalid-email\") {\r\n          return \"invalid\";\r\n        } else if (error.code === \"auth/user-not-found\") {\r\n          return \"notexist\";\r\n        }\r\n      });\r\n  }\r\n\r\n  async function updateUserEmail(email) {\r\n    var user = auth.currentUser;\r\n    await user.updateEmail(email);\r\n    await refUsers.doc(user.uid).update({ email: email });\r\n    await user.sendEmailVerification();\r\n    return true;\r\n  }\r\n\r\n  async function getCurrentUserProfil() {\r\n    var uid = auth.currentUser.uid;\r\n    const doc = await refUsers.doc(uid).get();\r\n    return doc.exists ? doc.data() : null;\r\n  }\r\n\r\n  async function updateCurrentUserProfil(data) {\r\n    var uid = auth.currentUser.uid;\r\n    refUsers.doc(uid).update(data);\r\n    user.updateProfile({\r\n      displayName: data.firstName,\r\n    });\r\n  }\r\n\r\n  async function setImageSellerDB(url, token) {\r\n    await refSellers.doc(auth.currentUser.uid).update({\r\n      image_path: { url: url, token: token },\r\n    });\r\n  }\r\n\r\n  async function addSellerDescription(data, imgURL) {\r\n    await refSellers.doc(auth.currentUser.uid).update({\r\n      description: data.description,\r\n      category: data.category,\r\n      subcategory: data.subcategory,\r\n    });\r\n    setSeller({\r\n      ...seller,\r\n      description: data.description,\r\n      category: data.category,\r\n      subcategory: data.subcategory,\r\n      image_path: imgURL !== null && imgURL,\r\n    });\r\n  }\r\n\r\n  async function addSellerServices(services) {\r\n    setSeller({ ...seller, services: services });\r\n    services.forEach(async (service) => {\r\n      if (service.id.length > 2) {\r\n        return await refSellers\r\n          .doc(auth.currentUser.uid)\r\n          .collection(\"services\")\r\n          .doc(service.id)\r\n          .update(service);\r\n      }\r\n      return await refSellers\r\n        .doc(auth.currentUser.uid)\r\n        .collection(\"services\")\r\n        .add(service);\r\n    });\r\n  }\r\n\r\n  async function addOneSellerService(service) {\r\n    if (service.id.length > 2) {\r\n      return await refSellers\r\n        .doc(auth.currentUser.uid)\r\n        .collection(\"services\")\r\n        .doc(service.id)\r\n        .update(service);\r\n    }\r\n    const docRef = await refSellers\r\n      .doc(auth.currentUser.uid)\r\n      .collection(\"services\")\r\n      .add(service);\r\n    return docRef.id;\r\n  }\r\n\r\n  async function getServicesOfCurrentSellerFromDB() {\r\n    const services = await refSellers\r\n      .doc(auth.currentUser.uid)\r\n      .collection(\"services\")\r\n      .get();\r\n    var result = [];\r\n    services.docs.forEach((doc) => {\r\n      const newResult = { ...doc.data(), id: doc.id };\r\n      result.push(newResult);\r\n    });\r\n    return result;\r\n  }\r\n\r\n  async function addSellerDocuments(documents) {\r\n    return await refSellers.doc(auth.currentUser.uid).update({\r\n      documents: documents,\r\n    });\r\n  }\r\n\r\n  async function getSellerDocumentsFromDB() {\r\n    const query = await refSellers.doc(auth.currentUser.uid).get();\r\n    const doc = query.data();\r\n    const result = doc.documents && doc.documents;\r\n    if (result === undefined) return null;\r\n    return result;\r\n  }\r\n\r\n  async function setSellerStatus(sellerId, status) {\r\n    await refSellers.doc(sellerId).update({\r\n      status: status,\r\n    });\r\n    return setSeller({ ...seller, status: status });\r\n  }\r\n\r\n  async function updateSellerDocumentsStatus(sellerId, newDocumentsArray) {\r\n    await refSellers.doc(sellerId).update({\r\n      documents: newDocumentsArray,\r\n    });\r\n\r\n    newDocumentsArray.status === \"rejected\" &&\r\n      (await refSellers.doc(sellerId).update({\r\n        status: \"subscribing\",\r\n      }));\r\n  }\r\n\r\n  async function getSellersInDbWithUids(ids) {\r\n    let sellers = [];\r\n    for (const id in ids) {\r\n      const req = await refSellers.doc(ids[id]).get();\r\n      let result = req.data();\r\n      result.uid = req.id;\r\n      sellers = [...sellers, result];\r\n      if (sellers.length === ids.length) {\r\n        return sellers;\r\n      }\r\n    }\r\n  }\r\n\r\n  // TODO ICi on a la fonction pour delete la photo de profil qu'on ecrase en a remplaceant, faudra faire la meme avec les autres endroits du site avec uploda de picture\r\n  async function deleteOldSellerPicture(tokens, type) {\r\n    tokens.forEach((token) => {\r\n      var imageRef =\r\n        type && type === \"services\"\r\n          ? storage.ref(\"services\").child(token)\r\n          : storage.ref(\"sellers\").child(token);\r\n      imageRef.delete().catch((error) => console.log(error));\r\n    });\r\n  }\r\n\r\n  async function addSalesInDB(sales) {\r\n    return sales.map(async (sale) => await refSales.add(sale));\r\n  }\r\n\r\n  async function getSalesOfEventIdFromDB(eventId) {\r\n    const req = await refSales.where(\"eventID\", \"==\", eventId).get();\r\n    let salesOfEvent = [];\r\n    req.forEach((doc) => salesOfEvent.push(doc.data()));\r\n    return salesOfEvent;\r\n  }\r\n\r\n  async function getSalesOfSellerIdFromDB(sellerId) {\r\n    const req = await refSales.where(\"sellerID\", \"==\", sellerId).get();\r\n    let salesOfSeller = [];\r\n    req.forEach((doc) => salesOfSeller.push(doc.data()));\r\n    return salesOfSeller;\r\n  }\r\n\r\n  async function updateEventStatus(status) {\r\n    await refEvents.doc(event.id).update({ status: status });\r\n    return setEvent({ ...event, status: status });\r\n  }\r\n\r\n  async function clearEvent() {\r\n    setEvent(initialEvent);\r\n  }\r\n\r\n  async function getEventOfSaleFromDB(eventId) {\r\n    const req = await refEvents.doc(eventId).get();\r\n    let newEvent = req.data();\r\n    newEvent.choosedServices = [];\r\n\r\n    const reqServices = await refEvents\r\n      .doc(eventId)\r\n      .collection(\"services\")\r\n      .get();\r\n    reqServices.forEach((doc) => {\r\n      newEvent.choosedServices = [...newEvent.choosedServices, doc.data()];\r\n    });\r\n    return newEvent;\r\n  }\r\n\r\n  function formateToDate(timestamp) {\r\n    const date = new Date(timestamp);\r\n    const year = date.getUTCFullYear();\r\n    const month = date.getMonth() + 1;\r\n    const day = date.getDate();\r\n    return `${day}/${month < 10 ? \"0\" : \"\"}${month}/${year}`;\r\n  }\r\n\r\n  function formateToDateWithWords(timestamp) {\r\n    const date = new Date(\r\n      timestamp.seconds ? timestamp.seconds * 1000 : timestamp\r\n    );\r\n    const year = date.getUTCFullYear();\r\n    let month = date.getMonth() + 1;\r\n    const day = date.getDate();\r\n    month =\r\n      month === 1\r\n        ? \"janv\"\r\n        : month === 2\r\n        ? \"févr\"\r\n        : month === 3\r\n        ? \"mars\"\r\n        : month === 4\r\n        ? \"avril\"\r\n        : month === 5\r\n        ? \"mai\"\r\n        : month === 6\r\n        ? \"juin\"\r\n        : month === 7\r\n        ? \"juil\"\r\n        : month === 8\r\n        ? \"aout\"\r\n        : month === 9\r\n        ? \"sept\"\r\n        : month === 10\r\n        ? \"oct\"\r\n        : month === 11\r\n        ? \"nov\"\r\n        : month === 12 && \"déc\";\r\n    return `${day} ${month} ${year}`;\r\n  }\r\n\r\n  function formateToDateWithFullWords(timestamp) {\r\n    const date = new Date(timestamp);\r\n    const year = date.getUTCFullYear();\r\n    let month = date.getMonth() + 1;\r\n    const day = date.getDate();\r\n    month =\r\n      month === 1\r\n        ? \"janvier\"\r\n        : month === 2\r\n        ? \"février\"\r\n        : month === 3\r\n        ? \"mars\"\r\n        : month === 4\r\n        ? \"avril\"\r\n        : month === 5\r\n        ? \"mai\"\r\n        : month === 6\r\n        ? \"juin\"\r\n        : month === 7\r\n        ? \"juillet\"\r\n        : month === 8\r\n        ? \"aout\"\r\n        : month === 9\r\n        ? \"septembre\"\r\n        : month === 10\r\n        ? \"octobre\"\r\n        : month === 11\r\n        ? \"novembre\"\r\n        : month === 12 && \"décembre\";\r\n    return `${day} ${month} ${year}`;\r\n  }\r\n\r\n  async function updateSaleStatusInDB(saleID, sellerID, status) {\r\n    const req = await refSales\r\n      .where(\"sellerID\", \"==\", sellerID)\r\n      .where(\"id\", \"==\", saleID)\r\n      .get();\r\n    let saleUID;\r\n    let userID;\r\n    let sale;\r\n    req.forEach((doc) => {\r\n      sale = doc.data();\r\n      saleUID = doc.id;\r\n      userID = sale.userID;\r\n    });\r\n    const req2 = await refUsers.doc(userID).get();\r\n    const user = req2.data();\r\n    await refSales.doc(saleUID).update({ status });\r\n    sendInBlue_sendNotificationToUserOfSaleStatus(\r\n      user,\r\n      seller.companyName,\r\n      sale\r\n    );\r\n  }\r\n\r\n  async function updateSaleNote(saleID, note) {\r\n    const req = await refSales\r\n      .where(\"sellerID\", \"==\", auth.currentUser.uid)\r\n      .where(\"id\", \"==\", saleID)\r\n      .get();\r\n    let saleUID;\r\n    req.forEach((doc) => (saleUID = doc.id));\r\n    await refSales.doc(saleUID).update({ note });\r\n    return;\r\n  }\r\n\r\n  function dateTodayMinusByDay(day) {\r\n    const date = new Date();\r\n    date.setHours(date.getHours() - 24 * day);\r\n    return date;\r\n  }\r\n\r\n  async function addViewsOfSeller(sellerID) {\r\n    const visitorIP = await publicIp.v4();\r\n    const reqViews = await refSellers.doc(sellerID).collection(\"views\").get();\r\n\r\n    let recentViews = [];\r\n\r\n    reqViews.forEach(async (doc) => {\r\n      const view = doc.data();\r\n      if (\r\n        view.ip === visitorIP &&\r\n        view.date.seconds * 1000 > dateTodayMinusByDay(1)\r\n      ) {\r\n        recentViews = [...recentViews, view];\r\n      }\r\n    });\r\n    if (recentViews.length === 0) {\r\n      await refSellers\r\n        .doc(sellerID)\r\n        .collection(\"views\")\r\n        .add({\r\n          date: new Date(Date.now()),\r\n          ip: visitorIP,\r\n        });\r\n    }\r\n  }\r\n\r\n  async function getViewsOfSeller(sellerID) {\r\n    const reqViews = await refSellers.doc(sellerID).collection(\"views\").get();\r\n    let res = [];\r\n    reqViews.forEach((doc) => res.push(doc.data()));\r\n    return res;\r\n  }\r\n\r\n  async function isSellerAllowedToModifyAndDeleteService(serviceID) {\r\n    const req = await refSales\r\n      .where(\"sellerID\", \"==\", auth.currentUser.uid)\r\n      .get();\r\n    let sellerSales = [];\r\n    req.forEach((doc) => sellerSales.push(doc.data()));\r\n\r\n    let isAllowed = true;\r\n    sellerSales.forEach((sale) => {\r\n      if (sale.status !== \"passed\" && sale.status !== \"rejected\") {\r\n        sale.choosedServices.forEach((service) => {\r\n          if (service.id === serviceID) isAllowed = false;\r\n        });\r\n      }\r\n    });\r\n    return isAllowed;\r\n  }\r\n\r\n  async function deleteServiceOfSeller(serviceID) {\r\n    return await refSellers\r\n      .doc(auth.currentUser.uid)\r\n      .collection(\"services\")\r\n      .doc(serviceID)\r\n      .delete();\r\n  }\r\n\r\n  async function updateSellerProfil(data) {\r\n    await auth.currentUser.updateProfile({\r\n      displayName: data.firstName,\r\n    });\r\n    await refSellers.doc(auth.currentUser.uid).update({\r\n      companyName: data.companyName,\r\n      website: data.website,\r\n      firstName: data.firstName,\r\n      lastName: data.lastName,\r\n      phone: data.phone,\r\n    });\r\n    return setSeller({\r\n      ...seller,\r\n      companyName: data.companyName,\r\n      website: data.website,\r\n      firstName: data.firstName,\r\n      lastName: data.lastName,\r\n      phone: data.phone,\r\n    });\r\n  }\r\n\r\n  async function getSellerReferralCountFromDB() {\r\n    const res = await refSellers\r\n      .doc(auth.currentUser.uid)\r\n      .collection(\"referral\")\r\n      .get();\r\n    let newArray = [];\r\n    res.forEach((doc) => newArray.push(doc.data()));\r\n\r\n    let finalArray = [];\r\n    for (const item of newArray) {\r\n      const req = await refSellers.doc(item.newSeller).get();\r\n      const res = req.data();\r\n      if (res.status === \"opened\") finalArray = [...finalArray, res];\r\n    }\r\n    return finalArray.length;\r\n  }\r\n\r\n  async function getEventFromUid(uid) {\r\n    const req = await refEvents.doc(uid).get();\r\n    return req.data();\r\n  }\r\n\r\n  async function getReviewsOfSellerUid(uid) {\r\n    const req = await refSellers.doc(uid).collection(\"reviews\").get();\r\n    let reviews = [];\r\n    req.forEach((doc) => reviews.push(doc.data()));\r\n    return reviews;\r\n  }\r\n\r\n  async function addReviewOfSellerUid(sellerUID, eventID, note, comment, name) {\r\n    return await refSellers\r\n      .doc(sellerUID)\r\n      .collection(\"reviews\")\r\n      .add({\r\n        eventID: eventID,\r\n        note: note,\r\n        comment: comment,\r\n        name: name,\r\n        date: new Date(),\r\n        eventDate: event.date,\r\n      })\r\n      .then((res) => {\r\n        setTotalNoteOfSeller(sellerUID);\r\n        return true;\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  async function setTotalNoteOfSeller(sellerUID) {\r\n    const reqReviews = await refSellers\r\n      .doc(sellerUID)\r\n      .collection(\"reviews\")\r\n      .get();\r\n    const reviewsCount = reqReviews.docs.length;\r\n    let totalNote = 0;\r\n    reqReviews.forEach((doc) => {\r\n      const data = doc.data();\r\n      totalNote += data.note;\r\n    });\r\n    let sellerNote = totalNote / reviewsCount;\r\n    sellerNote = sellerNote.toFixed();\r\n    await refSellers.doc(sellerUID).update({\r\n      note: sellerNote,\r\n    });\r\n    return true;\r\n  }\r\n\r\n  async function getSellerPosition(sellerUID) {\r\n    const reqSellers = await refSellers.get();\r\n    let sellersWithNote = [];\r\n    reqSellers.forEach((doc) => {\r\n      const data = doc.data();\r\n      if (data.note === undefined) return;\r\n      const seller = { note: data.note, id: doc.id };\r\n      sellersWithNote.push(seller);\r\n    });\r\n\r\n    sellersWithNote.sort((a, b) => {\r\n      if (a.note > b.note) return -1;\r\n      if (a.note < b.note) return 1;\r\n      return 0;\r\n    });\r\n    const index = sellersWithNote.findIndex((item) => item.id === sellerUID);\r\n    return index + 1;\r\n  }\r\n\r\n  async function getSellersCount() {\r\n    const req = await refSellers.get();\r\n    return req.docs.length;\r\n  }\r\n\r\n  async function sendInBlue_addContactSubscribe(\r\n    email,\r\n    firstName,\r\n    lastName,\r\n    uid\r\n  ) {\r\n    createContact = {\r\n      email: email,\r\n      listIds: [4],\r\n      attributes: {\r\n        PRENOM: firstName,\r\n        NOM: lastName && lastName,\r\n        UID: uid ? uid : 0,\r\n      },\r\n    };\r\n\r\n    apiInstance.createContact(createContact).then(\r\n      function (data) {\r\n        console.log(\"API called successfully.\");\r\n      },\r\n      function (error) {\r\n        console.error(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  async function sendInBlue_sendRecapToUserAfterPayment(email, sales, event) {\r\n    let newSales = [];\r\n    let paid = 0;\r\n    let total = 0;\r\n    sales.forEach((sale) => {\r\n      refSellers\r\n        .doc(sale.sellerID)\r\n        .get()\r\n        .then((doc) => {\r\n          const seller = doc.data();\r\n          const newSale = { ...sale, name: seller.companyName };\r\n          newSales = [...newSales, newSale];\r\n\r\n          total = total + sale.total;\r\n          paid = paid + sale.paid;\r\n        });\r\n    });\r\n\r\n    sendSmtpEmail = {\r\n      to: [\r\n        {\r\n          email: email,\r\n        },\r\n      ],\r\n      params: {\r\n        sales: newSales,\r\n        event: event,\r\n        paid: paid,\r\n        total: total,\r\n      },\r\n      templateId: 10,\r\n      headers: {\r\n        \"X-Mailin-custom\":\r\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\r\n      },\r\n    };\r\n\r\n    apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\r\n      function (data) {\r\n        console.log(\"API called successfully. Returned data: \");\r\n      },\r\n      function (error) {\r\n        console.error(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  async function sendInBlue_sendNewSaleToSeller(email, services, event) {\r\n    sendSmtpEmail = {\r\n      to: [\r\n        {\r\n          email: email,\r\n        },\r\n      ],\r\n      params: {\r\n        services: services,\r\n        event: event,\r\n      },\r\n      templateId: 12,\r\n      headers: {\r\n        \"X-Mailin-custom\":\r\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\r\n      },\r\n    };\r\n\r\n    apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\r\n      function (data) {\r\n        console.log(\"API called successfully. Returned data: \");\r\n      },\r\n      function (error) {\r\n        console.error(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  async function sendInBlue_sendNotificationToSellerOfReview(email, name) {\r\n    sendSmtpEmail = {\r\n      to: [\r\n        {\r\n          email: email,\r\n        },\r\n      ],\r\n      params: {\r\n        name: name,\r\n      },\r\n      templateId: 4,\r\n      headers: {\r\n        \"X-Mailin-custom\":\r\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\r\n      },\r\n    };\r\n\r\n    apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\r\n      function (data) {\r\n        console.log(\"API called successfully. Returned data: \");\r\n      },\r\n      function (error) {\r\n        console.error(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  async function sendInBlue_sendNotificationToUserOfSaleStatus(\r\n    user,\r\n    prestName,\r\n    sale\r\n  ) {\r\n    sendSmtpEmail = {\r\n      to: [\r\n        {\r\n          email: user.email,\r\n        },\r\n      ],\r\n      params: {\r\n        prestName: prestName,\r\n        userName: user.firstName,\r\n        services: sale.choosedServices,\r\n      },\r\n      templateId:\r\n        sale.status === \"rejected\" ? 8 : sale.status === \"validated\" && 9,\r\n      headers: {\r\n        \"X-Mailin-custom\":\r\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\r\n      },\r\n    };\r\n\r\n    apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\r\n      function (data) {\r\n        console.log(\"API called successfully. Returned data: \");\r\n      },\r\n      function (error) {\r\n        console.error(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  async function getTotalAmountDueToSeller(sellerId) {\r\n    const req = await refSales\r\n      .where(\r\n        \"sellerID\",\r\n        \"==\",\r\n        sellerId !== undefined ? sellerId : auth.currentUser.uid\r\n      )\r\n      .get();\r\n    let salesOfSeller = [];\r\n    req.forEach((doc) => {\r\n      salesOfSeller = [...salesOfSeller, doc.data()];\r\n    });\r\n    const validSales = salesOfSeller.filter(\r\n      (sale) => sale.total === sale.paid && sale.status === \"validated\"\r\n    ); // à mettre en passed je pense\r\n    const prices = validSales.map((sale) => sale.price);\r\n    let finalAmount = 0;\r\n    prices.forEach((price) => {\r\n      finalAmount = finalAmount + price;\r\n    });\r\n    return finalAmount;\r\n  }\r\n\r\n  async function sendInBlue_sendPaymentRequestToAdmin(sellerId) {\r\n    const amount = await getTotalAmountDueToSeller(sellerId);\r\n\r\n    sendSmtpEmail = {\r\n      to: [\r\n        {\r\n          email: process.env.REACT_APP_ADMIN_EMAIL,\r\n        },\r\n      ],\r\n      params: {\r\n        sellerId: sellerId,\r\n        amount: amount,\r\n      },\r\n      templateId: 16,\r\n      headers: {\r\n        \"X-Mailin-custom\":\r\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\r\n      },\r\n    };\r\n\r\n    apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\r\n      function (data) {\r\n        console.log(\"API called successfully. Returned data: \");\r\n      },\r\n      function (error) {\r\n        console.error(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  async function sendInBlue_sendBillRequestToAdmin(transactionID, sellerID) {\r\n    sendSmtpEmail = {\r\n      to: [\r\n        {\r\n          email: process.env.REACT_APP_ADMIN_EMAIL,\r\n        },\r\n      ],\r\n      params: {\r\n        sellerId: sellerID,\r\n        transactionId: transactionID,\r\n      },\r\n      templateId: 17,\r\n      headers: {\r\n        \"X-Mailin-custom\":\r\n          \"Content-Type:application/json|custom_header_2:custom_value_2\",\r\n      },\r\n    };\r\n\r\n    return apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\r\n      function (data) {\r\n        console.log(\"API called successfully. Returned data: \");\r\n        return true;\r\n      },\r\n      function (error) {\r\n        console.error(error);\r\n        return false;\r\n      }\r\n    );\r\n  }\r\n\r\n  async function sendInBlue_addContactToNewsletter(email) {\r\n    createContact = {\r\n      email: email,\r\n      listIds: [5],\r\n    };\r\n\r\n    return apiInstance.createContact(createContact).then(\r\n      function (data) {\r\n        return true;\r\n      },\r\n      function (error) {\r\n        console.log(error);\r\n        return false;\r\n      }\r\n    );\r\n  }\r\n\r\n  async function sendInBlue_sendInvitations(emails, message, user, event) {\r\n    let emailsArray = [];\r\n    let emailsArrayWithList = [];\r\n    emails.forEach((email) => {\r\n      const newEntry = { email: email };\r\n      const newEntryList = {\r\n        email: email,\r\n        listIds: [6],\r\n        attributes: {\r\n          EVENT_DATE: new Date(event.date),\r\n        },\r\n      };\r\n      emailsArray = [...emailsArray, newEntry];\r\n      emailsArrayWithList = [...emailsArrayWithList, newEntryList];\r\n    });\r\n\r\n    const eventDate = formateToDateWithFullWords(event.date);\r\n    const startAt = formatLabelTimePicker(event.startAt);\r\n    const endAt = formatLabelTimePicker(event.endAt);\r\n    const creneaux = startAt + \" et \" + endAt;\r\n\r\n    sendSmtpEmail = {\r\n      to: emailsArray,\r\n      params: {\r\n        prenom: user.displayName,\r\n        message: message,\r\n        nomEvent: event.name,\r\n        adresse: event.place,\r\n        invites: event.people,\r\n        date: eventDate,\r\n        creneaux: creneaux,\r\n      },\r\n      templateId: 7,\r\n      headers: {\r\n        \"X-Mailin-custom\":\r\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\r\n      },\r\n    };\r\n\r\n    return apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\r\n      function (data) {\r\n        return true;\r\n      },\r\n      function (error) {\r\n        return false;\r\n      }\r\n    );\r\n  }\r\n\r\n  async function getWishList(userID) {\r\n    const req = await refUsers.doc(userID).get();\r\n    const res = req.data();\r\n    return res.wishlist || [];\r\n  }\r\n\r\n  async function deleteItemFromWishList(sellerID) {\r\n    let newWishList = await getWishList(auth.currentUser.uid);\r\n    newWishList = newWishList.filter((item) => item !== sellerID);\r\n    await refUsers.doc(auth.currentUser.uid).update({\r\n      wishlist: newWishList,\r\n    });\r\n    return newWishList;\r\n  }\r\n\r\n  async function addItemToWishListOfUser(sellerID) {\r\n    let newWishList = await getWishList(auth.currentUser.uid);\r\n    newWishList = [...newWishList, sellerID];\r\n    refUsers.doc(auth.currentUser.uid).update({\r\n      wishlist: newWishList,\r\n    });\r\n    return;\r\n  }\r\n\r\n  async function getWishListCountOfSeller(sellerID) {\r\n    const users = await refUsers\r\n      .where(\"wishlist\", \"array-contains\", sellerID)\r\n      .get();\r\n    return users.docs.length;\r\n  }\r\n\r\n  async function isSellerInWishListOfUser(id) {\r\n    const currentWishList = await getWishList(auth.currentUser.uid);\r\n    const isSellerInList = currentWishList.filter((item) => item === id);\r\n\r\n    return isSellerInList.length > 0 ? true : false;\r\n  }\r\n\r\n  async function getEmailOfSellerWithUid(sellerID) {\r\n    const query = await refSellers.doc(sellerID).get();\r\n    const result = query.data();\r\n    return result.email;\r\n  }\r\n\r\n  async function sendInBlue_sendToParrainAboutNewReferral(referralCode) {\r\n    // Aller choper en bdd le seller correspondant au referral code\r\n    const query = await refSellers\r\n      .where(\"referralToken\", \"==\", referralCode)\r\n      .get();\r\n    const result = query[0].data();\r\n    const email = result.email;\r\n\r\n    // Puis envoyer à ce seller le mail de new referral\r\n    sendSmtpEmail = {\r\n      to: [\r\n        {\r\n          email: email,\r\n        },\r\n      ],\r\n      params: {\r\n        name: \"a\",\r\n      },\r\n      templateId: 14,\r\n      headers: {\r\n        \"X-Mailin-custom\":\r\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\r\n      },\r\n    };\r\n\r\n    apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\r\n      function (data) {\r\n        console.log(\"API called successfully. Returned data: \");\r\n      },\r\n      function (error) {\r\n        console.error(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  function checkoutStart(price) {\r\n    const saleToken =\r\n      Date.now().toString().substr(0, 9) +\r\n      Math.random().toString().substr(2, 9);\r\n    refEvents.doc(event.id).update({\r\n      saleToken: saleToken,\r\n    });\r\n    createStripeCheckout({\r\n      price: price,\r\n      eventId: event.id,\r\n      saleToken: saleToken,\r\n    })\r\n      .then((response) => {\r\n        const sessionId = response.data.id;\r\n        stripe.redirectToCheckout({ sessionId: sessionId });\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  function checkoutSubscription() {\r\n    const saleToken =\r\n      Date.now().toString().substr(0, 9) +\r\n      Math.random().toString().substr(2, 9);\r\n    refSellers.doc(seller.uid).update({\r\n      saleToken: saleToken,\r\n    });\r\n    createStripeSubscribe({\r\n      sellerID: seller.uid,\r\n      saleToken: saleToken,\r\n    })\r\n      .then((response) => {\r\n        const sessionId = response.data.id;\r\n        stripe.redirectToCheckout({ sessionId: sessionId });\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  async function getSaleTokenOfEventFromDb() {\r\n    const req = await refEvents.doc(event.id).get();\r\n    const res = req.data();\r\n    return res.saleToken;\r\n  }\r\n\r\n  async function checkoutCheck(session_id) {\r\n    return checkStripeReturn({ session_id: session_id }).then((result) => {\r\n      return {\r\n        status: result.data.payment_status,\r\n        amount: result.data.amount_total,\r\n        id: result.data.payment_intent || result.data.subscription,\r\n      };\r\n    });\r\n  }\r\n\r\n  async function addFoodTypeToSeller(type) {\r\n    if (type === \"Aucun\") return;\r\n    let newSeller = { ...seller };\r\n    let newFoodTypes = [];\r\n    if (seller.foodTypes === undefined) {\r\n      newFoodTypes.push(type);\r\n    } else {\r\n      newFoodTypes = seller.foodTypes;\r\n      newFoodTypes.push(type);\r\n    }\r\n    newSeller[\"foodTypes\"] = newFoodTypes;\r\n    await refSellers.doc(auth.currentUser.uid).update({\r\n      foodTypes: newFoodTypes,\r\n    });\r\n    setSeller(newSeller);\r\n  }\r\n\r\n  async function deleteFoodTypeToSeller(serviceID) {\r\n    const req = await refSellers\r\n      .doc(auth.currentUser.uid)\r\n      .collection(\"services\")\r\n      .doc(serviceID)\r\n      .get();\r\n    const data = req.data();\r\n    const type = data.foodType;\r\n\r\n    if (type === \"Aucun\") return;\r\n    let newSeller = { ...seller };\r\n    let newFoodTypes = [];\r\n    if (seller.foodTypes === undefined) return;\r\n    else {\r\n      newFoodTypes = seller.foodTypes;\r\n      let indexes = seller.foodTypes\r\n        .map((item, index) => (item === type ? index : \"\"))\r\n        .filter(String);\r\n      if (indexes[0] === -1) return;\r\n      else if (newFoodTypes.length > 1) {\r\n        newFoodTypes.splice(indexes[0], 1);\r\n      } else newFoodTypes = [];\r\n\r\n      newSeller[\"foodTypes\"] = newFoodTypes;\r\n      await refSellers.doc(auth.currentUser.uid).update({\r\n        foodTypes: newFoodTypes,\r\n      });\r\n      setSeller(newSeller);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        login,\r\n        subscribe,\r\n        sellerSubscribe,\r\n        logout,\r\n        user,\r\n        seller,\r\n        event,\r\n        setUser,\r\n        setSeller,\r\n        addEvent,\r\n        addToCard,\r\n        getServiceQuantityInCard,\r\n        loadingButtonAddToCard,\r\n        setLoadingButtonAddToCard,\r\n        setCurrentStepProcess,\r\n        currentStepProcess,\r\n        formatLabelTimePicker,\r\n        getAuthUserFromHisEmail,\r\n        updateUserEmail,\r\n        updateQuantityService,\r\n        signInWithGoogle,\r\n        getCurrentUserProfil,\r\n        verifyLogin,\r\n        updateCurrentUserProfil,\r\n        addSellerDescription,\r\n        setImageSellerDB,\r\n        addSellerServices,\r\n        addOneSellerService,\r\n        getServicesOfCurrentSellerFromDB,\r\n        addSellerDocuments,\r\n        getSellerDocumentsFromDB,\r\n        setSellerStatus,\r\n        updateSellerDocumentsStatus,\r\n        getSellersInDbWithUids,\r\n        deleteOldSellerPicture,\r\n        addSalesInDB,\r\n        updateEventStatus,\r\n        getSalesOfEventIdFromDB,\r\n        clearEvent,\r\n        getSalesOfSellerIdFromDB,\r\n        getEventOfSaleFromDB,\r\n        formateToDate,\r\n        formateToDateWithWords,\r\n        updateSaleStatusInDB,\r\n        updateSaleNote,\r\n        addViewsOfSeller,\r\n        getViewsOfSeller,\r\n        isSellerAllowedToModifyAndDeleteService,\r\n        deleteServiceOfSeller,\r\n        updateSellerProfil,\r\n        getSellerReferralCountFromDB,\r\n        getEventFromUid,\r\n        getReviewsOfSellerUid,\r\n        addReviewOfSellerUid,\r\n        sendInBlue_sendNotificationToSellerOfReview,\r\n        sendInBlue_addContactToNewsletter,\r\n        sendInBlue_sendInvitations,\r\n        sendInBlue_sendRecapToUserAfterPayment,\r\n        sendInBlue_sendNewSaleToSeller,\r\n        sendInBlue_sendToParrainAboutNewReferral,\r\n        sendInBlue_sendPaymentRequestToAdmin,\r\n        getWishList,\r\n        deleteItemFromWishList,\r\n        addItemToWishListOfUser,\r\n        isSellerInWishListOfUser,\r\n        getEmailOfSellerWithUid,\r\n        checkoutStart,\r\n        getSaleTokenOfEventFromDb,\r\n        checkoutCheck,\r\n        getTotalAmountDueToSeller,\r\n        homeSellersDisplay,\r\n        setHomeSellersDisplay,\r\n        getWishListCountOfSeller,\r\n        getSellerPosition,\r\n        getSellersCount,\r\n        sendInBlue_sendBillRequestToAdmin,\r\n        addFoodTypeToSeller,\r\n        deleteFoodTypeToSeller,\r\n        isCardWidgetOpen,\r\n        setIsCardWidgetOpen,\r\n        checkoutSubscription,\r\n        refSellers,\r\n      }}\r\n    >\r\n      {!loading && children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n","/Users/bc/Desktop/Nivid/src/assets/base.js",[],"/Users/bc/Desktop/Nivid/src/components/ScrollToTop.js",[],"/Users/bc/Desktop/Nivid/src/components/PrivateRoute.js",[],"/Users/bc/Desktop/Nivid/src/components/Header.js",["847","848","849","850","851","852","853","854"],"import React, { useState, useEffect } from 'react';\r\nimport '../styles/Header.css'\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport logo from \"../images/logoBlack.svg\"\r\nimport logoWhite from \"../images/logoWhite.svg\"\r\nimport { useAuth } from \"../context/userContext\";\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { HamburgerSlider } from 'react-animated-burgers'\r\nimport disableScroll from 'disable-scroll';\r\n\r\nconst Header = ({ active }) => {\r\n\r\n    const { logout, user, seller } = useAuth() // context\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [isNavActive, setIsNavActive] = useState(false)\r\n    const [isPopinActive, setIsPopinActive] = useState(false)\r\n    const [isButtonHover, setIsButtonHover] = useState(false)\r\n    const [isScroll, setIsScroll] = useState(false)\r\n\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n\r\n    const isMobile = () => (windowsWidth > 1100) ? false : true\r\n    const handleResize = (width) => setWindowsWidth(width)\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n        disableScroll.off()\r\n    }, [])\r\n\r\n    async function handleLogOut() {\r\n        try {\r\n            await logout()\r\n        } catch {\r\n            console.log(\"erreur logout\")\r\n        }\r\n    }\r\n\r\n    function handleBurgerClicked() {\r\n        isScroll ? disableScroll.off() : disableScroll.on()\r\n        setIsNavActive(!isNavActive)\r\n        setIsScroll(!isScroll)\r\n    }\r\n\r\n    const accountButton = () => {\r\n        return <div\r\n            className=\"header_button_login\"\r\n            onMouseLeave={() => setTimeout(() => setIsButtonHover(false), 100)}\r\n            onMouseOver={() => setIsButtonHover(true)}\r\n        >\r\n            {\r\n                (!user && !seller) ?\r\n                    <button\r\n                        onClick={() => setIsPopinActive(!isPopinActive)}\r\n                        className={(location.pathname === \"/contact\" || isPopinActive) ? \"white margintopbutton smallButton\" : \"orange smallButton\"}>\r\n                        {isPopinActive ? \"Fermer\" : \"Se connecter\"}\r\n                    </button>\r\n                    : (user) ?\r\n                        <>\r\n                            <button\r\n                                onClick={() => history.push(\"/compte\")}\r\n                                className={`smallButton ${location.pathname === \"/contact\" ? \"white\" : \"orange\"} ${isButtonHover ? \"onHover\" : \"\"}`}>\r\n                                Mon compte\r\n                            </button>\r\n                            {isMobile() && <button onClick={() => handleLogOut()} className=\"white largeButton\">Deconnexion</button>}\r\n                            {(!isMobile() && isButtonHover) &&\r\n                                <div className=\"subMenu\">\r\n                                    <a href=\"/\" onClick={() => handleLogOut()}>Se déconnecter</a>\r\n                                </div>\r\n                            }\r\n                        </>\r\n                        : (seller) &&\r\n                        <>\r\n                            <button\r\n                                onClick={() => history.push(\"/mon-compte-partenaire\")}\r\n                                className={location.pathname === \"/contact\" ? \"white smallButton\" : \"orange smallButton\"}>\r\n                                Mon compte\r\n                            </button>\r\n                            {isMobile() && <button onClick={() => handleLogOut()} className=\"white largeButton\">Deconnexion</button>}\r\n                            {(!isMobile() && isButtonHover) &&\r\n                                <div className=\"subMenu\">\r\n                                    <a href=\"/\" onClick={() => handleLogOut()}>Se déconnecter</a>\r\n                                </div>\r\n                            }\r\n                        </>\r\n            }\r\n\r\n            <CSSTransition\r\n                in={isPopinActive}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"loginPopup_background\">\r\n                    <div className=\"loginPopup\">\r\n                        <h1 class=\"chooseheader\">Que souhaitez-vous faire ?</h1>\r\n                        <div className=\"loginChoose\">\r\n                            <div>\r\n                                <h1>Vous êtes particulier ?</h1>\r\n                                <p>Pour organiser votre évènement sans prise de tête c’est par ici !</p>\r\n                                <button onClick={() => history.push('/compte')} className=\"orange smallButton\">Je me connecte</button>\r\n                            </div>\r\n                            {/* {isMobile() && <div className=\"divider\"></div>} */}\r\n                            <div>\r\n                                <h1>Vous êtes partenaire ?</h1>\r\n                                <p>Boostez vos revenus en toute simplicité et entrez dans leurs fêtes !</p>\r\n                                <button onClick={() => history.push('/acces-prestataire')} className=\"orange smallButton\">Je me connecte</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </CSSTransition>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <header\r\n            className={`${isMobile() && \"mobile\"} ${location.pathname === \"/\" && \" white\"} ${location.pathname === \"/contact\" && \"contact\"}`}\r\n        >\r\n            <div onClick={() => history.push('/')} className=\"logoContainer\">\r\n                <img alt=\"\" src={((location.pathname === \"/\" && !isNavActive) || location.pathname === \"/contact\" && !isNavActive) ? logoWhite : logo} />\r\n            </div>\r\n            <CSSTransition\r\n                in={isNavActive || !isMobile()}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <nav className={isNavActive && \"active\"}>\r\n                    <ul>\r\n                        <li className={isLinkActive(\"/\")}>\r\n                            <Link to=\"/\">Accueil</Link>\r\n                        </li>\r\n                        <li className={isLinkActive(\"/qui-sommes-nous\")}>\r\n                            <Link to=\"/qui-sommes-nous\">Qui sommes-nous ?</Link>\r\n                        </li>\r\n                        {seller && \r\n                            <li className={isLinkActive(\"/mon-compte-partenaire/process/description\")}>\r\n                                <Link to=\"/mon-compte-partenaire/process/description\">Accès entreprise</Link>\r\n                            </li>\r\n                        }\r\n                        <li className={isLinkActive(\"/blog\")}>\r\n                            <Link to=\"/blog\">Blog</Link>\r\n                        </li>\r\n                        <li className={isLinkActive(\"/contact\")}>\r\n                            <Link to=\"/contact\">Contact</Link>\r\n                        </li>\r\n                        {\r\n                            isMobile() &&\r\n                            <>\r\n                                <li>\r\n                                    <Link to=\"/faq\">FAQ</Link>\r\n                                </li>\r\n                                {/* <li>\r\n                                    <Link to=\"/faq\">Mentions légales</Link>\r\n                                </li>\r\n                                <li className=\"socialNetwork\">\r\n                                    <span>Facebook</span>\r\n                                    <span>Twitter</span>\r\n                                    <span>Instagram</span>\r\n                                </li> */}\r\n                                {accountButton()}\r\n                            </>\r\n\r\n                        }\r\n                    </ul>\r\n                </nav>\r\n            </CSSTransition>\r\n            {!isMobile() && accountButton()}\r\n            {isMobile() &&\r\n                <div className=\"burgerMenuContainer\">\r\n                <style>\r\n                    {\r\n                    `\r\n                    .sc-dlfnuX {\r\n                        width: ${!isNavActive ? '25px !important' : '40px !important'};\r\n                        background-color:${((location.pathname === \"/\" && !isNavActive) || location.pathname === \"/contact\" && !isNavActive) ? 'white !important' : 'black !important'};\r\n                        right: 0px;\r\n                    }\r\n                    .sc-dlfnuX::before {\r\n                        width: 40px !important;\r\n                        background-color: ${((location.pathname === \"/\" && !isNavActive) || location.pathname === \"/contact\" && !isNavActive) ? 'white !important;' : 'black !important;'};\r\n                        right: 0px;\r\n                        }\r\n                        \r\n                    .sc-dlfnuX::after {\r\n                    width: ${!isNavActive ? '33px !important' : '40px !important'};\r\n                    background-color: ${((location.pathname === \"/\" && !isNavActive) || location.pathname === \"/contact\" && !isNavActive) ? 'white !important' : 'black !important'};\r\n                    right: 0px;\r\n                    }\r\n                    `\r\n                    }\r\n                </style>\r\n                    <HamburgerSlider onClick={() => handleBurgerClicked()} isActive={isNavActive} />\r\n                </div>\r\n            }\r\n        </header>\r\n    )\r\n}\r\n\r\nfunction isLinkActive(link) {\r\n    if (link === window.location.pathname) { return \"active\" }\r\n}\r\n\r\nexport default Header;","/Users/bc/Desktop/Nivid/src/components/PrivateSellerRoute.js",["855","856"],"import React from 'react'\r\nimport { Redirect, Route } from 'react-router-dom'\r\nimport { useAuth } from '../context/userContext'\r\n\r\nexport default function PrivateRoute({ comp: Component, ...rest }) {\r\n    const { seller } = useAuth()\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props => {\r\n                return /*seller ? */<Component {...props} />/* : <Redirect to='/acces-prestataire' />*/\r\n            }}\r\n        >\r\n        </Route>\r\n    )\r\n}","/Users/bc/Desktop/Nivid/src/components/Prest_ProcessContainer.js",["857","858"],"import React, { useState, useEffect } from \"react\";\r\nimport logo from '../images/Logo Nivid - Noir.png'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ProgressBar from 'react-bootstrap/ProgressBar';\r\nimport { useAuth } from '../context/userContext'\r\n\r\n\r\nconst Prest_ProcessContainer = () => {\r\n\r\n    const history = useHistory()\r\n    const { currentStepProcess } = useAuth()\r\n\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n\r\n    }, [window.innerWidth])\r\n\r\n    const isMobile = () => (windowsWidth > 1100 ? false : true);\r\n    const handleResize = (width) => setWindowsWidth(width);\r\n\r\n    function getPourcentBar() {\r\n        if (windowsWidth > 1100) {\r\n            if (currentStepProcess === 0) { return 0; }\r\n            else if (currentStepProcess === 1) { return 24.5; }\r\n            else if (currentStepProcess === 2) { return 52.6; }\r\n            else if (currentStepProcess === 3 || currentStepProcess === 4) { return 80; }\r\n        }\r\n        else {\r\n            return 100\r\n        }\r\n    }\r\n\r\n    function handlePreviousStep() {\r\n        const lastStep = currentStepProcess\r\n        if (lastStep === 1) {\r\n            history.push('/mon-compte-partenaire/process/abonnement')\r\n        }\r\n        if (lastStep === 2) {\r\n            history.push('/mon-compte-partenaire/process/description')\r\n        }\r\n        else if (lastStep === 3) {\r\n            history.push('/mon-compte-partenaire/process/services')\r\n        }\r\n        else if (lastStep === 4) {\r\n            history.push('/mon-compte-partenaire/process/verification-1')\r\n        }\r\n        else {\r\n            history.push('/mon-compte-partenaire')\r\n        }\r\n    }\r\n\r\n    return currentStepProcess !== 0 && (\r\n        <div>\r\n            <div className=\"headerStepCreateEvent bootstrapStyle\">\r\n                <header>\r\n                    <div>\r\n                        <div onClick={() => history.push('/dashboard')} className={!isMobile() ? \"logoContainer\" : \"logoContainer mobile\"}>\r\n                            <img alt=\"\" className=\"logo\" src={logo} />\r\n                        </div>\r\n                        <div className={!isMobile() ? \"stepBack\" : \"stepBack mobile\"}>\r\n                            <a href=\"#\" onClick={() => handlePreviousStep()}>Revenir à l'étape précédente</a>\r\n                        </div>\r\n                    </div>\r\n                </header>\r\n                    {!isMobile() ?\r\n                        <div className=\"stepCreateEvent\">\r\n                            <div className={currentStepProcess === 1 ? \"step left active\" : \"step left\"}>\r\n                                <p>Prestations</p>\r\n                            </div>\r\n                            <div className={currentStepProcess === 2 ? \"step active\" : \"step\"}>\r\n                                <p>Services & Produits</p>\r\n                            </div>\r\n                            <div className={currentStepProcess === 3 || currentStepProcess === 4 ? \"step right active\" : \"step right\"}>\r\n                                <p>Vérification</p>\r\n                            </div>\r\n                        </div>\r\n                        :\r\n                        <div className=\"stepCreateEvent mobile\">\r\n                            <div className=\"step active\">\r\n                                <p>{\r\n                                    currentStepProcess === 1 ? \"Prestations\"\r\n                                        : currentStepProcess === 2 ? \"Services & Produits\"\r\n                                            : (currentStepProcess === 3 || currentStepProcess === 4) && \"Vérification\"\r\n                                }</p>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                <ProgressBar now={getPourcentBar()} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Prest_ProcessContainer;\r\n","/Users/bc/Desktop/Nivid/src/components/ProcessContainer.js",["859","860","861"],"import React, { useState, useEffect } from \"react\";\r\nimport logo from \"../images/logoBlack.svg\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ProgressBar from \"react-bootstrap/ProgressBar\";\r\nimport CartWidget from \"./CartWidget\";\r\nimport { useAuth } from \"../context/userContext\";\r\n\r\nconst ProcessContainer = (props) => {\r\n  const history = useHistory();\r\n  const { currentStepProcess, user } = useAuth();\r\n\r\n  const [windowsWidth, setWindowsWidth] = useState(window.innerWidth);\r\n\r\n  const isMobile = () => (windowsWidth > 1100 ? false : true);\r\n  const handleResize = (width) => setWindowsWidth(width);\r\n\r\n  useEffect(() => {\r\n    if (user.emailVerified === false) history.push(\"/dashboard\");\r\n  });\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth));\r\n  }, [window.innerWidth]);\r\n\r\n  function getPourcentBar() {\r\n    if (windowsWidth > 1100) {\r\n      return currentStepProcess === 1\r\n        ? 24.5\r\n        : currentStepProcess === 2 || currentStepProcess === 21\r\n        ? 52.6\r\n        : (currentStepProcess === 3 ||\r\n            currentStepProcess === 31 ||\r\n            currentStepProcess === 32) &&\r\n          80;\r\n    } else return 100;\r\n  }\r\n\r\n  function handlePreviousStep() {\r\n    const lastStep = currentStepProcess;\r\n    if (lastStep == 21) history.push(\"/creer-mon-evenement/etape-2\");\r\n    else if (lastStep === 31 || lastStep === 32) history.push(\"/dashboard\");\r\n    else if (lastStep > 1 && lastStep !== 21)\r\n      history.push(`/creer-mon-evenement/etape-${lastStep - 1}`);\r\n    else history.push(\"/dashboard\");\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"headerStepCreateEvent bootstrapStyle\">\r\n        <header className=\"process\">\r\n          <div>\r\n            <div\r\n              onClick={() => history.push('/dashboard')} className={!isMobile() ? \"logoContainer\" : \"logoContainer mobile\"}\r\n            >\r\n              <img alt=\"\" className=\"logo\" src={logo} />\r\n            </div>\r\n            <div className={!isMobile() ? \"stepBack\" : \"stepBack mobile\"}>\r\n              <a href=\"#\" onClick={() => handlePreviousStep()}>\r\n                Revenir à l'étape précédente\r\n              </a>\r\n            </div>\r\n            {currentStepProcess !== 1 &&\r\n              currentStepProcess !== 3 &&\r\n              currentStepProcess !== 31 &&\r\n              currentStepProcess !== 32 && <CartWidget isMobile={isMobile()} />}\r\n          </div>\r\n          {!isMobile() ? (\r\n            <div className=\"stepCreateEvent\">\r\n              <div\r\n                className={\r\n                  currentStepProcess === 1 ? \"step left active\" : \"step left\"\r\n                }\r\n              >\r\n                <p>Partie 1</p>\r\n              </div>\r\n              <div\r\n                className={\r\n                  currentStepProcess === 2 || currentStepProcess === 21\r\n                    ? \"step active\"\r\n                    : \"step\"\r\n                }\r\n              >\r\n                <p>Partie 2</p>\r\n              </div>\r\n              <div\r\n                className={\r\n                  currentStepProcess === 3 ||\r\n                  currentStepProcess === 31 ||\r\n                  currentStepProcess === 32\r\n                    ? \"step right active\"\r\n                    : \"step right\"\r\n                }\r\n              >\r\n                <p>Partie 3</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"stepCreateEvent mobile\">\r\n              <div className=\"step active\">\r\n                <p>Partie {currentStepProcess.toString().substr(0, 1)}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </header>\r\n        <ProgressBar now={getPourcentBar()} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProcessContainer;\r\n","/Users/bc/Desktop/Nivid/src/components/Footer.js",[],"/Users/bc/Desktop/Nivid/src/pages/Pepites.js",["862","863"],"import React, { useState, useEffect } from \"react\";\r\nimport '../styles/Pepites.css'\r\nimport imgTest from '../images/CARREMENT-FLEUR-FLEURISTE-FRANCHISE-BOUTIQUE-MAGASIN__7_.png'\r\nimport Image from '../components/utilities/Image'\r\nimport { useAuth } from \"../context/userContext\";\r\nimport { useHistory } from 'react-router-dom'\r\n\r\n\r\nconst Pepites = (props) => {\r\n    const history = useHistory()\r\n    const { homeSellersDisplay } = useAuth() // context\r\n\r\n    useEffect(() => {\r\n        homeSellersDisplay.length === 0 && history.push('/')\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <div className=\"pepitesPage\">\r\n                <h1>Les <span>pépites</span> de votre quartier</h1>\r\n                <p>En plus de la grande qualité de services et produits qu’ils offrent, nos prestataires sont sélectionnés selon nos critères écologiques et sociétaux.</p>\r\n                <div className=\"pepitesPage_content\">\r\n                    {\r\n                        homeSellersDisplay\r\n                        .slice(0, 4)\r\n                        .map(item => {\r\n                            return <div className=\"pepitesPage_item\">\r\n                                <div className=\"pepitesPage_item_top\">\r\n                                    <div className=\"pepitesPage_item_top_img\">\r\n                                        <Image url={item.image_path.url} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"pepitesPage_item_bottom\">\r\n                                    <h4>{item.companyName}</h4>\r\n                                    <p>{item.subcategory}</p>\r\n\r\n                                </div>\r\n                            </div>\r\n                        })\r\n                    }\r\n                </div>\r\n                <div className=\"pepitesPage_bottom\">\r\n                    <h3>Ça vous inspire ?</h3>\r\n                    <button onClick={() => history.push('/dashboard')} className=\"green largeButton\">Je commence mon évènement</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Pepites;\r\n","/Users/bc/Desktop/Nivid/src/pages/Subscribe.js",["864","865"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Login.css\"\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport logo from \"../images/Logo Nivid - Noir.png\"\r\nimport { useAuth } from \"../context/userContext\"; // context\r\n\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport frLocale from 'date-fns/locale/fr';\r\nimport MobileDatePicker from '@mui/lab/MobileDatePicker';\r\n\r\nimport { ButtonLarge } from '../components/utilities/Buttons'\r\n\r\nconst Subscribe = () => {\r\n\r\n    const [firstName, setFirstName] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [emailConfirm, setEmailConfirm] = useState(\"\");\r\n    const [tel, setTel] = useState(\"\");\r\n    const [birthDate, setBirthDate] = useState(new Date('January 1, 1989'));\r\n    const [gender, setGender] = useState(\"h\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [passwordConfirm, setPasswordConfirm] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [fieldError, setFieldError] = useState(\"\");\r\n\r\n    const [signinFlag, setSigninFlag] = useState(0)\r\n\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [isCalendarOpened, setIsCalendarOpened] = useState(false);\r\n\r\n\r\n    const { subscribe, signInWithGoogle } = useAuth() // context\r\n    const history = useHistory()\r\n\r\n\r\n    function isMobile() {\r\n        if (windowsWidth > 1100) {\r\n            return false\r\n        }\r\n        else {\r\n            return true\r\n        }\r\n    }\r\n\r\n    function handleResize(width) {\r\n        setWindowsWidth(width)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n    }, [])\r\n\r\n    async function handleSubscribeForm(e) {\r\n        e.preventDefault()\r\n        const valid = await isValid()\r\n        if (valid === true) {\r\n            const res = await subscribe(email, password, firstName, name, tel, gender, birthDate)\r\n            if (res === \"auth/email-already-in-use\") {\r\n                setError(\"Cet email est déjà utilisé\")\r\n            }\r\n            else if (res === true) {\r\n                history.push('/confirmation')\r\n            }\r\n        }\r\n    }\r\n\r\n    async function isValid() {\r\n        // else if(birthDate !== 0) {setError(\"Veuillez renseigner votre nom\")} A faire avec la date de naissance\r\n        if (firstName.length > 1) {\r\n            if (name.length > 1) {\r\n                if (tel.toString().length === 0 || (tel.toString().length === 10)) {\r\n                    if (password.length >= 8) {\r\n                        if (password === passwordConfirm) {\r\n                            if (email === emailConfirm) {\r\n                                return true\r\n                            }\r\n                            else {\r\n                                setError(\"La confirmation de l'email ne correspond pas\")\r\n                                setFieldError(\"emailconfirm\")\r\n                            }\r\n                        }\r\n                        else {\r\n                            setError(\"La confirmation du mot de passe ne correspond pas\")\r\n                            setFieldError(\"passwordconfirm\")\r\n                        }\r\n                    }\r\n                    else {\r\n                        setError(\"Votre mot de passe doit contenir au moins 8 caractères\")\r\n                        setFieldError(\"password\")\r\n                    }\r\n                }\r\n                else {\r\n                    setError(\"Veuillez renseigner un numéro de téléphone valide\")\r\n                    setFieldError(\"tel\")\r\n                }\r\n            }\r\n            else {\r\n                setError(\"Veuillez renseigner votre nom\")\r\n                setFieldError(\"nom\")\r\n            }\r\n        }\r\n        else {\r\n            setError(\"Veuillez renseigner votre prénom\")\r\n            setFieldError(\"prenom\")\r\n        }\r\n    }\r\n\r\n    function handleOnChangeInputs(name, value) {\r\n        if (name === fieldError) {\r\n            setFieldError(\"\")\r\n        }\r\n        if (name === \"prenom\") { setFirstName(value) }\r\n        else if (name === \"nom\") { setName(value) }\r\n        else if (name === \"birthDate\") { setBirthDate(value); setIsCalendarOpened(false) }\r\n        else if (name === \"sexe\") { setGender(value) }\r\n        else if (name === \"tel\") { setTel(value) }\r\n        else if (name === \"email\") { setEmail(value) }\r\n        else if (name === \"emailconfirm\") { setEmailConfirm(value) }\r\n        else if (name === \"password\") { setPassword(value) }\r\n        else if (name === \"passwordconfirm\") { setPasswordConfirm(value) }\r\n    }\r\n\r\n    const loginF = (flag) => {\r\n        setSigninFlag(flag)\r\n    }\r\n\r\n    return (\r\n        <div className=\"loginSubscribeContainer\">\r\n            <header>\r\n                <div className=\"logoContainer\">\r\n                    <img alt=\"\" src={logo} />\r\n                </div>\r\n            </header>\r\n            <div className=\"blocLoginTopRight\">\r\n                {!isMobile() &&\r\n                    <div className=\"LoginBackLink\">\r\n                        <Link to=\"/\">Revenir à l'accueil</Link>\r\n                    </div>\r\n                }\r\n                {/*<p>Vous avez déjà un compte ?</p> */}\r\n                <Link to=\"/\">Revenir à l'accueil</Link>\r\n            </div>\r\n            <div className={!isMobile() ? \"subscribePageContainer\" : \"subscribePageContainer moblie\"}>\r\n                {!isMobile() &&\r\n                    <div className=\"marketingBlocForm\">\r\n                        <div className=\"marketingItem\">\r\n                            <h2>Inscris-toi</h2>\r\n                            <p>gratuitement en 1 minute pour créer ton évènement et découvrir les offres de partenaires autour de chez toi.</p>\r\n                        </div>\r\n                        <div className=\"marketingItem\">\r\n                            <h3>Imagine</h3>\r\n                            <p>ton évènement en choisissant ce dont tu as envie, en gérant habilement ton budget</p>\r\n                        </div>\r\n                        <div className=\"marketingItem\">\r\n                            <h3>Que la fête commence !</h3>\r\n                            {/* <p>En vous inscrivant, vous accéderez à des tarifs spécialement négociés pour vous, et que vous ne trouverez nulle part ailleurs.</p> */}\r\n                        </div>\r\n                    </div>\r\n                }\r\n                <div className=\"subscribeContainer\">\r\n                    <h1>Inscris-toi à Nivid</h1>\r\n                    <p>Gérez votre compte, consultez vos événements et bien plus encore.</p>\r\n                    <div>\r\n                        {(!signinFlag || !isMobile()) &&\r\n                            <div className=\"googleSignInContainer\">\r\n                                <buttton className=\"googleSignInButton\" onClick={() => signInWithGoogle()}>\r\n                                    <div className=\"googleSignInButtonImageContainer\">\r\n                                        <img alt=\"\" src={'/images/google.png'} />\r\n                                    </div>\r\n                                    <span>Inscrivez-vous avec Google</span>\r\n                                </buttton>\r\n                            </div>\r\n                        }\r\n                        {(isMobile() && !signinFlag) && \r\n                            <div className=\"googleSignInContainer\">\r\n                                <buttton className=\"googleSignInButton\" onClick={() => loginF(1)}>\r\n                                    <div className=\"googleSignInButtonImageContainer\">\r\n                                        <img alt=\"\" src={'/images/user.png'} />\r\n                                    </div>\r\n                                    <span>Utiliser mon e-mail</span>\r\n                                </buttton>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                    {(!isMobile() || signinFlag===1) &&\r\n                        <form style={{opacity:signinFlag == 1 ? 1 : 0, transition:'all 0.5s'}}>\r\n                            <div className=\"formLine\">\r\n                                <div className={fieldError === \"prenom\" ? \"formField error\" : \"formField\"}>\r\n                                    <label>Prénom</label>\r\n                                    <input value={firstName} type=\"text\" name=\"prenom\" onChange={(e) => handleOnChangeInputs(\"prenom\", e.target.value)} />\r\n                                </div>\r\n                                <div className={fieldError === \"nom\" ? \"formField error\" : \"formField\"}>\r\n                                    <label>Nom</label>\r\n                                    <input value={name} type=\"text\" name=\"nom\" onChange={(e) => handleOnChangeInputs(\"nom\", e.target.value)} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className={fieldError === \"birthDate\" ? \"formFieldSpecialDate error\" : \"formFieldSpecialDate\"}>\r\n                                    <label>Date de naissance</label>\r\n                                    <div\r\n                                        onClick={() => setIsCalendarOpened(!isCalendarOpened)}\r\n                                        className=\"etape1DatePicker subscribe\"\r\n                                    >\r\n                                        {new Date(birthDate).toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"long\", day: \"numeric\" })}\r\n                                    </div>\r\n                                    {isCalendarOpened &&\r\n                                        <div className=\"calendarContainerAbsolute\">\r\n                                            <LocalizationProvider style={{ position: \"relative!important\" }} locale={frLocale} dateAdapter={AdapterDateFns}>\r\n                                                {isMobile() ?\r\n                                                    <MobileDatePicker\r\n                                                        label=\"Date de l'évènement\"\r\n                                                        open={isCalendarOpened}\r\n                                                        onClose={() => setIsCalendarOpened(false)}\r\n                                                        value={birthDate}\r\n                                                        onChange={(val) => handleOnChangeInputs(\"birthDate\", val)}\r\n                                                        renderInput={() => null}\r\n                                                    />\r\n                                                    :\r\n                                                    <DatePicker\r\n                                                        open={isCalendarOpened}\r\n                                                        onClose={() => setIsCalendarOpened(false)}\r\n                                                        value={birthDate}\r\n                                                        onChange={(val) => handleOnChangeInputs(\"birthDate\", val)}\r\n                                                        renderInput={() => null}\r\n                                                    />\r\n                                                }\r\n                                            </LocalizationProvider>\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                                <div className={fieldError === \"sexe\" ? \"formField error\" : \"formField\"}>\r\n                                    <label>Sexe</label>\r\n                                    <select value={gender} onChange={(e) => handleOnChangeInputs(\"sexe\", e.target.value)}>\r\n                                        <option value=\"h\">Homme</option>\r\n                                        <option value=\"f\">Femme</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className={fieldError === \"tel\" ? \"formField error\" : \"formField\"}>\r\n                                    <label>Numéro de téléphone (facultatif)</label>\r\n                                    <input value={tel} type=\"tel\" name=\"numero\" onChange={(e) => handleOnChangeInputs(\"tel\", e.target.value)} pattern=\"[0-9]{2}-[0-9]{2}-[0-9]{2}-[0-9]{2}-[0-9]{2}\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className={fieldError === \"email\" ? \"formField error\" : \"formField\"}>\r\n                                    <label>Email</label>\r\n                                    <input value={email} type=\"email\" name=\"email\" onChange={(e) => handleOnChangeInputs(\"email\", e.target.value)} />\r\n                                </div>\r\n                                <div className={fieldError === \"password\" ? \"formField error\" : \"formField\"}>\r\n                                    <label>Mot de passe</label>\r\n                                    <input value={password} type=\"password\" name=\"password\" onChange={(e) => handleOnChangeInputs(\"password\", e.target.value)} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className={fieldError === \"emailconfirm\" ? \"formField error\" : \"formField\"}>\r\n                                    <label>Confirmation d'email</label>\r\n                                    <input value={emailConfirm} type=\"email\" name=\"emailconfirm\" onChange={(e) => handleOnChangeInputs(\"emailconfirm\", e.target.value)} />\r\n                                </div>\r\n                                <div className={fieldError === \"passwordconfirm\" ? \"formField error\" : \"formField\"}>\r\n                                    <label>Confirmation mot de passe</label>\r\n                                    <input value={passwordConfirm} type=\"password\" name=\"passwordconfirm\" onChange={(e) => handleOnChangeInputs(\"passwordconfirm\", e.target.value)} />\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    }\r\n                </div>\r\n            </div>\r\n            \r\n            {/* <div className=\"LoginDiviserContainer\">\r\n                <div className=\"LoginDiviser\">\r\n                    <p>ou</p>\r\n                </div>\r\n            </div>\r\n            <p className=\"errorMessage\">{error}</p> */}\r\n            {signinFlag===1 && \r\n                <div className=\"bottomSubscribeContainer\">\r\n                    <div className=\"formField conditionsGenerales\">\r\n                        <p>En créant un compte chez Nivid, vous acceptez les <a href=\"CGU\">conditions générales</a> du site.</p>\r\n                    </div>\r\n                    <div className=\"formField\">\r\n                        <ButtonLarge\r\n                            onClick={(e) => handleSubscribeForm(e)}\r\n                            color=\"orange\"\r\n                            value=\"S'inscrire\"\r\n                            backgroundColor=\"rgba(245, 192, 67)\"\r\n                            marginTop=\"10px\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default Subscribe;\r\n","/Users/bc/Desktop/Nivid/src/pages/Etape2.js",["866","867","868","869","870","871","872","873"],"import React, { useState, useEffect, useRef } from \"react\";\r\nimport { FaChevronDown } from 'react-icons/fa';\r\nimport ServicesSlider from '../components/ServicesSlider'\r\nimport { items } from '../components/servicesData'\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport SellersMap from '../components/SellersMap'\r\nimport { GoogleApiWrapper } from 'google-maps-react';\r\nimport { useFirebase } from \"../assets/base-context\";\r\nimport { useHistory } from 'react-router-dom'\r\nimport StickerBudgetLeft from \"../components/StickerBudgetLeft\";\r\n\r\nimport Image from '../components/utilities/Image'\r\n\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select, { SelectChangeEvent } from '@mui/material/Select';\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nconst initialFilter = {\r\n    vegan: false,\r\n    halal: false,\r\n    casher: false,\r\n    vegetarien: false\r\n}\r\n\r\nconst Etape2 = (props) => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n    const { event, setCurrentStepProcess } = useAuth() // context\r\n    const history = useHistory()\r\n\r\n    const [selectedMenu, setSelectedMenu] = useState(\"decorations\");\r\n    const [selectedSubMenu, setSelectedSubMenu] = useState(\"Décorations intérieures\");\r\n    const [currentPageOffers, setCurrentPageOffers] = useState(0);\r\n    const [beforeSubMenu, setBeforeSubMenu] = useState(\"\");\r\n    const [isSubMenuDisplay, setIsSubMenuDisplay] = useState(true);\r\n    const [sellers, setSellers] = useState([]);\r\n    const [allSellers, setAllSellers] = useState([]); // C'est tout les sellers qui match en subcategory, ET qui sont à plus de 5km ( pour afficher les marker gris sur la map )\r\n    const [loading, setLoading] = useState(true);\r\n    const [categorySellers, setCategorySellers] = useState([]); // Tout les sellers qui match avec la category seulement, et à moins de 5 km ( pour afficher le nombre de\r\n    // prestataire dans la category en cours)\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    // State pour le scroll du menu category en mobile version\r\n    const [isDown, setIsDown] = useState(false)\r\n    const [startX, setStartX] = useState()\r\n    const [scrollLeft, setScrollLeft] = useState()\r\n\r\n    const [isSubMenuNotActiveMobileDisplay, setIsSubMenuNotActiveMobileDisplay] = useState(false)\r\n\r\n    const [isSliderHeaderIsMoving, setIsSliderHeaderIsMoving] = useState(false)\r\n\r\n    const [foodTypeFilter, setFoodTypeFilter] = useState(initialFilter)\r\n    const [isFoodFilterOpened, setIsFoodFilterOpened] = useState(false)\r\n\r\n    const [leftBudget, setLeftBudget] = useState(0)\r\n\r\n    const isMobile = () => windowsWidth > 1100 ? false : true\r\n\r\n    const handleResize = (width) => setWindowsWidth(width)\r\n\r\n\r\n    useEffect(() => {\r\n        event && event.status && event.status !== \"creating\" && history.push('/dashboard')\r\n        event && !event.status && history.push('/dashboard')\r\n        !event && history.push('/dashboard')\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n        setLoading(true)\r\n        getSellersFromDB(selectedMenu, selectedSubMenu)\r\n        setCurrentStepProcess(2)\r\n        setLeftBudget(event.budgetLeft)\r\n    }, [selectedMenu, selectedSubMenu, foodTypeFilter])\r\n\r\n    useEffect(() => {\r\n        setFoodTypeFilter(initialFilter)\r\n        setIsFoodFilterOpened(false)\r\n    }, [selectedMenu])\r\n\r\n    function handleCategoryChange(category, subcategory) {\r\n        if (isSliderHeaderIsMoving) return\r\n        else {\r\n            setIsSubMenuNotActiveMobileDisplay(false)\r\n            if (category !== selectedMenu) {\r\n                setSellers([])\r\n                setSelectedMenu(category)\r\n                setSelectedSubMenu(subcategory)\r\n                setCurrentPageOffers(0)\r\n                if (category === \"nourriture\") { setIsSubMenuDisplay(false); setBeforeSubMenu(\"\") }\r\n                else setIsSubMenuDisplay(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleSubCategoryChange(key) {\r\n        if (key !== selectedSubMenu) {\r\n            setSellers([])\r\n            setSelectedSubMenu(key)\r\n            setCurrentPageOffers(0)\r\n            setIsSubMenuNotActiveMobileDisplay(false)\r\n        }\r\n    }\r\n\r\n    function displayBeforeSubMenu() {\r\n        const table = [\"Service à table\", \"Dinatoire\", \"Buffet\"]\r\n        return table.map((name, i) =>\r\n            <div onClick={() => (setBeforeSubMenu(name), setIsSubMenuDisplay(true))} key={i} className=\"subMenuItem beforeSubMenu\">\r\n                <p>{name}</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    function handleOpeningSellersDetails(sellerId) {\r\n        history.push(`/creer-mon-evenement/etape-2/prestataires/${sellerId}`)\r\n    }\r\n\r\n    async function getSellersFromDB(category, subCategory) {\r\n        const refSellers = firestore.collection(\"sellers\");\r\n\r\n        // On va choper TOUT les sellers à moins de 5km pour ensuite faire le tri avec les category\r\n        const results = []\r\n        var query = refSellers\r\n        query = query.where(\"category\", \"==\", category)\r\n        query = query.where(\"status\", \"==\", \"opened\")\r\n        query.get().then(async res => {\r\n\r\n            res.forEach(doc => {\r\n                results.push({ ...doc.data(), id: doc.id })\r\n            })\r\n            let filteredResults = []\r\n            if (selectedMenu === \"nourriture\") {\r\n                if (foodTypeFilter.vegan === true) {\r\n                    results.forEach(item => {\r\n                        if (item.foodTypes === undefined) return\r\n                        let filtered = item.foodTypes.filter(foodType => foodType === \"Vegan\")\r\n                        if (filtered.length) filteredResults.push(item)\r\n                    })\r\n                }\r\n                if (foodTypeFilter.halal === true) {\r\n                    results.forEach(item => {\r\n                        if (item.foodTypes === undefined) return\r\n                        let filtered = item.foodTypes.filter(foodType => foodType === \"Halal\")\r\n                        if (filtered.length) filteredResults.push(item)\r\n                    })\r\n                }\r\n                if (foodTypeFilter.casher === true) {\r\n                    results.forEach(item => {\r\n                        if (item.foodTypes === undefined) return\r\n                        let filtered = item.foodTypes.filter(foodType => foodType === \"Casher\")\r\n                        if (filtered.length) filteredResults.push(item)\r\n                    })\r\n                }\r\n                if (foodTypeFilter.vegetarien === true) {\r\n                    results.forEach(item => {\r\n                        if (item.foodTypes === undefined) return\r\n                        let filtered = item.foodTypes.filter(foodType => foodType === \"Vegetarien\")\r\n                        if (filtered.length) filteredResults.push(item)\r\n                    })\r\n                }\r\n            }\r\n\r\n            if (foodTypeFilter.vegetarien === false && foodTypeFilter.casher === false && foodTypeFilter.halal === false && foodTypeFilter.vegan === false)\r\n                filteredResults = [...results]\r\n\r\n            if (filteredResults.length > 0) {\r\n                const categorySellersQuery = await filterSellersByDistance(filteredResults)\r\n                const categorySellersClose = []\r\n                for (const result of categorySellersQuery) {\r\n                    if (result.firstName) {\r\n                        categorySellersClose.push(result)\r\n                    }\r\n                }\r\n                const newSellers = categorySellersClose.filter(seller => seller.subcategory === subCategory)\r\n                setSellers(newSellers)\r\n                setCategorySellers(categorySellersClose)\r\n                // On enlève les sellers à moins de 5 kilometres, pour ne garder dans allSellers uniquement ceux à plus de 5. Pour envoyer à la map\r\n                const copyAllSellers = [...filteredResults].filter(item => item.subcategory === subCategory)\r\n                const newAllSellers = copyAllSellers.filter((item) => !newSellers.includes(item));\r\n                setAllSellers(newAllSellers)\r\n            }\r\n            else {\r\n                setSellers([])\r\n                setCategorySellers([])\r\n            }\r\n            setLoading(false)\r\n        })\r\n    }\r\n\r\n    async function filterSellersByDistance(data) {\r\n        return Promise.all(\r\n            data.map(item => {\r\n                const eventLatLng = event.latLng ? event.latLng : { lat: 48.51666, lng: -34.41888 }\r\n                return getDistanceBetweenTwoPoints(eventLatLng, item.latLng)\r\n                    .then((result) => {\r\n                        if ((result / 1000) < 5) { return item }\r\n                        else { return [] }\r\n                    })\r\n            })\r\n        )\r\n    }\r\n\r\n    async function getDistanceBetweenTwoPoints(eventPos, sellerPos) {\r\n        var origin = new props.google.maps.LatLng(eventPos.lat, eventPos.lng);\r\n        var destination = new props.google.maps.LatLng(sellerPos.lat, sellerPos.lng);\r\n\r\n        var service = new props.google.maps.DistanceMatrixService();\r\n        return new Promise(resolve => {\r\n            service.getDistanceMatrix(\r\n                {\r\n                    origins: [origin],\r\n                    destinations: [destination],\r\n                    travelMode: 'DRIVING',\r\n                }, (response, status) => {\r\n                    resolve(response.rows[0].elements[0].distance.value)\r\n                }\r\n            )\r\n        });\r\n    }\r\n\r\n    const sliderCategory = useRef()\r\n    function handleMouseDownSliderHeader(e) {\r\n        setIsDown(true)\r\n        setStartX(windowsWidth < 1100 ? e.clientX : e.pageX - sliderCategory.current.offsetLeft)\r\n        setScrollLeft(sliderCategory.current.scrollLeft)\r\n        setIsSliderHeaderIsMoving(false)\r\n    }\r\n\r\n    function handleMouseLeaveAndUpSliderHeader() {\r\n        setIsDown(false)\r\n    }\r\n\r\n    function handleMouseMoveSliderHeader(e) {\r\n        if (!isDown) return\r\n        setIsSliderHeaderIsMoving(true)\r\n        e.preventDefault()\r\n        const x = windowsWidth < 1100 ? e.clientX : e.pageX - sliderCategory.current.offsetLeft;\r\n        const walk = (x - startX) * 2; //scroll-fast\r\n        sliderCategory.current.scrollLeft = scrollLeft - walk;\r\n    }\r\n    function handleFoodTypeChanged(isChecked, type) {\r\n        let newFoodTypeFilter = { ...foodTypeFilter }\r\n        switch (type) {\r\n            case \"Vegan\":\r\n                newFoodTypeFilter.vegan = isChecked\r\n\r\n                break;\r\n            case \"Halal\":\r\n                newFoodTypeFilter.halal = isChecked\r\n\r\n                break;\r\n            case \"Casher\":\r\n                newFoodTypeFilter.casher = isChecked\r\n\r\n                break;\r\n            case \"Vegetarien\":\r\n                newFoodTypeFilter.vegetarien = isChecked\r\n\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        setFoodTypeFilter(newFoodTypeFilter)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {!isMobile() ?\r\n                <div className=\"headerEtape2\">\r\n                    <div className={selectedMenu === \"decorations\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"decorations\", \"Décorations intérieures\")}>\r\n                        <h1>Décorations <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n                    </div>\r\n                    <div className={selectedMenu === \"ambiance\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"ambiance\", \"Musique\")}>\r\n                        <h1>Ambiance <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n                    </div>\r\n                    <div className={selectedMenu === \"table\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"table\", \"Nourriture\")}>\r\n                        <h1>À table <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n                    </div>\r\n                    {/* <div className={selectedMenu === \"service\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"service\", \"serveurs\")}>\r\n                        <h1>Service sur place <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n            </div> */}\r\n                </div>\r\n                :\r\n                <div\r\n                    ref={sliderCategory}\r\n                    className={isDown ? \"headerEtape2 mobile active\" : \"headerEtape2 mobile\"}\r\n                    onMouseDown={(e) => handleMouseDownSliderHeader(e)}\r\n                    onMouseLeave={() => handleMouseLeaveAndUpSliderHeader()}\r\n                    onMouseUp={() => handleMouseLeaveAndUpSliderHeader()}\r\n                    // onMouseMove={(e) => handleMouseMoveSliderHeader(e)}\r\n\r\n                    onTouchStart={(e) => handleMouseDownSliderHeader(e)}\r\n                    onTouchEnd={() => handleMouseLeaveAndUpSliderHeader()}\r\n                    onTouchMove={(e) => handleMouseMoveSliderHeader(e)}\r\n                    style={{touchAction: 'none'}}\r\n                >\r\n                    <div className={selectedMenu === \"decorations\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"decorations\", \"Décorations intérieures\")}>\r\n                        <h1>Décorations <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n                    </div>\r\n                    <div className={selectedMenu === \"ambiance\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"ambiance\", \"Musique\")}>\r\n                        <h1>Ambiance <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n                    </div>\r\n                    <div className={selectedMenu === \"table\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"table\", \"Nourriture\")}>\r\n                        <h1>À table <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n                    </div>\r\n                    {/* <div className={selectedMenu === \"service\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"service\", \"serveurs\")}>\r\n                        <h1>Service sur place <FaChevronDown /></h1>\r\n                        <span>{categorySellers.length} prestataires au total</span>\r\n        </div> */}\r\n                </div>\r\n            }\r\n            <div className={isMobile() ? \"formEtape2Container mobile\" : \"formEtape2Container\"} >\r\n                {!isMobile() ?\r\n                    <>\r\n                        <div className=\"subHeaderEtape2\">\r\n                            {(selectedMenu === \"nourriture\" && beforeSubMenu.length < 1) && displayBeforeSubMenu()}\r\n                            {isSubMenuDisplay &&\r\n                                Object.entries(items[selectedMenu]).map(([key, item]) => {\r\n                                    return (\r\n                                        <div key={key} className={selectedSubMenu === key ? \"subMenuItem active\" : \"subMenuItem\"} onClick={() => handleSubCategoryChange(key)}>\r\n                                            <Image url={item.icon} />\r\n                                            <p>{key}</p>\r\n                                            <span>{categorySellers.filter(seller => seller.subcategory === key).length} prestataires dans vos alentours</span>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                            <div className=\"stickerBudgetLeft\">\r\n                                <StickerBudgetLeft />\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                    :\r\n                    <div className={isSubMenuNotActiveMobileDisplay ? \"subHeaderEtape2 mobile active\" : \"subHeaderEtape2 mobile\"}>\r\n                        <p className=\"infoSubHeaderTopButton\">Appuyez pour changer</p>\r\n                        {(selectedMenu === \"nourriture\" && beforeSubMenu.length < 1) && displayBeforeSubMenu()}\r\n                        {isSubMenuDisplay &&\r\n                            Object.entries(items[selectedMenu]).map(([key, item]) => {\r\n                                if (selectedSubMenu === key) {\r\n                                    return (\r\n                                        <div key={key} className=\"subMenuItem active\" onClick={() => setIsSubMenuNotActiveMobileDisplay(!isSubMenuNotActiveMobileDisplay)}>\r\n                                            <Image url={item.icon} />\r\n                                            <p>{key}</p>\r\n                                            <span>{categorySellers.filter(seller => seller.subcategory === key).length} prestataires dans vos alentours</span>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            })\r\n                        }\r\n                        <div className=\"hideItemSubHeaderEtape2\">\r\n                            {\r\n                                Object.entries(items[selectedMenu]).map(([key, item]) => {\r\n                                    if (selectedSubMenu !== key) {\r\n                                        return (\r\n                                            <div key={key} className=\"subMenuItem\" onClick={() => handleSubCategoryChange(key)}>\r\n                                                <Image url={item.icon} />\r\n                                                <p>{key}</p>\r\n                                                <span>{categorySellers.filter(seller => seller.subcategory === key).length} prestataires dans vos alentours</span>\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                }\r\n\r\n                {selectedMenu === \"table\" &&\r\n                    <div className=\"foodTypeFilter\">\r\n                        <div onClick={() => setIsFoodFilterOpened(r => !r)} className=\"foodTypeFilter_select\">\r\n                            <p>Régime alimentaire <ExpandMoreIcon /></p>\r\n                            {isFoodFilterOpened &&\r\n                                <div onClick={(e) => e.stopPropagation()} className=\"foodTypeFilter_select_dropDown\">\r\n                                    <ul>\r\n                                        <li>\r\n                                            <p className={foodTypeFilter.vegan ? \"active\" : \"\"}>Vegan</p>\r\n                                            <span>\r\n                                                <Checkbox\r\n                                                    checked={foodTypeFilter.vegan}\r\n                                                    onChange={(e) => handleFoodTypeChanged(e.target.checked, \"Vegan\")}\r\n                                                    inputProps={{ 'aria-label': 'controlled' }}\r\n                                                />\r\n                                            </span>\r\n                                        </li>\r\n                                        <li>\r\n                                            <p className={foodTypeFilter.casher ? \"active\" : \"\"}>Casher</p>\r\n                                            <span>\r\n                                                <Checkbox\r\n                                                    checked={foodTypeFilter.casher}\r\n                                                    onChange={(e) => handleFoodTypeChanged(e.target.checked, \"Casher\")}\r\n                                                    inputProps={{ 'aria-label': 'controlled' }}\r\n                                                />\r\n                                            </span>\r\n                                        </li>\r\n                                        <li>\r\n                                            <p className={foodTypeFilter.halal ? \"active\" : \"\"}>Halal</p>\r\n                                            <span>\r\n                                                <Checkbox\r\n                                                    checked={foodTypeFilter.halal}\r\n                                                    onChange={(e) => handleFoodTypeChanged(e.target.checked, \"Halal\")}\r\n                                                    inputProps={{ 'aria-label': 'controlled' }}\r\n                                                />\r\n                                            </span>\r\n                                        </li>\r\n                                        <li>\r\n                                            <p className={foodTypeFilter.vegetarien ? \"active\" : \"\"}>Végétarien</p>\r\n                                            <span>\r\n                                                <Checkbox\r\n                                                    checked={foodTypeFilter.vegetarien}\r\n                                                    onChange={(e) => handleFoodTypeChanged(e.target.checked, \"Vegetarien\")}\r\n                                                    inputProps={{ 'aria-label': 'controlled' }}\r\n                                                />\r\n                                            </span>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                }\r\n\r\n\r\n                <div className=\r\n                    {\r\n                        isMobile() && isSubMenuNotActiveMobileDisplay ? \"contentEtape2 mobile notActive\"\r\n                            : isMobile() && !isSubMenuNotActiveMobileDisplay ? \"contentEtape2 mobile\"\r\n                                : \"contentEtape2\"\r\n                    }\r\n                >\r\n                    <ServicesSlider\r\n                        sellers={sellers}\r\n                        loading={loading}\r\n                        leftBudget={leftBudget}\r\n                        currentPageOffers={currentPageOffers}\r\n                        setCurrentPageOffers={setCurrentPageOffers}\r\n                        handleOpeningSellersDetails={handleOpeningSellersDetails}\r\n                        isMobile={isMobile()}\r\n                        windowsWidth={windowsWidth}\r\n                        selectedSubMenu={selectedSubMenu}\r\n                        selectedMenu={selectedMenu}\r\n                    />\r\n\r\n                    {!isMobile() &&\r\n                        <div className=\"mapContainer\">\r\n                            <SellersMap sellers={sellers} allSellers={allSellers} />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div >\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n    apiKey: (\"AIzaSyAim92JbJjr_fgoP0bYxzdCAz9PsAu5JWY\")\r\n})(Etape2)","/Users/bc/Desktop/Nivid/src/pages/Blog.js",["874","875"],"import React, { useState, useEffect } from \"react\";\r\nimport '../styles/Blog.css'\r\n\r\n\r\nconst Blog = (props) => {\r\n\r\n    return (\r\n        <>\r\n            <h1>Page en construction</h1>\r\n        </>\r\n    )\r\n}\r\nexport default Blog;\r\n","/Users/bc/Desktop/Nivid/src/pages/Contact.js",["876","877"],"import React, { useState, useEffect } from \"react\";\r\nimport '../styles/Contact.css'\r\nimport LogoTransparentImg from \"../images/logo_transparence_contact.svg\"\r\n\r\n\r\nconst Contact = (props) => {\r\n\r\n    return (\r\n        <>\r\n            <div className=\"contactPage\">\r\n                <div className=\"contactPage_header\">\r\n                    <img src={LogoTransparentImg} alt=\"\" />\r\n                    <h1>Contactez-nous</h1>\r\n                    <p className=\"obliged\">* obligatoire</p>\r\n                </div>\r\n                <div className=\"conctPage_body\">\r\n                    <div className=\"contactPage_form_bloc\">\r\n                        <div className=\"formLine\">\r\n                            <div className=\"formField\">\r\n                                <label htmlFor=\"name\">Votre nom *</label>\r\n                                <input name=\"name\" type=\"text\" value=\"\" />\r\n                            </div>\r\n                            <div className=\"formField\">\r\n                                <label htmlFor=\"email\">Votre adresse email *</label>\r\n                                <input name=\"email\" type=\"text\" value=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"formLine\">\r\n                            <div className=\"formField\">\r\n                                <label htmlFor=\"commandID\">Votre numéro de commande</label>\r\n                                <input name=\"commandID\" type=\"text\" value=\"\" />\r\n                            </div>\r\n                            <div className=\"formField\">\r\n                                <label htmlFor=\"tel\">Numéro de téléphone</label>\r\n                                <input name=\"tel\" type=\"text\" value=\"\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"formLine\">\r\n                            <div className=\"formField\">\r\n                                <label htmlFor=\"message\">Votre message *</label>\r\n                                <textarea name=\"message\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"contactPage_form_bloc_bottom\">\r\n                            <p>En soumettant ce formulaire, vous acceptez nos <a href=\"/CGU\">conditions générales d'utilisations</a> ainsi que notre <a href=\"/politique\">politique de confidentialité</a>.</p>\r\n                            <button className=\"blue largeButton\">Envoyer le message</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Contact;\r\n","/Users/bc/Desktop/Nivid/src/pages/Etape1.js",["878","879","880","881","882","883","884","885","886","887","888","889","890","891","892","893","894","895","896"],"import React, { useState, useEffect } from \"react\";\r\nimport '../styles/Etape1.css'\r\nimport NumericInput from 'react-numeric-input';\r\nimport LocationSearchInput from \"../components/autocompletePlaces\"\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport { useFirebase } from \"../assets/base-context\";\r\nimport { useHistory } from 'react-router-dom'\r\nimport InputRange from 'react-input-range';\r\nimport \"react-input-range/lib/css/index.css\";\r\n\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport frLocale from 'date-fns/locale/fr';\r\nimport MobileDatePicker from '@mui/lab/MobileDatePicker';\r\n\r\nimport { ButtonLarge } from '../components/utilities/Buttons'\r\nimport Loader from '../components/Loader.js'\r\nimport { FaQuestionCircle } from 'react-icons/fa'\r\nimport { Hidden } from \"@mui/material\";\r\n\r\n\r\nfunction sizeFormat(num) { return num + ' m²'; }\r\nfunction euroFormat(num) { return num + '€'; }\r\n\r\nconst Etape1 = () => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const auth = firebaseContext.auth()\r\n\r\n    const history = useHistory()\r\n\r\n    const { event, addEvent, setCurrentStepProcess, formatLabelTimePicker } = useAuth() // context\r\n\r\n\r\n    const [name, setName] = useState(event.name);\r\n    const [startDate, setStartDate] = useState(new Date(event.date));\r\n    const [startTime, setStartTime] = useState(event.startAt);\r\n    const [endTime, setEndTime] = useState(event.endAt);\r\n    const [nbrPeople, setNbrPeople] = useState(event.people);\r\n    const [placeSize, setPlaceSize] = useState(event.placeSize);\r\n    const [place, setPlace] = useState(event.place);\r\n    const [latLng, setLatLng] = useState(event.latLng);\r\n    const [budget, setBudget] = useState(event.budget);\r\n    const [status, setStatus] = useState(event.status);\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [error, setError] = useState(\"\");\r\n    const [fieldError, setFieldError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [isCalendarOpened, setIsCalendarOpened] = useState(false);\r\n    const [animationLoaderDone, setAnimationLoaderDone] = useState(true)\r\n    const [buttonSendDisabled, setButtonSendDisabled] = useState(false);\r\n    const [cEventInput, setCEventInput] = useState(1)\r\n    const inputIntro = [\r\n            \r\n    ];\r\n\r\n    let datePlusYear = new Date()\r\n    datePlusYear.setFullYear(datePlusYear.getFullYear());\r\n\r\n\r\n    const isMobile = () =>  windowsWidth < 1100\r\n\r\n    const handleResize = (width) => setWindowsWidth(width)\r\n\r\n    useEffect(() => {\r\n        event && (event.status === undefined || event.status === \"validated\" || event.status === \"pending\") && history.push('/dashboard')\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n\r\n        appendToSliderTimePicker()\r\n        setCurrentStepProcess(1)\r\n    }, [endTime, startTime, window.innerWidth])\r\n\r\n\r\n    async function handleSendForm(e) {\r\n        e.preventDefault()\r\n        await isValid().then(async res => {\r\n            if (res === true) {\r\n                setLoading(true)\r\n                setAnimationLoaderDone(false)\r\n                const item = {\r\n                    name: name,\r\n                    date: startDate,\r\n                    startAt: startTime,\r\n                    endAt: endTime,\r\n                    people: nbrPeople,\r\n                    placeSize: placeSize,\r\n                    place: place,\r\n                    latLng: latLng,\r\n                    budget: budget,\r\n                    user: auth.currentUser.uid,\r\n                    paid: 0,\r\n                    status: status,\r\n                    id: event.id\r\n                }\r\n                if (status !== \"creating\") { item.budgetLeft = budget }\r\n                try {\r\n                    addEvent(item).then(() => {\r\n                        history.push('/creer-mon-evenement/etape-2')\r\n                    })\r\n                } catch (e) {\r\n                    setLoading(false)\r\n                    setError('Une erreur inconnue est survenue')\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    async function isValid() {\r\n        // else if(birthDate !== 0) {setError(\"Veuillez renseigner votre nom\")} A faire avec la date de naissance\r\n        if (name.length > 2) {\r\n            if (latLng !== undefined && latLng.lat > 0 && latLng.lng > 0) {\r\n                return true\r\n            }\r\n            else {\r\n                setError(\"Veuillez renseigner une adresse valide\")\r\n                setFieldError(\"place\")\r\n            }\r\n        }\r\n        else {\r\n            setError(\"Veuillez renseigner le nom de votre évènement\")\r\n            setFieldError(\"name\")\r\n        }\r\n    }\r\n\r\n    function handleAdressChanged(adress, latLng) {\r\n        setButtonSendDisabled(true)\r\n        setPlace(adress)\r\n        setLatLng(latLng)\r\n        setButtonSendDisabled(false)\r\n    }\r\n\r\n    function appendToSliderTimePicker() {\r\n        const element = document.getElementsByClassName(\"input-range__slider\")\r\n        const formatedEndTime = formatLabelTimePicker(endTime)\r\n        const formatedStartTime = formatLabelTimePicker(startTime)\r\n        if (element[0] !== undefined) {\r\n            element[0].innerHTML = \"Commence à \" + formatedStartTime\r\n            element[1].innerHTML = \"Termine à \" + formatedEndTime\r\n        }\r\n    }\r\n\r\n    function handleOnChangeInputs(name, value) {\r\n        if (name === fieldError) {\r\n            setFieldError(\"\")\r\n        }\r\n        if (name === \"name\") { setName(value) }\r\n        else if (name === \"nbrPeople\") { setNbrPeople(value) }\r\n        else if (name === \"placeSize\") { setPlaceSize(value) }\r\n        else if (name === \"budget\") { setBudget(value) }\r\n    }\r\n\r\n    function handleDateChanged(val) {\r\n        setStartDate(val)\r\n        setIsCalendarOpened(false)\r\n    }\r\n\r\n    const nextPage = (plus) =>{\r\n        var number = cEventInput\r\n        if(cEventInput==1&&plus==-1){\r\n        } else {\r\n            setCEventInput(number+plus)\r\n        }\r\n    }\r\n\r\n    return (loading || !animationLoaderDone) ? <div className=\"formEtape1Container\"><Loader callBack={() => setAnimationLoaderDone(true)} /></div> : (\r\n        <div>\r\n            <div className=\"formEtape1Container\">\r\n                <div style={{height:'100px'}}>\r\n                    <h2><span style={{color: 'rgb(245, 192, 67)', fontFamily: \"Roboto-medium\"}}>{cEventInput}/6</span></h2>\r\n                    <p>{inputIntro[cEventInput-1]}</p>\r\n                </div>\r\n                <form style={{position:'relative'}}>\r\n                    \r\n                    <div style={{height:\"25vh\",width:\"100%\"}}>\r\n                    </div>\r\n                    <div className=\"formLine inputview\" style={{position:'absolute',top:0,width:'100%',opacity:cEventInput == 1 ? 1 : 0, zIndex:cEventInput == 1 ? '1' : '0'}}>\r\n                        <div className={fieldError === \"name\" ? \"formField error\" : \"formField\"}>\r\n                            <label>Nom de l'évènement</label>\r\n                            <input className=\"nameEventInput\" type=\"text\" name=\"name\" value={name} onChange={e => handleOnChangeInputs(\"name\", e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"formLine inputview\" style={{position:'absolute',top:0,width:'100%',opacity:cEventInput == 2 ? 1 : 0, zIndex:cEventInput == 2 ? '1' :'0'}}>\r\n                        <div className=\"formFieldSpecialDate\">\r\n                            <label>Quand a-t-il lieu ?</label>\r\n                            <div\r\n                                onClick={() => setIsCalendarOpened(!isCalendarOpened)}\r\n                                className=\"etape1DatePicker\"\r\n                            >\r\n                                {new Date(startDate).toLocaleDateString(\"fr-FR\", { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" })}\r\n                            </div>\r\n                            {isCalendarOpened &&\r\n                                <div className=\"calendarContainerAbsolute\">\r\n                                    <LocalizationProvider style={{ position: \"relative!important\" }} locale={frLocale} dateAdapter={AdapterDateFns}>\r\n                                        {isMobile() ?\r\n                                            <MobileDatePicker\r\n                                                label=\"Date de l'évènement\"\r\n                                                open={isCalendarOpened}\r\n                                                onClose={() => setIsCalendarOpened(false)}\r\n                                                value={startDate}\r\n                                                onChange={(val) => handleDateChanged(val)}\r\n                                                renderInput={() => null}\r\n                                                minDate={datePlusYear}\r\n                                            />\r\n                                            :\r\n                                            <DatePicker\r\n                                                open={isCalendarOpened}\r\n                                                onClose={() => setIsCalendarOpened(false)}\r\n                                                value={startDate}\r\n                                                onChange={(val) => handleDateChanged(val)}\r\n                                                renderInput={() => null}\r\n                                                minDate={datePlusYear}\r\n                                            />\r\n                                        }\r\n                                    </LocalizationProvider>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"formLine inputview\" style={{position:'absolute',top:0,width:'100%',opacity:cEventInput == 3 ? 1 : 0, zIndex:cEventInput == 3 ? '1' : '0'}}>\r\n                        <div className=\"formField\">\r\n                            <label>Créneau horaire</label>\r\n                            <div className=\"etape1TimePickerContainer\" style={{display:!isMobile()&&'inline-block',width:!isMobile()&&'45%'}}>\r\n                                <InputRange\r\n                                    maxValue={86400}\r\n                                    minValue={0}\r\n                                    draggableTrack\r\n                                    step={900}\r\n                                    value={startTime}\r\n                                    formatLabel={value => formatLabelTimePicker(value)}\r\n                                    onChange={value => setStartTime(value)} />\r\n                            </div>\r\n                            <div className=\"etape1TimePickerContainer endAt\" style={{display:!isMobile()&&'inline-block',width:!isMobile()&&'45%'}}>\r\n                                <InputRange\r\n                                    maxValue={86400}\r\n                                    minValue={0}\r\n                                    draggableTrack\r\n                                    step={900}\r\n                                    value={endTime}\r\n                                    formatLabel={value => formatLabelTimePicker(value)}\r\n                                    onChange={value => setEndTime(value)} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={!isMobile() ? \"formLine  inputview\" : \"formLine mobile  inputview\"} style={{position:'absolute',top:0,width:'100%',opacity:cEventInput == 4 ? 1 : 0, zIndex:cEventInput == 4 ? '1' : '0'}}>\r\n                        <div className=\"formField\">\r\n                            <label>Nombre de personnes</label>\r\n                            <NumericInput\r\n                                className=\"form-control\"\r\n                                value={nbrPeople}\r\n                                min={0}\r\n                                max={5000}\r\n                                step={1}\r\n                                precision={0}\r\n                                size={4}\r\n                                mobile\r\n                                onChange={(value) => handleOnChangeInputs(\"nbrPeople\", value)} />\r\n                        </div>\r\n                        <div className=\"formField\">\r\n                            <div className=\"formField_info\">\r\n                                <label>m² du lieu</label><FaQuestionCircle />\r\n                                <span>Nombre de m2 de l’espace où l’évènement pour l’indiquer à nos partenaires si besoin.</span>\r\n                            </div>\r\n                            <NumericInput\r\n                                format={sizeFormat}\r\n                                className=\"form-control\"\r\n                                value={placeSize}\r\n                                min={0}\r\n                                max={10000}\r\n                                step={1}\r\n                                precision={0}\r\n                                size={9}\r\n                                mobile\r\n                                onChange={(value) => handleOnChangeInputs(\"placeSize\", value)} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"formLine inputview\" style={{position:'absolute',top:0,width:'100%',opacity:cEventInput == 5 ? 1 : 0, zIndex:cEventInput == 5 ? '1' : '0'}}>\r\n                        <div className={fieldError === \"place\" ? \"formField error\" : \"formField\"}>\r\n                            <label>Lieu de ton évènement</label>\r\n                            <LocationSearchInput placeType=\"address\" value={place} onChanged={handleAdressChanged} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"formLine inputview\" style={{position:'absolute',top:0,width:'100%',opacity:cEventInput == 6 ? 1 : 0, zIndex:cEventInput == 6 ? '1' : '0'}}>\r\n                        <div className={fieldError === \"budget\" ? \"formField error\" : \"formField\"}>\r\n                            <div className=\"formField_info\">\r\n                                <label>Budget</label><FaQuestionCircle />\r\n                                <span>Il te sera possible de suivre l’avancée de ton budget durant l’organisation de ton évènement. Celui-ci peut être modifié à tout moment.</span>\r\n                            </div>\r\n\r\n                            <NumericInput\r\n                                format={euroFormat}\r\n                                className=\"form-control\"\r\n                                value={budget}\r\n                                min={50}\r\n                                max={50000}\r\n                                step={50}\r\n                                precision={0}\r\n                                size={9}\r\n                                mobile\r\n                                onChange={(value) => handleOnChangeInputs(\"budget\", value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    {error.length > 0 &&\r\n                        <p className=\"errorMessage\">{error}</p>\r\n                    }\r\n                </form>\r\n                {cEventInput==6 ?\r\n                    <div className=\"formLine\" style={{display:!isMobile() && \"inline-block\",width:!isMobile() && '25vw'}}>\r\n                        <div className=\"formField\">\r\n                            <ButtonLarge\r\n                                onClick={(e) => handleSendForm(e)}\r\n                                color=\"orange\"\r\n                                value=\"C'est Party!\"\r\n                                backgroundColor=\"rgba(245, 192, 67)\"\r\n                                marginTop=\"10px\"\r\n                                disabled={buttonSendDisabled}\r\n                                width={!isMobile() && '21vw'}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                :\r\n                    <div className=\"formLine\" style={{display:!isMobile() && \"inline-block\",width:!isMobile() && '25vw'}}>\r\n                        <div className=\"formField\">\r\n                            <ButtonLarge\r\n                                onClick={() => nextPage(1)}\r\n                                color=\"orange\"\r\n                                value=\"Passez à l'étape suivante\"\r\n                                backgroundColor=\"rgba(245, 192, 67)\"\r\n                                marginTop=\"10px\"\r\n                                width={!isMobile() && '21vw'}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                }\r\n                <div className=\"formLine\" style={{display:!isMobile() && \"inline-block\",width:!isMobile() && '25vw'}}>\r\n                    <div className=\"formField\">\r\n                        <ButtonLarge\r\n                            onClick={() => nextPage(-1)}\r\n                            color=\"grey\"\r\n                            value=\"Revenir en arrière\"\r\n                            backgroundColor=\"rgba(245, 192, 67)\"\r\n                            marginTop=\"10px\"\r\n                            disable={cEventInput==1 && 'false'}\r\n                            width={!isMobile() && '21vw'}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Etape1","/Users/bc/Desktop/Nivid/src/pages/paymentConfirm.js",["897","898","899"],"import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport { ButtonRoundLarge } from '../components/utilities/Buttons'\r\nimport ServiceDescription from \"../components/ServiceDescription\";\r\n\r\n\r\nconst PaymentConfirm = () => {\r\n\r\n    const [isPayment, setIsPayment] = useState(false)\r\n    const history = useHistory()\r\n\r\n    const { user,\r\n        event,\r\n        setCurrentStepProcess,\r\n        addSalesInDB,\r\n        updateEventStatus,\r\n        getSalesOfSellerIdFromDB,\r\n        sendInBlue_sendRecapToUserAfterPayment,\r\n        sendInBlue_sendNewSaleToSeller,\r\n        getEmailOfSellerWithUid,\r\n        getSaleTokenOfEventFromDb,\r\n        checkoutCheck } = useAuth() // context\r\n\r\n    const search = useLocation().search\r\n    const eventId = new URLSearchParams(search).get('id')\r\n    const saleToken = new URLSearchParams(search).get('token')\r\n    const session_id = new URLSearchParams(search).get('session_id')\r\n\r\n    setCurrentStepProcess(31)\r\n\r\n    useEffect(() => {\r\n        if (eventId === undefined || eventId.length < 7 || eventId !== event.id) return history.push('/dashboard')\r\n        if (event && event.status && event.status !== \"creating\") return history.push('/dashboard')\r\n\r\n        getSaleTokenOfEventFromDb().then(token => {\r\n            return saleToken !== token && history.push('/dashboard')\r\n        })\r\n        checkoutCheck(session_id)\r\n            .then(res => {\r\n                return res.status === \"paid\" ? createSales(res.amount, res.id) : history.push('/dashboard')\r\n            })\r\n    }, [])\r\n\r\n    async function createSales(amount, stripeId) {\r\n        const sellersUniqueIds = await getSellersIds()\r\n        let finalSales = []\r\n        // On map sur les ids triés, puis on trie les services pour les attribuer au bon seller\r\n        sellersUniqueIds.map(async uniqueId => {\r\n            const sellerServices = event.choosedServices.filter(service => service.sellerId === uniqueId)\r\n\r\n            // On modifie les services dans le tableau pour leur donner la structure dont on a besoin\r\n            let newSellerServices = []\r\n            sellerServices.forEach(service => {\r\n                const newService = {\r\n                    id: service.id,\r\n                    quantity: service.quantity,\r\n                    price: service.price,\r\n                    image: service.images[0].url,\r\n                    name: service.name,\r\n                    variations: service.variations,\r\n                    variation: service.variation,\r\n                    note: service.note\r\n                }\r\n                newSellerServices = [...newSellerServices, newService]\r\n            })\r\n            const sellerSales = await getSalesOfSellerIdFromDB(uniqueId)\r\n            let total = 0\r\n            newSellerServices.forEach(service =>\r\n                (service.variations && service.variations.length > 0) ? \r\n                total += service.variations.filter(vari => vari.name === service.variation)[0].price * service.quantity\r\n                : total += service.price * service.quantity\r\n            )\r\n\r\n            // On structure le sale comme on l'a décidé\r\n            finalSales = [...finalSales, {\r\n                eventID: event.id,\r\n                sellerID: uniqueId,\r\n                userID: user.uid,\r\n                eventDate: event.date,\r\n                choosedServices: newSellerServices,\r\n                paid: amount,\r\n                date: Date.now(), // à recevoir de stripe\r\n                status: \"pending\",\r\n                transactionID: stripeId,\r\n                total: total,\r\n                id: sellerSales.length + 1,\r\n                people: event.people,\r\n                placeSize: event.placeSize,\r\n                startAt: event.startAt,\r\n                endAt: event.endAt,\r\n                sellerNote: \"\"\r\n            }]\r\n\r\n            const sellersEmail = await getEmailOfSellerWithUid(uniqueId)\r\n            sendInBlue_sendNewSaleToSeller(sellersEmail, newSellerServices, event)\r\n\r\n            // Cette fonction est appelée pour le moment au chargement de la pag mais il faudra une confirmation de stripe pour l'appeler.\r\n            if (sellersUniqueIds.length === finalSales.length) {\r\n                await addSalesInDB(finalSales)\r\n                updateEventStatus(\"pending\")\r\n                sendInBlue_sendRecapToUserAfterPayment(user.email, finalSales, event)\r\n            }\r\n        })\r\n    }\r\n\r\n    async function getSellersIds() {\r\n        // On récupère tous les ids des sellers présents dans tous les services puis on les trie\r\n        let sellersIds = []\r\n        event.choosedServices.map(service => sellersIds.push(service.sellerId))\r\n\r\n        const sellersUniqueIds = sellersIds.reduce((acc, current) => {\r\n            const isFound = acc.find(item => item === current);\r\n            return !isFound ? acc = [...acc, current] : acc\r\n        }, [])\r\n        return sellersUniqueIds\r\n    }\r\n\r\n    return !isPayment && (\r\n        <div>\r\n            <div className=\"paymentConfirmContainer\">\r\n                <div className=\"paymentConfirmTop\">\r\n                    <img alt=\"\" src=\"/images/wouhou.png\" />\r\n                    <h2>Votre paiement a bien été reçu, merci !</h2>\r\n                    {/* <ButtonRoundLarge\r\n                        onClick={() => history.push('/dashboard')}\r\n                        color=\"orange\"\r\n                        value=\"Voir mon évènement\"\r\n                    /> */}\r\n                </div>\r\n                <div className=\"paymentConfirmBottom\">\r\n                <p>Vous pouvez aussi dès à présent inviter des personnes à votre évènements! 🥳</p>\r\n                    <ButtonRoundLarge\r\n                        onClick={() => history.push('/creer-mon-evenement/etape-3/invitations')}\r\n                        color=\"blue\"\r\n                        value=\"Préparer mes invitations\"\r\n                    />\r\n                </div>\r\n                <div className=\"backconfirm\">Revenir à l'accueil</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PaymentConfirm;\r\n","/Users/bc/Desktop/Nivid/src/pages/Invitations.js",["900","901"],"import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport { ButtonSmall } from '../components/utilities/Buttons'\r\n\r\nconst PaymentConfirm = () => {\r\n\r\n    const history = useHistory()\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [emails, setEmails] = useState([])\r\n    const [newEmail, setNewEmail] = useState(\"\")\r\n    const [error, setError] = useState(\"\")\r\n    const [message, setMessage] = useState(\"\")\r\n    const [isSent, setIsSent] = useState(false)\r\n\r\n    const { user, event, setCurrentStepProcess, sendInBlue_sendInvitations } = useAuth() // context\r\n\r\n    function handleResize(width) {\r\n        setWindowsWidth(width)\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n    }, [window.innerWidth])\r\n\r\n    setCurrentStepProcess(32)\r\n\r\n    function handleAddNewEmail() {\r\n        \r\n        let containAt = newEmail.indexOf(\"@\")\r\n        if (containAt < 1) return setError(\"Veuillez entrer un email valide\")\r\n\r\n        let containDot = newEmail.indexOf(\".\")\r\n        if (containDot <= containAt + 2) return setError(\"Veuillez entrer un email valide\")\r\n\r\n\r\n        if (containDot === newEmail.length - 1) return setError(\"Veuillez entrer un email valide\")\r\n\r\n            const newArray = [...emails]\r\n            newArray.push(newEmail)\r\n            setEmails(newArray)\r\n            setNewEmail(\"\")\r\n            setError(\"\")\r\n    }\r\n\r\n    function handleDeleteEmail(item) {\r\n        const newArray = [...emails]\r\n        const index = newArray.indexOf(item);\r\n        if (index > -1) {\r\n            newArray.splice(index, 1);\r\n        }\r\n        setEmails(newArray)\r\n    }\r\n\r\n    async function handleSendInvitations() {\r\n        const req = await sendInBlue_sendInvitations(emails, message, user, event)\r\n        if (req === true) {\r\n            setIsSent(true)\r\n            history.push(\"/dashboard\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"invitationsContainer\">\r\n                <div className=\"headerInvitations\">\r\n                    <h2>Invitations</h2>\r\n                    <p>Ajoutez les personnes que vous souhaitez inviter à votre évènement</p>\r\n                </div>\r\n                <div className=\"contentInvitations\">\r\n                    {!isSent ?\r\n                        <>\r\n                            <div className=\"emailsBlocInvitations\">\r\n                                <h3>Emails des invité(e)s</h3>\r\n                                <div className=\"displayEmailsInvitations\">\r\n                                    {emails.map(item => {\r\n                                        return <span>{item}<p onClick={() => handleDeleteEmail(item)}>X</p></span>\r\n                                    })}\r\n                                </div>\r\n                                <div className=\"formField\">\r\n                                    <input value={newEmail} onChange={(e) => setNewEmail(e.target.value)} type=\"text\" placeholder=\"Email de l'invité\" />\r\n                                    <button onClick={() => handleAddNewEmail()}>Ajouter</button>\r\n                                </div>\r\n                                {error.length > 0 &&\r\n                                    <p className=\"errorMessage\">{error}</p>\r\n                                }\r\n                            </div>\r\n                            <div className=\"messageInvitations\">\r\n                                <h3>Message de l'invitation</h3>\r\n                                <textarea value={message} onChange={(e) => setMessage(e.target.value)} />\r\n                                <button onClick={() => handleSendInvitations()}>Envoyer les invitations</button>\r\n                            </div>\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <p>Merci, vos invitations ont été envoyées.</p>\r\n                            <ButtonSmall\r\n                                onClick={() => history.push(\"/dashboard\")}\r\n                                color=\"orange\"\r\n                                value=\"Revenir au tableau de bord\"\r\n                            />\r\n                        </>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PaymentConfirm;\r\n","/Users/bc/Desktop/Nivid/src/pages/Dashboard.js",["902","903","904","905"],"import React, { useState, useEffect } from \"react\";\r\nimport '../styles/Dashboard.css'\r\nimport Slideshow from \"../components/Slider\"\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport Header from '../components/Header'\r\nimport { useAuth } from '../context/userContext'\r\nimport ProgressBar from 'react-bootstrap/ProgressBar';\r\nimport UpdateProfil from '../components/UpdateProfil'\r\nimport InterestedSellers from '../components/InterestedSellers'\r\nimport WishList from '../components/WishList'\r\nimport BlogWidget from '../components/BlogWidget'\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nimport { ButtonSmall } from '../components/utilities/Buttons'\r\nimport Image from '../components/utilities/Image'\r\n\r\nconst Dashboard = () => {\r\n\r\n    const { event, user, formatLabelTimePicker, getCurrentUserProfil, getSellersInDbWithUids, getSalesOfEventIdFromDB, updateEventStatus, clearEvent } = useAuth()\r\n    const history = useHistory()\r\n\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [error, setError] = useState(\"\")\r\n    const [step, setStep] = useState(1)\r\n    const [pourcent, setPourcent] = useState(0);\r\n\r\n    const [sellers, setSellers] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [moreView, setMoreView] = useState(false);\r\n\r\n    // if (step === 3) {\r\n    //     const WishList = import('../components/WishList')\r\n    // }\r\n\r\n    function isMobile() {\r\n        if (windowsWidth > 1160) {\r\n            return false\r\n        }\r\n        else {\r\n            return true\r\n        }\r\n    }\r\n\r\n    function handleResize(width) {\r\n        setWindowsWidth(width)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (event && event.status && event.status !== \"passed\" && event.date && event.date < Date.now()) {\r\n            updateEventStatus(\"passed\")\r\n            clearEvent()\r\n        } else {\r\n            getSellerListFromServices()\r\n            getPourcentBar()\r\n        }\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n\r\n    }, [event])\r\n\r\n    async function getPourcentBar() {\r\n        if (!event.status) return\r\n\r\n        let pourcentToDisplay\r\n        const pourcentBudget = (event.budgetLeft / event.budget) * 100\r\n        if (event.status === \"pending\") {\r\n            const sales = await getSalesOfEventIdFromDB(event.id)\r\n            pourcentToDisplay = Math.floor(((event.date - sales[0].date) * 100) / Date.now())\r\n        }\r\n        pourcentToDisplay = event.status === \"creating\" ? pourcentBudget : pourcentToDisplay\r\n        setPourcent(100 - pourcentToDisplay + 5)\r\n    }\r\n\r\n    async function handleCreateEvent() {\r\n        const data = await getCurrentUserProfil()\r\n        if (!user.emailVerified) {\r\n            setError(\"Vous n'avez pas encore confirmé votre adresse email.\")\r\n        }\r\n        else if (data.firstName === undefined || data.name === undefined || data.birthDate === undefined) {\r\n            setError(\"Vous devez compléter votre profil pour pouvoir créer votre premier évènement.\")\r\n        }\r\n        else {\r\n            history.push(\"/creer-mon-evenement/etape-1\")\r\n        }\r\n    }\r\n\r\n\r\n\r\n    async function getSellerListFromServices() {\r\n        if (event.choosedServices.length < 1 || event.status === null) return null\r\n\r\n        let sellerIDList = []\r\n        for (const service in event.choosedServices) {\r\n            sellerIDList = [...sellerIDList, event.choosedServices[service].sellerId]\r\n        }\r\n        const sellersList = await getSellersInDbWithUids(sellerIDList)\r\n        const uniqueSellersList = sellersList && sellersList.filter((thing, index, self) => self.findIndex(t => t.email === thing.email) === index)\r\n\r\n        if (event.status === \"creating\") {\r\n            setSellers(uniqueSellersList)\r\n            setLoading(false)\r\n            return\r\n        }\r\n\r\n        let finalSellersList = []\r\n        uniqueSellersList.map(async seller => {\r\n            const status = await getSaleStatus(seller.uid)\r\n            const newSeller = { ...seller, status: status }\r\n            finalSellersList = [...finalSellersList, newSeller]\r\n\r\n            if (uniqueSellersList.length === finalSellersList.length) {\r\n                setSellers(finalSellersList)\r\n                setLoading(false)\r\n            }\r\n        })\r\n\r\n\r\n        if (event.status === \"pending\") {\r\n            let finalSellersList = []\r\n            uniqueSellersList.map(async seller => {\r\n                const status = await getSaleStatus(seller.uid)\r\n                const newSeller = { ...seller, status: status }\r\n                finalSellersList = [...finalSellersList, newSeller]\r\n\r\n                if (uniqueSellersList.length === finalSellersList.length) {\r\n                    setSellers(finalSellersList)\r\n                    setLoading(false)\r\n                }\r\n            })\r\n        }\r\n        else if (event.status === \"creating\") {\r\n            setSellers(uniqueSellersList)\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    async function getSaleStatus(id) {\r\n        const sales = await getSalesOfEventIdFromDB(event.id)\r\n        const sale = sales.filter(sale => sale.sellerID === id)\r\n        return sale[0].status\r\n    }\r\n\r\n    function getDaysLeftBeforeEvent() {\r\n        const timestampLeft = event.date - Date.now()\r\n        const daysLeft = timestampLeft / 1000 / 86400\r\n        return Math.ceil(daysLeft)\r\n    }\r\n\r\n    function more_view() {\r\n        if (moreView) {\r\n            setMoreView(false)\r\n        }else {\r\n            setMoreView(true)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <div className={!isMobile() ? \"dashboard\" : \"dashboard mobile\"}>\r\n                <div className=\"dashboardHeader\">\r\n                    \r\n            <CSSTransition\r\n                in={step === 1}\r\n                timeout={200}\r\n                classNames=\"elementTransition\"\r\n                unmountOnExit\r\n            >\r\n                <p className=\"elementTransition\">Content de vous revoir <span>{user.displayName}</span></p>\r\n            </CSSTransition>\r\n                    <div>\r\n                        <span className={step === 1 && \"active\"} onClick={() => setStep(1)}>Tableau de bord</span>\r\n                        <span className={step === 3 && \"active\"} onClick={() => setStep(3)}>Favoris</span>\r\n                        <span className={step === 2 && \"active\"} onClick={() => setStep(2)}>Mes informations</span>\r\n                    </div>\r\n                </div>\r\n                {/* {!user.emailVerified && <EmailNotVerified />} */}\r\n                {step === 1 ? <div className={windowsWidth < 600 ? \"dashboardContent mobile\" : \"dashboardContent\"}>\r\n                    <div className=\"leftSide\">\r\n                        {event && <h1>Votre évènement</h1>}\r\n                        {event.status && event.status !== \"passed\" ? (\r\n                            <div>\r\n                                <div className=\"containerBudgetHeader\">\r\n                                    {event.status === \"creating\" && <h2>Il vous reste {event.budgetLeft < 0 ? 0 : event.budgetLeft }€ sur votre budget total de {event.budget}€</h2>}\r\n                                    {event.status === \"pending\" && <h2>Plus que {getDaysLeftBeforeEvent()} jours à patienter</h2>}\r\n                                    <div className=\"progressBarEvent\">\r\n                                        <ProgressBar now={pourcent} />\r\n                                    </div>\r\n                                    {event.status === \"creating\" &&\r\n                                        <ButtonSmall\r\n                                            onClick={(e) => history.push('/creer-mon-evenement/etape-2')}\r\n                                            color=\"orange\"\r\n                                            value=\"Reprendre mon évènement\"\r\n                                            backgroundColor=\"rgba(245, 192, 67)\"\r\n                                        />\r\n                                    }\r\n                                </div>\r\n                                <div className=\"dashboardInfo\">\r\n                                    <div className={windowsWidth < 600 ? \"insetLeftSide mobile\" : \"insetLeftSide\"}>\r\n                                        <div className=\"headerDashboardInset\">\r\n                                            <h2 style={{color:'rgba(245, 192, 67)'}}>Infos évènement</h2>\r\n                                        </div>\r\n                                        <div className=\"dashboardInfoContent\" style={{minHeight:'0px'}}>\r\n                                            <div className=\"item\">\r\n                                                <label>Nom de l'évènement:</label>\r\n                                                <p>{event.name}</p>\r\n                                            </div>\r\n                                            <div className=\"item\">\r\n                                                <label>Date:</label>\r\n                                                <p>{new Date(event.date).toLocaleDateString(\"fr-FR\", { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" })}</p>\r\n                                            </div>\r\n                                            <div className=\"item\">\r\n                                                <label>Créneau:</label>\r\n                                                <p style={{color:'rgb(239 25 136)'}}>Commence à <span>{formatLabelTimePicker(event.startAt)}</span></p>\r\n                                                <p style={{color:'rgb(27 76 239)'}}>se termine à <span>{formatLabelTimePicker(event.endAt)}</span></p>\r\n                                            </div>\r\n                                            {moreView &&\r\n                                             <div className=\"item\">\r\n                                                <label>Nombre de personnes:</label>\r\n                                                <p>{event.people} personnes</p>\r\n                                            </div>\r\n                                            }\r\n                                            {moreView &&\r\n                                            <div className=\"item\">\r\n                                                <label>Nombre de m²:</label>\r\n                                                <p>{event.placeSize}</p>\r\n                                            </div>\r\n                                            }\r\n                                            <div className=\"item\" style={{marginBottom:'unset'}}>\r\n                                                <label>Afficher plus\r\n                                                <button style={{backgroundColor:'rgba(244, 244, 244)', border:'0px', fontSize:'20px'}} onClick={() => more_view()}>{moreView ? '-' : '+'}</button></label>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"item buttonContainer\">\r\n                                            {event.status === \"creating\" &&\r\n                                                <ButtonSmall\r\n                                                    onClick={() => history.push('/creer-mon-evenement/etape-1')}\r\n                                                    color=\"grey\"\r\n                                                    value=\"Modifier les informations\"\r\n                                                    marginTop=\"20px\"\r\n                                                />\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {windowsWidth < 600 && <div className=\"separator\"></div>}\r\n\r\n                                    <div className=\"insetRightSide\">\r\n                                        {!isMobile() ?\r\n                                            <div className=\"headerDashboardInset\">\r\n                                                <h2 style={{color:'rgba(245, 192, 67)'}}>Prestataires sélectionnés</h2><br/>\r\n                                                {event.choosedServices.length > 0 ?\r\n                                                    <p style={{color:'rgba(245, 192, 67)'}}>{sellers && sellers.length} prestataires au total</p>\r\n                                                    : <span>Vous n'avez pas encore choisi de prestataire</span>\r\n                                                }\r\n                                            </div>\r\n                                            :\r\n                                            <div className=\"headerDashboardInset\">\r\n                                                <h2 style={{color:'rgba(245, 192, 67)', marginLeft:'10%'}}>Prestataires sélectionnés</h2>\r\n                                                {sellers && sellers.length > 0 ?\r\n                                                    <p style={{color:'rgba(245, 192, 67)'}}>{sellers && sellers.length} prestataires au total</p>\r\n                                                    : <span>Vous n'avez pas encore choisi de prestataire</span>}\r\n                                            </div>\r\n                                        }\r\n                                        <div>\r\n                                            <Slideshow eventStatus={event.status} sellers={sellers} windowsWidth={windowsWidth} isMobile={isMobile()} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                            :\r\n                            <div className={isMobile() ? \"noEventDisplayDashboard mobile\" : \"noEventDisplayDashboard\"}>\r\n                                <Image url=\"/images/triste.png\" />\r\n                                <h2>C’est dur à croire!</h2>\r\n                                <p>Mais il semblerait que n’ayez toujours pas planifié d’évènement sur NIVID</p>\r\n                                <button onClick={() => handleCreateEvent()}>Créer mon premier évènement</button>\r\n                                {error.length > 0 && <p className=\"errorMessage\">{error}</p>}\r\n                            </div>\r\n\r\n                        }\r\n                    </div>\r\n                    {!isMobile() &&\r\n                        <div>\r\n                            {event.status === \"creating\" &&\r\n                                <InterestedSellers />\r\n                            }\r\n                            <BlogWidget />\r\n                        </div>\r\n                    }\r\n                </div>\r\n                    : step === 2 ?\r\n                        <UpdateProfil isMobile={isMobile()} />\r\n                        : step === 3 &&\r\n                        <WishList eventStatus={event.status} isMobile={isMobile()} />\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default Dashboard;\r\n","/Users/bc/Desktop/Nivid/src/pages/SellerDetailProcess.js",["906","907"],"import React, { useEffect, useState } from \"react\";\r\nimport { useFirebase } from \"../assets/base-context\";\r\nimport ServiceDescription from \"../components/ServiceDescription\";\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport { useParams } from \"react-router-dom\";\r\nimport StickerBudgetLeft from \"../components/StickerBudgetLeft\";\r\n\r\nimport { ButtonSmall } from \"../components/utilities/Buttons\";\r\nimport Image from \"../components/utilities/Image\";\r\nimport Loader from \"../components/Loader.js\";\r\n\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nconst SellerDetailProcess = () => {\r\n  const firebaseContext = useFirebase();\r\n  const firestore = firebaseContext.firestore();\r\n\r\n  const [details, setDetails] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [isWishList, setIsWishList] = useState(false);\r\n  const [currentPageOffer, setCurrentPageOffer] = useState(0);\r\n  const [windowsWidth, setWindowsWidth] = useState(window.innerWidth);\r\n  const [selectedService, setSelectedService] = useState({});\r\n  const [isSelectedServiceOpen, setIsSelectedServiceOpen] = useState(false);\r\n\r\n  const {\r\n    addToCard,\r\n    setCurrentStepProcess,\r\n    addViewsOfSeller,\r\n    addItemToWishListOfUser,\r\n    isSellerInWishListOfUser,\r\n    setIsCardWidgetOpen,\r\n  } = useAuth(); // context\r\n  const { sellerId } = useParams();\r\n\r\n  const [animationLoaderDone, setAnimationLoaderDone] = useState(false);\r\n\r\n  const refSellers = firestore.collection(\"sellers\");\r\n\r\n  const isMobile = () => (windowsWidth > 1100 ? false : true);\r\n  const handleResize = (width) => setWindowsWidth(width);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth));\r\n    setCurrentStepProcess(21);\r\n\r\n    function getSellerDetailsFromDB() {\r\n      refSellers\r\n        .doc(sellerId)\r\n        .get()\r\n        .then((queryDetails) => {\r\n          getSellerServicesFromDB(queryDetails.data());\r\n        });\r\n    }\r\n\r\n    getSellerDetailsFromDB();\r\n    addViewsOfSeller(sellerId);\r\n\r\n    isSellerInWishListOfUser(sellerId).then((res) => {\r\n      if (res === true) setIsWishList(true);\r\n    });\r\n  }, []);\r\n\r\n  async function getSellerServicesFromDB(data) {\r\n    const servicesArray = [];\r\n    const detailsArray = data;\r\n    const results = await refSellers.doc(sellerId).collection(\"services\").get();\r\n    results.forEach((doc) => {\r\n      const newData = doc.data();\r\n      if (newData.variations && newData.variations.length > 0)\r\n        newData.price = newData.variations[0].price;\r\n      servicesArray.push({ ...newData, sellerId: sellerId, id: doc.id });\r\n    });\r\n    detailsArray.services = servicesArray;\r\n    setDetails(detailsArray);\r\n    setLoading(false);\r\n  }\r\n\r\n  function handlePaginationItem(val) {\r\n    const count = details.services.length; // 5 pour exemple\r\n    const maxPage = Math.ceil(count - windowsWidth / 380); // 4\r\n    if (val <= maxPage && val >= 0 && count - maxPage >= 1)\r\n      setCurrentPageOffer(val);\r\n  }\r\n\r\n  function handleServiceClicked(item) {\r\n    if (selectedService !== undefined && item.id === selectedService.id)\r\n      setIsSelectedServiceOpen(!isSelectedServiceOpen);\r\n    else {\r\n      setSelectedService(item);\r\n      setIsSelectedServiceOpen(true);\r\n    }\r\n  }\r\n\r\n\r\n  const handleCloseService = () => setIsSelectedServiceOpen(false)\r\n\r\n  function isButtonDisabled(val) {\r\n    const count = details.services.length; // 5 pour exemple\r\n    const maxPage = Math.ceil(count - windowsWidth / 380); // 4\r\n    return (val <= maxPage && val >= 0 && count - maxPage >= 1) ? null : \"disabled\"\r\n  }\r\n\r\n  function handleAddToCard(quantity, variation, note) {\r\n    const sellerID = sellerId;\r\n    let item = { ...selectedService };\r\n    item.variation = variation;\r\n    item.note = note;\r\n    addToCard(sellerID, item, quantity);\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  async function handleAddToWishList(id) {\r\n    await addItemToWishListOfUser(id);\r\n    setIsWishList(true);\r\n    return;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <CSSTransition\r\n        in={loading || !animationLoaderDone}\r\n        timeout={300}\r\n        classNames=\"pageTransition\"\r\n        unmountOnExit\r\n      >\r\n        <div className=\"pageTransition\">\r\n          <div className=\"sellersDetailsContainer\">\r\n            <Loader callBack={() => setAnimationLoaderDone(true)} />\r\n          </div>\r\n        </div>\r\n      </CSSTransition>\r\n\r\n      <CSSTransition\r\n        in={!loading && animationLoaderDone}\r\n        timeout={300}\r\n        classNames=\"pageTransition\"\r\n        unmountOnExit\r\n      >\r\n        {!loading && (\r\n          <div className=\"pageTransition\">\r\n            <div\r\n              className={\r\n                !isMobile()\r\n                  ? \"sellersDetailsContainer\"\r\n                  : \"sellersDetailsContainer mobile\"\r\n              }\r\n            >\r\n              <div className=\"sellersDetailsHeader\">\r\n                {!isMobile() && (\r\n                  <div className=\"stickerBudgetLeft stickerBudgetDetailsHeader\">\r\n                    <StickerBudgetLeft />\r\n                  </div>\r\n                )}\r\n                <div className=\"sellersHeaderImgContainer\">\r\n                  <Image url={details.image_path.url} />\r\n                </div>\r\n                <p className=\"title\">{details.name}</p>\r\n                <p>\r\n                  <Image url={\"/images/orange_marker.png\"} />\r\n                  {details.adress}\r\n                </p>\r\n                {isWishList ? (\r\n                  <span>Ajouté à votre WishList</span>\r\n                ) : (\r\n                  <ButtonSmall\r\n                    onClick={() => handleAddToWishList(sellerId)}\r\n                    color=\"pink\"\r\n                    value=\"ajouter à ma wishlist\"\r\n                    marginTop=\"20px\"\r\n                    icon=\"/images/heart.svg\"\r\n                  />\r\n                )}\r\n              </div>\r\n              {isMobile() && <div className=\"separatorServiceDetail\"></div>}\r\n              <div\r\n                className={\r\n                  !isMobile()\r\n                    ? \"sellerDetailsServicesContainer\"\r\n                    : \"sellerDetailsServicesContainer mobile\"\r\n                }\r\n              >\r\n                <p className=\"title\">Offres du prestataire</p>\r\n                <div className=\"offersListButtonContainer detailsServicesButtonContainer\">\r\n                  <ButtonSmall\r\n                    onClick={() => handlePaginationItem(currentPageOffer - 1)}\r\n                    color=\"grey\"\r\n                    value=\"Précédent\"\r\n                    marginRight=\"20px\"\r\n                    disabled={isButtonDisabled(currentPageOffer - 1)}\r\n                  />\r\n                  <ButtonSmall\r\n                    onClick={() => handlePaginationItem(currentPageOffer + 1)}\r\n                    color=\"grey\"\r\n                    value=\"Suivant\"\r\n                    disabled={isButtonDisabled(currentPageOffer + 1)}\r\n                  />\r\n                </div>\r\n                <div\r\n                  style={{ marginLeft: -(currentPageOffer * 380) }}\r\n                  className=\"detailsServiceItemContainer\"\r\n                >\r\n                  {Object.entries(details.services).map(([key, item]) => {\r\n                    return (\r\n                      <div\r\n                        onClick={() => handleServiceClicked(item)}\r\n                        className={\r\n                          selectedService !== undefined\r\n                            ? selectedService.id !== item.id\r\n                              ? \"notActive detailsServiceItem\"\r\n                              : \"active detailsServiceItem\"\r\n                            : \"detailsServiceItem\"\r\n                        }\r\n                        key={key}\r\n                      >\r\n                        <div className=\"serviceItem\">\r\n                          <div className=\"imgDetailsServiceItem\">\r\n                            <Image url={item.images[0].url} />\r\n                          </div>\r\n                          <div className=\"contentDetailsServiceItem\">\r\n                            <p className=\"title\">{item.name}</p>\r\n                            <p>{item.price}€</p>\r\n                            <span>+ en savoir plus</span>\r\n                          </div>\r\n                        </div>\r\n                        {isMobile() && (\r\n                          <ServiceDescription\r\n                            handleCloseService={handleCloseService}\r\n                            isMobile={isMobile()}\r\n                            display={\r\n                              selectedService.id === item.id &&\r\n                              isSelectedServiceOpen\r\n                                ? true\r\n                                : false\r\n                            }\r\n                            handleAddToCard={handleAddToCard}\r\n                            item={selectedService}\r\n                          />\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n              <div>\r\n                {!isMobile() && (\r\n                  <ServiceDescription\r\n                    handleCloseService={handleCloseService}\r\n                    handleAddToCard={handleAddToCard}\r\n                    item={selectedService}\r\n                    display={isSelectedServiceOpen}\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </CSSTransition>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SellerDetailProcess;\r\n","/Users/bc/Desktop/Nivid/src/pages/Prest_Login.js",["908"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Prest_.css\"\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useAuth } from \"../context/userContext\"; // context\r\n\r\nimport { ButtonLarge } from '../components/utilities/Buttons'\r\nimport Layout from '../components/utilities/Layout'\r\nimport Title from '../components/utilities/Title'\r\nimport SubTitle from '../components/utilities/SubTitle'\r\nimport ReactLoading from 'react-loading';\r\n\r\nimport imgPrestLogin from '../images/image00002.jpeg'\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nconst Prest_Login = () => {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n\r\n    const [buttonLoading, setButtonLoading] = useState(false)\r\n    \r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    const { login } = useAuth() // context\r\n    const history = useHistory()\r\n\r\n\r\n    function handleResize(width) {\r\n        setWindowsWidth(width)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n        return setIsMounted(true)\r\n    }, [])\r\n\r\n\r\n\r\n    async function handleLoginForm(e) {\r\n        e.preventDefault()\r\n        setButtonLoading(true)\r\n        try {\r\n            await login(email, password)\r\n        } catch {\r\n            setPassword(\"\")\r\n            setError(\"Nous n'avons pas réussi à vous identifier, veuillez réessayer.\")\r\n            setButtonLoading(false)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Layout>\r\n            <CSSTransition\r\n                in={isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"prest-login-container\">\r\n                    <Title value=\"Votre nouvelle boutique vous attend\" type=\"h1\" font=\"roboto-medium\" />\r\n                    <div className=\"prest-login-flex-container\">\r\n                        <div className=\"prest-login-left\">\r\n                            <SubTitle value=\"Grâce à NIVID, recevez des réservations 24H/24 7J/7 et boostez votre chiffre d'affaires\" type=\"big\" font=\"roboto-regular\" />\r\n                            <div className=\"divider\"></div>\r\n                            {/*<Title value=\"Connectez-vous à Nivid\" type=\"h2\" font=\"roboto-medium\" />*/}\r\n\r\n                            {error && <div className=\"errorMessage\">{error}</div>}\r\n\r\n                            <form>\r\n                                <div className=\"formLine\">\r\n                                    <div className=\"formField withoutMargin\">\r\n                                        <label>Identifiant / Adresse email</label>\r\n                                        <input value={email} type=\"email\" name=\"email\" onChange={(e) => setEmail(e.target.value)} />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"formLine\">\r\n                                    <div className=\"formField withoutMargin\">\r\n                                        <label>Mot de passe<span onClick={() => history.push(\"/mot-de-passe-oublie\")}>Mot de passe oublié ?</span></label>\r\n                                        <input value={password} type=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)} />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"formLine\">\r\n                                    <div className=\"formField withoutMargin\">\r\n                                        <ButtonLarge\r\n                                            onClick={(e) => handleLoginForm(e)}\r\n                                            color=\"orange\"\r\n                                            value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"C’est parti !\"}\r\n                                            backgroundColor=\"rgba(245, 192, 67)\"\r\n                                            marginTop=\"10px\"\r\n                                            disabled={buttonLoading ? \"disabled\" : null}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"formLine\">\r\n                                    <div className=\"formField loginBottomBloc\">\r\n                                        <p>Vous n'avez pas de compte ?</p>\r\n                                        <Link to=\"/mon-compte-partenaire/process/abonnement\">Inscrivez-vous</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n\r\n                        <div className=\"prest-login-right\">\r\n                            <img alt=\"\" src={imgPrestLogin} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </CSSTransition>\r\n        </Layout>\r\n    )\r\n}\r\nexport default Prest_Login;\r\n","/Users/bc/Desktop/Nivid/src/pages/Recapitulatif.js",["909","910"],"import React, { useEffect, useState } from \"react\";\r\nimport { useFirebase } from \"../assets/base-context\";\r\nimport ReactLoading from 'react-loading';\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport { items } from \"../components/servicesData\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport ModalYesNo from '../components/utilities/ModalYesNo'\r\n\r\nimport { ButtonLarge } from '../components/utilities/Buttons'\r\n\r\nconst Recapitulatif = (props) => {\r\n    \r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n    const { event, setCurrentStepProcess, updateQuantityService, formatLabelTimePicker, checkoutStart } = useAuth() // context\r\n    const [services, setServices] = useState([])\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    const [isModalOpened, setIsModalOpened] = useState(false);\r\n    const [currentServiceID, setCurrentServiceID] = useState(\"\");\r\n\r\n    const history = useHistory()\r\n\r\n    function isMobile() {\r\n        if (windowsWidth > 1090) {\r\n            return false\r\n        }\r\n        else {\r\n            return true\r\n        }\r\n    }\r\n\r\n    function handleResize(width) {\r\n        setWindowsWidth(width)\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n        setCurrentStepProcess(3)\r\n        getAllChoosedServicesFromDB()\r\n    }, [event.choosedServices])\r\n\r\n    async function handleDeleteClick(id) {\r\n        setCurrentServiceID(id)\r\n        setIsModalOpened(true)\r\n    }\r\n\r\n    async function handleModalYesNoReturn(val) {\r\n        setIsModalOpened(false)\r\n        if (val === \"no\") return\r\n\r\n        handleQuantityChanged(currentServiceID, 0)\r\n    }\r\n\r\n    async function getAllChoosedServicesFromDB() {\r\n        const refServices = firestore.collection(\"events\").doc(event.id).collection('services')\r\n        const allServicesQuery = await refServices.get();\r\n        const allServices = []\r\n        allServicesQuery.forEach(doc => {\r\n            allServices.push({ ...doc.data(), uid: doc.id })\r\n        })\r\n        setServices(allServices)\r\n        setLoading(false)\r\n    }\r\n\r\n\r\n    function getTotalPrice() {\r\n        let total = 0;\r\n        event.choosedServices.forEach(service => {\r\n            let price = service.price\r\n            if (service.variations && service.variations.length > 0) {\r\n                price = service.variations.filter(vari => vari.name === service.variation)[0].price\r\n            }\r\n            total += price * service.quantity\r\n        })\r\n        total = Number.parseFloat(total).toFixed(2);\r\n        return total\r\n    }\r\n\r\n\r\n    const filteredServices = (key) => services.filter(service => service.category === key);\r\n\r\n    function handleQuantityChanged(serviceID, quantity) {\r\n        updateQuantityService(serviceID, quantity)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={!isMobile() ? \"recapContainer\" : \"recapContainer mobile\"}>\r\n                <div className=\"recapHeader\">\r\n                    <p className='title'>Récapitulatif panier</p>\r\n                    <p className='subtitle'>{services.length} offres sélectionnées au total</p>\r\n                </div>\r\n                <div className=\"recapContent\">\r\n                    {loading ?\r\n                        <div className=\"recapServicesList\">\r\n                            <ReactLoading className=\"loadingSpinner\" type=\"spin\" color=\"rgba(245, 192, 67)\" height={50} width={50} />\r\n                        </div>\r\n                        :\r\n                        <div className=\"recapServicesList\">\r\n                            {\r\n                                Object.entries(items).map(([key, item]) => {\r\n                                    return (\r\n                                        <div className=\"recapServicesCategory\">\r\n                                            <p className=\"title\">\r\n                                                {key === \"decorations\" && \"Décoration\"}\r\n                                                {key === \"ambiance\" && \"Ambiance/Activité\"}\r\n                                                {key === \"nourriture\" && \"Nourriture & boisson\"}\r\n                                                {/* {key === \"service\" && \"Service sur place\"} */}\r\n                                            </p>\r\n                                            {\r\n                                                filteredServices(key).length > 0 ?\r\n                                                    filteredServices(key).map(service => {\r\n                                                        return (\r\n                                                            <div onClick={() => history.push(`/creer-mon-evenement/etape-2/prestataires/${service.sellerId}`)} className=\"recapServiceItem\">\r\n                                                                <div className=\"imgRecapServiceItem\">\r\n                                                                    <img alt=\"\" src={service.images[0].url} />\r\n                                                                </div>\r\n                                                                <div className=\"textRecapServiceItem\">\r\n                                                                    <span>\r\n                                                                        {(service.variations && service.variations.length > 0) ?\r\n                                                                            service.variations.filter(vari => vari.name === service.variation)[0].price + \"€\"\r\n                                                                            : service.price + \"€\"\r\n                                                                        }\r\n                                                                    </span>\r\n                                                                    <p>{service.name}</p>\r\n                                                                    <p>{(service.variations && service.variations.length > 0) && service.variation}</p>\r\n                                                                    <p onClick={(e) => e.stopPropagation(e)}>Quantité\r\n                                                                        <select\r\n                                                                            onChange={(e) => handleQuantityChanged(service.uid, e.target.value)}\r\n                                                                            name=\"quantity\"\r\n                                                                            id=\"quantity\"\r\n                                                                        >\r\n                                                                            <option selected={service.quantity === 1 && \"selected\"} value=\"1\">1</option>\r\n                                                                            <option selected={service.quantity === 2 && \"selected\"} value=\"2\">2</option>\r\n                                                                            <option selected={service.quantity === 3 && \"selected\"} value=\"3\">3</option>\r\n                                                                            <option selected={service.quantity === 4 && \"selected\"} value=\"4\">4</option>\r\n                                                                            <option selected={service.quantity === 5 && \"selected\"} value=\"5\">5</option>\r\n                                                                            <option selected={service.quantity === 6 && \"selected\"} value=\"6\">6</option>\r\n                                                                        </select>\r\n                                                                    </p>\r\n                                                                    <div onClick={(e) => (e.stopPropagation(), handleDeleteClick(service.uid))} className=\"deleteButtonRecapeServiceItem\">\r\n                                                                        <img alt=\"\" src=\"/images/trashRed.png\" />\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        )\r\n                                                    })\r\n                                                    :\r\n                                                    <p className=\"grey\">Aucune offre sélectionnée</p>\r\n                                            }\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    }\r\n                    <div className=\"recapInfo\">\r\n                        <div className=\"recapInfoTop\">\r\n                            <div className=\"recapInfoTopItem\">\r\n                                <span>Nom de l'évènement:</span>\r\n                                <p>{event.name}</p>\r\n                            </div>\r\n                            <div className=\"recapInfoTopItem\">\r\n                                <span>Date:</span>\r\n                                <p>{new Date(event.date).toLocaleDateString(\"fr-FR\", { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" })}</p>\r\n                            </div>\r\n                            <div className=\"recapInfoTopItem\">\r\n                                <span>Créneau:</span>\r\n                                <p className=\"coloredText1\">Commence à {formatLabelTimePicker(event.startAt)}</p>\r\n                                <p className=\"coloredText2\">Se termine à {formatLabelTimePicker(event.endAt)}</p>\r\n                            </div>\r\n                            <div className=\"recapInfoTopItem\">\r\n                                <span>Nombre de personnes:</span>\r\n                                <p>{event.people}</p>\r\n                            </div>\r\n                            <div className=\"recapInfoTopItem\">\r\n                                <span>Nombre de m²:</span>\r\n                                <p>{event.placeSize}</p>\r\n                            </div>\r\n                            <div className=\"recapInfoTopItem\">\r\n                                <span>Adresse:</span>\r\n                                <p>{event.place}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"recapInfoBottom\">\r\n                            <div className=\"pricesRecapInfoBottom\">\r\n                                <div>\r\n                                    <p>Total:</p>\r\n                                    <span>{getTotalPrice()}€</span>\r\n                                </div>\r\n                                <div>\r\n                                    <p>Acompte:</p>\r\n                                    <span>{Number.parseFloat(getTotalPrice() / 3).toFixed(2)}€</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"paymentRecapInfoBottom\">\r\n                                <img alt=\"\" src=\"/images/paymentMethode.png\" />\r\n                                <ButtonLarge\r\n                                    onClick={() => checkoutStart(Number.parseFloat(getTotalPrice() / 3).toFixed(2))}\r\n                                    // history.push('/creer-mon-evenement/etape-3/confirmation')\r\n                                    color=\"orange\"\r\n                                    value=\"Passer au paiement\"\r\n                                    disabled={services.length < 1 && \"disabled\"}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <CSSTransition\r\n                in={isModalOpened}\r\n                timeout={200}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <ModalYesNo\r\n                    callback={(val) => handleModalYesNoReturn(val)}\r\n                    value=\"\"\r\n                />\r\n            </CSSTransition>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Recapitulatif;","/Users/bc/Desktop/Nivid/src/pages/Prest_Step0.js",["911","912","913","914","915","916","917","918","919","920","921","922","923","924"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Prest_.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { ButtonLarge } from \"../components/utilities/Buttons\";\r\nimport Layout from \"../components/utilities/Layout\";\r\nimport Title from \"../components/utilities/Title\";\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport { ButtonSmall } from \"../components/utilities/Buttons\";\r\nimport Header from \"../components/Header\";\r\nimport { FaPlus } from \"react-icons/fa\";\r\nimport { ReactComponent as Checkedsvg } from \"../images/checked.svg\";\r\nimport { ReactComponent as Confetti } from \"../images/confetti.svg\";\r\nimport { AiOutlinePlus } from \"react-icons/ai\";\r\nimport { AiOutlineLine } from \"react-icons/ai\";\r\nimport pres1 from \"../images/AdobeStock_426636063.jpeg\";\r\nimport pres2 from \"../images/AdobeStock_200877704.jpeg\";\r\nimport pres3 from \"../images/AdobeStock_292777021.jpeg\";\r\nimport pres4 from \"../images/AdobeStock_304886685.jpeg\";\r\nimport pres5 from \"../images/AdobeStock_129995716.jpeg\";\r\nimport cibleImg from \"../images/cible.svg\";\r\nimport toolImg from \"../images/repair-tools.svg\";\r\n\r\nconst Prest_Step0 = () => {\r\n  const [windowsWidth, setWindowsWidth] = useState(window.innerWidth);\r\n\r\n  const history = useHistory();\r\n  const { setCurrentStepProcess, checkoutSubscription, refSellers, seller } = useAuth(); // context\r\n\r\n  const [openedFAQDropdown, setOpenedFAQDropdown] = useState(0);\r\n\r\n\r\n  const isMobile = () => (windowsWidth > 1100 ? false : true);\r\n  const handleResize = (width) => setWindowsWidth(width);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth));\r\n  }, []);\r\n  \r\n  // useEffect(() => {\r\n  //   refSellers.doc(seller.uid).get().then(res => {\r\n  //     const data = res.data()\r\n  //     data.subscription_id && history.push(\"/mon-compte-partenaire/process/description\")\r\n  //   })\r\n  // }, []);\r\n\r\n  setCurrentStepProcess(0);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Layout>\r\n        <div className=\"membership\">\r\n          <div className=\"membership_header\">\r\n            <h1>\r\n              Dernière étape avant de rentrer\r\n              <br /> officiellement dans la\r\n              <span> famille!</span>\r\n            </h1>\r\n            <div className=\"membership_header_images\">\r\n              <div className=\"images_container\">\r\n                <div className=\"item\">\r\n                  <img style={{ marginLeft: \"-85px\" }} src={pres1}></img>\r\n                </div>\r\n                <div className=\"item\">\r\n                  <img style={{ marginLeft: \"-85px\" }} src={pres2}></img>\r\n                </div>\r\n                <div className=\"item\">\r\n                  <img style={{ marginLeft: \"-115px\" }} src={pres3}></img>\r\n                </div>\r\n                <div className=\"item\">\r\n                  <img style={{ marginLeft: \"-155px\" }} src={pres4}></img>\r\n                </div>\r\n                <div className=\"item\">\r\n                  <img style={{ marginLeft: \"-15px\" }} src={pres5}></img>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"membership_content\">\r\n            <p>\r\n              En rejoignant <span>Nivid</span>, vous intégrez une communauté de\r\n              professionnels passionés et résolument modernes. Un petit luxe\r\n              dont on ne sait plus se passer une fois que l'on y a goûté !\r\n            </p>\r\n            <div className=\"features\">\r\n              <div>\r\n                <img src={cibleImg} />\r\n                <div class=\"blockprocessabonnement\">\r\n                  <h4>Augmentez votre chiffre d'affaires</h4>\r\n                  <p>Grâce à une plateforme intuitive & personnalisée</p>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <img src={toolImg} />\r\n                <div class=\"blockprocessabonnement\">\r\n                  <h4>Gagnez en productivité</h4>\r\n                  <p>\r\n                    Fini les multiples plateformes, faites tout depuis un seul\r\n                    endroit\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"offer\">\r\n              <h1>Votre boutique en ligne</h1>\r\n              <span>GRATUITE</span>\r\n              <p>\r\n                Une commission de 12% pour toute prestation réalisée sur nivid.fr\r\n              </p>\r\n              <ul>\r\n                <li>\r\n                  <Checkedsvg />Mise en place de la boutique en ligne\r\n                </li>\r\n                <li>\r\n                  <Checkedsvg />\r\n                  Gestion et facturation des commandes automatisées 24/7\r\n                </li>\r\n                <li>\r\n                  <Checkedsvg />\r\n                  Accompagnement et support partenaire\r\n                </li>\r\n                <li>\r\n                  <Checkedsvg />\r\n                  Outils d’analyse de performance (vues, likes, ventes)\r\n                </li>\r\n                <li>\r\n                  <Checkedsvg />\r\n                  SAV client\r\n                </li>\r\n                <li>\r\n                  <Checkedsvg />\r\n                  Communication digitale\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"action\">\r\n              <h2>\r\n                Vous n'êtes plus qu'à un clic d'augmenter votre{\" \"}\r\n                <span> chiffre d'affaires</span> <Confetti />\r\n              </h2>\r\n              <Link to=\"/inscription-prestataire\">\r\n                <ButtonSmall\r\n                  // onClick={() => checkoutSubscription()}\r\n                  to=\"/acces-prestataire\"\r\n                  color=\"blue\"\r\n                  value=\"Je m'inscris maintenant\"\r\n                />\r\n              </Link>\r\n              <p>\r\n                En cliquant, vous acceptez les conditions générales de vente\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"membership_bottom\">\r\n            <div className=\"left\">\r\n              <h1>Quelques questions / réponses à propos de l'abonnement</h1>\r\n              <p>Pour encore plus de réponses, visitez notre FAQ</p>\r\n              <button\r\n                onClick={() => history.push(\"faq\")}\r\n                className=\"blue smallButton\"\r\n              >\r\n                Voir la FAQ\r\n              </button>\r\n            </div>\r\n            <div className=\"right\">\r\n              <div className=\"home_dropdown_faq\">\r\n                <div\r\n                  onClick={() =>\r\n                    setOpenedFAQDropdown(openedFAQDropdown === 1 ? 0 : 1)\r\n                  }\r\n                >\r\n                  <div className=\"dropdown_faq_header\">\r\n                    <p>Quelles sont les prochaines étapes de mon inscription ?</p>\r\n                    {openedFAQDropdown === 1 ? (\r\n                      <AiOutlineLine />\r\n                    ) : (\r\n                      <AiOutlinePlus />\r\n                    )}\r\n                  </div>\r\n                  <span className={openedFAQDropdown === 1 && \"active\"}>\r\n                  Après nous avoir envoyé tous les documents nécessaires à l’identification de ton entreprise, nous procéderons à une validation de ton dossier. Une fois validé et le paiement de l’abonnement réalisé, il sera l’heure de faire tes premiers pas sur NIVID !\r\n                  </span>\r\n                </div>\r\n                <div\r\n                  onClick={() =>\r\n                    setOpenedFAQDropdown(openedFAQDropdown === 2 ? 0 : 2)\r\n                  }\r\n                >\r\n                  <div className=\"dropdown_faq_header\">\r\n                    <p>Comment suis-je accompagné dans l’installation de ma vitrine ?</p>\r\n                    {openedFAQDropdown === 2 ? (\r\n                      <AiOutlineLine />\r\n                    ) : (\r\n                      <AiOutlinePlus />\r\n                    )}\r\n                  </div>\r\n                  <span className={openedFAQDropdown === 2 && \"active\"}>\r\n                  Rassure-toi chez NIVID tu seras toujours accompagné et cela même après tes premiers pas.\r\nPour installer ta vitrine, nous te mettrons à disposition des tutoriels et si besoin, tu pourras <a href=\"/contact\">prendre rendez vous avec un membre de l’équipe NIVID.</a>\r\n                  </span>\r\n                </div>\r\n                <div\r\n                  onClick={() =>\r\n                    setOpenedFAQDropdown(openedFAQDropdown === 3 ? 0 : 3)\r\n                  }\r\n                >\r\n                  <div className=\"dropdown_faq_header\">\r\n                    <p>Aurais-je des contraintes a respecter en tant que partenaire NIVID ?</p>\r\n                    {openedFAQDropdown === 3 ? (\r\n                      <AiOutlineLine />\r\n                    ) : (\r\n                      <AiOutlinePlus />\r\n                    )}\r\n                  </div>\r\n                  <span className={openedFAQDropdown === 3 && \"active\"}>\r\n                  Chez NIVID, nous mettons tout en œuvre pour offrir à nos partenaires et nos clients la meilleure expérience possible. Dans ce sens, nous avons mis en place les <a href=\"/CGU\">conditions générales de service</a>, qui finalement reflètent l’état d’esprit NIVID !\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    </>\r\n  );\r\n};\r\nexport default Prest_Step0;\r\n","/Users/bc/Desktop/Nivid/src/pages/Prest_Dashboard.js",["925","926","927","928","929","930"],"import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Header from '../components/Header'\r\nimport { useAuth } from '../context/userContext'\r\nimport Prest_Dashboard_Dashboard from \"../components/Prest_Dashboard_Dashboard\"\r\nimport Prest_Dashboard_Commandes from '../components/Prest_Dashboard_Commandes'\r\nimport Prest_Dashboard_Services from '../components/Prest_Dashboard_Services'\r\nimport Prest_Dashboard_Info from '../components/Prest_Dashboard_Info'\r\nimport Prest_Dashboard_Sponsorship from '../components/Prest_Dashboard_Sponsorship'\r\nimport Prest_Dashboard_Status_Message from '../components/Prest_Dashboard_Status_Message'\r\n\r\n\r\nconst Prest_Dashboard = () => {\r\n\r\n    const { seller } = useAuth()\r\n    const history = useHistory()\r\n\r\n    seller.status === \"subscribing\" && history.push('/mon-compte-partenaire/process/abonnement')\r\n    \r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [step, setStep] = useState(seller.status === \"opened\" ? \"1\" : \"0\")\r\n\r\n    function isMobile() {\r\n        return windowsWidth > 1160 ? false : true\r\n    }\r\n\r\n    useEffect(() => {\r\n        seller.status !== \"opened\" ? setStep(0) : setStep(1)\r\n    }, [seller.status])\r\n\r\n    window.addEventListener(\"resize\", (e) => setWindowsWidth(window.innerWidth))\r\n    window.scrollTo(0, 0);\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <div className={!isMobile() ? \"prest_Dashboard dashboard\" : \"prest_Dashboard dashboard mobile\"}>\r\n                <div className=\"dashboardHeader\">\r\n                    <p>Content de vous revoir <span>{seller.displayName}</span></p>\r\n                    <div>\r\n                        {seller.status !== \"opened\" && <span className={step === 0 && \"active\"} onClick={() => setStep(0)}>Dashboard</span>}\r\n\r\n                        {seller.status === \"opened\" && <span className={step === 1 && \"active\"} onClick={() => setStep(1)}>Dashboard</span>}\r\n                        {seller.status === \"opened\" && <span className={step === 2 && \"active\"} onClick={() => setStep(2)}>Commandes</span>}\r\n                        {seller.status === \"opened\" && <span className={step === 3 && \"active\"} onClick={() => setStep(3)}>Mes services</span>}\r\n                        {seller.status === \"opened\" && <span className={step === 4 && \"active\"} onClick={() => setStep(4)}>Mes informations</span>}\r\n                        {seller.status === \"opened\" && <span className={step === 5 && \"active\"} onClick={() => setStep(5)}>Parrainage</span>}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={windowsWidth < 600 ? \"dashboardContent mobile\" : \"dashboardContent\"}>\r\n                    {step === 0 &&\r\n                        seller.status !== \"opened\" && <Prest_Dashboard_Status_Message status={seller.status} />\r\n                    }\r\n\r\n                    {step === 1 && <Prest_Dashboard_Dashboard setStep={setStep} />}\r\n                    {step === 2 && <Prest_Dashboard_Commandes />}\r\n                    {step === 3 && <Prest_Dashboard_Services setStep={setStep} />}\r\n                    {step === 4 && <Prest_Dashboard_Info />}\r\n                    {step === 5 && <Prest_Dashboard_Sponsorship />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default Prest_Dashboard;\r\n","/Users/bc/Desktop/Nivid/src/pages/passwordForget.js",["931","932"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Login.css\"\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport logoWhite from \"../images/logoWhite.svg\"\r\nimport logo from \"../images/logoBlack.svg\"\r\nimport { useAuth } from \"../context/userContext\"; // context\r\n\r\nimport { ButtonSmall, ButtonLarge } from '../components/utilities/Buttons'\r\nimport BackIcon from '@mui/icons-material/ArrowBackIosNew';\r\nimport checkedsvg from '../images/checked.png'\r\nimport Title from '../components/utilities/Title'\r\nimport Loader from \"../components/Loader\";\r\n\r\nconst PasswordForget = () => {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [isSent, setIsSent] = useState(false);\r\n    const [isSending, setIsSending] = useState(false);\r\n\r\n    const { getAuthUserFromHisEmail } = useAuth() // context\r\n    const history = useHistory()\r\n\r\n    const isMobile = () => windowsWidth > 1100 ? false : true\r\n    const handleResize = (width) => setWindowsWidth(width)\r\n\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n    }, [])\r\n\r\n\r\n\r\n    async function handleSendPasswordForget(e) {\r\n        e.preventDefault()\r\n        await getAuthUserFromHisEmail(email)\r\n            .then(res => {\r\n                if (res === true) {\r\n                    setIsSending(false)\r\n                    setIsSent(true)\r\n                }\r\n                else if (res === \"invalid\") {\r\n                    setIsSending(false)\r\n                    setError(\"Le format de l'e-mail est incorrect\")\r\n                }\r\n                else if (res === \"notexist\") {\r\n                    setIsSending(false)\r\n                    setError(\"L'email que vous avez renseigné n'est associé à aucun compte.\")\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"passwordForget_container\">\r\n            <header style={{ position: \"relative\", zIndex: \"999\", display: \"flex\", justifyContent: \"space-between\" }}>\r\n                <div onClick={() => history.push(\"/\")} className=\"logoContainer\">\r\n                    <img alt=\"\" src={!isMobile() ? logoWhite : logo} />\r\n                </div>\r\n                <div className=\"LoginBackLink\">\r\n                    <ButtonSmall\r\n                        color=\"orange\"\r\n                        onClick={() => history.push(\"/\")}\r\n                        value=\"Revenir à l'accueil\"\r\n                        iconMUIStart={<BackIcon sx={{ fontSize: 16 }} />}\r\n                        classname=\"flex\"\r\n                    />\r\n                </div>\r\n            </header>\r\n            <div className=\"passwordForget\">\r\n                {!isMobile() && <div className=\"passwordForget_left\"></div>}\r\n                <div className=\"passwordForget_right\">\r\n                    <div className=\"passwordForget_form\">\r\n                        {isSending ?\r\n                            <Loader />\r\n                            : !isSent ?\r\n                                <>\r\n                                    <h1>Vous avez perdu votre mot de passe ?</h1>\r\n                                    {error && (\r\n                                        <div className=\"errorMessage\">\r\n                                            {error}\r\n                                        </div>\r\n                                    )}\r\n                                    <form>\r\n                                        <div className=\"formLine\">\r\n                                            <div className=\"formField\">\r\n                                                <label>Identifiant / Adresse email</label>\r\n                                                <input value={email} type=\"email\" name=\"email\" onChange={(e) => setEmail(e.target.value)} />\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n\r\n                                        <div className=\"formLine\">\r\n                                            <div className=\"formField\">\r\n                                                <ButtonLarge\r\n                                                    onClick={(e) => { setIsSending(true); handleSendPasswordForget(e) }}\r\n                                                    color={\"orange\"}\r\n                                                    value=\"Envoyer le mail de réinitialisation\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </form>\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <img alt=\"\" style={{ width: \"60px\" }} src={checkedsvg} />\r\n                                    <Title value=\"Votre demande de réinitialisation a bien été envoyée.\" type=\"h2\" font=\"roboto-medium\" align=\"center\" />\r\n                                    <div className=\"passwordForget_form_bottom\">\r\n                                        <p>Vous n'avez pas reçu d'email de réinitialisation ?</p>\r\n                                        <a href=\"\" onClick={(e) => { setIsSending(true); handleSendPasswordForget(e) }}>Envoyer à nouveau</a>\r\n                                    </div>\r\n                                </>\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default PasswordForget;\r\n","/Users/bc/Desktop/Nivid/src/pages/Prest_Step3.js",["933","934"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Prest_.css\"\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useAuth } from \"../context/userContext\"; // context\r\n\r\nimport { ButtonSmall, ButtonLarge } from '../components/utilities/Buttons'\r\nimport Layout from '../components/utilities/Layout'\r\nimport Title from '../components/utilities/Title'\r\nimport SubTitle from '../components/utilities/SubTitle'\r\nimport ReactLoading from 'react-loading';\r\nimport { useFirebase } from \"../assets/base-context\";\r\nimport { FaCheckCircle } from 'react-icons/fa';\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nconst Prest_Step3 = () => {\r\n    \r\n    const firebaseContext = useFirebase()\r\n    const storage = firebaseContext.storage()\r\n\r\n    const initialDocuments = {\r\n        kbis: \"\",\r\n        ci: \"\",\r\n        assurance: \"\",\r\n        sepa: \"\",\r\n        rib: \"\"\r\n    }\r\n\r\n    const [error, setError] = useState({ type: \"\", message: \"\" });\r\n    const [buttonLoading, setButtonLoading] = useState(false)\r\n\r\n    const [documents, setDocuments] = useState(initialDocuments)\r\n\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n\r\n    const { seller, setCurrentStepProcess, addSellerDocuments, getSellerDocumentsFromDB } = useAuth() // context\r\n    const history = useHistory()\r\n    \r\n    // seller.status !== \"subscribing\" && history.push('/mon-compte-partenaire')\r\n\r\n    setCurrentStepProcess(3)\r\n\r\n    useEffect(() => {\r\n        function getCurrentDocumentsFromDB() {\r\n            getSellerDocumentsFromDB().then(data => {\r\n                if (data === null) {\r\n                    setDocuments(initialDocuments)\r\n                }\r\n                else {\r\n                    setDocuments(data)\r\n                }\r\n            })\r\n        }\r\n        getCurrentDocumentsFromDB()\r\n        setIsMounted(true)\r\n    }, [])\r\n\r\n\r\n    function handleInputChange(e, docType) {\r\n        const type = e.target.files[0].type\r\n        const size = e.target.files[0].size\r\n        if (type !== \"image/png\" && type !== \"image/jpeg\" && type !== \"image/jpg\" && type !== \"application/pdf\") {\r\n            setError({ type: docType, message: \"Votre fichier n'est ni une image jpeg, jpg, png ou PDF.\" })\r\n        }\r\n        else if (size > 2000000) {\r\n            setError({ type: docType, message: \"Votre image fait plus de 2Mo.\" })\r\n        }\r\n        else {\r\n            e.target.files[0].docType = docType\r\n            docType === \"kbis\" ? setDocuments({ ...documents, kbis: e.target.files[0] })\r\n                : docType === \"ci\" ? setDocuments({ ...documents, ci: e.target.files[0] })\r\n                    : docType === \"assurance\" && setDocuments({ ...documents, assurance: e.target.files[0] })\r\n            setError({ type: \"\", message: \"\" })\r\n        }\r\n    }\r\n\r\n    async function handleSendForm() {\r\n        setButtonLoading(true)\r\n        if (documents.kbis.name && documents.ci.name && documents.assurance.name) {\r\n            let documentsUrlArray = { ...documents }\r\n\r\n            for (const doc in documents) {\r\n                if (documents[doc].lastModified) {\r\n                    const token = `${documents[doc].docType}-${Math.random().toString(36).substr(2, 19)}`\r\n                    const url = await handleUploadFile(documents[doc], token)\r\n                    documentsUrlArray[documents[doc].docType] = { url: url, token: token, name: documents[doc].name }\r\n                }\r\n            }\r\n            \r\n            const modifiedFiles = Object.values(documents).filter(doc => doc.lastModified !== undefined)\r\n            modifiedFiles.length > 0 && await addSellerDocuments(documentsUrlArray)\r\n            history.push('/mon-compte-partenaire/process/verification-2')\r\n\r\n        } else {\r\n            setError({ type: \"docCount\", message: \"Il manque des documents. Le Kbis, la carte d'identité, et l'assurance de responsabilité civile, sont obligatoires.\" })\r\n            setButtonLoading(false)\r\n        }\r\n\r\n    }\r\n\r\n    function handleUploadFile(image, token) {\r\n\r\n        return new Promise((resolve, reject) => {\r\n\r\n            const upload = storage.ref(`sellers/${token}`).put(image)\r\n            upload.on(\r\n                \"state_changed\", snapshot => { },\r\n                error => {\r\n                    console.log(error)\r\n                }, () => {\r\n                    storage\r\n                        .ref(\"sellers\")\r\n                        .child(token)\r\n                        .getDownloadURL()\r\n                        .then(url => {\r\n                            resolve(url);\r\n                        })\r\n                        .catch(error => {\r\n                            console.error(error)\r\n                            reject(error);\r\n                        })\r\n                }\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <CSSTransition\r\n                in={isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"layoutDocumentPrest\">\r\n                    <div className=\"Prest-Step3-Header\">\r\n                        <SubTitle value=\"Vérification documents\" type=\"big\" font=\"roboto-medium\" align=\"left\" />\r\n                        <p>Sur cette page vous allez devoir nous transmettre vos documents, pour que nous puissions vérifier votre activité.</p>\r\n                        <p>Merci de bien les vérifier avant envoi, il ne peut y avoir de modifications possibles.</p>\r\n                    </div>\r\n\r\n                    <div className=\"Prest-Step3-Section1\">\r\n                        <Title value=\"KBIS actualisé ou relevé Siren\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                        {error.type === \"kbis\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                        <p>Evitez les photos floues ou trop sombres.</p>\r\n                        <input id=\"fileKbis\" className=\"input-file\" type=\"file\" onChange={(e) => handleInputChange(e, \"kbis\")} />\r\n                        <div className=\"fileConditions\">\r\n                            <p>2Mo max</p>\r\n                            <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\r\n                        </div>\r\n                        {\r\n                            (documents.kbis.status && documents.kbis.status === \"validated\") ?\r\n                                <p className=\"validMessage\"><FaCheckCircle style={{ marginRight: \"5px\" }} size=\"25\" color=\"rgb(120, 213, 152)\" />Votre document a été accepté</p>\r\n                                :\r\n                                <div>\r\n                                    {(documents.kbis.status && documents.kbis.status === \"rejected\") &&\r\n                                        <p className=\"errorMessage\">Votre document a été refusé.</p>\r\n                                    }\r\n                                    <ButtonSmall\r\n                                        onClick={() => document.getElementById('fileKbis').click()}\r\n                                        color=\"blue\"\r\n                                        value=\"Charger le document\"\r\n                                        marginTop=\"15px\"\r\n                                    />\r\n                                    {(documents.kbis && documents.kbis.status !== \"rejected\") && <span className=\"fileNameOnRight\">{documents.kbis.name}</span>}\r\n                                </div>\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"Prest-Step3-Section2\">\r\n                        <Title value=\"Carte d'identité du gérant\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                        {error.type === \"ci\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                        <p>Evitez les photos floues ou trop sombres.</p>\r\n                        <p>Merci de nous fournir un document avec le recto et le verso de votre carte d'identité.</p>\r\n                        <input id=\"fileCi\" className=\"input-file\" type=\"file\" onChange={(e) => handleInputChange(e, \"ci\")} />\r\n                        <div className=\"fileConditions\">\r\n                            <p>2Mo max</p>\r\n                            <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\r\n                        </div>\r\n                        {\r\n                            (documents.ci.status && documents.ci.status === \"validated\") ?\r\n                                <p className=\"validMessage\"><FaCheckCircle style={{ marginRight: \"5px\" }} size=\"25\" color=\"rgb(120, 213, 152)\" />Votre document a été accepté</p>\r\n                                :\r\n                                <div>\r\n                                    {(documents.ci.status && documents.ci.status === \"rejected\") &&\r\n                                        <p className=\"errorMessage\">Votre document a été refusé.</p>\r\n                                    }\r\n                                    <ButtonSmall\r\n                                        onClick={() => document.getElementById('fileCi').click()}\r\n                                        color=\"blue\"\r\n                                        value=\"Charger le document\"\r\n                                        marginTop=\"15px\"\r\n                                    />\r\n                                    {(documents.ci && documents.ci.status !== \"rejected\") && <span className=\"fileNameOnRight\">{documents.ci.name}</span>}\r\n                                </div>\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"Prest-Step3-Section4\">\r\n                        <Title value=\"Assurance responsabilité civile professionnelle\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                        {error.type === \"assurance\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                        <p>Evitez les photos floues ou trop sombres.</p>\r\n                        <input id=\"fileAssurance\" className=\"input-file\" type=\"file\" onChange={(e) => handleInputChange(e, \"assurance\")} />\r\n                        <div className=\"fileConditions\">\r\n                            <p>2Mo max</p>\r\n                            <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\r\n                        </div>\r\n                        {\r\n                            (documents.assurance.status && documents.assurance.status === \"validated\") ?\r\n                                <p className=\"validMessage\"><FaCheckCircle style={{ marginRight: \"5px\" }} size=\"25\" color=\"rgb(120, 213, 152)\" />Votre document a été accepté</p>\r\n                                :\r\n                                <div>\r\n                                    {(documents.assurance.status && documents.assurance.status === \"rejected\") &&\r\n                                        <p className=\"errorMessage\">Votre document a été refusé.</p>\r\n                                    }\r\n                                    <ButtonSmall\r\n                                        onClick={() => document.getElementById('fileAssurance').click()}\r\n                                        color=\"blue\"\r\n                                        value=\"Charger le document\"\r\n                                        marginTop=\"15px\"\r\n                                    />\r\n                                    {(documents.assurance && documents.assurance.status !== \"rejected\") && <span className=\"fileNameOnRight\">{documents.assurance.name}</span>}\r\n                                </div>\r\n                        }\r\n                    </div>\r\n\r\n\r\n                    <div className=\"divider\"></div>\r\n\r\n                    <div className=\"Prest-Step3-Section3\">\r\n                        <ButtonLarge\r\n                            onClick={() => handleSendForm()}\r\n                            color=\"orange\"\r\n                            value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"Passer aux documents suivants\"}\r\n                            width=\"400px\"\r\n                        />\r\n                    </div>\r\n                    {error.type === \"docCount\" && <p className=\"PrestErrorMessage\">{error.message}</p>}\r\n                </div>\r\n            </CSSTransition>\r\n        </Layout>\r\n    )\r\n}\r\nexport default Prest_Step3;\r\n","/Users/bc/Desktop/Nivid/src/pages/Prest_Step2.js",["935","936","937"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Prest_.css\"\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useAuth } from \"../context/userContext\"; // context\r\n\r\nimport DeleteIcon from '@mui/icons-material/DeleteOutline';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\nimport { useDetectClickOutside } from 'react-detect-click-outside';\r\n\r\nimport { ButtonSmall, ButtonLarge } from '../components/utilities/Buttons'\r\nimport Layout from '../components/utilities/Layout'\r\nimport Title from '../components/utilities/Title'\r\nimport SubTitle from '../components/utilities/SubTitle'\r\nimport NumericInput from 'react-numeric-input';\r\nimport { useFirebase } from \"../assets/base-context\";\r\nimport ReactLoading from 'react-loading';\r\n\r\nimport { FaTrashAlt } from 'react-icons/fa'\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nimport Image from '../components/utilities/Image'\r\n\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\n\r\nconst BoxConfirm = ({ type, position, callback, callbackClose }) => {\r\n    const refConfirmBox = useDetectClickOutside({ onTriggered: callbackClose });\r\n    return <div ref={refConfirmBox} className={`confirmBox ${position}`}>\r\n        <span>\r\n            {type === \"delete\" && \"Confirmation de suprresion d'une variation\"}\r\n            {type === \"save\" && \"Confirmation de sauvegarde\"}\r\n        </span>\r\n        <h2>\r\n            {type === \"delete\" && \"Êtes-vous sûr de vouloir supprimer cette variation ?\"}\r\n            {type === \"save\" && \"Vous n'avez rien oublié ?\"}\r\n        </h2>\r\n        <p>\r\n            {type === \"delete\" && \"Cette action est irréversible\"}\r\n            {type === \"save\" && \"Si jamais... Vous pouvez toujours modifier ce service directement depuis votre dashboard\"}\r\n        </p>\r\n\r\n        <ButtonSmall\r\n            onClick={callback}\r\n            color={type === \"delete\" ? \"red\" : \"green\"}\r\n            value=\"Je confirme\"\r\n            marginTop=\"20px\"\r\n        />\r\n    </div>\r\n}\r\n\r\n\r\nconst Prest_Step2 = () => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const storage = firebaseContext.storage()\r\n\r\n    const [error, setError] = useState({ type: \"\", message: \"\" });\r\n    const [buttonLoading, setButtonLoading] = useState(false)\r\n\r\n    const [services, setServices] = useState([])\r\n    const [pictureTokensToDelete, setPictureTokensToDelete] = useState([])\r\n\r\n    const [isFormOpened, setIsFormOpened] = useState(false)\r\n\r\n    const { seller, setCurrentStepProcess, addSellerServices, getServicesOfCurrentSellerFromDB, deleteOldSellerPicture, addFoodTypeToSeller } = useAuth() // context\r\n    const history = useHistory()\r\n\r\n    // seller.status !== \"subscribing\" && history.push('/mon-compte-partenaire')\r\n\r\n    const initialNewService = {\r\n        category: seller.category,\r\n        name: \"\",\r\n        images: [],\r\n        description: \"\",\r\n        price: 0,\r\n        variations: [],\r\n        foodType: \"Aucun\",\r\n        id: null\r\n    }\r\n\r\n    const [newService, setNewService] = useState(initialNewService)\r\n\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    const [isPopupConfirmDeleteOpened, setIsPopupConfirmDeleteOpened] = useState(false)\r\n    const [isPopupConfirmSaveOpened, setIsPopupConfirmSaveOpened] = useState(false)\r\n    const [currentDeletingVariation, setCurrentDeletingVariation] = useState(-1)\r\n\r\n    const [isServiceAddedCorrectly, setIsServiceAddedCorrectly] = useState(false)\r\n\r\n    const [isVariations, setIsVariations] = useState(false)\r\n\r\n    setCurrentStepProcess(2)\r\n\r\n    useEffect(() => {\r\n        function getCurrentServicesFromDB() {\r\n            getServicesOfCurrentSellerFromDB().then(data => {\r\n                setServices(data)\r\n            })\r\n        }\r\n        getCurrentServicesFromDB()\r\n        setIsMounted(true)\r\n    }, [])\r\n\r\n\r\n    function handleChange(e) {\r\n        const type = e.target.files[0].type\r\n        const size = e.target.files[0].size\r\n        if (type !== \"image/png\" && type !== \"image/jpeg\" && type !== \"image/jpg\" && type !== \"application/pdf\") {\r\n            setError({ type: \"imageType\", message: \"Votre fichier n'est ni une image jpeg, jpg, png ou PDF.\" })\r\n        }\r\n        else if (size > 2000000) {\r\n            setError({ type: \"imageSize\", message: \"Votre image fait plus de 2Mo.\" })\r\n        }\r\n        else {\r\n            const newURL = URL.createObjectURL(e.target.files[0])\r\n            e.target.files[0].localURL = newURL\r\n            setNewService({ ...newService, images: [...newService.images, e.target.files[0]] })\r\n            setError({ type: \"\", message: \"\" })\r\n        }\r\n    }\r\n\r\n    function euroFormat(num) { return num + '€'; }\r\n\r\n    function handleDeletePicture(item) {\r\n        const newPictures = [...newService.images]\r\n        for (var i = 0; i < newPictures.length; i++) {\r\n            if (newPictures[i].localURL === item || newPictures[i].url === item) {\r\n                if (newPictures[i].url === item) {\r\n                    setPictureTokensToDelete([...pictureTokensToDelete, newPictures[i].token])\r\n                }\r\n                newPictures.splice(i, 1);\r\n            }\r\n        }\r\n        setNewService({ ...newService, images: newPictures })\r\n    }\r\n\r\n    function handleServiceClicked(item) {\r\n        setIsVariations(item.variations.length > 0 ? true : false)\r\n        clearInputs()\r\n        setNewService(item)\r\n        setIsFormOpened(true)\r\n    }\r\n\r\n    function clearInputs() {\r\n        setNewService(initialNewService)\r\n        setError({ type: \"\", message: \"\" })\r\n    }\r\n\r\n    function handleAddService() {\r\n        setIsPopupConfirmSaveOpened(false)\r\n        if (newService.name.length < 5) {\r\n            setError({ type: \"name\", message: \"Le nom de votre offre doit faire au minimum 5 caractères.\" })\r\n        }\r\n        else if (newService.description.length < 20 || newService.description.length > 300) {\r\n            setError({ type: \"description\", message: \"Votre description doit comporter entre 20 et 300 caractères.\" })\r\n        }\r\n        else if (newService.images.length === 0) {\r\n            setError({ type: \"noPictures\", message: \"Vous devez ajouter au moins une photo de votre service.\" })\r\n        }\r\n        else {\r\n            setIsFormOpened(false)\r\n\r\n            //Si l'id est égal à Null, c'est que le service est nouveau\r\n            //Si l'id n'est pas null, on ne créera pas un nouveau service on modifiera l'actuel\r\n            if (newService.id !== null) {\r\n                const newServicesList = [...services]\r\n                var index = newServicesList.findIndex(service => service.id === newService.id)\r\n\r\n                const serviceToUpload = { ...newService }\r\n                if (!isVariations) serviceToUpload.variations = []\r\n                newServicesList[index] = serviceToUpload\r\n\r\n                setServices(newServicesList)\r\n                clearInputs()\r\n                setIsServiceAddedCorrectly(true)\r\n                setTimeout(() => {\r\n                    setIsServiceAddedCorrectly(false)\r\n                }, 2000)\r\n            }\r\n            else {\r\n\r\n                if (services.length >= 5) {\r\n                    setError({ type: \"maxServices\", message: \"Vous avez déjà atteint le maximum d'offres sur votre boutique.\" })\r\n                }\r\n                else {\r\n                    const reconstructedService = newService\r\n                    reconstructedService.id = services.length\r\n                    if (!isVariations) reconstructedService.variations = []\r\n\r\n                    setServices([...services, reconstructedService])\r\n                    clearInputs()\r\n                    setIsServiceAddedCorrectly(true)\r\n                    setTimeout(() => {\r\n                        setIsServiceAddedCorrectly(false)\r\n                    }, 2000)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleClickedAddService() {\r\n        setIsFormOpened(true)\r\n        setIsVariations(false)\r\n        clearInputs()\r\n        document.getElementById('serviceName').focus()\r\n    }\r\n\r\n    function handleFormSend() {\r\n        setButtonLoading(true)\r\n        if (services.length > 0) {\r\n            var newAllServicesArray = []\r\n\r\n            services.forEach(async service => {\r\n                var newServiceImageArray = service.images.filter(image => !image.localURL)\r\n                var newServiceArray = {\r\n                    description: service.description,\r\n                    id: service.id,\r\n                    name: service.name,\r\n                    images: newServiceImageArray,\r\n                    price: service.price,\r\n                    category: service.category,\r\n                    variations: service.variations,\r\n                    foodType: service.foodType !== undefined ? service.foodType : \"Aucun\"\r\n                }\r\n                \r\n                if (seller.category === \"nourriture\")\r\n                    await addFoodTypeToSeller(service.foodType !== undefined ? service.foodType : \"Aucun\")\r\n\r\n                for (var i = 0; i < service.images.length; i++) {\r\n\r\n                    if (service.images[i].localURL) {\r\n                        const token = Math.random().toString(36).substr(2, 19)\r\n                        const url = await handleUploadFile(service.images[i], token)\r\n                        let newImg = { url: url, token: token }\r\n                        newServiceImageArray.push(newImg)\r\n                        newServiceArray.images = newServiceImageArray\r\n                        pictureTokensToDelete.length > 0 && deleteOldSellerPicture(pictureTokensToDelete, \"services\")\r\n                    }\r\n                }\r\n                newAllServicesArray = [...newAllServicesArray, newServiceArray]\r\n                if (services.length === newAllServicesArray.length) {\r\n                    await addSellerServices(newAllServicesArray)\r\n                    history.push('/mon-compte-partenaire/process/verification-1')\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            setError({ type: \"serviceSize\", message: \"Merci d'ajouter au moins un service à votre boutique.\" })\r\n            setButtonLoading(false)\r\n        }\r\n    }\r\n\r\n    function handleUploadFile(image, token) {\r\n\r\n        return new Promise((resolve, reject) => {\r\n\r\n            const upload = storage.ref(`services/${token}`).put(image)\r\n            upload.on(\r\n                \"state_changed\", snapshot => { },\r\n                error => {\r\n                    console.log(error)\r\n                }, () => {\r\n                    storage\r\n                        .ref(\"services\")\r\n                        .child(token)\r\n                        .getDownloadURL()\r\n                        .then(url => {\r\n                            resolve(url);\r\n                        })\r\n                        .catch(error => {\r\n                            console.error(error)\r\n                            reject(error);\r\n                        })\r\n                }\r\n            )\r\n        })\r\n    }\r\n\r\n    function handleVariationChanged(type, val, key) {\r\n        let newVariations = [...newService.variations]\r\n        let newVariation = { ...newService.variations[key] }\r\n        if (type === \"name\") newVariation.name = val\r\n        else if (type === \"price\") newVariation.price = val\r\n        newVariations[key] = newVariation\r\n        setNewService({ ...newService, variations: newVariations })\r\n    }\r\n\r\n    function handleDeleteVariation(key) {\r\n        let newVariations = [...newService.variations]\r\n        newVariations.splice(key, key + 1)\r\n        setNewService({ ...newService, variations: newVariations })\r\n        setCurrentDeletingVariation(-1)\r\n        setIsPopupConfirmDeleteOpened(false)\r\n    }\r\n\r\n\r\n    function handleFoodTypeChanged(e) {\r\n        let newNewService = { ...newService }\r\n        newNewService.foodType = e.target.value\r\n        setNewService(newNewService)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Layout>\r\n                <CSSTransition\r\n                    in={isMounted}\r\n                    timeout={300}\r\n                    classNames=\"pageTransition\"\r\n                    unmountOnExit\r\n                >\r\n                    <div>\r\n                        <div className=\"Prest-Step2-Header\">\r\n                            <SubTitle value=\"Création de vos services\" type=\"big\" font=\"roboto-medium\" align=\"left\" />\r\n                            <p>Sur cette page vous pourrez créer vos services, qui seront ensuite visibles sur la page de votre profil NIVID.</p>\r\n                            <p>Prenez donc le temps de réfléchir vos prix & rédiger une bonne description.</p>\r\n                            <p>dès validation de votre dossier nous viendrons prendre des photos professionnelles de vos services/produits</p>\r\n                            <Title value=\"Ajouter vos services/produits\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                            <div className=\"servicesListeContainer\">\r\n                                {\r\n                                    services.map((item, key) => {\r\n                                        return (\r\n                                            <div\r\n                                                className=\"serviceContainer\"\r\n                                                onClick={() => handleServiceClicked(item)}\r\n                                                key={key}\r\n                                            >\r\n\r\n                                                <div className=\"detailsServiceItem active\">\r\n                                                    <div className=\"serviceItem\">\r\n                                                        <div className=\"imgDetailsServiceItem\">\r\n                                                            <Image url={item.images[0].localURL || item.images[0].url} />\r\n                                                        </div>\r\n                                                        <div className=\"contentDetailsServiceItem\">\r\n                                                            <p className=\"title\">{item.name}</p>\r\n                                                            <p>{item.variations.length > 0 ? item.variations[0].price : item.price},00€</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                {services.length < 5 && <label onClick={() => handleClickedAddService()} className=\"label-file\">+</label>}\r\n                            </div>\r\n                            <span>{services.length} / 5</span>\r\n                        </div>\r\n                        <div className=\"divider\"></div>\r\n\r\n                        <div className={isFormOpened ? \"formWrapContainer active\" : \"formWrapContainer\"}>\r\n                            <div className=\"Prest-Step2-Section0\">\r\n                                <Title value=\"Type de service:\" type=\"h3\" font=\"roboto-medium\" align=\"left\" />\r\n                                <div className=\"Prest-Step2-Section0_serviceType\">\r\n                                    <Title onClick={() => setIsVariations(false)} customClass={!isVariations && \"active\"} value=\"Service simple\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                    <Title onClick={() => { newService.variations.length === 0 && setNewService({ ...newService, variations: [{ name: \"\", price: 0 }] }); setIsVariations(true) }} customClass={isVariations && \"active\"} value=\"Service variable\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className={`Prest-Step2-Section1 ${isVariations ? \"noFlex\" : \"\"}`}>\r\n                                <div className=\"left\">\r\n                                    <Title value=\"Intitulé du service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                    <p>Le nom de votre offre, par exemple : x5 fleurs de décorations de table</p>\r\n                                    <div className=\"formField withoutMargin\">\r\n                                        <input\r\n                                            className={`${error.type === \"name\" ? \"invalid\" : \"\"}`}\r\n                                            id=\"serviceName\"\r\n                                            type=\"text\"\r\n                                            value={newService.name}\r\n                                            onChange={(e) => (setError({ type: \"\", message: \"\" }), setNewService({ ...newService, name: e.target.value }))}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                {!isVariations &&\r\n                                    <div className=\"right\">\r\n                                        <Title value=\"Prix de votre service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                        <div className=\"formField withoutMargin\">\r\n                                            <NumericInput\r\n                                                format={euroFormat}\r\n                                                className=\"form-control\"\r\n                                                value={newService.price}\r\n                                                min={20}\r\n                                                max={1000}\r\n                                                step={1}\r\n                                                precision={0}\r\n                                                size={9}\r\n                                                mobile\r\n                                                onChange={(value) => (setError({ type: \"\", message: \"\" }), setNewService({ ...newService, price: value }))}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n\r\n                            {\r\n                                seller.category === \"nourriture\" &&\r\n                                <div className=\"Prest-Step2-Section1bis\">\r\n                                    <Title value=\"Régime alimentaire\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                    {/* <FormGroup style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                                    <FormControlLabel onChange={(e) => handleFoodTypeChanged(e, \"Vegan\")} control={<Checkbox />} label=\"Vegan\" />\r\n                                    <FormControlLabel onChange={(e) => handleFoodTypeChanged(e, \"Casher\")} control={<Checkbox />} label=\"Casher\" />\r\n                                    <FormControlLabel onChange={(e) => handleFoodTypeChanged(e, \"Halal\")} control={<Checkbox />} label=\"Halal\" />\r\n                                    <FormControlLabel onChange={(e) => handleFoodTypeChanged(e, \"Vegetarien\")} control={<Checkbox />} label=\"Végétarien\" />\r\n                                </FormGroup>  */}\r\n                                    <RadioGroup\r\n                                        row\r\n                                        aria-label=\"gender\"\r\n                                        name=\"row-radio-buttons-group\"\r\n                                        onChange={handleFoodTypeChanged}\r\n                                        value={newService.foodType !== undefined ? newService.foodType : \"Aucun\"}\r\n                                    >\r\n                                        <FormControlLabel value=\"Vegan\" control={<Radio />} label=\"Vegan\" />\r\n                                        <FormControlLabel value=\"Casher\" control={<Radio />} label=\"Casher\" />\r\n                                        <FormControlLabel value=\"Halal\" control={<Radio />} label=\"Halal\" />\r\n                                        <FormControlLabel value=\"Vegetarien\" control={<Radio />} label=\"Végétarien\" />\r\n                                        <FormControlLabel value=\"Aucun\" control={<Radio />} label=\"Aucun\" />\r\n                                    </RadioGroup>\r\n                                </div>\r\n\r\n                            }\r\n\r\n                            <div className=\"Prest-Step2-Section2\">\r\n                                <Title value=\"Description de votre service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                <p>Décrivez au mieux le service que vous proposez au travers de cette offre.</p>\r\n                                <textarea\r\n                                    value={newService.description}\r\n                                    onChange={(e) => setNewService({ ...newService, description: e.target.value })}\r\n                                    className={`${error.type === \"description\" && \"invalid\"}`}\r\n                                >\r\n                                </textarea>\r\n                            </div>\r\n\r\n                            {isVariations &&\r\n                                <div className=\"Prest-Step2-Section2bis\">\r\n                                    <Title value=\"Création des déclinaisons\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                    <div className=\"Prest-Step2-Section2bis_variations\">\r\n                                        {newService.variations.map((variation, key) => {\r\n                                            return <>\r\n                                                <div className=\"variation_header\">\r\n                                                    <Title value={`Variation ${key}`} type=\"h3\" font=\"roboto-medium\" align=\"left\" />\r\n                                                    <IconButton\r\n                                                        onClick={() => { setCurrentDeletingVariation(key); setIsPopupConfirmDeleteOpened(true) }}\r\n                                                        color=\"error\"\r\n                                                        aria-label=\"delete\"\r\n                                                    >\r\n                                                        <DeleteIcon />\r\n                                                    </IconButton>\r\n                                                    {(isPopupConfirmDeleteOpened && currentDeletingVariation === key) &&\r\n                                                        <BoxConfirm\r\n                                                            type=\"delete\"\r\n                                                            position=\"bottom\"\r\n                                                            callback={() => handleDeleteVariation(key)}\r\n                                                            callbackClose={() => { setCurrentDeletingVariation(-1); setIsPopupConfirmDeleteOpened(false) }}\r\n                                                        />\r\n                                                    }\r\n                                                </div>\r\n                                                <div className=\"Prest-Step2-Section2bis_variation_item\"><div className=\"left\">\r\n                                                    <Title value=\"Intitulé de la variation\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                                    <p>Le nom de votre variation, par exemple : 6 parts/6 personnes</p>\r\n                                                    <div className=\"formField withoutMargin\">\r\n                                                        <input\r\n                                                            className={error.type === \"name\" && \"invalid\"}\r\n                                                            id=\"serviceName\"\r\n                                                            type=\"text\"\r\n                                                            value={newService.variations[key].name}\r\n                                                            onChange={(e) => handleVariationChanged(\"name\", e.target.value, key)}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                                    <div className=\"right\">\r\n                                                        <Title value=\"Prix de la variation\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                                        <div className=\"formField withoutMargin\">\r\n                                                            <NumericInput\r\n                                                                format={euroFormat}\r\n                                                                className=\"form-control\"\r\n                                                                value={newService.variations[key].price}\r\n                                                                min={1}\r\n                                                                max={1000}\r\n                                                                step={1}\r\n                                                                precision={0}\r\n                                                                size={9}\r\n                                                                mobile\r\n                                                                onChange={(value) => handleVariationChanged(\"price\", value, key)}\r\n                                                            />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </>\r\n                                        })}\r\n                                    </div>\r\n                                    <ButtonSmall\r\n                                        onClick={() => setNewService({ ...newService, variations: [...newService.variations, { name: \"\", price: 0 }] })}\r\n                                        color=\"blue\"\r\n                                        value=\"Ajouter une variation\"\r\n                                        marginTop=\"20px\"\r\n                                        classname=\"flex\"\r\n                                        iconMUIStart={<AddIcon />}\r\n                                    />\r\n                                </div>\r\n                            }\r\n\r\n                            <div className=\"Prest-Step2-Section3\">\r\n                                <Title value=\"Photos du service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                {(error.type === \"imageSize\" || error.type === \"imageType\" || error.type === \"noPictures\") && <p className=\"errorMessage\">{error.message}</p>}\r\n                                <p>Plusieurs photos peuvent être utiles pour le client, cela lui permettra de voir votre service plus en détail.</p>\r\n                                <div className=\"servicesListeContainer\">\r\n                                    {newService.images.map((item, key) =>\r\n                                        <div onClick={() => handleDeletePicture(item.localURL || item.url)} style={{ position: \"relative\" }}>\r\n                                            <Image url={item.localURL || item.url} /><FaTrashAlt color={\"white\"} size={32} />\r\n                                        </div>\r\n                                    )}\r\n                                    {newService.images.length < 4 && <label for=\"file\" className=\"label-file\">+</label>}\r\n                                </div>\r\n\r\n                                <input accept=\"image/jpeg, image/jpg, image/png, application/pdf\" id=\"file\" className=\"input-file\" type=\"file\" onChange={(e) => handleChange(e)} />\r\n                                <div className=\"Prest-Step2-Section3-bottom\">\r\n                                    <p>2Mo max par photo</p>\r\n                                    <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\r\n                                </div>\r\n                                <div className=\"buttonSaveOffer\">\r\n                                    {error.type === \"maxServices\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                                    {error.type === \"name\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                                    {error.type === \"description\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                                    <ButtonSmall\r\n                                        onClick={() => setIsPopupConfirmSaveOpened(true)}\r\n                                        color=\"green\"\r\n                                        value=\"Sauvergarder cette offre\"\r\n                                        marginTop=\"20px\"\r\n                                    />\r\n                                    {isPopupConfirmSaveOpened &&\r\n                                        <BoxConfirm\r\n                                            type=\"save\"\r\n                                            position=\"top\"\r\n                                            callback={() => handleAddService()}\r\n                                            callbackClose={() => setIsPopupConfirmSaveOpened(false)}\r\n                                        />\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"divider\"></div>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"Prest-Step2-Section4\">\r\n                            <Title value=\"Une fois terminé, passez à l’étape suivante\" type=\"h2\" font=\"roboto-medium\" align=\"right\" />\r\n                            <p>Vos services pourront être modifiés sur votre tableau de bord plus tard.</p>\r\n                            <ButtonLarge\r\n                                onClick={() => handleFormSend()}\r\n                                color=\"orange\"\r\n                                width=\"400px\"\r\n                                value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"Passer à l'étape suivante\"}\r\n                            />\r\n                        </div>\r\n\r\n                        {error.type === \"serviceSize\" && <p className=\"PrestErrorMessage\">{error.message}</p>}\r\n                    </div>\r\n                </CSSTransition>\r\n            </Layout>\r\n\r\n            <CSSTransition\r\n                in={isServiceAddedCorrectly}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"serviceAddedMessage\">\r\n                    <p>Annonce sauvegardée avec succès</p>\r\n                </div>\r\n            </CSSTransition>\r\n        </>\r\n    )\r\n}\r\nexport default Prest_Step2;\r\n","/Users/bc/Desktop/Nivid/src/pages/ConfirmSubscribe.js",["938","939","940"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Login.css\"\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport logo from \"../images/logoBlack.svg\"\r\nimport { ButtonSmall, ButtonLarge } from '../components/utilities/Buttons'\r\nimport BackIcon from '@mui/icons-material/ArrowBackIosNew';\r\nimport checkedsvg from '../images/checked.png'\r\nimport Title from '../components/utilities/Title'\r\n\r\nconst ConfirmSubscribe = () => {\r\n    \r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n\r\n    function isMobile() {\r\n        if (windowsWidth > 1100) {\r\n            return false\r\n        }\r\n        else {\r\n            return true\r\n        }\r\n    }\r\n\r\n    function handleResize(width) {\r\n        setWindowsWidth(width)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n    }, [])\r\n\r\n    const history = useHistory()\r\n\r\n\r\n    return (\r\n        <div className=\"ConfirmSubscribe_container\">\r\n        <header style={{ position: \"relative\", zIndex: \"999\", display: \"flex\", justifyContent: \"space-between\" }}>\r\n            <div onClick={() => history.push(\"/\")} className=\"logoContainer\">\r\n                <img alt=\"\" src={logo} />\r\n            </div>\r\n            <div className=\"LoginBackLink\">\r\n                <ButtonSmall\r\n                    color=\"orange\"\r\n                    onClick={() => history.push(\"/\")}\r\n                    value=\"Revenir à l'accueil\"\r\n                    iconMUIStart={<BackIcon sx={{ fontSize: 16 }} />}\r\n                    classname=\"flex\"\r\n                />\r\n            </div>\r\n        </header>\r\n            <div className=\"ConfirmSubscribe\">\r\n                <div className=\"loginContainer\">\r\n                    <img alt=\"\" style={{width: \"60px\"}} src={checkedsvg} />\r\n                    <Title value=\"Merci pour votre inscription.\" type=\"h2\" font=\"roboto-medium\" align=\"center\" />\r\n                    <p>Un email de confirmation vient d'être envoyé à l'adresse email que vous avez renseigné. Merci de cliquer sur le lien de validation.</p>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default ConfirmSubscribe;\r\n","/Users/bc/Desktop/Nivid/src/pages/Prest_Step4.js",["941"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Prest_.css\"\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useAuth } from \"../context/userContext\"; // context\r\n\r\nimport { ButtonSmall, ButtonLarge } from '../components/utilities/Buttons'\r\nimport Layout from '../components/utilities/Layout'\r\nimport Title from '../components/utilities/Title'\r\nimport SubTitle from '../components/utilities/SubTitle'\r\nimport ReactLoading from 'react-loading';\r\nimport { FaCheckCircle } from 'react-icons/fa';\r\nimport { useFirebase } from \"../assets/base-context\";\r\n\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nconst Prest_Step4 = () => {\r\n    \r\n    const firebaseContext = useFirebase()\r\n    const auth = firebaseContext.auth()\r\n    const storage = firebaseContext.storage()\r\n\r\n    const initialDocuments = {\r\n        kbis: \"\",\r\n        ci: \"\",\r\n        assurance: \"\",\r\n        sepa: \"\",\r\n        rib: \"\"\r\n    }\r\n\r\n    const [error, setError] = useState({ type: \"\", message: \"\" });\r\n    const [buttonLoading, setButtonLoading] = useState(false)\r\n\r\n    const [documents, setDocuments] = useState(initialDocuments)\r\n\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    const { seller, setCurrentStepProcess, addSellerDocuments, getSellerDocumentsFromDB, setSellerStatus } = useAuth() // context\r\n    const history = useHistory()\r\n\r\n    // seller.status !== \"subscribing\" && history.push('/mon-compte-partenaire')\r\n\r\n    setCurrentStepProcess(4)\r\n\r\n    useEffect(() => {\r\n        function getCurrentDocumentsFromDB() {\r\n            getSellerDocumentsFromDB().then(data => {\r\n                if (data === null) {\r\n                    setDocuments(initialDocuments)\r\n                }\r\n                else {\r\n                    setDocuments(data)\r\n                }\r\n            })\r\n        }\r\n        getCurrentDocumentsFromDB()\r\n        setIsMounted(true)\r\n    }, [])\r\n\r\n    function handleInputChange(e, docType) {\r\n        const type = e.target.files[0].type\r\n        const size = e.target.files[0].size\r\n        if (type !== \"image/png\" && type !== \"image/jpeg\" && type !== \"image/jpg\" && type !== \"application/pdf\") {\r\n            setError({ type: docType, message: \"Votre fichier n'est ni une image jpeg, jpg, png ou PDF.\" })\r\n        }\r\n        else if (size > 2000000) {\r\n            setError({ type: docType, message: \"Votre image fait plus de 2Mo.\" })\r\n        }\r\n        else {\r\n            e.target.files[0].docType = docType\r\n            docType === \"sepa\" ? setDocuments({ ...documents, sepa: e.target.files[0] })\r\n                : docType === \"rib\" && setDocuments({ ...documents, rib: e.target.files[0] })\r\n            setError({ type: \"\", message: \"\" })\r\n        }\r\n    }\r\n\r\n    async function handleSendForm() {\r\n        setButtonLoading(true)\r\n        if (documents.rib.name) {\r\n            let documentsUrlArray = { ...documents }\r\n\r\n            for (const doc in documents) {\r\n                if (documents[doc].lastModified) {\r\n                    const token = `${documents[doc].docType}-${Math.random().toString(36).substr(2, 19)}`\r\n                    const url = await handleUploadFile(documents[doc], token)\r\n                    documentsUrlArray[documents[doc].docType] = { url: url, token: token, name: documents[doc].name }\r\n                }\r\n            }\r\n            await addSellerDocuments(documentsUrlArray)\r\n            handleSendAll()\r\n        }\r\n        else {\r\n            setError({ type: \"final\", message: \"Pour finaliser votre inscription, le Rib est obligatoire.\" })\r\n            setButtonLoading(false)\r\n        }\r\n    }\r\n\r\n    async function handleSendAll() {\r\n\r\n        if (seller.description && seller.description.length > 0) {\r\n            if (seller.image_path && seller.image_path.url && seller.image_path.url.length > 0) {\r\n                if (seller.services.length > 0) {\r\n                    if (documents.kbis.name && documents.kbis.status !== \"rejected\") {\r\n                        if (documents.ci.name && documents.ci.status !== \"rejected\") {\r\n                            if (documents.assurance.name && documents.assurance.status !== \"rejected\") {\r\n                                if (documents.rib.name && documents.rib.status !== \"rejected\") {\r\n                                    await setSellerStatus(auth.currentUser.uid, \"pending\")\r\n                                    history.push('/mon-compte-partenaire/confirmation')\r\n                                } else {\r\n                                    setError({ type: \"final\", message: \"Pour finaliser votre inscription, le RIB est obligatoire.\" })\r\n                                }\r\n                            } else {\r\n                                setError({ type: \"final\", message: \"Pour finaliser votre inscription, l'assurance de responsabilité civile est obligatoire.\" })\r\n                            }\r\n                        } else {\r\n                            setError({ type: \"final\", message: \"Pour finaliser votre inscription, la carte d'identité du gérant est obligatoire.\" })\r\n                        }\r\n                    } else {\r\n                        setError({ type: \"final\", message: \"Pour finaliser votre inscription, le Kbis est obligatoire.\" })\r\n                    }\r\n                } else {\r\n                    setError({ type: \"final\", message: \"Pour finaliser votre inscription, vous devez avoir ajouté au moins 1 service.\" })\r\n                }\r\n            } else {\r\n                setError({ type: \"final\", message: \"Pour finaliser votre inscription, merci d'ajouter une photo principale pour votre boutique.\" })\r\n            }\r\n        }\r\n        else {\r\n            setError({ type: \"final\", message: \"Pour finaliser votre inscription, vous devez renseigner une description de votre boutique, à l'étape Prestations\" })\r\n        }\r\n        setButtonLoading(false)\r\n    }\r\n\r\n    function handleUploadFile(image, token) {\r\n\r\n        return new Promise((resolve, reject) => {\r\n\r\n            const upload = storage.ref(`sellers/${token}`).put(image)\r\n            upload.on(\r\n                \"state_changed\", snapshot => { },\r\n                error => {\r\n                    console.log(error)\r\n                }, () => {\r\n                    storage\r\n                        .ref(\"sellers\")\r\n                        .child(token)\r\n                        .getDownloadURL()\r\n                        .then(url => {\r\n                            resolve(url);\r\n                        })\r\n                        .catch(error => {\r\n                            console.error(error)\r\n                            reject(error);\r\n                        })\r\n                }\r\n            )\r\n        })\r\n    }\r\n\r\n    function handleDownloadSEPA() {\r\n\r\n        const element = document.createElement(\"a\");\r\n        const file = new Blob([document.getElementById('inputDownload').value],\r\n            { type: 'text/plain;charset=utf-8' });\r\n        element.href = URL.createObjectURL(file);\r\n        element.download = \"SEPA.txt\";\r\n        document.body.appendChild(element);\r\n        element.click();\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <CSSTransition\r\n                in={isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"layoutDocumentPrest\">\r\n                    <div className=\"Prest-Step4-Header\">\r\n                        <SubTitle value=\"Vérification documents\" type=\"big\" font=\"roboto-medium\" align=\"left\" />\r\n                        <p>Sur cette page vous allez devoir nous transmettre vos documents, pour que nous puissions vérifier votre activité.</p>\r\n                        <p>Merci de bien les vérifier avant envoi, il ne peut y avoir de modifications possibles.</p>\r\n                    </div>\r\n\r\n                    <div className=\"Prest-Step4-Section1\">\r\n                        <Title value=\"Prélèvement SEPA à remplir\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                        {error.type === \"sepa\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                        <p>Vous pourrez transférer ce document plus tard sur votre espace ou dés maintenant.</p>\r\n                        <input id=\"fileSepa\" className=\"input-file\" type=\"file\" onChange={(e) => handleInputChange(e, \"sepa\")} />\r\n\r\n                        {\r\n                            (documents.sepa.status && documents.sepa.status === \"validated\") ?\r\n                                <p className=\"validMessage\"><FaCheckCircle style={{ marginRight: \"5px\" }} size=\"25\" color=\"rgb(120, 213, 152)\" />Votre document a été accepté</p>\r\n                                :\r\n                                <div>\r\n                                    {(documents.sepa.status && documents.sepa.status === \"rejected\") &&\r\n                                        <p className=\"errorMessage\">Votre document a été refusé.</p>\r\n                                    }\r\n                                    <div id=\"inputDownload\">\r\n                                        <ButtonSmall\r\n                                            onClick={() => handleDownloadSEPA()}\r\n                                            color=\"orange\"\r\n                                            value=\"Télécharger le document\"\r\n                                            marginTop=\"20px\"\r\n                                        />\r\n                                    </div>\r\n                                    <ButtonSmall\r\n                                        onClick={() => document.getElementById('fileSepa').click()}\r\n                                        color=\"blue\"\r\n                                        value=\"Charger le document\"\r\n                                        marginTop=\"20px\"\r\n                                    />\r\n                                    {(documents.sepa && documents.sepa.status !== \"rejected\") && <span className=\"fileNameOnRight\">{documents.sepa.name}</span>}\r\n                                </div>\r\n\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"Prest-Step4-Section2\">\r\n                        <Title value=\"RIB bancaire\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                        {error.type === \"rib\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                        <p>Evitez les photos flous ou trop sombres.</p>\r\n                        <input id=\"fileRib\" className=\"input-file\" type=\"file\" onChange={(e) => handleInputChange(e, \"rib\")} />\r\n                        <div className=\"fileConditions\">\r\n                            <p>2Mo max</p>\r\n                            <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\r\n                        </div>\r\n                        {\r\n                            (documents.rib.status && documents.rib.status === \"validated\") ?\r\n                                <p className=\"validMessage\"><FaCheckCircle style={{ marginRight: \"5px\" }} size=\"25\" color=\"rgb(120, 213, 152)\" />Votre document a été accepté</p>\r\n                                :\r\n                                <div>\r\n                                    {(documents.rib.status && documents.rib.status === \"rejected\") &&\r\n                                        <p className=\"errorMessage\">Votre document a été refusé.</p>\r\n                                    }\r\n                                    <ButtonSmall\r\n                                        onClick={() => document.getElementById('fileRib').click()}\r\n                                        color=\"blue\"\r\n                                        value=\"Charger le document\"\r\n                                        marginTop=\"15px\"\r\n                                    />\r\n                                    {(documents.rib && documents.rib.status !== \"rejected\") && <span className=\"fileNameOnRight\">{documents.rib.name}</span>}\r\n                                </div>\r\n                        }\r\n\r\n                    </div>\r\n\r\n\r\n                    <div className=\"divider\"></div>\r\n\r\n                    <div className=\"Prest-Step4-Section3\">\r\n                        <Title value=\"Si vous avez terminé & bien vérifié que vos documents sont correctements enregistrés, vous pouvez finaliser votre dossier d'inscription\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                        <p>En cochant cette case vous acceptez les <span>conditions générales de ventes</span></p>\r\n                        <ButtonLarge\r\n                            onClick={() => handleSendForm()}\r\n                            color=\"orange\"\r\n                            value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"Finaliser mon inscription\"}\r\n                            width=\"400px\"\r\n                        />\r\n                    </div>\r\n                    {error.type === \"final\" && <p className=\"PrestErrorMessage\">{error.message}</p>}\r\n                </div>\r\n            </CSSTransition>\r\n        </Layout>\r\n    )\r\n}\r\nexport default Prest_Step4;\r\n","/Users/bc/Desktop/Nivid/src/pages/Prest_Step_Confirm.js",[],"/Users/bc/Desktop/Nivid/src/pages/Prest_Step1.js",["942","943","944"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Prest_.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/userContext\"; // context\r\n\r\nimport { ButtonSmall, ButtonLarge } from \"../components/utilities/Buttons\";\r\nimport Layout from \"../components/utilities/Layout\";\r\nimport Title from \"../components/utilities/Title\";\r\nimport SubTitle from \"../components/utilities/SubTitle\";\r\nimport { items } from \"../components/servicesData\";\r\nimport { useFirebase } from \"../assets/base-context\";\r\nimport ReactLoading from \"react-loading\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst Prest_Step1 = () => {\r\n  const firebaseContext = useFirebase();\r\n  const storage = firebaseContext.storage();\r\n\r\n  const [error, setError] = useState({ type: \"\", message: \"\" });\r\n  const [buttonLoading, setButtonLoading] = useState(false);\r\n\r\n  const [isMounted, setIsMounted] = useState(false);\r\n\r\n  const search = useLocation().search;\r\n  const session_id = new URLSearchParams(search).get(\"session_id\");\r\n\r\n  const initialSellerDetails = {\r\n    description: \"\",\r\n    category: \"\",\r\n    subcategory: \"\",\r\n    image_path: \"\",\r\n  };\r\n\r\n  const initialPictures = {\r\n    name: \"\",\r\n    url: \"\",\r\n    lastModified: 0,\r\n    size: 0,\r\n    type: \"\",\r\n    webkitRelativePath: \"\",\r\n  };\r\n\r\n  const [sellerDetails, setSellerDetails] = useState(initialSellerDetails);\r\n\r\n  const [pictures, setPictures] = useState(initialPictures);\r\n\r\n  const {\r\n    setCurrentStepProcess,\r\n    setImageSellerDB,\r\n    addSellerDescription,\r\n    seller,\r\n    deleteOldSellerPicture,\r\n    checkoutCheck,\r\n    refSellers,\r\n    setSeller,\r\n  } = useAuth(); // context\r\n  const history = useHistory();\r\n\r\n  // seller.status !== \"subscribing\" && history.push(\"/mon-compte-partenaire\");\r\n\r\n  setCurrentStepProcess(1);\r\n\r\n  useEffect(() => {\r\n    setSellerDetails({\r\n      description: seller.description,\r\n      category: seller.category,\r\n      subcategory: seller.subcategory,\r\n      image_path: seller.image_path,\r\n    });\r\n    return setIsMounted(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (session_id) {\r\n      checkoutCheck(session_id).then((res) => {\r\n        if (res.status === \"paid\") {\r\n          refSellers.doc(seller.uid).update({\r\n            subscription_id: res.id,\r\n          });\r\n          setSeller({ ...seller, subscription_id: res.id });\r\n        } /*else history.push(\"/mon-compte-partenaire/process/abonnement\")*/;\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!seller.subscription_id && session_id === null)\r\n      // history.push(\"/mon-compte-partenaire/process/abonnement\");\r\n      return;\r\n  }, []);\r\n\r\n  function handleCategoryChange(category, subcategory) {\r\n    if (category !== sellerDetails.category) {\r\n      setSellerDetails({\r\n        ...sellerDetails,\r\n        category: category,\r\n        subcategory: subcategory,\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleSubCategoryChange(key) {\r\n    if (key !== sellerDetails.subcategory) {\r\n      setSellerDetails({ ...sellerDetails, subcategory: key });\r\n    }\r\n  }\r\n\r\n  function handleChange(e) {\r\n    const type = e.target.files[0].type;\r\n    const size = e.target.files[0].size;\r\n    if (type !== \"image/png\" && type !== \"image/jpeg\" && type !== \"image/jpg\" && type !== \"application/pdf\") {\r\n      setError({\r\n        type: \"imageType\",\r\n        message: \"Votre fichier n'est ni une image jpeg, jpg ou PNG.\",\r\n      });\r\n    } else if (size > 2000000) {\r\n      setError({ type: \"imageSize\", message: \"Votre image fait plus de 2Mo.\" });\r\n    } else {\r\n      setPictures(e.target.files[0]);\r\n      setSellerDetails({\r\n        ...sellerDetails,\r\n        image_path: { url: URL.createObjectURL(e.target.files[0]) },\r\n      });\r\n      setError({ type: \"\", message: \"\" });\r\n    }\r\n  }\r\n\r\n  async function isFormValid() {\r\n    if (sellerDetails.description.length > 350) {\r\n      if (\r\n        sellerDetails.category.length > 1 &&\r\n        sellerDetails.subcategory.length > 1\r\n      ) {\r\n        if (\r\n          (pictures.name && pictures.name.length > 0) ||\r\n          (sellerDetails.image_path && sellerDetails.image_path.url.length) > 0\r\n        ) {\r\n          return true;\r\n        } else {\r\n          setButtonLoading(false);\r\n          setError({\r\n            type: \"noImage\",\r\n            message: \"Vous devez ajouter une image.\",\r\n          });\r\n        }\r\n      } else {\r\n        setButtonLoading(false);\r\n        setError({\r\n          type: \"noCategory\",\r\n          message: \"Vous devez séléctionner votre secteur d'activité.\",\r\n        });\r\n      }\r\n    } else {\r\n      setButtonLoading(false);\r\n      setError({\r\n        type: \"description\",\r\n        message: \"Votre description doit faire au moins 350 caractères.\",\r\n      });\r\n    }\r\n  }\r\n\r\n  async function handleSendForm() {\r\n    setButtonLoading(true);\r\n    setError({ type: \"\", message: \"\" });\r\n    const valid = await isFormValid();\r\n    if (valid === true) {\r\n      let tokenAndUrl = { url: \"\", token: \"\" };\r\n\r\n      // Si la photo est une nouvelle\r\n      if (pictures.name.length > 0) {\r\n        const token = Math.random().toString(36).substr(2, 19);\r\n        const url = await handleUploadFile(token);\r\n        await setImageSellerDB(url, token);\r\n        tokenAndUrl = { url: url, token: token };\r\n        seller.image_path.url &&\r\n          deleteOldSellerPicture([seller.image_path.token]);\r\n      } else {\r\n        tokenAndUrl = sellerDetails.image_path; // Photo non changée\r\n      }\r\n\r\n      addSellerDescription(sellerDetails, tokenAndUrl).then(() => {\r\n        setPictures(initialPictures);\r\n        setSellerDetails({ ...sellerDetails, image_path: tokenAndUrl });\r\n        setButtonLoading(false);\r\n        history.push(\"/mon-compte-partenaire/process/services\");\r\n      });\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  async function handleUploadFile(token) {\r\n    return new Promise((resolve, reject) => {\r\n      const upload = storage.ref(`sellers/${token}`).put(pictures);\r\n      upload.on(\r\n        \"state_changed\",\r\n        (snapshot) => {},\r\n        (error) => {\r\n          console.log(error);\r\n        },\r\n        () => {\r\n          storage\r\n            .ref(\"sellers\")\r\n            .child(token)\r\n            .getDownloadURL()\r\n            .then((url) => {\r\n              resolve(url);\r\n            })\r\n            .catch((error) => {\r\n              console.error(error);\r\n              reject(error);\r\n            });\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <CSSTransition\r\n        in={isMounted}\r\n        timeout={300}\r\n        classNames=\"pageTransition\"\r\n        unmountOnExit\r\n      >\r\n        <div>\r\n          <SubTitle\r\n            value=\"Dites-nous en plus sur votre activité\"\r\n            type=\"big\"\r\n            font=\"roboto-medium\"\r\n            align=\"left\"\r\n          />\r\n\r\n          <div className=\"Prest-Step1-Section1\">\r\n            <Title\r\n              value=\"Que devraient savoir vos futurs clients sur vous ?\"\r\n              type=\"h2\"\r\n              font=\"roboto-medium\"\r\n              align=\"left\"\r\n            />\r\n            <p>\r\n              Décrivez en détail votre entreprise : aussi bien les services que\r\n              les produits proposés afin de renseigner au mieux vos futurs\r\n              clients. Notre équipe révisera votre texte afin\r\n              d'optimiser votre vitrine et vous permettre d'attirer le plus\r\n              grand nombre de clients. Merci de ne pas inclure de page web,\r\n              courrier électronique, numéro de téléphone et autres coordonnées\r\n              de contact.\r\n            </p>\r\n            <div className=\"textAreaContainer\">\r\n              <textarea\r\n                value={sellerDetails.description}\r\n                onChange={(e) =>\r\n                  setSellerDetails({\r\n                    ...sellerDetails,\r\n                    description: e.target.value,\r\n                  })\r\n                }\r\n              ></textarea>\r\n              <span\r\n                className={sellerDetails.description.length > 349 && \"valid\"}\r\n              >\r\n                {sellerDetails.description.length}/350\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"Prest-Step1-Section2\">\r\n            <Title\r\n              value=\"Sélectionnez votre secteur d'activité\"\r\n              type=\"h2\"\r\n              font=\"roboto-medium\"\r\n              align=\"left\"\r\n            />\r\n\r\n            <div className=\"headerEtape2 Prest-category\">\r\n              {(sellerDetails.category === \"decorations\" ||\r\n                sellerDetails.category.length === 0) && (\r\n                <div\r\n                  className={\r\n                    sellerDetails.category === \"decorations\"\r\n                      ? \"category active\"\r\n                      : \"category\"\r\n                  }\r\n                  onClick={() =>\r\n                    handleCategoryChange(\"decorations\", \"Décorations intérieures\")\r\n                  }\r\n                >\r\n                  <h1>Décorations</h1>\r\n                </div>\r\n              )}\r\n\r\n              {(sellerDetails.category === \"ambiance\" ||\r\n                sellerDetails.category.length === 0) && (\r\n                <div\r\n                  className={\r\n                    sellerDetails.category === \"ambiance\"\r\n                      ? \"category active\"\r\n                      : \"category\"\r\n                  }\r\n                  onClick={() => handleCategoryChange(\"ambiance\", \"Musique\")}\r\n                >\r\n                  <h1>Ambiance</h1>\r\n                </div>\r\n              )}\r\n\r\n              {(sellerDetails.category === \"table\" ||\r\n                sellerDetails.category.length === 0) && (\r\n                <div\r\n                  className={\r\n                    sellerDetails.category === \"table\"\r\n                      ? \"category active\"\r\n                      : \"category\"\r\n                  }\r\n                  onClick={() => handleCategoryChange(\"table\", \"Nourriture\")}\r\n                >\r\n                  <h1>À table</h1>\r\n                </div>\r\n              )}\r\n\r\n             {/* {\r\n                                (sellerDetails.category === \"service\" || sellerDetails.category.length === 0) &&\r\n                                <div\r\n                                    className={sellerDetails.category === \"service\" ? \"category active\" : \"category\"}\r\n                                    onClick={() => handleCategoryChange(\"service\", \"serveurs\")}\r\n                                >\r\n                                    <h1>Service sur place</h1>\r\n                                </div>\r\n                            } */} \r\n\r\n              {sellerDetails.category.length > 0 && (\r\n                <div className=\"category button\">\r\n                  <h1\r\n                    onClick={() =>\r\n                      setSellerDetails({\r\n                        ...sellerDetails,\r\n                        category: \"\",\r\n                        subcategory: \"\",\r\n                      })\r\n                    }\r\n                  >\r\n                    Modifier ma sélection\r\n                  </h1>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"subHeaderEtape2 Prest-subCategory\">\r\n              {sellerDetails.category.length > 1 &&\r\n                Object.entries(items[sellerDetails.category]).map(\r\n                  ([key, item]) => {\r\n                    return (\r\n                      <div\r\n                        key={key}\r\n                        className={\r\n                          sellerDetails.subcategory === key\r\n                            ? \"subMenuItem active\"\r\n                            : \"subMenuItem\"\r\n                        }\r\n                        onClick={() => handleSubCategoryChange(key)}\r\n                      >\r\n                        <img alt=\"\" src={item.icon} />\r\n                        <p>{key}</p>\r\n                      </div>\r\n                    );\r\n                  }\r\n                )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"Prest-Step1-Section3\">\r\n            <Title\r\n              value=\"Photo principale\"\r\n              type=\"h2\"\r\n              font=\"roboto-medium\"\r\n              align=\"left\"\r\n            />\r\n\r\n            {(error.type === \"imageSize\" || error.type === \"imageType\") && (\r\n              <p className=\"errorMessage\">{error.message}</p>\r\n            )}\r\n\r\n            <p>\r\n              De votre boutique ou bien de votre stand, quelque chose de\r\n              représentatif !\r\n            </p>\r\n            <div className=\"fileInputContainer\">\r\n              {sellerDetails.image_path.length === 0 &&\r\n                seller.image_path.length === 0 && (\r\n                  <label for=\"file\" className=\"label-file\">\r\n                    +\r\n                  </label>\r\n                )}\r\n              <input\r\n                accept=\"image/jpeg, image/jpg, image/png, application/pdf\"\r\n                id=\"file\"\r\n                className=\"input-file\"\r\n                type=\"file\"\r\n                onChange={(e) => handleChange(e)}\r\n              />\r\n              <img\r\n                style={{ borderRadius: \"8px\" }}\r\n                alt=\"\"\r\n                src={sellerDetails.image_path.url || seller.image_path.url}\r\n              />\r\n              <div className=\"fileInputRight\">\r\n                <p>2Mo max.</p>\r\n                <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\r\n                <ButtonSmall\r\n                  onClick={() => document.getElementById(\"file\").click()}\r\n                  color={\r\n                    sellerDetails.image_path.length === 0 ? \"grey\" : \"blue\"\r\n                  }\r\n                  value={\r\n                    sellerDetails.image_path.length === 0\r\n                      ? \"Choisir une image\"\r\n                      : \"Changer d'image\"\r\n                  }\r\n                  marginTop=\"10px\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"Prest-Step1-Section4\">\r\n            <div>\r\n              <p>\r\n                <span>Attention: </span>Merci de bien vérifier toutes vos\r\n                informations, celles-ci seront modifiables seulement si votre\r\n                dossier est en attente de validation.\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <ButtonLarge\r\n                onClick={() => handleSendForm()}\r\n                color=\"orange\"\r\n                value={\r\n                  buttonLoading ? (\r\n                    <ReactLoading\r\n                      className=\"loadingSpinnerButton\"\r\n                      type=\"spin\"\r\n                      color=\"white\"\r\n                      height={23}\r\n                      width={23}\r\n                    />\r\n                  ) : (\r\n                    \"Passer à l'étape suivante\"\r\n                  )\r\n                }\r\n                width=\"400px\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {error.message.length > 1 && (\r\n            <p className=\"PrestErrorMessage\">{error.message}</p>\r\n          )}\r\n        </div>\r\n      </CSSTransition>\r\n    </Layout>\r\n  );\r\n};\r\nexport default Prest_Step1;\r\n","/Users/bc/Desktop/Nivid/src/pages/ConfirmEmail.js",["945","946","947"],"import { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { queryString } from 'query-string';\r\nimport { useFirebase } from \"../assets/base-context\";\r\n\r\nconst ConfirmEmail = () => {\r\n    \r\n    const firebaseContext = useFirebase()\r\n    const auth = firebaseContext.auth()\r\n\r\n    const [userNewPassword, setUserNewPassword] = useState(\"\")\r\n    const [errorMessage, setErrorMessage] = useState(\"\")\r\n    const [confirmMessage, setConfirmMessage] = useState(\"\")\r\n    const [actionMode, setActionMode] = useState(\"\")\r\n\r\n    const history = useHistory()\r\n\r\n    let url = window.location.search;\r\n    let params = queryString.parse(url);\r\n    var { mode, oobCode, continueUrl, lang } = params\r\n\r\n    useEffect(() => {\r\n        setActionMode(mode)\r\n        if (mode === \"resetPassword\") {\r\n            handleResetPassword();\r\n        }\r\n        else if (mode === \"verifyEmail\") {\r\n            handleVerifyEmail(oobCode, continueUrl, lang);\r\n        }\r\n    }, [])\r\n\r\n\r\n\r\n    function handleVerifyEmail(oobCode, continueUrl, lang) {\r\n        auth.applyActionCode(oobCode).then((resp) => {\r\n            // Email address has been verified.\r\n            setConfirmMessage(\"Votre email a bien été confirmé, vous allez être redirigé ...\")\r\n            setTimeout(() => {\r\n                history.push('/compte')\r\n            }, 3000)\r\n\r\n        }).catch((error) => {\r\n\r\n        });\r\n    }\r\n\r\n    function handleResetPassword() {\r\n        // Localize the UI to the selected language as determined by the lang\r\n        // parameter.\r\n\r\n        // Verify the password reset code is valid.\r\n        auth.verifyPasswordResetCode(oobCode).then((email) => {\r\n            var accountEmail = email;\r\n\r\n            // TODO: Show the reset screen with the user's email and ask the user for\r\n\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n    }\r\n\r\n    function handleConfirmNewPassword() {\r\n        // the new password.\r\n        var newPassword = userNewPassword\r\n\r\n        // Save the new password.\r\n        auth.confirmPasswordReset(oobCode, newPassword).then((resp) => {\r\n            // Password reset has been confirmed and new password updated.\r\n            setConfirmMessage(\"Mot de passe réinitialisé avec succés, vous allez être redirigé ...\")\r\n            setTimeout(() => {\r\n                history.push('/compte')\r\n            }, 3000)\r\n\r\n        }).catch((error) => {\r\n            console.log(error)\r\n        });\r\n    }\r\n\r\n    return actionMode === \"resetPassword\" ? (\r\n        confirmMessage.length < 3 ? (\r\n            <div>\r\n                <label>Votre nouveau mot de passe</label>\r\n                <input type=\"password\" value={userNewPassword} onChange={(e) => setUserNewPassword(e.target.value)} />\r\n                <button onClick={() => handleConfirmNewPassword()}>Confirmer</button>\r\n            </div>\r\n        )\r\n            : confirmMessage\r\n    )\r\n        : actionMode === \"verifyEmail\" && (\r\n            confirmMessage ? confirmMessage : errorMessage\r\n        )\r\n\r\n}\r\n\r\nexport default ConfirmEmail","/Users/bc/Desktop/Nivid/src/pages/GiveReview.js",["948"],"import { useState, useEffect } from 'react'\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ButtonSmall } from '../components/utilities/Buttons';\r\n\r\nimport Loader from '../components/Loader'\r\n\r\nimport { FaStar } from 'react-icons/fa';\r\n\r\nconst GiveReview = () => {\r\n\r\n    const search = useLocation().search\r\n    const eventId = new URLSearchParams(search).get('id')\r\n\r\n    const history = useHistory()\r\n\r\n    const [sellers, setSellers] = useState([])\r\n    const [isMounted, setIsMounted] = useState(false)\r\n    const [error, setError] = useState(\"\")\r\n\r\n    const {\r\n        user,\r\n        getSalesOfEventIdFromDB,\r\n        getSellersInDbWithUids,\r\n        getEventFromUid,\r\n        getReviewsOfSellerUid,\r\n        addReviewOfSellerUid,\r\n        sendInBlue_sendNotificationToSellerOfReview } = useAuth() // context\r\n\r\n\r\n    useEffect(() => {\r\n        if (eventId === null || eventId === undefined || eventId.length < 1) {\r\n            return history.push('/')\r\n        }\r\n        // Si pas connecté\r\n        if (!user) {\r\n            setIsMounted(true)\r\n            return setError(\"Vous devez être connecté pour laisser un avis.\")\r\n        }\r\n        // Si pas le createur de l'event\r\n        getEventFromUid(eventId).then(res => {\r\n            if (!res || user.uid !== res.user) {\r\n                return history.push('/')\r\n            }\r\n        })\r\n\r\n\r\n        if (eventId !== null && eventId.length > 1) {\r\n            getAllowedSellers().then(newSellers => {\r\n                if (newSellers === false) return history.push(\"/\")\r\n                // On ne prend que les sellers qui n'ont pas deja un avis avec l'id de l'event\r\n                const filtered = newSellers.filter(seller => seller.reviews.filter(review => review.eventID === eventId).length === 0)\r\n                const final = filtered.map(item => {\r\n                    return {\r\n                        newReview: {},\r\n                        companyName: item.companyName,\r\n                        reviews: item.reviews,\r\n                        uid: item.uid,\r\n                        firstName: item.firstName,\r\n                        email: item.email\r\n                    }\r\n                })\r\n                setSellers(final)\r\n                setError(\"\")\r\n                setIsMounted(true)\r\n            })\r\n        }\r\n    }, [])\r\n\r\n    async function getAllowedSellers() {\r\n        const res = await getSalesOfEventIdFromDB(eventId)\r\n        if (res.length < 1) return false\r\n        const sellerIds = res.map(element => element.sellerID)\r\n\r\n        const sellersArray = await getSellersInDbWithUids(sellerIds)\r\n        const newSellers = new Promise((resolve, reject) => {\r\n            sellersArray.map(async seller => {\r\n                const res = await getReviewsOfSellerUid(seller.uid)\r\n                seller.reviews = res\r\n                resolve(seller)\r\n            })\r\n        });\r\n        return Promise.all([newSellers]).then((val) => val)\r\n    }\r\n\r\n    function handleNoteChanged(key, note) {\r\n        let newSellers = [...sellers]\r\n        newSellers[key].newReview.note = note\r\n        setSellers(newSellers)\r\n    }\r\n\r\n    function handleCommentChanged(key, comment) {\r\n        let newSellers = [...sellers]\r\n        newSellers[key].newReview.comment = comment\r\n        setSellers(newSellers)\r\n    }\r\n\r\n    async function handleSendReview(sellerUID, key) {\r\n        const note = sellers[key].newReview.note\r\n        const comment = sellers[key].newReview.comment\r\n        if (note === undefined || comment === undefined) return\r\n        const res = await addReviewOfSellerUid(sellerUID, eventId, note, comment, user.displayName)\r\n        if (res) {\r\n            let newSellers = [...sellers]\r\n            const newReview = { eventID: eventId, note: note, comment: comment }\r\n            newSellers[key].reviews.push(newReview)\r\n            newSellers[key].newReview = newReview\r\n            setSellers(newSellers)\r\n\r\n            sendInBlue_sendNotificationToSellerOfReview(newSellers[key].email, newSellers[key].firstName)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"GiveReview_container\">\r\n            <CSSTransition\r\n                in={!isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <Loader />\r\n            </CSSTransition>\r\n\r\n            <CSSTransition\r\n                in={isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"GiveReview\">\r\n                    {error.length < 1 ?\r\n                        <>\r\n                            <h1>Donnez une note aux prestataires que vous aviez choisi</h1>\r\n                            {sellers.map((seller, key) =>\r\n                                seller.newReview.eventID === undefined ?\r\n                                    <div key={key} className=\"GiveReview__item\" >\r\n                                        <h2>{seller.companyName}</h2>\r\n                                        <div className=\"stars_container\">\r\n                                            <FaStar className={`${seller.newReview.note > 4 ? \"active\" : \"\"}`} onClick={() => handleNoteChanged(key, 5)} />\r\n                                            <FaStar className={`${seller.newReview.note > 3 ? \"active\" : \"\"}`} onClick={() => handleNoteChanged(key, 4)} />\r\n                                            <FaStar className={`${seller.newReview.note > 2 ? \"active\" : \"\"}`} onClick={() => handleNoteChanged(key, 3)} />\r\n                                            <FaStar className={`${seller.newReview.note > 1 ? \"active\" : \"\"}`} onClick={() => handleNoteChanged(key, 2)} />\r\n                                            <FaStar className={`${seller.newReview.note > 0 ? \"active\" : \"\"}`} onClick={() => handleNoteChanged(key, 1)} />\r\n                                        </div>\r\n                                        <div className=\"formField\">\r\n                                            <textarea\r\n                                                type=\"text\"\r\n                                                value={seller.comment}\r\n                                                onChange={e => handleCommentChanged(key, e.target.value)}\r\n                                                placeholder=\"Laissez un commentaire\"\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"buttonSendForm\">\r\n                                            <ButtonSmall\r\n                                                onClick={() => handleSendReview(seller.uid, key)}\r\n                                                color=\"blue\"\r\n                                                value=\"Valider\"\r\n                                                disabled={seller.newReview.note === undefined || seller.newReview.comment === undefined || seller.newReview.comment.length < 3}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    :\r\n                                    <div key={key}>Merci</div>\r\n                            )}\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <p>{error}</p>\r\n                            <span className=\"linkRedirect\" onClick={() => history.push('/compte')} >Se connecter</span>\r\n                        </>\r\n                    }\r\n                </div>\r\n            </CSSTransition>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default GiveReview","/Users/bc/Desktop/Nivid/src/pages/CGV.js",[],"/Users/bc/Desktop/Nivid/src/pages/Faq.js",["949","950","951"],"import React, { useState, useEffect } from \"react\";\r\nimport '../styles/Faq.css'\r\nimport { FaArrowRight, FaArrowLeft } from 'react-icons/fa';\r\nimport { useHistory } from 'react-router-dom'\r\nimport PlusImg from '../images/plus.svg'\r\nimport { AiOutlinePlus } from \"react-icons/ai\";\r\nimport { AiOutlineLine } from \"react-icons/ai\";\r\n\r\nimport  { ReactComponent as ArrowImg } from '../images/right-arrow.svg'\r\n\r\nconst faqData = [\r\n    {\r\n        question: \"Comment est réalisé le paiement de mon évènement ?\",\r\n        response: \"Le paiement est entièrement réalisé sur NIVID.fr. Dès validation de votre évènement, nous vous demanderons un acompte de 30%. Le jour de l’évènement, vous serez prélevé du restant dû de la commande avec le même moyen de paiement utilisé pour l’acompte. Les moyens de paiement sont : Visa, MasterCard, autres Cartes Bancaires, ApplePay, Paypal.\",\r\n        type: \"particulier\"\r\n    },\r\n    {\r\n        question: \"Quel évènement puis-je organiser sur NIVID.fr ?\",\r\n        response: \"Sur NIVID.fr vous pouvez organiser tous types d’évènements, de la babyshower à l’anniversaire en passant par le diner en amoureux, sans oublier la soirée entre amis ou en famille. Laissez votre imagination vous guider et éclatez-vous !\",\r\n        type: \"particulier\"\r\n    },\r\n    {\r\n        question: \"Comment gérer mon évènement en période de crise sanitaire ?\",\r\n        response: \"Nous veillons à la bonne exécution des gestes barrières de la part des partenaires NIVID. Il en est de votre responsabilité d’en faire de même le jour de votre évènement pour la sécurité de tous. Nous communiquerons quelques jours avant votre évènement, une note des bonnes pratiques à mettre en place.\",\r\n        type: \"particulier\"\r\n    },\r\n    {\r\n        question: \"Quelles sont les prochaines étapes de mon inscription ?\",\r\n        response: \"Après nous avoir envoyé tous les documents nécessaires à l’identification de ton entreprise, nous procéderons à une validation de ton dossier. Une fois validé et le paiement de l’abonnement réalisé, il sera l’heure de faire tes premiers pas sur NIVID !\",\r\n        type: \"prestataire\"\r\n    },\r\n    {\r\n        question: \"Comment suis-je accompagné dans l’installation de ma vitrine ?\",\r\n        response: \"Rassure-toi chez NIVID tu seras toujours accompagné et cela même après tes premiers pas. Pour installer ta vitrine, nous te mettrons à disposition des tutoriels et si besoin, tu pourras prendre rendez vous avec un membre de l’équipe NIVID.\",\r\n        type: \"prestataire\"\r\n    },\r\n    {\r\n        question: \"Aurais-je des contraintes a respecter en tant que partenaire NIVID ?\",\r\n        response: \"Chez NIVID, nous mettons tout en œuvre pour offrir à nos partenaires et nos clients la meilleure expérience possible. Dans ce sens, nous avons mis en place les conditions générales de service, qui finalement reflètent l’état d’esprit NIVID !\",\r\n        type: \"prestataire\"\r\n    },\r\n    {\r\n        question: \"Combien coûte l’adhésion sur le site NIVID ?\",\r\n        response: \"L’adhésion est à 468 €/mois HT soit 39€/mois HT, autrement dit l’équivalent d’un bouquet de fleur ou d’un beau gâteau d’anniversaire, d’un plateau traiteur, d’une bonne bouteille de champagne ... Vendu sur NIVID.fr. Et pour nous permettre de vous faire briller en ligne grâce à de la publicité digitale, l’optimisation de votre boutique digitale, nous prélevons une commission de 8% HT pour la vente de produits et de 10% HT pour la vente de services. Chez NIVID nous réinvestissons pour vous.\",\r\n        type: \"prestataire\"\r\n    },\r\n]\r\n\r\nconst Faq = (props) => {\r\n\r\n    const [activeQuestionsType, setActiveQuestionsType] = useState(\"particulier\")\r\n    const [openedQuestion, setOpenedQuestion] = useState(-1)\r\n\r\n    const [filter, setFilter] = useState(\"\")\r\n    const [pagination, setPagination] = useState({ from: 0, to: 5 })\r\n    const [currentPage, setCurrentPage] = useState(0)\r\n    const [pageCount, setPageCount] = useState(1)\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        const newPageCount = Math.ceil(faqData.filter(item => item.type === activeQuestionsType).filter(item => item.question.includes(filter)).length / 5)\r\n        newPageCount === 1 && setCurrentPage(0)\r\n        setPageCount(newPageCount)\r\n        const newSlice = { from: 0 + (currentPage * 5), to: 5 + (currentPage * 5) }\r\n        setPagination(newSlice)\r\n    }, [currentPage, filter, activeQuestionsType])\r\n\r\n    function handlePagination(page) {\r\n        if (page + 1 > pageCount || page < 0) return\r\n        setCurrentPage(page)\r\n    }\r\n\r\n    function handleActiveQuestionsType(type) {\r\n        setCurrentPage(0)\r\n        setActiveQuestionsType(type)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"faq\">\r\n                <div className=\"faq_header\">\r\n                    <h1>Questions fréquentes</h1>\r\n                    <div className=\"inputWithButton_FAQ\">\r\n                        <input onChange={(e) => setFilter(e.target.value)} value={filter} placeholder=\"Tapez votre question ici ...\" type=\"text\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"faq_content\">\r\n                    <div className=\"faq_content_type\">\r\n                        <h2 className={activeQuestionsType === \"particulier\" && \"active\"} onClick={() => handleActiveQuestionsType(\"particulier\")}>Particulier</h2>\r\n                        <h2 className={activeQuestionsType === \"prestataire\" && \"active\"} onClick={() => handleActiveQuestionsType(\"prestataire\")}>Prestataire</h2>\r\n                    </div>\r\n                </div>\r\n                <div className=\"faq_content_content\">\r\n                    {\r\n                        faqData\r\n                            .filter(item => item.question.includes(filter))\r\n                            .filter(item => item.type === activeQuestionsType)\r\n                            .slice(pagination.from, pagination.to)\r\n                            .map((item, key) => {\r\n                                return <div\r\n                                    key={key}\r\n                                    onClick={() => setOpenedQuestion(key === openedQuestion ? -1 : key)}\r\n                                    className={openedQuestion === key ? \"faq_item active\" : \"faq_item\"}>\r\n                                    <h4>{item.question}</h4>\r\n                                    <p className={`${openedQuestion === key ? \"active\" : \"\"}`}> {item.response}</p>\r\n                                    <span\r\n                                    className={`${openedQuestion === key ? \"active\" : \"\"}`}\r\n                                    >{ openedQuestion === key ? <AiOutlineLine /> : <AiOutlinePlus /> }</span>\r\n                                </div>\r\n                                // Afficher le + et le - sur les items\r\n                            })\r\n                    }\r\n                    <div className=\"faq_pagination\">\r\n                        <ArrowImg className={currentPage - 1 < 0 && \"disabled\"} onClick={() => handlePagination(currentPage - 1)} />\r\n                        <p>Page {currentPage + 1} sur {pageCount}</p>\r\n                        <ArrowImg className={currentPage + 1 + 1 > pageCount && \"disabled\"} onClick={() => handlePagination(currentPage + 1)} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"faq_bottom\">\r\n                    <h4>Vous ne trouvez pas de réponse à votre question ?</h4>\r\n                    <button onClick={() => history.push('/contact')} className=\"blue largeButton\">Contactez-nous</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Faq;\r\n","/Users/bc/Desktop/Nivid/src/pages/Contact_Boutique.js",["952","953","954","955","956","957","958","959"],"import React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useHistory } from 'react-router-dom'\r\nimport '../styles/Contact_Boutique.css'\r\nimport NoteWidget from '../components/NoteWidget'\r\nimport Image from '../components/utilities/Image'\r\n\r\nimport imgBloc1 from '../images/Calque2.svg'\r\nimport rappelImg1 from '../images/rapellVid1.png'\r\nimport rappelImg2 from '../images/rapellVid2.png'\r\nimport rappelImg3 from '../images/rapellVid3.png'\r\n\r\nconst Contact_Boutique = (props) => {\r\n\r\n    const history = useHistory()\r\n\r\n    const search = useLocation().search\r\n    const referral = new URLSearchParams(search).get('referral')\r\n\r\n    const [openedFAQDropdown, setOpenedFAQDropdown] = useState(0)\r\n\r\n    useEffect(() => {\r\n    })\r\n\r\n    function handleAncreClicked() {\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"contact_seller1\">\r\n                <div>\r\n                    <h1><span>Rejoignez</span> NIVID!</h1>\r\n                    <h2>Une plateforme au service de ses partenaires</h2>\r\n                    <div className=\"contact_seller_form_bloc\">\r\n                        <p>Une question ? Demandez un rappel en remplissant le formulaire :</p>\r\n                        <div className=\"contact_seller_form\">\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label htmlFor=\"name\">Votre nom *</label>\r\n                                    <input name=\"name\" type=\"text\" value=\"\" />\r\n                                </div>\r\n                                <div className=\"formField\">\r\n                                    <label htmlFor=\"email\">Votre adresse mail *</label>\r\n                                    <input name=\"email\" type=\"text\" value=\"\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label htmlFor=\"tel\">Votre numéro de téléphone *</label>\r\n                                    <input name=\"tel\" type=\"text\" value=\"\" />\r\n                                </div>\r\n                                <div className=\"formField\">\r\n                                    <label htmlFor=\"domaine\">Votre domaine d'activité *</label>\r\n                                    <input name=\"domaine\" type=\"text\" value=\"\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label htmlFor=\"how\">Comment avez-vous entendu parler de nous ? *</label>\r\n                                    <input name=\"how\" type=\"text\" value=\"\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"contact_seller_form_button\">\r\n                                <button className=\"blue largeButton\">Envoyer ma demande de rappel</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div>\r\n                    <img src={imgBloc1} alt=\"\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"contact_seller2\">\r\n                <h1>Mettez en avant votre <span>savoir-faire</span>, laissez-nous faire le <span>reste</span></h1>\r\n                {/*<div className=\"contact_seller2_banner1\">\r\n\r\n                </div>\r\n                <div className=\"contact_seller2_banner2\">\r\n\r\n                </div> */}\r\n            </div>\r\n            <div className=\"contact_seller3\">\r\n                <div className=\"contact_seller3_videos\">\r\n                {/* <img src={rappelImg1} alt=\"\" />\r\n                    <img src={rappelImg2} alt=\"\" /> */}\r\n                    <img src={rappelImg2} alt=\"\" />\r\n                </div>\r\n                <button onClick={() => handleAncreClicked()} className=\"blue largeButton\">Je deviens partenaire</button>\r\n            </div>\r\n            <div className=\"contact_seller4\">\r\n                <h3>Questions fréquentes</h3>\r\n                <div className=\"contact_seller4_item\">\r\n                    <h3>Quelles sont les prochaines étapes de mon inscription ?</h3>\r\n                    <p>Pour t’inscrire sur NIVID tu dois nous donner les documents nous permettant d’identifier ton activité. En plus de cela nous organiserons une rencontre en visioconférence. Si tu réponds aux critères de qualité de NIVID, nous validerons ton inscription !</p>\r\n                </div>\r\n                <div className=\"contact_seller4_item\">\r\n                    <h3>Comment suis-je accompagné dans l’installation de ma vitrine ?</h3>\r\n                    <p>Rassure-toi chez NIVID tu seras toujours accompagné et cela même après tes premiers pas.<br></br>\r\nPour installer ta vitrine, nous te mettrons à disposition des tutoriels et si besoin, tu pourras <a href=\"/contact\">prendre rendez vous avec un membre de l’équipe NIVID.</a></p>\r\n                </div>\r\n                <div className=\"contact_seller4_item\">\r\n                    <h3>Aurais-je des contraintes a respecter en tant que partenaire NIVID ?</h3>\r\n                    <p>Chez NIVID, nous mettons tout en œuvre pour offrir à nos partenaires et nos clients la meilleure expérience possible. Dans ce sens, nous avons mis en place les <a href=\"/CGU\">conditions générales de service</a>, qui finalement reflètent l’état d’esprit NIVID !</p>\r\n                </div>\r\n                <div className=\"contact_seller4_item\">\r\n                    <h3>Combien coûte l’adhésion ?</h3>\r\n                    <p>L’adhésion à la plateforme est gratuite, nous prélevons seulement une commission sur les prestations que vous vendrez grâce à NIVID !<br></br></p>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Contact_Boutique;\r\n","/Users/bc/Desktop/Nivid/src/pages/Prest_Subscribe.js",["960","961","962","963","964"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Prest_.css\";\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport { ButtonLarge } from \"../components/utilities/Buttons\";\r\nimport Layout from \"../components/utilities/Layout\";\r\nimport Title from \"../components/utilities/Title\";\r\nimport SubTitle from \"../components/utilities/SubTitle\";\r\nimport ReactLoading from \"react-loading\";\r\nimport LocationSearchInput from \"../components/autocompletePlaces\";\r\n\r\nimport imgLiasse from \"../images/image00001.png\";\r\nimport traitOrange from \"../images/traitOrange.png\";\r\nimport { bool } from \"prop-types\";\r\n\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nconst Prest_Subscribe = () => {\r\n  const search = useLocation().search;\r\n  const referral = new URLSearchParams(search).get(\"referral\");\r\n\r\n  const initialData = {\r\n    companyName: \"\",\r\n    adress: \"\",\r\n    latLng: { lat: 0, lng: 0 },\r\n    siret: \"\",\r\n    website: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    password: \"\",\r\n    passwordConfirm: \"\",\r\n    referral: \"\",\r\n    status: \"subscribing\",\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const [sellerData, setSellerData] = useState(initialData);\r\n  const [error, setError] = useState({ type: \"\", message: \"\" });\r\n\r\n  const [passwordStatus, setPasswordStatus] = useState({\r\n    valid: bool,\r\n    message: \"\",\r\n  });\r\n  const [passwordConfirmStatus, setPasswordConfirmStatus] = useState({\r\n    valid: bool,\r\n    message: \"\",\r\n  });\r\n  const [affiliateCodeStatus, setAffiliateCodeStatus] = useState({\r\n    valid: bool,\r\n    message: \"\",\r\n  });\r\n\r\n  const [buttonLoading, setButtonLoading] = useState(false);\r\n  const [isMounted, setIsMounted] = useState(false);\r\n\r\n  const { sellerSubscribe } = useAuth(); // context\r\n\r\n  const { setCurrentStepProcess, checkoutSubscription, refSellers, seller } = useAuth(); // context\r\n\r\n  useEffect(() => {\r\n    if (referral !== null) setSellerData({ ...sellerData, referral: referral });\r\n    return setIsMounted(true);\r\n  }, []);\r\n\r\n  function handleAdressChanged(adress, latLng) {\r\n    if (latLng !== undefined) {\r\n      setSellerData({ ...sellerData, adress: adress, latLng: latLng });\r\n    }\r\n  }\r\n\r\n  async function handleFormSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonLoading(true);\r\n    const {\r\n      companyName,\r\n      adress,\r\n      siret,\r\n      website,\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      phone,\r\n      password,\r\n      latLng,\r\n      referral,\r\n    } = sellerData;\r\n    isFormComplete().then((res) => {\r\n      if (res === true) {\r\n        sellerSubscribe(\r\n          companyName,\r\n          adress,\r\n          siret,\r\n          website,\r\n          firstName,\r\n          lastName,\r\n          email,\r\n          phone,\r\n          password,\r\n          latLng,\r\n          referral\r\n        ).then((res) => {\r\n          if (res === \"auth/email-already-in-use\") {\r\n            setError({ type: \"email\", message: \"Cet email est déjà utilisé\" });\r\n            setButtonLoading(false);\r\n          } else\r\n            setTimeout(() => {\r\n              history.push(\"/mon-compte-partenaire\");\r\n            }, 2000);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  async function isFormComplete() {\r\n    if (sellerData.companyName.length > 0) {\r\n      if (sellerData.adress.length > 0) {\r\n        if (sellerData.siret.length === 14) {\r\n          if (sellerData.firstName.length > 0) {\r\n            if (sellerData.lastName.length > 0) {\r\n              if (sellerData.email.length > 0) {\r\n                if (\r\n                  sellerData.phone.length === 10 ||\r\n                  sellerData.phone.length === 0\r\n                ) {\r\n                  if (sellerData.password.length > 8) {\r\n                    if (sellerData.password === sellerData.passwordConfirm) {\r\n                      return true;\r\n                    } else {\r\n                      setError({\r\n                        type: \"passwordConfirm\",\r\n                        message:\r\n                          \"Les deux mots de passe ne sont pas identiques\",\r\n                      });\r\n                    }\r\n                  } else {\r\n                    setError({\r\n                      type: \"password\",\r\n                      message:\r\n                        \"Votre mot de passe doit faire 8 caractère minimum\",\r\n                    });\r\n                  }\r\n                } else {\r\n                  setError({\r\n                    type: \"phone\",\r\n                    message:\r\n                      \"Merci de renseigner un numéro de téléphone valide\",\r\n                  });\r\n                }\r\n              } else {\r\n                setError({\r\n                  type: \"email\",\r\n                  message: \"Merci de renseigner un email\",\r\n                });\r\n              }\r\n            } else {\r\n              setError({\r\n                type: \"lastName\",\r\n                message: \"Merci de renseigner le nom du gérant\",\r\n              });\r\n            }\r\n          } else {\r\n            setError({\r\n              type: \"firstName\",\r\n              message: \"Merci de renseigner le prénom du gérant\",\r\n            });\r\n          }\r\n        } else {\r\n          setError({\r\n            type: \"siret\",\r\n            message: \"Merci de renseigner un numéro de Siret valide\",\r\n          });\r\n        }\r\n      } else {\r\n        setError({\r\n          type: \"adress\",\r\n          message: \"Vous devez renseigner l'adresse de votre entreprise.\",\r\n        });\r\n      }\r\n    } else {\r\n      setError({\r\n        type: \"companyName\",\r\n        message: \"Vous devez renseigner le nom de votre entreprise.\",\r\n      });\r\n    }\r\n\r\n    setButtonLoading(false);\r\n  }\r\n\r\n  function handlePasswordChanged(password) {\r\n    password.length > 8\r\n      ? setPasswordStatus({ valid: true })\r\n      : setPasswordStatus({ valid: false });\r\n    setSellerData({ ...sellerData, password: password });\r\n  }\r\n\r\n  function handlePasswordConfirmChanged(password) {\r\n    password.length > 8 && password === sellerData.password\r\n      ? setPasswordConfirmStatus({ valid: true })\r\n      : setPasswordConfirmStatus({ valid: false });\r\n    setSellerData({ ...sellerData, passwordConfirm: password });\r\n  }\r\n\r\n  function handleAffiliateCodeChanged(code) {\r\n    code.length === 12\r\n      ? setAffiliateCodeStatus({ valid: true })\r\n      : setAffiliateCodeStatus({ valid: false });\r\n    setSellerData({ ...sellerData, referral: code });\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <CSSTransition\r\n        in={isMounted}\r\n        timeout={300}\r\n        classNames=\"pageTransition\"\r\n        unmountOnExit\r\n      >\r\n        <div className=\"prest-subscribe-container\">\r\n          <div className=\"prest-subscribe-beforeHeader\">\r\n            <p>\r\n              Vous avez déjà un compte ?{\" \"}\r\n              <span onClick={() => history.push(\"/acces-prestataire\")}>\r\n                Connectez-vous\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div className=\"prest-subscribe-header\">\r\n            <h1\r\n              style={{ textAlign: \"center\", fontFamily: \"roboto-medium\" }}\r\n              className=\"bigTitle\"\r\n            >\r\n              Boostez les{\" \"}\r\n              <span>\r\n                revenus <img alt=\"\" src={imgLiasse} />\r\n                <img alt=\"\" src={traitOrange} />\r\n              </span>\r\n              <br />\r\n              de votre activité!\r\n            </h1>\r\n            <SubTitle\r\n              value=\"Grâce à NIVID, recevez des réservations 24H/24 7J/7\"\r\n              type=\"big\"\r\n              font=\"roboto-regular\"\r\n              align=\"center\"\r\n            />\r\n            <div className=\"divider small\"></div>\r\n          </div>\r\n\r\n          {error && <div className=\"errorMessage\">{error.message}</div>}\r\n\r\n          <form>\r\n            <div className=\"leftForm\">\r\n               {/* <Title value=\"À présent, <br></br>apprenons-en un peu plus sur vous\" type=\"h2\" font=\"roboto-medium\" /> */ }\r\n              <h2 class=\"bigTitle\">À présent, <br></br>apprenons-en un peu plus sur vous</h2>\r\n              <p class=\"bigTitlep\">Votre compte sera validé manuellement par notre équipe.</p>\r\n              <div className=\"formLine\">\r\n                <div className=\"formField withoutMargin\">\r\n                  <label>Nom de l'entreprise</label>\r\n                  <input\r\n                    value={sellerData.companyName}\r\n                    type=\"text\"\r\n                    name=\"companyName\"\r\n                    onChange={(e) =>\r\n                      setSellerData({\r\n                        ...sellerData,\r\n                        companyName: e.target.value,\r\n                      })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField withoutMargin\">\r\n                  <label>Adresse</label>\r\n                  <LocationSearchInput\r\n                    placeType=\"address\"\r\n                    value={sellerData.adress}\r\n                    onChanged={handleAdressChanged}\r\n                    isValid={\r\n                      sellerData.latLng !== undefined &&\r\n                      sellerData.latLng.lat !== 0\r\n                        ? true\r\n                        : sellerData.latLng !== undefined &&\r\n                          sellerData.latLng.lat === 0\r\n                        ? null\r\n                        : false\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField withoutMargin\">\r\n                  <label>Numéro de siret (14 caractères)</label>\r\n                  <input\r\n                    value={sellerData.siret}\r\n                    type=\"text\"\r\n                    name=\"siret\"\r\n                    onChange={(e) =>\r\n                      setSellerData({ ...sellerData, siret: e.target.value })\r\n                    }\r\n                    maxlength=\"14\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField withoutMargin\">\r\n                  <label>Site internet</label>\r\n                  <input\r\n                    value={sellerData.website}\r\n                    type=\"text\"\r\n                    name=\"text\"\r\n                    onChange={(e) =>\r\n                      setSellerData({ ...sellerData, website: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rightForm\">\r\n              <Title\r\n                value=\"Coordonnées du gérant\"\r\n                type=\"h2\"\r\n                font=\"roboto-medium\"\r\n              />\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField\">\r\n                  <label>Prénom</label>\r\n                  <input\r\n                    value={sellerData.firstName}\r\n                    type=\"text\"\r\n                    name=\"firstName\"\r\n                    onChange={(e) =>\r\n                      setSellerData({\r\n                        ...sellerData,\r\n                        firstName: e.target.value,\r\n                      })\r\n                    }\r\n                  />\r\n                </div>\r\n                <div className=\"formField\">\r\n                  <label>Nom</label>\r\n                  <input\r\n                    value={sellerData.lastName}\r\n                    type=\"text\"\r\n                    name=\"lastName\"\r\n                    onChange={(e) =>\r\n                      setSellerData({ ...sellerData, lastName: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField\">\r\n                  <label>Email</label>\r\n                  <input\r\n                    value={sellerData.email}\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    onChange={(e) =>\r\n                      setSellerData({ ...sellerData, email: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField\">\r\n                  <label>Numéro de téléphone (fixe ou portable)</label>\r\n                  <input\r\n                    value={sellerData.phone}\r\n                    type=\"text\"\r\n                    name=\"phone\"\r\n                    onChange={(e) =>\r\n                      setSellerData({ ...sellerData, phone: e.target.value })\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"formLine\">\r\n                <div className=\"formField\">\r\n                  <label>Mot de passe</label>\r\n                  <input\r\n                    className={\r\n                      passwordStatus.valid === true\r\n                        ? \"valid\"\r\n                        : passwordStatus.valid === false && \"notValid\"\r\n                    }\r\n                    value={sellerData.password}\r\n                    type=\"password\"\r\n                    name=\"text\"\r\n                    onChange={(e) => handlePasswordChanged(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"formField\">\r\n                  <label>Confirmation mot de passe</label>\r\n                  <input\r\n                    className={\r\n                      passwordConfirmStatus.valid === true\r\n                        ? \"valid\"\r\n                        : passwordConfirmStatus.valid === false && \"notValid\"\r\n                    }\r\n                    value={sellerData.passwordConfirm}\r\n                    type=\"password\"\r\n                    name=\"text\"\r\n                    onChange={(e) =>\r\n                      handlePasswordConfirmChanged(e.target.value)\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div className=\"actionFormContainer\">\r\n            <div className=\"leftForm\">\r\n              <Title\r\n                value=\"Vous avez un code de parrainage ?\"\r\n                type=\"h2\"\r\n                font=\"roboto-medium\"\r\n              />\r\n              <div className=\"formLine\">\r\n                <div className=\"formField withoutMargin\">\r\n                  <label>Code de votre parrain</label>\r\n                  <input\r\n                    className={\r\n                      affiliateCodeStatus.valid === true\r\n                        ? \"valid\"\r\n                        : affiliateCodeStatus.valid === false && \"notValid\"\r\n                    }\r\n                    value={sellerData.referral}\r\n                    type=\"text\"\r\n                    name=\"text\"\r\n                    onChange={(e) => handleAffiliateCodeChanged(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"rightForm\">\r\n              <p>\r\n                En créant un compte chez Nivid en tant que préstataire, vous\r\n                acceptez les <a href=\"/CGU\">conditions générales du site</a>\r\n              </p>\r\n              <div className=\"formLine\">\r\n                <div className=\"formField withoutMargin\">\r\n                    <ButtonLarge\r\n                      onClick={(e) => handleFormSubmit(e)}\r\n                      color=\"orange\"\r\n                      value={\r\n                        buttonLoading ? (\r\n                          <ReactLoading\r\n                            className=\"loadingSpinnerButton\"\r\n                            type=\"spin\"\r\n                            color=\"white\"\r\n                            height={23}\r\n                            width={23}\r\n                          />\r\n                        ) : (\r\n                          \"Créer mon compte\"\r\n                        )\r\n                      }\r\n                      disabled={buttonLoading ? \"disabled\" : null}\r\n                      marginTop=\"10px\"\r\n                      width=\"300px\"\r\n                    />\r\n                  {/* </Link> */}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </CSSTransition>\r\n    </Layout>\r\n  );\r\n};\r\nexport default Prest_Subscribe;\r\n","/Users/bc/Desktop/Nivid/src/pages/Login.js",["965","966","967","968","969","970","971","972"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/Login.css\"\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport logo from \"../images/logoBlack.svg\"\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport footer from \"../components/Footer\"\r\n\r\nimport { ButtonLarge } from '../components/utilities/Buttons'\r\n\r\nconst Login = () => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [loginFlag, setLoginFlag] = useState(0)\r\n    const { login, signInWithGoogle } = useAuth() // context\r\n    const history = useHistory()\r\n    const isMobile = () => (windowsWidth > 1100) ? false : true\r\n\r\n\r\n    async function handleLoginForm(e) {\r\n        e.preventDefault()\r\n        try {\r\n            const res = await login(email, password)\r\n            if (res === false) {\r\n                setPassword(\"\")\r\n                setError(\"Merci de confirmer votre adresse email.\")\r\n            }\r\n            else {\r\n                history.push('/dashboard')\r\n            }\r\n        } catch {\r\n            setPassword(\"\")\r\n            setError(\"Nous n'avons pas réussi à vous identifier, veuillez réessayer.\")\r\n        }\r\n    }\r\n\r\n    const loginF = (flag) => {\r\n        setLoginFlag(flag)\r\n    }\r\n    return (\r\n        <div className=\"loginSubscribeContainer\">\r\n            <header>\r\n                <div className=\"logoContainer\">\r\n                    <img alt=\"\" src={logo} />\r\n                </div>\r\n                <div className=\"blocLoginTopRight\">\r\n                    <Link to=\"/\"><img alt=\"\" src={'/images/backArrow.png'} />Revenir à l'accueil</Link>\r\n                </div>\r\n            </header>\r\n            <div className=\"loginPageContainer\">\r\n                <div className=\"loginContainer\">\r\n                    <h1>Connectez-vous à Nivid</h1>\r\n                    <p>Gérez votre compte, consultez vos événements et bien plus encore.</p>\r\n                    {error && (\r\n                        <div className=\"errorMessage\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n                    <div style={{position:'relative',opacity:loginFlag == 0 ? 1 : 0, zIndex:loginFlag == 0 ? '1' : '0', transition:'all 0.5s'}}>\r\n                        <div className=\"googleSignInContainer\">\r\n                            <buttton className=\"googleSignInButton\" onClick={() => signInWithGoogle()}>\r\n                                <div className=\"googleSignInButtonImageContainer\">\r\n                                    <img alt=\"\" src={'/images/google.png'} />\r\n                                </div>\r\n                                <span>Connectez-vous avec Google</span>\r\n                            </buttton>\r\n                        </div>\r\n                        <div className=\"googleSignInContainer\">\r\n                            <buttton className=\"googleSignInButton\" onClick={() => loginF(1)}>\r\n                                <div className=\"googleSignInButtonImageContainer\">\r\n                                    <img alt=\"\" src={'/images/user.png'} />\r\n                                </div>\r\n                                <span>Utiliser mon e-mail</span>\r\n                            </buttton>\r\n                        </div>\r\n                    </div>\r\n                    <form class=\"formsignin\" style={{position:'absolute',opacity:loginFlag == 1 ? 1 : 0, zIndex:loginFlag == 1 ? '1' : '0', transition:'all 0.5s'}}>\r\n                        <div className=\"formLine\">\r\n                            <div className=\"formField\">\r\n                                <label>Identifiant / Adresse email</label>\r\n                                <input value={email} type=\"email\" name=\"email\" onChange={(e) => setEmail(e.target.value)} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"formLine\">\r\n                            <div className=\"formField\">\r\n                                <label>Mot de passe<span onClick={() => history.push(\"/mot-de-passe-oublie\")}>Mot de passe oublié ?</span></label>\r\n                                <input value={password} type=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"formLine\">\r\n                            <div className=\"formField\">\r\n                                <ButtonLarge\r\n                                    onClick={(e) => handleLoginForm(e)}\r\n                                    color=\"orange\"\r\n                                    value=\"C’est parti !\"\r\n                                    backgroundColor=\"rgba(245, 192, 67)\"\r\n                                    marginTop=\"10px\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"formLine\">\r\n                            {/* <div className=\"formField loginBottomBloc\">\r\n                                <p>Rejoindre par d'autres ?</p>\r\n                                <Link onClick={() => loginF(0)}>retour</Link>\r\n                    </div> */}\r\n                        </div>\r\n                    </form>\r\n\r\n                    {/* <div className=\"LoginDiviserContainer\">\r\n                        <div className=\"LoginDiviser\">\r\n                            <p>ou</p>\r\n                        </div>\r\n                    </div> */}\r\n                    \r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default Login;\r\n","/Users/bc/Desktop/Nivid/src/pages/CGU.js",[],"/Users/bc/Desktop/Nivid/src/pages/About.js",["973","974","975","976","977","978","979","980","981","982","983"],"import React, { useState, useEffect } from \"react\";\r\nimport pres1 from \"../images/AdobeStock_426636063.jpeg\";\r\nimport pres2 from \"../images/AdobeStock_200877704.jpeg\";\r\nimport pres3 from \"../images/AdobeStock_292777021.jpeg\";\r\nimport pres4 from \"../images/AdobeStock_304886685.jpeg\";\r\nimport pres5 from \"../images/AdobeStock_129995716.jpeg\";\r\nimport \"../styles/About.css\";\r\nimport { FaArrowRight, FaArrowLeft } from \"react-icons/fa\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport PlusImg from \"../images/plus.svg\";\r\nimport { ButtonSmall} from \"../components/utilities/Buttons\"\r\nconst About = (props) => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <>\r\n      <div className=\"about\">\r\n        <div className=\"about_header\">\r\n          <h1>\r\n            L’évènementiel qui <br />nous <span>rassemble</span>.\r\n          </h1>\r\n          <div className=\"about_header_images\">\r\n            <div className=\"images_container\">\r\n              \r\n              <div className=\"left\">\r\n                <div className=\"item one\"></div>\r\n              </div>\r\n\r\n              <div className=\"afterleft\">\r\n              <div className=\"item two\"></div>\r\n              <div className=\"item three\"s></div>\r\n              </div>\r\n\r\n              <div className=\"center\">\r\n              <div className=\"item four\"></div>\r\n              </div>\r\n\r\n              <div className=\"afterright\">\r\n              <div className=\"item five\"></div>\r\n              <div className=\"item six\"></div>\r\n              </div>\r\n\r\n              <div className=\"right\">\r\n                <div className=\"item seven\"></div>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"about_content\">\r\n          <div className=\"item\">\r\n            <div className=\"leftabout\">20<br />20</div>\r\n            <div className=\"rightabout\"><p>\r\n              Créé en 2020, <span>NIVID</span> est né de l’envie de révolutionner le monde de l’évènementiel,<br /><br />\r\n              en donnant la possibilité aux particuliers d’organiser simplement <br /><br />des évènements à la hauteur de leurs espérances.<br /><br />\r\n              Et pour cela, il nous fallait des <span>partenaires de qualité</span>, triés sur le volet.\r\n            </p></div>\r\n          </div>\r\n\r\n          <div className=\"item\">\r\n            <div className=\"leftabout\">20<br />21</div>\r\n            <div className=\"rightabout\"><p>\r\n            Dès <span>2021</span> suite à la crise sanitaire, on décide de mettre la proximité au cœur de notre mission<br /><br />\r\n            en permettant aux <span>commerçants</span> et <span>prestataires</span> de services de se consacrer à leur passion et savoir-faire.<br /><br />\r\n            De la prospection à la facturation, en passant par le service après vente,<br /><br /> <span>NIVID</span> se charge de toutes les tâches laborieuses et chronophages,<br /><br />\r\n            assurant une présence digitale clé en main à ses <span>partenaires</span>.\r\n            </p></div>\r\n          </div>\r\n\r\n          <div className=\"item\">\r\n            <div className=\"leftabout\">20<br />22</div>\r\n            <div className=\"rightabout\"><p>\r\n            Après <span>2 ans de réflexion et de développement</span>,<br /><br />\r\n            on dévoile au grand public la <span>première plateforme</span> d’organisation d’évènements privés.<br /><br />\r\n            Et pour vous offrir le <span>meilleur</span>, on a consacré notre temps à imaginer une offre introuvable ailleurs,<br /><br />\r\n            pour qu’aujourd’hui organiser un anniversaire, organiser une soirée en amoureux,<br /><br />\r\n            ou encore organiser une baby shower soit une réelle source de satisfaction.\r\n            </p></div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n<div className=\"bottomabout\">\r\n{/*<h1>\r\n#EtMaintenant ?<br />\r\nSi c’était vous notre prochain prestataire de <span>rêve</span>\r\n          </h1>*/}\r\n</div>\r\n\r\n        <div className=\"about_bottom\">\r\n          <h2>Continuons d'écrire l'histoire ensemble...</h2>\r\n          <button onClick={() => history.push('/compte')} className=\"button blue_button\">Je commence mon évènement maintenant</button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default About;\r\n","/Users/bc/Desktop/Nivid/src/pages/Home.js",["984","985","986","987","988","989","990","991","992"],"import React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useHistory } from 'react-router-dom'\r\nimport '../styles/Home.css'\r\nimport marker from '../images/orange_marker.png'\r\nimport articleImage from '../images/Menu-gastronomique-facile.png';\r\nimport NoteWidget from '../components/NoteWidget'\r\nimport Image from '../components/utilities/Image'\r\nimport { FaPlus } from 'react-icons/fa';\r\nimport { Zoom } from \"react-slideshow-image\";\r\nimport 'react-slideshow-image/dist/styles.css'\r\nimport feature1 from '../images/confetti.svg'\r\nimport SimpleImageSlider from \"react-simple-image-slider\";\r\nimport feature2 from '../images/invitation-danniversaire.svg'\r\nimport feature3 from '../images/best-seller.svg'\r\nimport LocationSearchInput from \"../components/autocompletePlaces\"\r\nimport { useFirebase } from \"../assets/base-context\";\r\nimport { GoogleApiWrapper } from 'google-maps-react';\r\nimport { useAuth } from \"../context/userContext\";\r\n\r\nimport backgroundHome from '../images/homepage1-2.jpeg'\r\nimport imgTest from '../images/homepage1-2.jpeg'\r\nimport imgTest2 from '../images/rapellVid3.png'\r\nimport { padding } from \"@mui/system\";\r\n\r\nconst Home = (props) => {\r\n    const zoomOutProperties = {\r\n        duration: 5000,\r\n        transitionDuration: 500,\r\n        infinite: true,\r\n        indicators: false,\r\n        scale: 0.4,\r\n        arrows: true\r\n    };\r\n    const isMobilenvir = () => (windowsWidth > 1160) ? false : true\r\n    const slides = [\r\n            {\r\n                img: feature1,\r\n                head: \"De A à \",\r\n                span: 'Z',\r\n                para: \"Commandez et réservez vos produits et prestations sur NIVID.fr gratuitement, sans bouger de votre canapé.\",\r\n            },\r\n            {\r\n                img: feature2,\r\n                head: \"Sans \",\r\n                span: \"devis\",\r\n                para: \"Parce que l’on veut vous simplifier la vie, et vous aider à gérer votre budget.\",\r\n            },\r\n            {\r\n                img: feature3,\r\n                head: \"Autour de chez \",\r\n                span: \"vous\",\r\n                para: \"Grâce à nos partenaires de proximité sélectionnés selon nos critères de qualités.\",\r\n            }\r\n        ];\r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n    const history = useHistory()\r\n    const { setHomeSellersDisplay } = useAuth() // context\r\n\r\n    const search = useLocation().search\r\n    const referral = new URLSearchParams(search).get('referral')\r\n\r\n    const [openedFAQDropdown, setOpenedFAQDropdown] = useState(0)\r\n\r\n    const [city, setCity] = useState(\"\")\r\n    const [latLng, setLatLng] = useState(\"\")\r\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\r\n    const [activeSlide, setActiveSlide] = useState(1)\r\n    const [errorSearchCity, setErrorSearchCity] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (referral !== null && referral.length > 1) {\r\n            history.push(`/inscription-prestataire?referral=${referral}`)\r\n        }\r\n\r\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\r\n        \r\n        // const interval = setInterval(() => {\r\n        //     setActiveSlide(activeSlide => activeSlide === 3 ? 1 : activeSlide + 1)\r\n        // }, 4000)\r\n        // return () => clearInterval(interval);\r\n    })\r\n    const isMobile = () => (windowsWidth > 1100) ? false : true\r\n    const handleResize = (width) => setWindowsWidth(width)\r\n\r\n    function handleCityChanged(city, latLng) {\r\n        setCity(city)\r\n        latLng !== undefined && setLatLng(latLng)\r\n    }\r\n\r\n\r\n    async function handleGetRandomSellers() {\r\n        if (latLng === \"\") return \r\n\r\n        const refSellers = firestore.collection(\"sellers\");\r\n\r\n        // On va choper TOUT les sellers à moins de 5km pour ensuite faire le tri avec les category\r\n        const categorySellers = await refSellers\r\n            .where(\"status\", \"==\", \"opened\")\r\n            .get();\r\n        const results = []\r\n\r\n        categorySellers.forEach(doc => results.push({ ...doc.data(), id: doc.id }))\r\n        if (results.length > 0) {\r\n            const sellersFilteredByDistance = await filterSellersByDistance(results)\r\n            const newSellers = sellersFilteredByDistance.filter(item => item.firstName).map(item => item)\r\n            setHomeSellersDisplay(newSellers)\r\n            newSellers.length > 0 ? history.push('/pepites') : history.push('/dashboard')\r\n        }\r\n        else return setErrorSearchCity(true)\r\n    }\r\n\r\n    async function filterSellersByDistance(data) {\r\n        return Promise.all(\r\n            data.map(item => {\r\n                return getDistanceBetweenTwoPoints(latLng, item.latLng)\r\n                    .then((result) => {\r\n                        if ((result / 1000) < 10) return item\r\n                        else return []\r\n                    })\r\n            })\r\n        )\r\n    }\r\n\r\n    async function getDistanceBetweenTwoPoints(searchPos, sellerPos) {\r\n        var origin = new props.google.maps.LatLng(searchPos.lat, searchPos.lng);\r\n        var destination = new props.google.maps.LatLng(sellerPos.lat, sellerPos.lng);\r\n\r\n        var service = new props.google.maps.DistanceMatrixService();\r\n        return new Promise(resolve => {\r\n            service.getDistanceMatrix(\r\n                {\r\n                    origins: [origin],\r\n                    destinations: [destination],\r\n                    travelMode: 'DRIVING',\r\n                }, (response, status) => {\r\n                    resolve(response.rows[0].elements[0].distance.value)\r\n                }\r\n            )\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={`home_slider ${isMobile() && \"mobile\"}`}>\r\n                <div className=\"home_slider_form\">\r\n                    <h1>Fêtes <span>rêvées !</span></h1>\r\n                    <h3>Grâce à la première plateforme d’organisation d’évènement de A à Z</h3>\r\n                    <div className=\"inputWithButton\">\r\n                        <LocationSearchInput placeholder=\"Où se déroule votre évènement ? (ville)\" placeType=\"(cities)\" value={city} onChanged={handleCityChanged} />\r\n                        <img src={marker} />\r\n                        <button onClick={() => handleGetRandomSellers()} className=\"Home smallButton orange\">Rechercher</button>\r\n                        {errorSearchCity && <p style={{color: !isMobile() ? \"white\" : \"black\", fontFamily:\"roboto-medium\"}}>Aucun prestataire dans cette ville pour le moment.</p>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"home_section1\">\r\n                <h1>Créez l'évènement qui vous <span>rassemble</span>.</h1>\r\n                {/* <p><NoteWidget note={4} /> 4/5 sur trustpilot</p> */}\r\n                {isMobilenvir() ? \r\n                    <Zoom {...zoomOutProperties}>\r\n                        {slides.map((each, index) => (\r\n                        <div className=\"home_features\">\r\n                            <div style={{border: \"solid 3px rgb(245, 192,67)\", borderRadius: \"5%\", padding: '5%', maxHeight: \"400px\"}}>\r\n                                <img src={each.img} alt=\"\" />\r\n                                <h2>{each.head}<span style={{color: 'rgb(245, 192, 67)', fontFamily: \"Roboto-medium\"}}>{each.span}</span></h2>\r\n                                <p>{each.para}</p>\r\n                            </div>\r\n                        </div>\r\n                        ))}\r\n                    </Zoom>\r\n                    :\r\n                    <div className=\"home_features\">\r\n                        <div>\r\n                            <img src={feature1} alt=\"\" />\r\n                            <h2>De <span>A</span> à <span>Z</span></h2>\r\n                            <p>Commandez et réservez vos produits et prestations sur NIVID.fr gratuitement, sans bouger de votre canapé.</p>\r\n                        </div>\r\n                        <div>\r\n                            <img src={feature2} alt=\"\" />\r\n                            <h2>Sans <span>devis</span></h2>\r\n                            <p>Parce que l’on veut vous simplifier la vie, et vous aider à gérer votre budget.</p>\r\n                        </div>\r\n                        <div>\r\n                            <img src={feature3} alt=\"\" />\r\n                            <h2>Autour de chez <span>vous</span></h2>\r\n                            <p>Grâce à nos partenaires de proximité sélectionnés selon nos critères de qualités.</p>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                <div className=\"home_section1_bottom\">\r\n                    <h2>Alors, <span className=\"yellowtext robotomedium\">convaincu.e</span> ?</h2>\r\n                    <button onClick={() => history.push(\"/dashboard\")} className=\"orange largeButton\">J'organise mon évènement</button>\r\n                </div>\r\n                <div className=\"dividerspace\"></div>\r\n            </div>\r\n            <div className=\"home_section3\">\r\n               <h2>En attendant, ces articles pourraient vous intéresser...</h2>\r\n                <div className=\"blogContainer\">\r\n                    <div className=\"articleContainer\">\r\n                        <div className=\"articleContent\">\r\n                        <div className=\"imageContainer\">\r\n                                <Image url={articleImage} />\r\n                            </div>\r\n                            <h3>7 Façons de Faire la Promotion de Votre Évènement Hors Ligne</h3>\r\n                            <p>le 21 Septembre 2020</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"articleContainer\">\r\n                        <div className=\"articleContent\">\r\n                        <div className=\"imageContainer\">\r\n                                <Image url={articleImage} />\r\n                            </div>\r\n                            <h3>7 Façons de Faire la Promotion de Votre Évènement Hors Ligne</h3>\r\n                            <p>le 21 Septembre 2020</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"articleContainer\">\r\n                        <div className=\"articleContent\">\r\n                        <div className=\"imageContainer\">\r\n                                <Image url={articleImage} />\r\n                            </div>\r\n                            <h3>7 Façons de Faire la Promotion de Votre Évènement Hors Ligne</h3>\r\n                            <p>le 21 Septembre 2020</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button onClick={() => {window.location.href = \"#\"}} className=\"orange smallButton\">Voir le blog</button>\r\n                <div className=\"dividerspace\"></div>\r\n            </div>\r\n            <div className=\"home_section4\">\r\n                <div className=\"left_FAQ\">\r\n                    <h1>Un événement réussi est un événement <span>préparé...</span></h1>\r\n                    <div className=\"disabled_home\">\r\n                    <h3 className=\"robotomedium\" >Pour encore plus de réponses, visitez notre FAQ</h3>\r\n                    <button onClick={() => history.push('faq')} className=\"blue smallButton\">Voir la FAQ</button>\r\n                </div>\r\n                </div>\r\n                <div className=\"right_FAQ\">\r\n                    <div className=\"home_dropdown_faq\">\r\n                        <div onClick={() => setOpenedFAQDropdown(openedFAQDropdown === 1 ? 0 : 1)}>\r\n                            <div className=\"dropdown_faq_header\">\r\n                                <p>Comment est réalisé le paiement de mon évènement ?</p><FaPlus />\r\n                            </div>\r\n                            <span className={openedFAQDropdown === 1 && \"active\"}>\r\n                            Le paiement est entièrement réalisé sur NIVID.fr. Dès validation de votre évènement, nous vous demanderons un acompte de 30%. Le jour de l’évènement, vous serez prélevé du restant dû de la commande avec le même moyen de paiement utilisé pour l’acompte.\r\n                            Les moyens de paiement sont : Visa, MasterCard, autres Cartes Bancaires, ApplePay, Paypal.\r\n                            </span>\r\n                        </div>\r\n                        <div onClick={() => setOpenedFAQDropdown(openedFAQDropdown === 2 ? 0 : 2)}>\r\n                            <div className=\"dropdown_faq_header\">\r\n                                <p>Quel évènement puis-je organiser sur NIVID.fr ?</p><FaPlus />\r\n                            </div>\r\n                            <span className={openedFAQDropdown === 2 && \"active\"}>\r\n                            Sur NIVID.fr vous pouvez organiser tous types d’évènements, de la babyshower à l’anniversaire en passant par le diner en amoureux, sans oublier la soirée entre amis ou en famille. Laissez votre imagination vous guider et éclatez-vous !</span>\r\n                        </div>\r\n                        <div onClick={() => setOpenedFAQDropdown(openedFAQDropdown === 3 ? 0 : 3)}>\r\n                            <div className=\"dropdown_faq_header\">\r\n                                <p>Comment gérer mon évènement en période de crise sanitaire ?</p><FaPlus />\r\n                            </div>\r\n                            <span className={openedFAQDropdown === 3 && \"active\"}>\r\n                            Nous veillons à la bonne exécution des gestes barrières de la part des partenaires NIVID. Il en est de votre responsabilité d’en faire de même le jour de votre évènement pour la sécurité de tous. Nous communiquerons quelques jours avant votre évènement, une note des bonnes pratiques à mettre en place.\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"enabled_home\">\r\n                    <h3 className=\"robotomedium\" >Pour encore plus de réponses, visitez notre FAQ</h3>\r\n                    <button onClick={() => history.push('faq')} className=\"blue smallButton\">Voir la FAQ</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"home_section2\">\r\n                <h2>Vous souhaitez proposer vos services ou produits ? Soyez visible auprès de nos communauté <span>gratuitement !</span></h2>\r\n                <button onClick={() => history.push('/demande-de-rappel')} className=\"orange largeButton\">Je me renseigne</button>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n    apiKey: (\"AIzaSyDOQ_vau2uT4Gx_iLMVq2XfsUK3BPULVnY\")\r\n})(Home)\r\n","/Users/bc/Desktop/Nivid/src/components/Admin/PanelDashboard.js",[],"/Users/bc/Desktop/Nivid/src/components/CartWidget.js",["993"],"import React, { useEffect, useState } from \"react\";\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport { useDetectClickOutside } from \"react-detect-click-outside\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport ModalYesNo from \"./utilities/ModalYesNo\";\r\nimport imgshooping from \"../images/shopping-bag.svg\";\r\n\r\nconst CartWidget = (props) => {\r\n  const isMobile = props.isMobile;\r\n  const history = useHistory();\r\n  const {\r\n    event,\r\n    updateQuantityService,\r\n    isCardWidgetOpen,\r\n    setIsCardWidgetOpen,\r\n  } = useAuth(); // context\r\n\r\n  const [choosedServices, setChoosedServices] = useState([]);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [isModalOpened, setIsModalOpened] = useState(false);\r\n  const [currentServiceID, setCurrentServiceID] = useState(\"\");\r\n\r\n  useEffect(async () => {\r\n    getChoosedServices().then(() => {\r\n      getTotalPrice();\r\n    });\r\n  });\r\n\r\n  async function handleDeleteClick(id) {\r\n    setCurrentServiceID(id);\r\n    setIsModalOpened(true);\r\n  }\r\n\r\n  async function handleModalYesNoReturn(val) {\r\n    setIsModalOpened(false);\r\n    if (val === \"no\") return;\r\n\r\n    handleDeleteService(currentServiceID);\r\n  }\r\n\r\n  async function handleClickIcon() {\r\n    if (!isMobile) {\r\n      if (isCardWidgetOpen === false) {\r\n        setIsCardWidgetOpen(true);\r\n        await getChoosedServices().then(() => {\r\n          getTotalPrice();\r\n        });\r\n      } else setIsCardWidgetOpen(false);\r\n    } else history.push(\"/creer-mon-evenement/etape-3/panier\");\r\n  }\r\n\r\n  async function getChoosedServices() {\r\n    setChoosedServices(event.choosedServices);\r\n  }\r\n\r\n  function getTotalPrice() {\r\n    let total = 0;\r\n    choosedServices.forEach((service) => {\r\n      let price = service.price;\r\n      if (service.variations && service.variations.length > 0) {\r\n        price = service.variations.filter(\r\n          (vari) => vari.name === service.variation\r\n        )[0].price;\r\n      }\r\n      total += price * service.quantity;\r\n    });\r\n    total = Number.parseFloat(total).toFixed(2);\r\n    setTotalPrice(total);\r\n  }\r\n\r\n  function handleDeleteService(id) {\r\n    updateQuantityService(id, 0);\r\n  }\r\n\r\n  function handleButtonRecap() {\r\n    setIsCardWidgetOpen(false);\r\n    history.push(\"/creer-mon-evenement/etape-3/panier\");\r\n  }\r\n\r\n  const ref = useDetectClickOutside({\r\n    onTriggered: () => setIsCardWidgetOpen(false),\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        ref={ref}\r\n        className={\r\n          isMobile ? \"CartWidgetContainer mobile\" : \"CartWidgetContainer\"\r\n        }\r\n      >\r\n        <div\r\n          onClick={() => handleClickIcon()}\r\n          className={\r\n            isCardWidgetOpen ? \"CartIconContainer active\" : \"CartIconContainer\"\r\n          }\r\n        >\r\n          <img alt=\"\" src={imgshooping} />\r\n          <span>{choosedServices !== undefined && choosedServices.length}</span>\r\n        </div>\r\n        {isCardWidgetOpen && !isMobile && (\r\n          <div className=\"wrapperContainer\">\r\n            <div className=\"wrapperItemList\">\r\n              {choosedServices.map((service) => {\r\n                return (\r\n                  <div className=\"cartWrapperItem\">\r\n                    <div className=\"imgCartWrapperItemContainer\">\r\n                      <img\r\n                        alt=\"\"\r\n                        src={service.images && service.images[0].url}\r\n                      />\r\n                    </div>\r\n                    <div className=\"contentCartWrapperItemContainer\">\r\n                      <span>\r\n                        {service.variations && service.variations.length > 0\r\n                          ? service.variations.filter(\r\n                              (vari) => vari.name === service.variation\r\n                            )[0].price + \"€\"\r\n                          : service.price + \"€\"}\r\n                      </span>\r\n                      <p>{service.name}</p>\r\n                      <p>{service.variation}</p>\r\n                      <p>x {service.quantity}</p>\r\n                      <div\r\n                        onClick={() => handleDeleteClick(service.uid)}\r\n                        className=\"deleteButtonCartWrapper\"\r\n                      >\r\n                        <img alt=\"\" src=\"/images/trashRed.png\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            <div className=\"cartWrapperBottom\">\r\n              <div className=\"cartWrapperBottomTotalContainer\">\r\n                <p>Total: {totalPrice}€</p>\r\n              </div>\r\n              <div className=\"cartWrapperBottomButtonContainer\">\r\n                <button\r\n                  disabled={choosedServices.length < 1 && \"disabled\"}\r\n                  onClick={() => handleButtonRecap()}\r\n                >\r\n                  Voir panier\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <CSSTransition\r\n        in={isModalOpened}\r\n        timeout={5000}\r\n        classNames=\"pageTransition\"\r\n        unmountOnExit\r\n      >\r\n        <ModalYesNo callback={(val) => handleModalYesNoReturn(val)} value=\"\" />\r\n      </CSSTransition>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartWidget;\r\n","/Users/bc/Desktop/Nivid/src/components/ServicesSlider.js",["994","995","996","997"],"import React, { useState, useRef } from \"react\";\r\nimport ReactLoading from 'react-loading';\r\nimport { items } from './servicesData'\r\n\r\nimport { ButtonSmall } from './utilities/Buttons'\r\nimport Image from './utilities/Image'\r\n\r\n\r\n\r\nconst ServicesSlider = (props) => {\r\n\r\n    // Props reçu de Etape2.js\r\n    const currentPageOffers = props.currentPageOffers\r\n    const setCurrentPageOffers = props.setCurrentPageOffers // function\r\n    const handleOpeningSellersDetails = props.handleOpeningSellersDetails // function\r\n    const sellers = props.sellers\r\n    const loading = props.loading\r\n    const leftBudget = props.leftBudget\r\n    // const isMobile = props.isMobile\r\n    const isMobile = () => (windowsWidth > 1100) ? false : true\r\n    const windowsWidth = props.windowsWidth\r\n    const selectedSubMenu = props.selectedSubMenu\r\n    const selectedMenu = props.selectedMenu\r\n\r\n    const [isDown, setIsDown] = useState(false)\r\n    const [startX, setStartX] = useState()\r\n    const [scrollLeft, setScrollLeft] = useState()\r\n\r\n    const [isSliderIsMoving, setIsSliderIsMoving] = useState(false)\r\n\r\n\r\n    // Compte le nombre d'offre pour le transmettre au slice() plus bas, \r\n    function offersCountLine(line) {\r\n        const count = sellers.length; // 6\r\n        const countPerLine = Math.round(count / 2); // 3\r\n        const firstLine = countPerLine;\r\n        const secondLineFirst = countPerLine;\r\n        const secondLineSecond = countPerLine * 2;\r\n        if (line === 1) { return firstLine }\r\n        else if (line === 2) { return secondLineFirst }\r\n        else if (line === 3) { return secondLineSecond }\r\n    }\r\n\r\n    // On va tester si la valeur n'est pas en dessous de 0, ou si elle n'est pas trop élevé en fonction du nombre de page\r\n    function handlePagination(val) {\r\n        const count = sellers.length; // 11 pour exemple\r\n        const maxPage = Math.ceil((Math.round(count / 2)) / 4); // 2 page max\r\n        if (val >= 0 && maxPage > 1 && val < maxPage) { setCurrentPageOffers(val) }\r\n    }\r\n\r\n    function isButtonDisabled(val) {\r\n        const count = sellers.length; // 11 pour exemple\r\n        const maxPage = Math.ceil((Math.round(count / 2)) / 4); // 2 page max\r\n        if (val >= 0 && maxPage > 1 && val < maxPage) { return null }\r\n        else { return \"disabled\" }\r\n    }\r\n\r\n    const container = isMobile ? windowsWidth : 450\r\n    const itemWidth = windowsWidth < 600 ? windowsWidth - (windowsWidth * 0.20) : 320\r\n    const itemHeight = itemWidth * 1.2\r\n\r\n    function handlePaginationMobile(val) {\r\n        const count = sellers.length; // 5 pour exemple\r\n        const maxPage = Math.ceil(count - (container / (itemWidth))); // 4\r\n        if (val <= maxPage && val >= 0 && (count - maxPage) >= 1) { setCurrentPageOffers(val) }\r\n    }\r\n\r\n    function isButtonMobileDisabled(val) {\r\n        const count = sellers.length; // 5 pour exemple\r\n        const maxPage = Math.ceil(count - (container / (itemWidth))); // 4\r\n        if (val <= maxPage && val >= 0 && (count - maxPage) >= 1) { return null }\r\n        else { return \"disabled\" }\r\n    }\r\n\r\n    const sliderSellers = useRef()\r\n\r\n    function handleMouseDownSliderHeader(e) {\r\n        setIsDown(true)\r\n        setStartX(windowsWidth < 1000 ? e.clientX : e.pageX - sliderSellers.current.offsetLeft)\r\n        setScrollLeft(sliderSellers.current.scrollLeft)\r\n        setIsSliderIsMoving(false)\r\n    }\r\n\r\n    function handleMouseLeaveAndUpSliderHeader() {\r\n        setIsDown(false)\r\n    }\r\n\r\n    function handleMouseMoveSliderHeader(e) {\r\n        if (!isDown) return\r\n        setIsSliderIsMoving(true)\r\n        e.preventDefault()\r\n        const x = windowsWidth < 1000 ? e.clientX : e.pageX - sliderSellers.current.offsetLeft;\r\n        const walk = (x - startX) * 2; //scroll-fast\r\n        sliderSellers.current.scrollLeft = scrollLeft - walk;\r\n    }\r\n\r\n    function handleSellerClicked(id) {\r\n        if (isSliderIsMoving) {\r\n            return;\r\n        }\r\n        else {\r\n            handleOpeningSellersDetails(id)\r\n        }\r\n    }\r\n\r\n    return loading ? <div className=\"offersContainer\"><ReactLoading className={isMobile() ? \"loadingSpinner mobile\" : \"loadingSpinner\"} type=\"spin\" color=\"rgba(245, 192, 67)\" height={50} width={50} /></div> : (\r\n        // 3 Condition ci dessous : Si on ismobile est false, si on est à  moins de 600px, et si on est entre les deux\r\n        !isMobile() ?\r\n            <div className=\"offersContainer\">\r\n                <div style={{ marginLeft: -(currentPageOffers * 204) }} className=\"offersLine\"\r\n                >\r\n                    {Object.entries(sellers\r\n                    .slice(0, offersCountLine(1)))\r\n                    .map(([key, item]) => {\r\n                        return (\r\n                            <div\r\n                                key={key}\r\n                                onClick={() => handleOpeningSellersDetails(item.id)}\r\n                                style={{ backgroundImage: `url(\"${item.image_path.url}\")` }}\r\n                                className=\"offersItem\"\r\n                            >\r\n                                <span className=\"bottom\">\r\n                                    <p>{item.companyName}</p>\r\n                                    <p>+ en savoir plus</p>\r\n                                </span>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n\r\n                {sellers.length === 0 &&\r\n                    <div className=\"noSellersAlert\">\r\n                        <Image url={items[selectedMenu][selectedSubMenu].icon} />\r\n                        <p>Il n’y a aucun prestataires actuellement dans cette catégorie, essayez une autre catégorie !</p>\r\n                    </div>\r\n                }\r\n\r\n                <div style={{ marginLeft: -(currentPageOffers * 204) }} className=\"offersLine\">\r\n                    {Object.entries(sellers\r\n                    .slice(offersCountLine(2), offersCountLine(3)))\r\n                    .map(([key, item]) => {\r\n                        return (\r\n                            <div\r\n                                key={key}\r\n                                onClick={() => handleOpeningSellersDetails(item.id)}\r\n                                style={{ backgroundImage: `url(\"${item.image_path.url}\")` }}\r\n                                className=\"offersItem\"\r\n                            >\r\n                                <span className=\"bottom\">\r\n                                    <p>{item.companyName}</p>\r\n                                    <p>- en savoir plus</p>\r\n                                </span>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                {sellers.length != 0 &&\r\n                    <div className=\"offersListButtonContainer\">\r\n                        <ButtonSmall\r\n                            onClick={() => handlePagination(currentPageOffers - 1)}\r\n                            color=\"grey\"\r\n                            value=\"Précédent\"\r\n                            marginRight=\"20px\"\r\n                            disabled={isButtonDisabled(currentPageOffers - 1)}\r\n                        />\r\n                        <ButtonSmall\r\n                            onClick={() => handlePagination(currentPageOffers + 1)}\r\n                            color=\"grey\"\r\n                            value=\"Suivant\"\r\n                            marginRight=\"20px\"\r\n                            disabled={isButtonDisabled(currentPageOffers + 1)}\r\n                        />\r\n                    </div>\r\n                }\r\n            </div>\r\n\r\n            : windowsWidth < 600 ?\r\n                <div className=\"offersContainer mobile\">\r\n                    <div\r\n                        style={{ marginLeft: -(currentPageOffers * (windowsWidth - windowsWidth * 0.17)) }}\r\n                        className={isDown ? \"detailsServiceItemContainer active\" : \"detailsServiceItemContainer\"}\r\n                        ref={sliderSellers}\r\n                        onMouseDown={(e) => handleMouseDownSliderHeader(e)}\r\n                        onMouseLeave={() => handleMouseLeaveAndUpSliderHeader()}\r\n                        onMouseUp={() => handleMouseLeaveAndUpSliderHeader()}\r\n                        onMouseMove={(e) => handleMouseMoveSliderHeader(e)}\r\n                    >   \r\n                    \r\n                    {sellers.length > 1 &&\r\n                        <button style={{backgroundColor:'white', border:'0px'}} onClick={() => handlePaginationMobile(currentPageOffers + 1)}>\r\n                            <svg width=\"36\" height=\"36\" viewBox=\"0 0 24 24\">\r\n                                <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\"></path>\r\n                            </svg>\r\n                        </button>}\r\n                        {/* <ButtonSmall\r\n                            onClick={() => handlePaginationMobile(currentPageOffers + 1)}\r\n                            color=\"rgba(245, 192, 67)\"\r\n                            padding=\"77px 17px\"\r\n                            backgroundColor=\"white\"\r\n                            value=\"<\"\r\n                            disabled={isButtonMobileDisabled(currentPageOffers + 1)}\r\n                        /> */}\r\n                        {Object.entries(sellers).map(([key, item]) => {\r\n                            return (\r\n\r\n                                \r\n                                <div\r\n                                    key={key}\r\n                                    className={windowsWidth < 600 ? \"offersItem mobile\" : \"offersItem\"}\r\n                                    onClick={() => handleSellerClicked(item.id)}\r\n                                    style={{\r\n                                        backgroundImage: `url(\"${item.image_path.url}\")`,\r\n                                        minWidth: \"50vw\",\r\n                                        maxWidth: \"50vw\",\r\n                                        margin: \"0px 15px\",\r\n                                        maxHeight: \"80vw\",\r\n                                        minHeight: \"80vw\"\r\n                                    }}\r\n\r\n                                >\r\n                                    <span className=\"bottom\">\r\n                                        <p>{item.companyName}</p>\r\n                                        <p>+ en savoir plus</p>\r\n                                    </span>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                        {/* <ButtonSmall\r\n                            onClick={() => handlePaginationMobile(currentPageOffers - 1)}\r\n                            color=\"rgba(245, 192, 67)\"\r\n                            value=\">\"\r\n                            backgroundColor=\"white\"\r\n                            padding=\"77px 17px\"\r\n                            disabled={isButtonMobileDisabled(currentPageOffers - 1)}\r\n                        /> */}\r\n                        {sellers.length > 1 && <button style={{backgroundColor:'white', border:'0px'}} onClick={() => handlePaginationMobile(currentPageOffers - 1)}>\r\n                            <svg width=\"36\" height=\"36\" viewBox=\"0 0 24 24\">\r\n                                <path d=\"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z\"></path>\r\n                            </svg>\r\n                        </button> }\r\n                    </div>\r\n                    {sellers.length === 0 &&\r\n                        <div className=\"noSellersAlert\">\r\n                            <Image url={items[selectedMenu][selectedSubMenu].icon} />\r\n                            <p>Il n’y a aucun prestataires actuellement dans cette catégorie, essayez une autre catégorie !</p>\r\n                        </div>\r\n                    }\r\n                    {leftBudget!=0 && \r\n                        <div class=\"mobilebudget\">\r\n                            II vous reste <span style={{color:'rgb(245, 192, 67)'}}>{leftBudget}€</span> de budget\r\n                        </div>\r\n                    }\r\n                    {leftBudget==0 &&\r\n                        <div>\r\n                            Quand on aime on  ne compte pas, toutefois vous venez de dépasser votre budget\r\n                        </div>\r\n                    }\r\n                </div>\r\n                \r\n\r\n                : (windowsWidth > 600 && isMobile()) &&\r\n                <div className=\"offersContainer mobile\">\r\n                    <div\r\n                        style={{ marginLeft: -(currentPageOffers * (itemWidth + 25)) }}\r\n                        className={isDown ? \"detailsServiceItemContainer active\" : \"detailsServiceItemContainer\"}\r\n                        ref={sliderSellers}\r\n                        onMouseDown={(e) => handleMouseDownSliderHeader(e)}\r\n                        onMouseLeave={() => handleMouseLeaveAndUpSliderHeader()}\r\n                        onMouseUp={() => handleMouseLeaveAndUpSliderHeader()}\r\n                        onMouseMove={(e) => handleMouseMoveSliderHeader(e)}\r\n\r\n                    >\r\n                        {Object.entries(sellers).map(([key, item]) => {\r\n                            return (\r\n\r\n                                <div\r\n                                    key={key}\r\n                                    className=\"offersItem\"\r\n                                    onClick={() => handleSellerClicked(item.id)}\r\n                                    style={{\r\n                                        backgroundImage: `url(\"${item.image_path.url}\")`,\r\n                                        minWidth: itemWidth,\r\n                                        maxWidth: itemWidth,\r\n                                        marginRight: '25px'\r\n                                    }}\r\n\r\n                                >\r\n                                    <span className=\"bottom\">\r\n                                        <p>{item.companyName}</p>\r\n                                        <p>+ en savoir plus</p>\r\n                                    </span>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    {sellers.length === 0 &&\r\n                        <div className=\"noSellersAlert\">\r\n                            <Image url={items[selectedMenu][selectedSubMenu].icon} />\r\n                            <p>Il n’y a aucun prestataires actuellement dans cette catégorie, essayez une autre catégorie !</p>\r\n                        </div>\r\n                    }\r\n                    {sellers.length !== 0 &&\r\n                        <div className=\"buttonDuoDashboard mobile\">\r\n                        <ButtonSmall\r\n                            onClick={() => handlePaginationMobile(currentPageOffers + 1)}\r\n                            color=\"grey\"\r\n                            value=\"Suivant\"\r\n                            disabled={isButtonMobileDisabled(currentPageOffers + 1)}\r\n                        />\r\n                        <ButtonSmall\r\n                            onClick={() => handlePaginationMobile(currentPageOffers - 1)}\r\n                            color=\"grey\"\r\n                            value=\"Précédent\"\r\n                            disabled={isButtonMobileDisabled(currentPageOffers - 1)}\r\n                        />\r\n                        </div>\r\n                    }\r\n                </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ServicesSlider;","/Users/bc/Desktop/Nivid/src/components/servicesData.js",["998","999"],"\r\nimport fleuristeImg from '../images/Fleuristes.png'\r\nimport meubleImg from '../images/Meubles.png'\r\nimport luminaireImg from '../images/Luminaires.png'\r\nimport accessoiresDecoImg from '../images/AccessoiresDecoratifs.png'\r\n\r\nimport spectacleImg from '../images/spectacle.png'\r\nimport djImg from '../images/Dj.png'\r\nimport groupeImg from '../images/groupe de musique.png'\r\n\r\nexport const items = {\r\n    decorations: {\r\n        'Décorations intérieures': {\r\n            icon: fleuristeImg,\r\n            content: [\r\n            ]\r\n        },\r\n        'Décorations extérieurs': {\r\n            icon: meubleImg,\r\n            content: [\r\n            ]\r\n        },\r\n        'Éclairages': {\r\n            icon: luminaireImg,\r\n            content: [\r\n            ]\r\n        }\r\n    },\r\n    ambiance: {\r\n        'Musique': {\r\n            icon: spectacleImg,\r\n            content: [\r\n            ]\r\n        },\r\n        'Activités': {\r\n            icon: djImg,\r\n            content: [\r\n            ]\r\n        }\r\n    },\r\n    table: {\r\n        'Nourriture': {\r\n            icon: fleuristeImg,\r\n            content: [\r\n            ]\r\n        },\r\n        'Boissons': {\r\n            icon: meubleImg,\r\n            content: [\r\n            ]\r\n        }\r\n    }\r\n}","/Users/bc/Desktop/Nivid/src/components/StickerBudgetLeft.js",["1000"],"import React, { useEffect, useState } from 'react'\r\nimport { useAuth } from '../context/userContext'\r\nimport { CircularProgressbarWithChildren } from 'react-circular-progressbar';\r\nimport 'react-circular-progressbar/dist/styles.css';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst StickerBudgetLeft = () => {\r\n\r\n    const history = useHistory()\r\n\r\n    const { event } = useAuth() \r\n    const [pourcentLeft, setPourcentLeft] = useState((event.budgetLeft / event.budget) * 100); // s= % left\r\n    const [leftBudget, setLeftBudget] = useState(0)\r\n    \r\n\r\n    useEffect(() => {\r\n        const total = (event.budgetLeft / event.budget) * 100\r\n        if(total < 0) {\r\n            setLeftBudget(0)\r\n            setPourcentLeft(0)\r\n        }\r\n        else {\r\n            setPourcentLeft(total)\r\n            setLeftBudget(event.budgetLeft)\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"stickerBudgetContainer\" onClick={() => history.push('/creer-mon-evenement/etape-1')}>\r\n        <CircularProgressbarWithChildren value={pourcentLeft} strokeWidth={5}>\r\n            <p>{leftBudget}€</p>\r\n            <span>restant</span>\r\n        </CircularProgressbarWithChildren>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StickerBudgetLeft","/Users/bc/Desktop/Nivid/src/components/SellersMap.js",[],"/Users/bc/Desktop/Nivid/src/components/Admin/Sellers.js",["1001"],"import React, { useEffect, useState } from \"react\";\r\nimport { useFirebase } from \"../../assets/base-context\";\r\nimport ShowSeller from './ShowSeller'\r\nimport { Table } from './Table'\r\nimport { CreateSeller } from './CreateSeller'\r\n\r\nexport const Sellers = () => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n    const refSellers = firestore.collection(\"sellers\");\r\n    const [sellers, setSellers] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [step, setStep] = useState(\"list\")\r\n    const [currentSeller, setCurrentSeller] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        const refSellers = firestore.collection(\"sellers\");\r\n\r\n        async function getData() {\r\n            const query = await refSellers.get();\r\n            const results = []\r\n\r\n            query.forEach(doc => {\r\n                results.push({\r\n                    ...doc.data(),\r\n                    id: doc.id,\r\n                    action: <button onClick={() => handleOpeningSeller(doc.id)}>Voir</button>\r\n                })\r\n            })\r\n            setSellers(results)\r\n        }\r\n\r\n        getData().then(() => {\r\n            setLoading(false)\r\n        })\r\n    }, [step])\r\n\r\n\r\n    async function handleDeletePrestataire() {\r\n        await refSellers.doc(currentSeller).delete().then(() => {\r\n            setStep(\"list\")\r\n        })\r\n    }\r\n\r\n    function handleOpeningSeller(id) {\r\n        setStep('show')\r\n        setCurrentSeller(id)\r\n    }\r\n\r\n\r\n    return !loading && (\r\n        <div title=\"Liste des prestataires\">\r\n            {\r\n                step === \"list\" ?\r\n                    <div>\r\n                        <button onClick={() => setStep(\"create\")} className=\"buttonAdminTransparent\"> + Créer un préstataire</button>\r\n                        <Table data={sellers} type=\"sellers\" />\r\n                    </div>\r\n                    : step === \"show\" ?\r\n                        <div>\r\n                            <button onClick={() => setStep(\"list\")} className=\"buttonAdminTransparent\">Revenir à la liste des préstataires</button>\r\n                            <ShowSeller handleDeletePrestataire={handleDeletePrestataire} currentSeller={currentSeller} />\r\n                        </div>\r\n                        : step === \"create\" &&\r\n                        <div>\r\n                            <button onClick={() => setStep(\"list\")} className=\"buttonAdminTransparent\">Revenir à la liste des préstataires</button>\r\n                            <CreateSeller setStep={setStep} setCurrentSeller={setCurrentSeller} />\r\n                        </div>\r\n            }\r\n        </div>\r\n    );\r\n}","/Users/bc/Desktop/Nivid/src/components/autocompletePlaces.js",[],"/Users/bc/Desktop/Nivid/src/components/NoteWidget.js",[],"/Users/bc/Desktop/Nivid/src/components/utilities/Image.js",[],"/Users/bc/Desktop/Nivid/src/components/utilities/Buttons.js",[],"/Users/bc/Desktop/Nivid/src/components/Admin/user/Users.js",["1002","1003","1004"],"import React, { useEffect, useState } from \"react\";\r\nimport { Table } from '../Table'\r\nimport { useFirebase } from \"../../../assets/base-context\";\r\n\r\nexport const Users = () => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n\r\n    const refUsers = firestore.collection(\"users\");\r\n    const [users, setUsers] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [step, setStep] = useState(true)\r\n    const [search, setSearch] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getData().then(() => {\r\n            setLoading(false)\r\n        })\r\n    }, [step])\r\n\r\n    async function getData() {\r\n        const query = await refUsers.get();\r\n        const results = []\r\n\r\n        query.forEach(doc => {\r\n            results.push({\r\n                ...doc.data(),\r\n                id: doc.id,\r\n                action: <button onClick={() => (handleDeleteUser(doc.id))}>Supprimer</button>\r\n            })\r\n        })\r\n        setUsers(results)\r\n    }\r\n\r\n    async function handleDeleteUser(id) {\r\n        await refUsers.doc(id).delete().then(() => {\r\n            setStep(!step)\r\n        })\r\n    }\r\n\r\n    function handleSearch(val) {\r\n        setSearch(val)\r\n    }\r\n\r\n    return !loading && (\r\n        <div title=\"Liste des users\">\r\n                    <div>\r\n                        <Table data={users} type=\"users\" />\r\n                    </div>\r\n        </div>\r\n    );\r\n}","/Users/bc/Desktop/Nivid/src/components/Admin/event/Events.js",["1005","1006"],"import React, { useEffect, useState } from \"react\";\r\nimport { useFirebase } from \"../../../assets/base-context\";\r\nimport ShowEvent from './ShowEvent'\r\nimport { Table } from '../Table'\r\n\r\nexport const Events = () => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n\r\n    const refEvents = firestore.collection(\"events\");\r\n    const [events, setEvents] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [step, setStep] = useState(\"list\")\r\n    const [currentEvent, setCurrentEvent] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        getData().then(() => {\r\n            setLoading(false)\r\n        })\r\n    }, [step])\r\n\r\n    async function getData() {\r\n        const query = await refEvents.get();\r\n        const results = []\r\n\r\n        query.forEach(doc => {\r\n            // Cette variable nous permet d'attendre que les data soit chargées avant de continuer, car on avait un souci avec la date\r\n            const data = doc.data()\r\n            const timstamp = (data && data.date) && data.date.toDate()\r\n            results.push({  \r\n                ...doc.data(),\r\n                id: doc.id, \r\n                date: timstamp.toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"numeric\", day: \"numeric\" }),  \r\n                action: <button onClick={() => (setStep(\"show\"), setCurrentEvent(doc.id))}>Voir</button> })\r\n        })\r\n        setEvents(results)\r\n    }\r\n    \r\n    async function handleDeleteEvent() {\r\n        await refEvents.doc(currentEvent).delete().then(() => {\r\n            setStep(\"list\")\r\n        })\r\n    }\r\n\r\n\r\n    return !loading && (\r\n        <div title=\"Liste des events\">\r\n            {\r\n                step === \"list\" ?\r\n                    <div>\r\n                        <Table data={events} type=\"events\" />\r\n                    </div>\r\n                    : step === \"show\" &&\r\n                        <div>\r\n                        <button onClick={() => setStep(\"list\")} className=\"buttonAdminTransparent\">Revenir à la liste des évènements</button>\r\n                            <ShowEvent handleDeleteEvent={handleDeleteEvent} currentEvent={currentEvent} />\r\n                        </div>\r\n            }\r\n        </div>\r\n    );\r\n}","/Users/bc/Desktop/Nivid/src/components/utilities/Title.js",[],"/Users/bc/Desktop/Nivid/src/components/utilities/SubTitle.js",[],"/Users/bc/Desktop/Nivid/src/components/utilities/Layout.js",[],"/Users/bc/Desktop/Nivid/src/components/Loader.js",[],"/Users/bc/Desktop/Nivid/src/components/BlogWidget.js",[],"/Users/bc/Desktop/Nivid/src/components/Admin/CreateSeller.js",[],"/Users/bc/Desktop/Nivid/src/components/Admin/Table.js",["1007","1008"],"import React, { useState } from \"react\";\r\nimport { useTable } from 'react-table'\r\n\r\n\r\nexport const Table = (props) => {\r\n\r\n    const type = props.type\r\n    const dataTable = props.data\r\n\r\n    const tableTemplate =\r\n        type === \"services\" ? [\r\n            { Header: 'Nom', accessor: 'name' },\r\n            { Header: 'Prix', accessor: 'price' },\r\n            { Header: 'Catégorie', accessor: 'category' },\r\n            { Header: 'Prestataire', accessor: 'id' },\r\n            { Header: 'Action', accessor: 'action' }\r\n        ]\r\n            : type === \"sellers\" ?\r\n                [\r\n                    { Header: 'Nom', accessor: 'companyName' },\r\n                    { Header: 'Adresse', accessor: 'adress' },\r\n                    { Header: 'Catégorie', accessor: 'category' },\r\n                    { Header: 'Sous catégorie', accessor: 'subcategory' },\r\n                    { Header: 'Id', accessor: 'id' },\r\n                    { Header: 'statut', accessor: 'status' },\r\n                    { Header: 'Action', accessor: 'action' }\r\n                ]\r\n                : type === \"events\" ?\r\n                    [\r\n                        { Header: 'Nom', accessor: 'name' },\r\n                        { Header: 'Adresse', accessor: 'place' },\r\n                        { Header: 'Budget', accessor: 'budget' },\r\n                        { Header: 'Personnes', accessor: 'people' },\r\n                        { Header: 'm²', accessor: 'placeSize' },\r\n                        { Header: 'Statut', accessor: 'statut' },\r\n                        { Header: 'Date', accessor: 'date' },\r\n                        { Header: 'Action', accessor: 'action' }\r\n                    ]\r\n                    : type === \"users\" &&\r\n                    [\r\n                        { Header: 'Email', accessor: 'email' },\r\n                        { Header: 'Prénom', accessor: 'firstName' },\r\n                        { Header: 'Nom', accessor: 'name' },\r\n                        { Header: 'Tel', accessor: 'tel' },\r\n                        { Header: 'Genre', accessor: 'gender' },\r\n                        { Header: 'Id', accessor: 'id' },\r\n                        { Header: 'Action', accessor: 'action' }\r\n                    ]\r\n\r\n\r\n    const columns = React.useMemo(\r\n        () => tableTemplate,\r\n        []\r\n    )\r\n\r\n    const data = React.useMemo(\r\n        () => dataTable,\r\n        [dataTable]\r\n    )\r\n\r\n    const tableInstance = useTable({ columns, data })\r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        headerGroups,\r\n        rows,\r\n        prepareRow,\r\n    } = tableInstance\r\n\r\n\r\n    return (\r\n        <table {...getTableProps()}>\r\n            <thead>\r\n                {// Loop over the header rows\r\n                    headerGroups.map(headerGroup => (\r\n                        // Apply the header row props\r\n                        <tr {...headerGroup.getHeaderGroupProps()}>\r\n                            {// Loop over the headers in each row\r\n                                headerGroup.headers.map(column => (\r\n                                    // Apply the header cell props\r\n                                    <th {...column.getHeaderProps()}>\r\n                                        {// Render the header\r\n                                            column.render('Header')}\r\n                                    </th>\r\n                                ))}\r\n                        </tr>\r\n                    ))}\r\n            </thead>\r\n            {/* Apply the table body props */}\r\n            <tbody {...getTableBodyProps()}>\r\n                {// Loop over the table rows\r\n                    rows.map(row => {\r\n                        // Prepare the row for display\r\n                        prepareRow(row)\r\n                        return (\r\n                            // Apply the row props\r\n                            <tr {...row.getRowProps()}>\r\n                                {// Loop over the rows cells\r\n                                    row.cells.map(cell => {\r\n                                        // Apply the cell props\r\n                                        return (\r\n                                            <td className={\r\n                                                cell.value === \"validated\" ? \"validatedStatus\"\r\n                                                    : cell.value === \"pending\" ? \"pendingStatus\"\r\n                                                        : cell.value === \"subscribing\" && \"subscribingStatus\"\r\n                                            }\r\n                                                {...cell.getCellProps()}\r\n                                            >\r\n                                                {// Render the cell contents\r\n                                                    cell.value === \"validated\" ? \"Validé\"\r\n                                                        : cell.value === \"pending\" ? \"En attente de validation\"\r\n                                                            : cell.value === \"subscribing\" ? \"Documents manquants\"\r\n                                                                :\r\n                                                                cell.render('Cell')\r\n                                                }\r\n                                            </td>\r\n                                        )\r\n                                    })}\r\n                            </tr>\r\n                        )\r\n                    })}\r\n            </tbody>\r\n        </table>\r\n    );\r\n}\r\n","/Users/bc/Desktop/Nivid/src/components/Admin/ShowSeller.js",["1009"],"import React, { useEffect, useState } from \"react\";\r\nimport { useFirebase } from \"../../assets/base-context\";\r\nimport { Services } from './Services'\r\nimport LocationSearchInput from \"../autocompletePlaces\"\r\nimport { ShowDocuments } from './components/ShowDocuments'\r\nimport { useAuth } from '../../context/userContext'\r\n\r\n\r\nconst category = [\r\n    { id: 'decorations', name: 'Décoration' },\r\n    { id: 'ambiance', name: ' Ambiance' },\r\n    { id: 'table', name: 'À table' },\r\n    // { id: 'service', name: 'Service sur place' },\r\n]\r\n\r\nconst subCategory = [\r\n    { id: 'intérieures', name: 'Décorations intérieures' },\r\n    { id: 'extérieurs', name: 'Décorations extérieurs' },\r\n    { id: 'Éclairages', name: 'Éclairages' },\r\n\r\n    { id: 'Musique', name: 'Musique' },\r\n    { id: 'Activités', name: 'Activités' },\r\n\r\n    { id: 'Nourriture', name: 'Nourriture' },\r\n    { id: 'Boissons', name: 'Boissons' },\r\n]\r\n\r\nconst ShowSeller = (props) => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n    const currentSeller = props.currentSeller\r\n    const handleDeletePrestataire = props.handleDeletePrestataire\r\n    const refSeller = firestore.collection(\"sellers\").doc(currentSeller);\r\n\r\n    const [seller, setSeller] = useState([])\r\n    const [error, setError] = useState({ type: \"\", message: \"\" })\r\n    const [loading, setLoading] = useState(true)\r\n    const [currentSubmenu, setCurrentSubmenu] = useState(0)\r\n    const [step, setStep] = useState(\"show\")\r\n\r\n    const { setSellerStatus } = useAuth()\r\n\r\n\r\n    useEffect(() => {\r\n        getData().then(() => {\r\n            setLoading(false)\r\n        })\r\n    }, [step])\r\n\r\n    async function getData() {\r\n        const query = await refSeller.get();\r\n        const results = query.data()\r\n        setSeller({ ...results, uid: query.id })\r\n    }\r\n\r\n    function handleAdressChanged(adress, latLng) {\r\n        setSeller({ ...seller, adress: adress, latLng: latLng })\r\n    }\r\n\r\n    function handleOnChangeInputs(name, value) {\r\n        name === \"companyName\" ? setSeller({ ...seller, companyName: value })\r\n            : name === \"category\" ? setSeller({ ...seller, category: value })\r\n                : name === \"subcategory\" ? setSeller({ ...seller, subcategory: value })\r\n                    : name === \"description\" ? setSeller({ ...seller, description: value })\r\n                        : name === \"firstName\" ? setSeller({ ...seller, firstName: value })\r\n                            : name === \"lastName\" ? setSeller({ ...seller, lastName: value })\r\n                                : name === \"phone\" ? setSeller({ ...seller, phone: value })\r\n                                    : name === \"siret\" ? setSeller({ ...seller, siret: value })\r\n                                        : name === \"website\" && setSeller({ ...seller, website: value })\r\n    }\r\n\r\n    async function handleSendForm(e) {\r\n        e.preventDefault()\r\n\r\n        await refSeller.update({\r\n            ...seller,\r\n            companyName: seller.companyName,\r\n            adress: seller.adress,\r\n            latLng: seller.latLng,\r\n            category: seller.category,\r\n            subcategory: seller.subcategory,\r\n            description: seller.description,\r\n            firstName: seller.firstName,\r\n            lastName: seller.lastName,\r\n            phone: seller.phone,\r\n            siret: seller.siret,\r\n            website: seller.website,\r\n        })\r\n            .catch((error) => {\r\n                console.error(error)\r\n            })\r\n            .then(() => {\r\n                setStep(\"show\")\r\n            })\r\n    }\r\n\r\n    async function handleValidSeller() {\r\n        if (seller.status !== \"validated\" && seller.status !== \"opened\" ) {\r\n            let countValidDocs = 0\r\n            for (const doc in seller.documents) {\r\n                if (seller.documents[doc].status && seller.documents[doc].status === \"validated\") {\r\n                    countValidDocs += 1\r\n                }\r\n            }\r\n            if (countValidDocs === 5) {\r\n                await setSellerStatus(seller.uid, \"validated\")\r\n                setSeller({ ...seller, status: \"validated\" })\r\n            }\r\n            else {\r\n                setError({ type: \"missedValidatedDocs\", message: \"Attention, tout les documents doivent être validés pour valider le prestataire.\" })\r\n            }\r\n        }\r\n        else {\r\n            await setSellerStatus(seller.uid, \"pending\")\r\n            setSeller({ ...seller, status: \"pending\" })\r\n        }\r\n    }\r\n\r\n    async function handleOpenStore() {\r\n        console.log(seller.status)\r\n        if (seller.status === \"validated\") {\r\n            await setSellerStatus(seller.uid, \"opened\")\r\n            setSeller({ ...seller, status: \"opened\" })\r\n        }\r\n        else if (seller.status === \"opened\") {\r\n            await setSellerStatus(seller.uid, \"validated\")\r\n            setSeller({ ...seller, status: \"validated\" })\r\n        }\r\n        else {\r\n            await setSellerStatus(seller.uid, \"opened\")\r\n            setSeller({ ...seller, status: \"opened\" })\r\n            // setError({ type: \"missedValidatedDocs\", message: \"Le prestataire doit être validé avant de pouvoir ouvrir sa boutique\" })\r\n        }\r\n    }\r\n\r\n    return !loading && (\r\n        <div>\r\n            <h2>{seller.name}</h2>\r\n            <div className=\"showSellerContainer\">\r\n                <div className=\"headerShowSellerContainer\">\r\n                    <div className={currentSubmenu === 0 && \"active\"} onClick={() => setCurrentSubmenu(0)}><h3>Infos</h3></div>\r\n                    <div className={currentSubmenu === 1 && \"active\"} onClick={() => setCurrentSubmenu(1)}><h3>Services</h3></div>\r\n                </div>\r\n                {currentSubmenu === 0 ?\r\n                    <div>\r\n                        {step === \"show\" ?\r\n                            <div className=\"infoShowSellerContainer\">\r\n                                <img alt={seller.name} src={seller.image_path.url} />\r\n                                <ul>\r\n                                    <li><label>Nom: </label>{seller.companyName}</li>\r\n                                    <li><label>Adresse: </label>{seller.adress}</li>\r\n                                    <li><label>Catégorie: </label>{seller.category}</li>\r\n                                    <li><label>Sous catégorie: </label>{seller.subcategory}</li>\r\n                                    <li><label>Email: </label>{seller.email}</li>\r\n                                    <li><label>Description: </label>{seller.description}</li>\r\n                                    <li><label>Siret: </label>{seller.siret}</li>\r\n                                    <li><label>Site web: </label>{seller.website}</li>\r\n                                    <li><label>Téléhone: </label>{seller.phone}</li>\r\n                                    <li><label>Prénom du gérant: </label>{seller.firstName}</li>\r\n                                    <li><label>Nom du gérant: </label>{seller.lastName}</li>\r\n                                    <li>\r\n                                        <label>Statut du compte: </label>\r\n                                        <span\r\n                                            className=\"statusSeller\"\r\n                                            style={{\r\n                                                color:\r\n                                                    seller.status === \"validated\" ? \"green\"\r\n                                                        : seller.status === \"opened\" ? \"green\"\r\n                                                            : seller.status === \"subscribing\" && \"red\"\r\n                                            }}>\r\n                                            {(seller.status === \"validated\" || seller.status === \"opened\") ? \"Validé\"\r\n                                                : seller.status === \"pending\" ? \"En attente\"\r\n                                                    : seller.status === \"subscribing\" && \"Inscription ou manque de documents\"\r\n                                            }\r\n                                        </span>\r\n                                    </li>\r\n                                    <li>\r\n                                        <label>\r\n                                            Boutique: <span style={{ color: seller.status === \"opened\" ? \"green\" : \"red\" }}>{seller.status === \"opened\" ? \"Ouverte\" : \"Fermée\"}</span>\r\n                                        </label>\r\n                                    </li>\r\n                                </ul>\r\n                                <button className=\"buttonAdminTransparent\" onClick={() => setStep(\"edit\")}>Modifier les informations</button>\r\n                                <button onClick={() => handleDeletePrestataire()} className=\"buttonAdminTransparent\">Supprimer ce préstataire</button>\r\n                                <button onClick={() => handleValidSeller()} className=\"buttonAdminValid\">\r\n                                    { (seller.status === \"validated\" || seller.status === \"opened\") ? \"Invalider\" : \"Valider le prestataire\"}\r\n                                </button>\r\n                                <button onClick={() => handleOpenStore()} className=\"buttonAdminInfo\">\r\n                                    {seller.status === \"opened\" ? \"Fermer la boutique\" : \"Ouvrir la boutique\"}\r\n                                </button>\r\n                                <div>\r\n                                    {error.type === \"missedValidatedDocs\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                                </div>\r\n                            </div>\r\n                            : step === \"edit\" &&\r\n                            <div className=\"infoEditSellerContainer\">\r\n                                <form>\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Nom de la boutique</label>\r\n                                            <input type=\"text\" name=\"name\" value={seller.companyName} onChange={e => handleOnChangeInputs(\"companyName\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Description</label>\r\n                                            <textarea value={seller.description} onChange={e => handleOnChangeInputs(\"description\", e.target.value)} name=\"description\" cols=\"30\" rows=\"10\"></textarea>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Lieu de l'évènement</label>\r\n                                            <LocationSearchInput placeType=\"address\" value={seller.adress} onChanged={handleAdressChanged} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Catégorie</label>\r\n                                            <select onChange={e => handleOnChangeInputs(\"category\", e.target.value)}>\r\n                                                {category.map((item) => {\r\n                                                    return <option selected={seller.category === item.id && \"selected\"} value={item.id}>{item.name}</option>\r\n                                                })}\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Sous catégorie</label>\r\n                                            <select onChange={e => handleOnChangeInputs(\"subcategory\", e.target.value)}>\r\n                                                {subCategory.map((item) => {\r\n                                                    return <option selected={seller.subcategory === item.id && \"selected\"} value={item.id}>{item.name}</option>\r\n                                                })}\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Prénom du gérant</label>\r\n                                            <input type=\"text\" name=\"firstName\" value={seller.firstName} onChange={e => handleOnChangeInputs(\"firstName\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Nom du gérant</label>\r\n                                            <input type=\"text\" name=\"lastName\" value={seller.lastName} onChange={e => handleOnChangeInputs(\"lastName\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Site web</label>\r\n                                            <input type=\"text\" name=\"website\" value={seller.website} onChange={e => handleOnChangeInputs(\"website\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Numéro de téléphone</label>\r\n                                            <input type=\"text\" name=\"phone\" value={seller.phone} onChange={e => handleOnChangeInputs(\"phone\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Siret</label>\r\n                                            <input type=\"text\" name=\"siret\" value={seller.siret} onChange={e => handleOnChangeInputs(\"siret\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <input type=\"submit\" value=\"Sauvegarder\" onClick={(e) => handleSendForm(e)} />\r\n                                            <button className=\"buttonAdminTransparent\" onClick={() => setStep('show')}>Revenir en arrière</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        }\r\n                        {(seller.status && seller.documents) && <ShowDocuments sellerId={seller.uid} documents={seller.documents} />}\r\n                    </div>\r\n                    :\r\n                    <Services categorySeller={seller.category} sellerName={seller.name} currentSeller={currentSeller} />\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default ShowSeller","/Users/bc/Desktop/Nivid/src/components/utilities/ModalYesNo.js",[],"/Users/bc/Desktop/Nivid/src/components/Admin/event/ShowEvent.js",["1010"],"import React, { useEffect, useState } from \"react\";\r\nimport { useFirebase } from \"../../../assets/base-context\";\r\n// import { Services } from './Services'\r\nimport LocationSearchInput from \"../../autocompletePlaces\"\r\nimport { useAuth } from \"../../../context/userContext\"; // context\r\nimport InputRange from 'react-input-range';\r\nimport \"react-input-range/lib/css/index.css\";\r\nimport DatePicker from \"react-date-picker\";\r\nimport { Services } from './Services'\r\nimport { GoogleApiWrapper } from 'google-maps-react';\r\n\r\nconst ShowEvent = (props) => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n    const currentEvent = props.currentEvent\r\n    const handleDeleteEvent = props.handleDeleteEvent\r\n    const refEvent = firestore.collection(\"events\").doc(currentEvent);\r\n\r\n    const [event, setEvent] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [currentSubmenu, setCurrentSubmenu] = useState(0)\r\n    const [step, setStep] = useState(\"show\")\r\n\r\n    const { formatLabelTimePicker } = useAuth()\r\n\r\n    useEffect(() => {\r\n        getData().then(() => {\r\n            setLoading(false)\r\n        })\r\n        appendToSliderTimePicker()\r\n    }, [step])\r\n\r\n    async function getData() {\r\n        const query = await refEvent.get();\r\n        const results = query.data()\r\n        const timstamp = results.date.toDate()\r\n        setEvent({\r\n            ...results,\r\n            date: timstamp\r\n        })\r\n    }\r\n\r\n    function handleAdressChanged(adress, latLng) {\r\n        setEvent({ ...event, place: adress, latLng: latLng })\r\n    }\r\n\r\n    function handleOnChangeInputs(name, value) {\r\n        if (name === \"name\") { setEvent({ ...event, name: value }) }\r\n        else if (name === \"place\") { setEvent({ ...event, place: value }) }\r\n        else if (name === \"latLng\") { setEvent({ ...event, latLng: value }) }\r\n        else if (name === \"budget\") { setEvent({ ...event, budget: value }) }\r\n        else if (name === \"people\") { setEvent({ ...event, people: value }) }\r\n        else if (name === \"placeSize\") { setEvent({ ...event, placeSize: value }) }\r\n        else if (name === \"date\") { setEvent({ ...event, date: value }) }\r\n        else if (name === \"startAt\") { setEvent({ ...event, startAt: value }); appendToSliderTimePicker() }\r\n        else if (name === \"endAt\") { setEvent({ ...event, endAt: value }); appendToSliderTimePicker() }\r\n    }\r\n\r\n    async function handleSendForm(e) {\r\n        e.preventDefault()\r\n\r\n        await refEvent.update({\r\n            ...event,\r\n            budget: parseInt(event.budget),\r\n            people: parseInt(event.people),\r\n            placeSize: parseInt(event.placeSize)\r\n        })\r\n            .catch((error) => {\r\n                console.error(error)\r\n            })\r\n            .then(() => {\r\n                setStep(\"show\")\r\n            })\r\n    }\r\n\r\n    function appendToSliderTimePicker() {\r\n        const element = document.getElementsByClassName(\"input-range__slider\")\r\n        const formatedEndTime = formatLabelTimePicker(event.endAt)\r\n        const formatedStartTime = formatLabelTimePicker(event.startAt)\r\n        if (element[0] !== undefined) {\r\n            element[0].innerHTML = \"Commence à \" + formatedStartTime\r\n            element[1].innerHTML = \"Termine à \" + formatedEndTime\r\n        }\r\n    }\r\n\r\n    return !loading && (\r\n        <div>\r\n            <h2>{event.name}</h2>\r\n            <div className=\"showSellerContainer\">\r\n                <div className=\"headerShowSellerContainer\">\r\n                    <div className={currentSubmenu === 0 && \"active\"} onClick={() => setCurrentSubmenu(0)}><h3>Infos</h3></div>\r\n                    <div className={currentSubmenu === 1 && \"active\"} onClick={() => setCurrentSubmenu(1)}><h3>Services</h3></div>\r\n                </div>\r\n                {currentSubmenu === 0 ?\r\n                    <div>\r\n                        {step === \"show\" ?\r\n                            <div className=\"infoShowSellerContainer\">\r\n                                <ul>\r\n                                    <li><label>Nom: </label>{event.name}</li>\r\n                                    <li><label>Adresse: </label>{event.place}</li>\r\n                                    <li><label>Budget: </label>{event.budget}</li>\r\n                                    <li><label>Nombre de personnes: </label>{event.people}</li>\r\n                                    <li><label>Surface du lieu: </label>{event.placeSize}</li>\r\n                                    <li><label>Date: </label>{event.date.toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"numeric\", day: \"numeric\" })}</li>\r\n                                    <li><label>Commence à: </label>{formatLabelTimePicker(event.startAt)}</li>\r\n                                    <li><label>Termine à: </label>{formatLabelTimePicker(event.endAt)}</li>\r\n                                    <li><label>Utilisateur: </label>{event.user}</li>\r\n                                </ul>\r\n                                <button className=\"buttonAdminTransparent\" onClick={() => setStep(\"edit\")}>Modifier les informations</button>\r\n                                <button onClick={() => handleDeleteEvent()} className=\"buttonAdminTransparent\">Supprimer cet évènement</button>\r\n                            </div>\r\n                            : step === \"edit\" &&\r\n                            <div className=\"infoEditSellerContainer\">\r\n                                <form>\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Nom de l'évènement</label>\r\n                                            <input type=\"text\" name=\"name\" value={event.name} onChange={e => handleOnChangeInputs(\"name\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Lieu de l'évènement</label>\r\n                                            <LocationSearchInput placeType=\"address\" value={event.place} onChanged={handleAdressChanged} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Budget</label>\r\n                                            <input type=\"text\" name=\"budget\" value={event.budget} onChange={e => handleOnChangeInputs(\"budget\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Nombre de personnes</label>\r\n                                            <input type=\"text\" name=\"people\" value={event.people} onChange={e => handleOnChangeInputs(\"people\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Surface du lieu</label>\r\n                                            <input type=\"text\" name=\"placeSize\" value={event.placeSize} onChange={e => handleOnChangeInputs(\"placeSize\", e.target.value)} />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Date</label>\r\n                                            <DatePicker\r\n                                                value={event.date}\r\n                                                onChange={date => handleOnChangeInputs(\"date\", date)}\r\n                                                className=\"etape1DatePicker\"\r\n                                                format=\"dd/MM/yyyy\"\r\n                                                clearIcon={null}\r\n                                                calendarIcon={null}\r\n                                                minDate={new Date()}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <label>Créneau horaire</label>\r\n                                            <div className=\"etape1TimePickerContainer\">\r\n                                                <InputRange\r\n                                                    maxValue={86400}\r\n                                                    minValue={0}\r\n                                                    draggableTrack\r\n                                                    step={900}\r\n                                                    value={event.startAt}\r\n                                                    formatLabel={value => formatLabelTimePicker(value)}\r\n                                                    onChange={value => handleOnChangeInputs(\"startAt\", value)} />\r\n                                            </div>\r\n                                            <div className=\"etape1TimePickerContainer endAt\">\r\n                                                <InputRange\r\n                                                    maxValue={86400}\r\n                                                    minValue={0}\r\n                                                    draggableTrack\r\n                                                    step={900}\r\n                                                    value={event.endAt}\r\n                                                    formatLabel={value => formatLabelTimePicker(value)}\r\n                                                    onChange={value => handleOnChangeInputs(\"endAt\", value)} />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"formLine\">\r\n                                        <div className=\"formField\">\r\n                                            <input type=\"submit\" value=\"Sauvegarder\" onClick={(e) => handleSendForm(e)} />\r\n                                            <button className=\"buttonAdminTransparent\" onClick={() => setStep('show')}>Revenir en arrière</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                    :\r\n                    <Services eventName={event.name} currentEvent={currentEvent} />\r\n                }\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\nexport default GoogleApiWrapper({\r\n    apiKey: (\"AIzaSyAim92JbJjr_fgoP0bYxzdCAz9PsAu5JWY\")\r\n})(ShowEvent)","/Users/bc/Desktop/Nivid/src/components/Admin/Services.js",["1011"],"import React, { useEffect, useState } from \"react\";\r\nimport { useFirebase } from \"../../assets/base-context\";\r\nimport { ShowService } from \"./ShowService\";\r\nimport { Table } from './Table'\r\nimport { CreateService } from './CreateService'\r\n\r\n\r\n\r\nexport const Services = (props) => {\r\n    \r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n    const categorySeller = props.categorySeller\r\n    const currentSeller = props.currentSeller;\r\n    const refServices = firestore.collection(\"sellers\").doc(currentSeller).collection(\"services\");\r\n\r\n    const [services, setServices] = useState([])\r\n    const [currentService, setCurrentService] = useState()\r\n    const [loading, setLoading] = useState(true)\r\n    const [step, setStep] = useState(\"list\")\r\n\r\n    useEffect(() => {\r\n        const refServices = firestore.collection(\"sellers\").doc(currentSeller).collection(\"services\");\r\n\r\n        async function getData() {\r\n            const query = await refServices.get();\r\n            const results = []\r\n\r\n            query.forEach(doc => {\r\n                results.push({\r\n                    ...doc.data(),\r\n                    id: doc.id,\r\n                    action: <button onClick={() => handleOpeningService(doc.id)}>Voir</button>\r\n                })\r\n            })\r\n            setServices(results)\r\n        }\r\n\r\n        getData().then(() => {\r\n            setLoading(false)\r\n        })\r\n    }, [step, currentSeller])\r\n\r\n\r\n    async function handleDeleteService() {\r\n        await refServices.doc(currentService).delete().then(() => {\r\n            setStep(\"list\")\r\n        })\r\n    }\r\n\r\n    function handleOpeningService(id) {\r\n        setStep('show')\r\n        setCurrentService(id)\r\n    }\r\n\r\n\r\n    return !loading && (\r\n        <div>\r\n            {step === \"list\" ?\r\n                <div className=\"servicesShowSellerContainer\">\r\n                    <h2>Les services:</h2>\r\n                    <button onClick={() => setStep(\"create\")} className=\"buttonAdminTransparent\"> + Créer un service</button>\r\n                    <Table data={services} type=\"services\" />\r\n                </div>\r\n                : step === \"show\" ?\r\n                    <div className=\"showServiceContainer\">\r\n                        <button onClick={() => setStep(\"list\")} className=\"buttonAdminTransparent\">Retour à la liste des services</button>\r\n                        <ShowService handleDeleteService={handleDeleteService} currentService={currentService} currentSeller={currentSeller} />\r\n                    </div>\r\n                    : step === \"create\" &&\r\n                    <CreateService categorySeller={categorySeller} setStep={setStep} setCurrentService={setCurrentService} currentSeller={currentSeller} />\r\n            }\r\n        </div>\r\n    );\r\n}\r\n","/Users/bc/Desktop/Nivid/src/components/Admin/event/Services.js",["1012"],"import React, { useEffect, useState } from \"react\";\r\nimport { useFirebase } from \"../../../assets/base-context\";\r\nimport { Table } from '../Table'\r\n\r\n\r\n\r\nexport const Services = (props) => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n    const currentEvent = props.currentEvent;\r\n    const refServices = firestore.collection(\"events\").doc(currentEvent).collection(\"services\");\r\n\r\n    const [services, setServices] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [step, setStep] = useState(true)\r\n\r\n    useEffect(() => {\r\n        getData().then(() => {\r\n            setLoading(false)\r\n        })\r\n    }, [step])\r\n\r\n    async function getData() {\r\n        const query = await refServices.get();\r\n        const results = []\r\n\r\n        query.forEach(doc => {\r\n            results.push({ ...doc.data(), id: doc.id, action: <button onClick={() => (handleDeleteService(doc.id))}>Supprimer</button> })\r\n        })\r\n        setServices(results)\r\n    }\r\n\r\n    async function handleDeleteService(id) {\r\n        await refServices.doc(id).delete().then(() => {\r\n            setStep(!step)\r\n        })\r\n    }\r\n\r\n    return !loading && (\r\n        <div>\r\n            <div className=\"servicesShowSellerContainer\">\r\n                <h2>Les services:</h2>\r\n                <Table data={services} type=\"services\" />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","/Users/bc/Desktop/Nivid/src/components/Admin/components/ShowDocuments.js",["1013","1014","1015"],"import React, { useEffect, useState } from \"react\";\r\nimport { useAuth } from '../../../context/userContext'\r\n\r\n\r\nexport const ShowDocuments = ({ sellerId, documents }) => {\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [newDocuments, setNewDocuments] = useState(documents)\r\n\r\n    const { updateSellerDocumentsStatus } = useAuth()\r\n\r\n\r\n    useEffect(() => {\r\n    }, [])\r\n\r\n    async function validateDocument(key) {\r\n        const newDocumentsArray = { ...newDocuments }\r\n        newDocumentsArray[key] = { ...newDocumentsArray[key], status: \"validated\" }\r\n        await updateSellerDocumentsStatus(sellerId, newDocumentsArray)\r\n        setNewDocuments(newDocumentsArray)\r\n    }\r\n\r\n    async function rejectDocument(key) {\r\n        const newDocumentsArray = { ...newDocuments }\r\n        newDocumentsArray[key] = { ...newDocumentsArray[key], status: \"rejected\" }\r\n        await updateSellerDocumentsStatus(sellerId, newDocumentsArray)\r\n        setNewDocuments(newDocumentsArray)\r\n    }\r\n\r\n    return loading && (\r\n        <div className=\"documentsContainer\">\r\n            <h1>Documents à vérifier</h1>\r\n            {Object.entries(newDocuments).map(doc => {\r\n                return (\r\n                    <div>\r\n                        <h2>{doc[0]}:</h2>\r\n                        {\r\n                            doc[1] &&\r\n                            <>\r\n                                <a href={doc[1].url} target=\"_blank\" rel=\"noreferrer\">\r\n                                    <img alt=\"nivid\" src={doc[1].url} />\r\n                                    {\r\n                                        (doc[1].status && doc[1].status === \"validated\") ? <span className=\"green\">Validé</span>\r\n                                            : (doc[1].status && doc[1].status === \"rejected\") ? <span className=\"red\">Refusé</span>\r\n                                                : (doc[1].status && doc[1].status === \"pending\" || !doc[1].status) && <span className=\"yellow\">En attente</span>\r\n                                    }\r\n                                </a>\r\n                                <div className=\"buttonsContainer\">\r\n                                    {\r\n                                        (!doc[1].status || doc[1].status === \"pending\") &&\r\n                                        <div>\r\n                                            <button onClick={() => validateDocument(doc[0])} className=\"buttonAdminValid\">Valider ce document</button>\r\n                                            <button onClick={() => rejectDocument(doc[0])} className=\"buttonAdminDelete\">Refuser ce document</button>\r\n                                        </div>\r\n\r\n                                    }\r\n                                </div>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n\r\n    );\r\n}","/Users/bc/Desktop/Nivid/src/components/Admin/CreateService.js",[],"/Users/bc/Desktop/Nivid/src/components/Admin/ShowService.js",["1016"],"import React, { useEffect, useState } from \"react\";\r\nimport { useFirebase } from \"../../assets/base-context\";\r\n\r\n\r\nexport const ShowService = (props) => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const firestore = firebaseContext.firestore()\r\n\r\n    const currentSeller = props.currentSeller\r\n    const currentService = props.currentService\r\n    const handleDeleteService = props.handleDeleteService\r\n    const refService = firestore.collection(\"sellers\").doc(currentSeller).collection(\"services\").doc(currentService);\r\n\r\n    const [service, setService] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [step, setStep] = useState(\"show\")\r\n\r\n    useEffect(() => {\r\n        getData().then(() => {\r\n            setLoading(false)\r\n        })\r\n    }, [])\r\n\r\n    async function getData() {\r\n        const query = await refService.get();\r\n        const results = query.data()\r\n        setService(results)\r\n    }\r\n\r\n    function handleOnChangeInputs(name, value) {\r\n        if (name === \"name\") { setService({ ...service, name: value }) }\r\n        else if (name === \"price\") { setService({ ...service, price: value }) }\r\n        else if (name === \"description\") { setService({ ...service, description: value }) }\r\n    }\r\n\r\n    async function handleSendForm(e) {\r\n        e.preventDefault()\r\n\r\n        await refService.update(service)\r\n            .catch((error) => {\r\n                console.error(error)\r\n            })\r\n            .then(() => {\r\n                setStep(\"show\")\r\n            })\r\n    }\r\n\r\n\r\n    return !loading && (\r\n        <div>\r\n            {step === \"show\" ?\r\n                <div className=\"infoShowServiceContainer\">\r\n                    <h2>{service.name}</h2>\r\n                    <div className=\"infoShowServiceImages\">\r\n                        {service.images.map(image => {\r\n                            return <img alt=\"nivid\" src={image.url} />\r\n                        })}\r\n                    </div>\r\n                    <ul>\r\n                        {service.variations.length === 0 && <li><label>Prix: </label>{service.price}</li>}\r\n                        <li><label>Catégorie: </label>{service.category}</li>\r\n                        <li><label>Déscription: </label>{service.description}</li>\r\n                        <li>\r\n                            <label>Variations: </label>\r\n                            <p>{\r\n                                service.variations.length === 0 ? \"Non\"\r\n                            : service.variations.map(variation => `${variation.name} -- ${variation.price}€ `)\r\n                            }</p>\r\n                        </li>\r\n                    </ul>\r\n                    <button onClick={() => setStep(\"edit\")} className=\"buttonAdminTransparent\">Modifier</button>\r\n                    <button onClick={() => handleDeleteService()} className=\"buttonAdminTransparent\">Supprimer ce service</button>\r\n                </div>\r\n                : step === \"edit\" &&\r\n                <div className=\"infoEditSellerContainer\">\r\n                    <form>\r\n                        <div className=\"formLine\">\r\n                            <div className=\"formField\">\r\n                                <label>Nom du service</label>\r\n                                <input type=\"text\" name=\"name\" value={service.name} onChange={e => handleOnChangeInputs(\"name\", e.target.value)} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"formLine\">\r\n                            <div className=\"formField\">\r\n                                <label>Prix</label>\r\n                                <input type=\"text\" name=\"price\" value={service.price} onChange={e => handleOnChangeInputs(\"price\", e.target.value)} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"formLine\">\r\n                            <div className=\"formField\">\r\n                                <label>Déscription</label>\r\n                                <textarea type=\"text\" name=\"description\" value={service.description} onChange={e => handleOnChangeInputs(\"description\", e.target.value)} />\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"formLine\">\r\n                            <div className=\"formField\">\r\n                                <input type=\"submit\" value=\"Sauvegarder\" onClick={(e) => handleSendForm(e)} />\r\n                                <button className=\"buttonAdminTransparent\" onClick={() => setStep('show')}>Revenir en arrière</button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n","/Users/bc/Desktop/Nivid/src/components/Prest_Dashboard_Status_Message.js",[],"/Users/bc/Desktop/Nivid/src/components/Prest_Dashboard_Sponsorship.js",["1017"],"import React, { useRef, useState, useEffect } from 'react'\r\nimport { useAuth } from '../context/userContext'\r\n\r\nimport Title from './utilities/Title'\r\nimport SubTitle from './utilities/SubTitle'\r\n\r\nimport smileyOne from '../images/star-struck_1f929.png';\r\nimport smileyTwo from '../images/smiling-face-with-sunglasses_1f60e.png';\r\nimport imgParrainage from '../images/parrainage.png';\r\nimport imgParrainage1 from '../images/parrainage1.png';\r\nimport imgParrainage2 from '../images/parrainage2.png';\r\nimport imgParrainage3 from '../images/parrainage3.png';\r\nimport { FaCheck } from 'react-icons/fa'\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nconst Prest_Dashboard_Sponsorship = () => {\r\n\r\n    const {\r\n        seller,\r\n        getSellerReferralCountFromDB\r\n    } = useAuth()\r\n\r\n    const [isLinkCopied, setIsLinkCopied] = useState(false)\r\n\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    const [referralCount, setReferralCount] = useState(0)\r\n\r\n    useEffect(() => {\r\n        getSellerReferralCountFromDB().then(count => {\r\n            setReferralCount(count)\r\n        })\r\n        return setIsMounted(true)\r\n    }, [])\r\n\r\n    const sponsorLinkInput = useRef()\r\n\r\n    function handleCopyLink() {\r\n        sponsorLinkInput.current.select()\r\n        document.execCommand(\"copy\")\r\n        setIsLinkCopied(true)\r\n    }\r\n\r\n    return (\r\n        <CSSTransition\r\n            in={isMounted}\r\n            timeout={300}\r\n            classNames=\"pageTransition\"\r\n            unmountOnExit\r\n        >\r\n            <div className=\"prest_Dashboard_Sponsorship\">\r\n                <div className=\"prest_dashboard_sponsorship_header\">\r\n                    <div className=\"sponsorship_header_content\">\r\n                        <img alt=\"\" className=\"sponsorship_smileyOne_right\" src={smileyOne} />\r\n                        <img alt=\"\" className=\"sponsorship_smileyTwo_right\" src={smileyTwo} />\r\n                        <img alt=\"\" className=\"sponsorship_smallSmileyTwo_right\" src={smileyTwo} />\r\n\r\n                        <img alt=\"\" className=\"sponsorship_smileyOne_left\" src={smileyOne} />\r\n                        <img alt=\"\" className=\"sponsorship_smileyTwo_left\" src={smileyTwo} />\r\n                        <img alt=\"\" className=\"sponsorship_smallSmileyOne_left\" src={smileyOne} />\r\n\r\n                        <Title value=\"Dites-leur qu'on s'amuse bien ici!\" type=\"h2\" font=\"roboto-medium\" align=\"center\" />\r\n                        <SubTitle color=\"rgb(189, 189, 189)\" type=\"big\" font=\"roboto-bold\" value=\"Dans notre programme de parrainage, tout le monde y gagne\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"prest_dashboard_sponsorship_content\">\r\n                    <img alt=\"\" src={imgParrainage} />\r\n                    <div className=\"prest_dashboard_sponsorship_content_features\">\r\n                        <div className=\"features_item\">\r\n                            <img alt=\"\" src={imgParrainage1} />\r\n                            <h2>Partagez votre lien</h2>\r\n                            <p><FaCheck />Invitez vos amis professionnels à rejoindre NIVID en partageant votre lien unique.</p>\r\n                        </div>\r\n                        <div className=\"features_item\">\r\n                            <img alt=\"\" src={imgParrainage2} />\r\n                            <h2>Offrez la première prestation</h2>\r\n                            <p><FaCheck />Dès leur inscription vos filleuls bénéficient de leur première prestation libre de commission NIVID, <br />en plus de vous être éternellement reconnaissants pour cette découverte</p>\r\n                        </div>\r\n                        <div className=\"features_item\">\r\n                            <img alt=\"\" src={imgParrainage3} />\r\n                            <h2>Soyez récompensé.e</h2>\r\n                            <p><FaCheck />Lorsque vos filleuls effectuent leur première réservation, vous recevez à votre tour votre prochaine prestation libre de commission. Plus vous avez de filleuls, plus votre cagnotte augmente, vous suivez ? 😏</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"prest_dashboard_sponsorship_content_sponsorCode\">\r\n                        <Title value=\"Partagez votre code parrain\" type=\"h2\" font=\"roboto-medium\" align=\"center\" />\r\n                        <div className=\"sponsorCode_inputContainer\">\r\n                            <input ref={sponsorLinkInput} value={`nivid.fr/referral=${seller.referralToken}`} type=\"text\" />\r\n                            <span onClick={() => handleCopyLink()}>{isLinkCopied ? \"Lien copié\" : \"Copier le lien\"}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"prest_dashboard_sponsorship_content_stats\">\r\n                        <h2>Vous avez invité <span>{referralCount} personnes</span> pour le moment</h2>\r\n                        <p>Ce décompte ne tient compte que des personnes ayant acceptés votre invitation & qui a ouvert un compte valide.</p>\r\n                    </div>\r\n                    <div className=\"prest_dashboard_sponsorship_content_video\">\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </CSSTransition>\r\n    )\r\n}\r\n\r\nexport default Prest_Dashboard_Sponsorship","/Users/bc/Desktop/Nivid/src/components/Prest_Dashboard_Info.js",["1018"],"import React, { useState, useEffect } from 'react'\r\nimport { useAuth } from '../context/userContext'\r\n\r\nimport Title from './utilities/Title'\r\nimport { ButtonSmall } from './utilities/Buttons'\r\n\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport ReactLoading from 'react-loading';\r\n\r\n\r\nconst Prest_Dashboard_Info = () => {\r\n\r\n    const {\r\n        updateSellerProfil,\r\n        seller\r\n    } = useAuth()\r\n\r\n    const [error, setError] = useState({ type: \"\", message: \"\" });\r\n    const [confirm, setConfirm] = useState(\"\");\r\n    const [buttonLoading, setButtonLoading] = useState(false)\r\n\r\n    const initialData = {\r\n        companyName: \"\",\r\n        adress: \"\",\r\n        siret: \"\",\r\n        website: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        affiliateCode: \"\",\r\n        status: \"\"\r\n    }\r\n\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    const [sellerData, setSellerData] = useState(initialData);\r\n    const [sellerDataStatus, setSellerDataStatus] = useState({\r\n        companyName: false,\r\n        website: false,\r\n        firstName: false,\r\n        lastName: false,\r\n        phone: false,\r\n    });\r\n\r\n    useEffect(() => {\r\n        setSellerData({\r\n            companyName: seller.companyName,\r\n            adress: seller.adress,\r\n            siret: seller.siret,\r\n            website: seller.website,\r\n            firstName: seller.firstName,\r\n            lastName: seller.lastName,\r\n            email: seller.email,\r\n            phone: seller.phone,\r\n            status: seller.status\r\n        })\r\n        setFieldsStatus(seller)\r\n        return setIsMounted(true)\r\n    }, [])\r\n\r\n    function setFieldsStatus(data) {\r\n        setSellerDataStatus({\r\n            companyName: data.companyName.length > 0 ? true : false,\r\n            firstName: data.firstName.length > 0 ? true : false,\r\n            lastName: data.lastName.length > 0 ? true : false,\r\n            phone: data.phone.length === 10 || data.phone.length === 0 ? true : false,\r\n        })\r\n    }\r\n\r\n    async function handleFormSubmit() {\r\n        if (buttonLoading) return\r\n        if (!sellerDataStatus.companyName) return setError({ type: \"companyName\", message: \"Vous devez renseigner le nom de votre entreprise.\" })\r\n        if (!sellerDataStatus.firstName) return setError({ type: \"firstName\", message: \"Merci de renseigner le prénom du gérant\" })\r\n        if (!sellerDataStatus.lastName) return setError({ type: \"lastName\", message: \"Merci de renseigner le nom du gérant\" })\r\n        if (!sellerDataStatus.phone) return setError({ type: \"phone\", message: \"Merci de renseigner un numéro de téléphone valide\" })\r\n        setButtonLoading(true)\r\n        const data = {\r\n            companyName: sellerData.companyName,\r\n            website: sellerData.website,\r\n            firstName: sellerData.firstName,\r\n            lastName: sellerData.lastName,\r\n            phone: sellerData.phone\r\n        }\r\n        await updateSellerProfil(data)\r\n        setButtonLoading(false)\r\n        setError({ type: \"\", message: \"\" })\r\n        setConfirm(\"Vos informations ont été modifiées\")\r\n    }\r\n\r\n\r\n    function handleFieldChange(data) {\r\n        setFieldsStatus(data)\r\n        setSellerData(data)\r\n    }\r\n\r\n\r\n    return (\r\n        <CSSTransition\r\n            in={isMounted}\r\n            timeout={300}\r\n            classNames=\"pageTransition\"\r\n            unmountOnExit\r\n        >\r\n            <div className=\"prest_Dashboard_Info\">\r\n                <div className=\"prest_dashboard_info_container\">\r\n                   {/*} <div className=\"prest_dashboard_info_header\">\r\n                        <p>Vous pouvez modifier sur cette page vos informations personnelles entrées lors de votre inscription mais attention ! <br />\r\n                    Celles-ci ne sont modifiables seulement pendant la période d'attente de validation de votre compte, après cette période in ne sera plus possible de modifier vos informations personnelles.\r\n                    </p>\r\n                    </div>*/}\r\n\r\n                    {error && <div className=\"errorMessage\">{error.message}</div>}\r\n\r\n                    <form>\r\n                        <div className=\"leftForm\">\r\n                            <Title value=\"Votre entreprise\" type=\"h2\" font=\"roboto-medium\" />\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Nom de l'entreprise</label>\r\n                                    <input\r\n                                        className={sellerDataStatus.companyName ? \"valid\" : \"notValid\"}\r\n                                        value={sellerData.companyName}\r\n                                        type=\"text\"\r\n                                        name=\"companyName\"\r\n                                        onChange={(e) => handleFieldChange({ ...sellerData, companyName: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Adresse</label>\r\n                                    <input disabled value={sellerData.adress} type=\"text\" name=\"adress\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Numéro de Siret</label>\r\n                                    <input disabled value={sellerData.siret} type=\"text\" name=\"siret\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <label>Site internet</label>\r\n                                    <input\r\n                                        value={sellerData.website}\r\n                                        type=\"text\"\r\n                                        name=\"text\"\r\n                                        onChange={(e) => handleFieldChange({ ...sellerData, website: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"rightForm\">\r\n                            <Title value=\"Coordonnées du gérant\" type=\"h2\" font=\"roboto-medium\" />\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label>Prénom</label>\r\n                                    <input\r\n                                        className={sellerDataStatus.firstName ? \"valid\" : \"notValid\"}\r\n                                        value={sellerData.firstName}\r\n                                        type=\"text\"\r\n                                        name=\"firstName\"\r\n                                        onChange={(e) => handleFieldChange({ ...sellerData, firstName: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"formField\">\r\n                                    <label>Nom</label>\r\n                                    <input\r\n                                        className={sellerDataStatus.lastName ? \"valid\" : \"notValid\"}\r\n                                        value={sellerData.lastName}\r\n                                        type=\"text\"\r\n                                        name=\"lastName\"\r\n                                        onChange={(e) => handleFieldChange({ ...sellerData, lastName: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label>Email</label>\r\n                                    <input disabled value={sellerData.email} type=\"email\" name=\"email\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"formLine\">\r\n                                <div className=\"formField\">\r\n                                    <label>Numéro de téléphone (fixe ou portable)</label>\r\n                                    <input\r\n                                        className={sellerDataStatus.phone ? \"valid\" : sellerData.phone.length === 0 ? \"\" : \"notValid\"}\r\n                                        value={sellerData.phone}\r\n                                        type=\"text\"\r\n                                        name=\"phone\"\r\n                                        onChange={(e) => handleFieldChange({ ...sellerData, phone: e.target.value })}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                    <div className=\"actionFormContainer\">\r\n                        {confirm.length > 0 && <p>{confirm}</p>}\r\n                        <ButtonSmall\r\n                            onClick={() => handleFormSubmit()}\r\n                            color=\"orange\"\r\n                            disabled={buttonLoading}\r\n                            value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"Sauvegarder les changements\"}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </CSSTransition>\r\n    )\r\n}\r\n\r\nexport default Prest_Dashboard_Info","/Users/bc/Desktop/Nivid/src/components/Prest_Dashboard_Services.js",["1019","1020","1021"],"import React, { useState, useEffect } from 'react'\r\nimport { useAuth } from '../context/userContext'\r\nimport { useFirebase } from \"../assets/base-context\";\r\n\r\nimport Title from './utilities/Title'\r\nimport SubTitle from './utilities/SubTitle'\r\nimport { ButtonSmall, ButtonLarge } from './utilities/Buttons'\r\nimport Image from '../components/utilities/Image'\r\n\r\nimport DeleteIcon from '@mui/icons-material/DeleteOutline';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\nimport NumericInput from 'react-numeric-input';\r\nimport { useDetectClickOutside } from 'react-detect-click-outside';\r\n\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport { FaTrashAlt } from 'react-icons/fa'\r\nimport { FaTimes } from 'react-icons/fa'\r\n\r\nimport Loader from './Loader'\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\n\r\nconst BoxConfirm = ({ type, position, callback, callbackClose }) => {\r\n    const refConfirmBox = useDetectClickOutside({ onTriggered: callbackClose });\r\n    return <div ref={refConfirmBox} className={`confirmBox ${position}`}>\r\n        <span>\r\n            {type === \"delete\" && \"Confirmation de suprresion d'une variation\"}\r\n            {type === \"save\" && \"Confirmation de sauvegarde\"}\r\n        </span>\r\n        <h2>\r\n            {type === \"delete\" && \"Êtes-vous sûr de vouloir supprimer cette variation ?\"}\r\n            {type === \"save\" && \"Vous n'avez rien oublié ?\"}\r\n        </h2>\r\n        <p>\r\n            {type === \"delete\" && \"Cette action est irréversible\"}\r\n            {type === \"save\" && \"Si jamais... Vous pouvez toujours modifier ce service directement depuis votre dashboard\"}\r\n        </p>\r\n\r\n        <ButtonSmall\r\n            onClick={callback}\r\n            color={type === \"delete\" ? \"red\" : \"green\"}\r\n            value=\"Je confirme\"\r\n            marginTop=\"20px\"\r\n        />\r\n    </div>\r\n}\r\n\r\nconst initialNewService = {\r\n    // category: seller.category,\r\n    name: \"\",\r\n    images: [],\r\n    description: \"\",\r\n    price: 0,\r\n    variations: [],\r\n    foodType: \"Aucun\",\r\n    id: null\r\n}\r\n\r\nconst Prest_Dashboard_Services = ({ setStep }) => {\r\n\r\n    const firebaseContext = useFirebase()\r\n    const storage = firebaseContext.storage()\r\n\r\n    const [error, setError] = useState({ type: \"\", message: \"\" });\r\n\r\n    const [services, setServices] = useState([])\r\n    const [pictureTokensToDelete, setPictureTokensToDelete] = useState([])\r\n    const [isFormOpen, setIsFormOpen] = useState(false)\r\n\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    const [newService, setNewService] = useState(initialNewService)\r\n\r\n    const [addingService, setAddingService] = useState(false)\r\n\r\n    const [isPopupConfirmDeleteOpened, setIsPopupConfirmDeleteOpened] = useState(false)\r\n    const [isPopupConfirmSaveOpened, setIsPopupConfirmSaveOpened] = useState(false)\r\n    const [currentDeletingVariation, setCurrentDeletingVariation] = useState(-1)\r\n\r\n    const [isServiceAddedCorrectly, setIsServiceAddedCorrectly] = useState(false)\r\n\r\n    const [isVariations, setIsVariations] = useState(false)\r\n\r\n    const { seller,\r\n        addOneSellerService,\r\n        getServicesOfCurrentSellerFromDB,\r\n        deleteOldSellerPicture,\r\n        isSellerAllowedToModifyAndDeleteService,\r\n        deleteServiceOfSeller,\r\n        addFoodTypeToSeller,\r\n        deleteFoodTypeToSeller\r\n    } = useAuth()\r\n\r\n    useEffect(() => {\r\n        getServicesOfCurrentSellerFromDB().then(services => {\r\n            setServices(services)\r\n            setIsMounted(true)\r\n        })\r\n    }, [])\r\n\r\n\r\n    function euroFormat(num) { return num + '€'; }\r\n\r\n    function handleChange(e) {\r\n        const type = e.target.files[0].type\r\n        const size = e.target.files[0].size\r\n        if (type !== \"image/png\" && type !== \"image/jpeg\" && type !== \"image/jpg\") {\r\n            setError({ type: \"imageType\", message: \"Votre fichier n'est ni une image jpeg, jpg ou PNG.\" })\r\n        }\r\n        else if (size > 2000000) {\r\n            setError({ type: \"imageSize\", message: \"Votre image fait plus de 2Mo.\" })\r\n        }\r\n        else {\r\n            const newURL = URL.createObjectURL(e.target.files[0])\r\n            e.target.files[0].localURL = newURL\r\n            setNewService({ ...newService, images: [...newService.images, e.target.files[0]] })\r\n            setError({ type: \"\", message: \"\" })\r\n        }\r\n    }\r\n\r\n    function handleDeletePicture(item) {\r\n        const newPictures = [...newService.images]\r\n        for (var i = 0; i < newPictures.length; i++) {\r\n            if (newPictures[i].localURL === item || newPictures[i].url === item) {\r\n                if (newPictures[i].url === item) {\r\n                    setPictureTokensToDelete([...pictureTokensToDelete, newPictures[i].token])\r\n                }\r\n                newPictures.splice(i, 1);\r\n            }\r\n        }\r\n        setNewService({ ...newService, images: newPictures })\r\n    }\r\n\r\n    function handleServiceClicked(item) {\r\n        setIsFormOpen(true)\r\n\r\n        setIsVariations(item.variations > 0 ? true : false)\r\n        if (newService.id === item.id) {\r\n            return\r\n        }\r\n        clearInputs()\r\n        setNewService(item)\r\n    }\r\n\r\n    function clearInputs() {\r\n        setNewService(initialNewService)\r\n        setError({ type: \"\", message: \"\" })\r\n    }\r\n\r\n    async function handleAddService() {\r\n        setIsPopupConfirmSaveOpened(false)\r\n        setAddingService(true)\r\n        if (newService.name.length < 5) {\r\n            setError({ type: \"name\", message: \"Le nom de votre offre doit faire au minimum 5 caractères.\" })\r\n        }\r\n        else if (newService.description.length < 20 || newService.description.length > 300) {\r\n            setError({ type: \"description\", message: \"Votre description doit comporter entre 20 et 300 caractères.\" })\r\n        }\r\n        else if (newService.images.length === 0) {\r\n            setError({ type: \"noPictures\", message: \"Vous devez ajouter au moins une photo de votre service.\" })\r\n        }\r\n        else if (newService.images.length > 3) {\r\n            setError({ type: \"tooMuchPictures\", message: \"Impossible d'ajouter plus de 3 photos au service.\" })\r\n        }\r\n        else {\r\n\r\n            //Si l'id est égal à Null, c'est que le service est nouveau\r\n            //Si l'id n'est pas null, on ne créera pas un nouveau service on modifiera l'actuel\r\n            if (newService.id !== null) {\r\n                const isAllowed = await isSellerAllowedToModifyAndDeleteService(newService.id)\r\n                if (isAllowed) {\r\n                    const newServicesList = [...services]\r\n                    var index = newServicesList.findIndex(service => service.id === newService.id)\r\n                    const serviceToUpload = { ...newService }\r\n                    if (!isVariations) serviceToUpload.variations = []\r\n                    newServicesList[index] = serviceToUpload\r\n\r\n                    const service = await handleImagesFiles(serviceToUpload)\r\n                    setServices(newServicesList)\r\n                    await addOneSellerService(service)\r\n                    clearInputs()\r\n                    setIsServiceAddedCorrectly(true)\r\n                    setTimeout(() => {\r\n                        setIsServiceAddedCorrectly(false)\r\n                    }, 2000)\r\n                }\r\n            }\r\n            else {\r\n\r\n                if (services.length >= 5) {\r\n                    setError({ type: \"maxServices\", message: \"Vous avez déjà atteint le maximum d'offres sur votre boutique.\" })\r\n                }\r\n                else {\r\n                    const reconstructedService = newService\r\n                    reconstructedService.id = services.length\r\n                    if (!isVariations) reconstructedService.variations = []\r\n\r\n                    const service = await handleImagesFiles(reconstructedService)\r\n                    const refDocID = await addOneSellerService(service)\r\n                    if (seller.category === \"nourriture\")\r\n                        await addFoodTypeToSeller(service.foodType !== undefined ? service.foodType : \"Aucun\")\r\n                    const newServiceWithId = { ...service, id: refDocID }\r\n                    setServices([...services, newServiceWithId])\r\n                    clearInputs()\r\n                    setIsServiceAddedCorrectly(true)\r\n                    setTimeout(() => {\r\n                        setIsServiceAddedCorrectly(false)\r\n                    }, 2000)\r\n                }\r\n            }\r\n            setIsFormOpen(false)\r\n            window.scrollTo(0, 0);\r\n        }\r\n        setAddingService(false)\r\n    }\r\n\r\n    async function handleImagesFiles(service) {\r\n        let newServiceImageArray = service.images.filter(image => !image.localURL)\r\n        let newServiceArray = {\r\n            description: service.description,\r\n            id: service.id,\r\n            name: service.name,\r\n            images: newServiceImageArray,\r\n            price: service.price,\r\n            category: seller.category,\r\n            variations: service.variations,\r\n            foodType: service.foodType !== undefined ? service.foodType : \"Aucun\"\r\n        }\r\n\r\n        for (var i = 0; i < service.images.length; i++) {\r\n            if (service.images[i].localURL) {\r\n                const token = Math.random().toString(36).substr(2, 19)\r\n                const url = await handleUploadFile(service.images[i], token)\r\n                let newImg = { url: url, token: token }\r\n                newServiceImageArray.push(newImg)\r\n                newServiceArray.images = newServiceImageArray\r\n                pictureTokensToDelete.length > 0 && deleteOldSellerPicture(pictureTokensToDelete, \"services\")\r\n            }\r\n        }\r\n        return newServiceArray\r\n    }\r\n\r\n    function handleUploadFile(image, token) {\r\n        return new Promise((resolve, reject) => {\r\n            const upload = storage.ref(`services/${token}`).put(image)\r\n            upload.on(\r\n                \"state_changed\", snapshot => { },\r\n                error => {\r\n                    console.log(error)\r\n                }, () => {\r\n                    storage\r\n                        .ref(\"services\")\r\n                        .child(token)\r\n                        .getDownloadURL()\r\n                        .then(url => {\r\n                            resolve(url);\r\n                        })\r\n                        .catch(error => {\r\n                            console.error(error)\r\n                            reject(error);\r\n                        })\r\n                }\r\n            )\r\n        })\r\n    }\r\n\r\n    function handleClickedAddService() {\r\n        setIsVariations(false)\r\n        clearInputs()\r\n        setIsFormOpen(true)\r\n    }\r\n\r\n    async function handleDeleteService(serviceID) {\r\n        const isAllowed = await isSellerAllowedToModifyAndDeleteService(serviceID)\r\n        if (isAllowed) {\r\n            if (seller.category === \"nourriture\")\r\n                await deleteFoodTypeToSeller(serviceID)\r\n            await deleteServiceOfSeller(serviceID)\r\n            const services = await getServicesOfCurrentSellerFromDB()\r\n            setServices(services)\r\n        }\r\n    }\r\n\r\n    function handleVariationChanged(type, val, key) {\r\n        let newVariations = [...newService.variations]\r\n        let newVariation = { ...newService.variations[key] }\r\n        if (type === \"name\") newVariation.name = val\r\n        else if (type === \"price\") newVariation.price = val\r\n        newVariations[key] = newVariation\r\n        setNewService({ ...newService, variations: newVariations })\r\n    }\r\n\r\n    function handleDeleteVariation(key) {\r\n        let newVariations = [...newService.variations]\r\n        newVariations.splice(key, key + 1)\r\n        setNewService({ ...newService, variations: newVariations })\r\n        setCurrentDeletingVariation(-1)\r\n        setIsPopupConfirmDeleteOpened(false)\r\n    }\r\n\r\n    function handleFoodTypeChanged(e) {\r\n        let newNewService = { ...newService }\r\n        newNewService.foodType = e.target.value\r\n        setNewService(newNewService)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <CSSTransition\r\n                in={!isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <Loader />\r\n            </CSSTransition>\r\n\r\n            <CSSTransition\r\n                in={isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"prest_Dashboard_Services\">\r\n\r\n                    <section className=\"prest_dashboard_header\">\r\n                        <div className=\"Prest-Step2-Header\">\r\n                           <SubTitle type=\"big\" font=\"roboto-bold\" value=\"Modifications de vos services\" />\r\n                            {/*<p>Sur cette page, vous pourrez modifier les services que vous aurez créés au préalable lors de votre\r\n                                inscription.<br />\r\n                                L'indication de vos services maximales autorisés est en lien avec notre programme de parrainage.<br />\r\n    Pour en savoir plus cliquez-ici</p>*/}\r\n                            <div className=\"servicesListeContainer\">\r\n                                {\r\n                                    services.map((item, key) => {\r\n                                        return (\r\n                                            <div>\r\n                                                <div\r\n                                                    className=\"detailsServiceItem active\"\r\n                                                    onClick={() => handleServiceClicked(item)}\r\n                                                    key={key}\r\n                                                >\r\n                                                    <div className=\"serviceItem\">\r\n                                                        <div className=\"imgDetailsServiceItem\">\r\n                                                            <Image url={item.images[0].localURL || item.images[0].url} />\r\n                                                        </div>\r\n                                                        <div className=\"contentDetailsServiceItem\">\r\n                                                            <p className=\"title\">{item.name}</p>\r\n                                                            <p>{item.variations > 0 ? item.variations[0].price : item.price},00€</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"detailsServiceItem_buttons\">\r\n                                                    <a href=\"#details\">\r\n                                                    <ButtonSmall\r\n                                                        onClick={() => handleServiceClicked(item)}\r\n                                                        color=\"grey\"\r\n                                                        value=\"Modifier le service\"\r\n                                                    /></a>\r\n                                                    <ButtonSmall\r\n                                                        onClick={() => handleDeleteService(item.id)}\r\n                                                        color=\"red\"\r\n                                                        value=\"Supprimer le service\"\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                {services < 5 && <label onClick={() => handleClickedAddService()} className=\"label-file\">+</label>}\r\n                            </div>\r\n                            <span>{services.length} / 5</span>\r\n                        </div>\r\n                    </section>\r\n                    <div id=\"details\" className=\"divider\"></div>\r\n\r\n                    <section className={`addServiceWrapper ${isFormOpen && \"active\"}`}>\r\n                        <div className=\"Prest-Step2-Section0\">\r\n                            <Title value=\"Type de service:\" type=\"h3\" font=\"roboto-medium\" align=\"left\" />\r\n                            <div className=\"Prest-Step2-Section0_serviceType\">\r\n                                <Title onClick={() => setIsVariations(false)} customClass={!isVariations && \"active\"} value=\"Service simple\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                <Title onClick={() => { newService.variations.length === 0 && setNewService({ ...newService, variations: [{ name: \"\", price: 0 }] }); setIsVariations(true) }} customClass={isVariations && \"active\"} value=\"Service variable\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                            </div>\r\n                        </div>\r\n                        <span onClick={() => setIsFormOpen(false)} className=\"closeIcon\">\r\n                            <FaTimes />\r\n                        </span>\r\n                        <div className={`Prest-Step2-Section1 ${isVariations ? \"noFlex\" : \"\"}`}>\r\n                            <div className=\"left\">\r\n                                <Title value=\"Intitulé du service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                <p>Le nom de votre offre, par exemple : x5 fleurs de décorations de table</p>\r\n                                <div className=\"formField withoutMargin\">\r\n                                    <input\r\n                                        className={error.type === \"name\" && \"invalid\"}\r\n                                        id=\"serviceName\"\r\n                                        type=\"text\"\r\n                                        value={newService.name}\r\n                                        onChange={(e) => (setError({ type: \"\", message: \"\" }), setNewService({ ...newService, name: e.target.value }))}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            {!isVariations &&\r\n                                <div className=\"right\">\r\n                                    <Title value=\"Prix de votre service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                    <div className=\"formField withoutMargin\">\r\n                                        <NumericInput\r\n                                            format={euroFormat}\r\n                                            className=\"form-control\"\r\n                                            value={newService.price}\r\n                                            min={0}\r\n                                            max={1000}\r\n                                            step={20}\r\n                                            precision={0}\r\n                                            size={9}\r\n                                            mobile\r\n                                            onChange={(value) => (setError({ type: \"\", message: \"\" }), setNewService({ ...newService, price: value }))}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        {\r\n                            seller.category === \"nourriture\" &&\r\n                            <div className=\"Prest-Step2-Section1bis\">\r\n                                <Title value=\"Régime alimentaire\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                <RadioGroup\r\n                                    row\r\n                                    aria-label=\"gender\"\r\n                                    name=\"row-radio-buttons-group\"\r\n                                    onChange={handleFoodTypeChanged}\r\n                                    value={newService.foodType !== undefined ? newService.foodType : \"Aucun\"}\r\n                                >\r\n                                    <FormControlLabel value=\"Vegan\" control={<Radio />} label=\"Vegan\" />\r\n                                    <FormControlLabel value=\"Casher\" control={<Radio />} label=\"Casher\" />\r\n                                    <FormControlLabel value=\"Halal\" control={<Radio />} label=\"Halal\" />\r\n                                    <FormControlLabel value=\"Vegetarien\" control={<Radio />} label=\"Végétarien\" />\r\n                                    <FormControlLabel value=\"Aucun\" control={<Radio />} label=\"Aucun\" />\r\n                                </RadioGroup>\r\n                            </div>\r\n\r\n                        }\r\n\r\n                        <div className=\"Prest-Step2-Section2\">\r\n                            <Title value=\"Description de votre service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                            <p>Décrivez au mieux le service que vous proposez au travers de cette offre.</p>\r\n                            <textarea\r\n                                value={newService.description}\r\n                                onChange={(e) => setNewService({ ...newService, description: e.target.value })}\r\n                                className={error.type === \"description\" && \"invalid\"}\r\n                            >\r\n                            </textarea>\r\n                        </div>\r\n\r\n                        {isVariations > 0 &&\r\n                            <div className=\"Prest-Step2-Section2bis\">\r\n                                <Title value=\"Création des déclinaisons\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                <div className=\"Prest-Step2-Section2bis_variations\">\r\n                                    {newService.variations.map((variation, key) => {\r\n                                        return <>\r\n                                            <div className=\"variation_header\">\r\n                                                <Title value={`Variation ${key}`} type=\"h3\" font=\"roboto-medium\" align=\"left\" />\r\n                                                <IconButton\r\n                                                    onClick={() => { setCurrentDeletingVariation(key); setIsPopupConfirmDeleteOpened(true) }}\r\n                                                    color=\"error\"\r\n                                                    aria-label=\"delete\"\r\n                                                >\r\n                                                    <DeleteIcon />\r\n                                                </IconButton>\r\n                                                {(isPopupConfirmDeleteOpened && currentDeletingVariation === key) &&\r\n                                                    <BoxConfirm\r\n                                                        type=\"delete\"\r\n                                                        position=\"bottom\"\r\n                                                        callback={() => handleDeleteVariation(key)}\r\n                                                        callbackClose={() => { setCurrentDeletingVariation(-1); setIsPopupConfirmDeleteOpened(false) }}\r\n                                                    />\r\n                                                }\r\n                                            </div>\r\n                                            <div className=\"Prest-Step2-Section2bis_variation_item\"><div className=\"left\">\r\n                                                <Title value=\"Intitulé de la variation\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                                <p>Le nom de votre variation, par exemple : 6 parts/6 personnes</p>\r\n                                                <div className=\"formField withoutMargin\">\r\n                                                    <input\r\n                                                        className={error.type === \"name\" && \"invalid\"}\r\n                                                        id=\"serviceName\"\r\n                                                        type=\"text\"\r\n                                                        value={newService.variations[key].name}\r\n                                                        onChange={(e) => handleVariationChanged(\"name\", e.target.value, key)}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                                <div className=\"right\">\r\n                                                    <Title value=\"Prix de la variation\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                                                    <div className=\"formField withoutMargin\">\r\n                                                        <NumericInput\r\n                                                            format={euroFormat}\r\n                                                            className=\"form-control\"\r\n                                                            value={newService.variations[key].price}\r\n                                                            min={1}\r\n                                                            max={1000}\r\n                                                            step={1}\r\n                                                            precision={0}\r\n                                                            size={9}\r\n                                                            mobile\r\n                                                            onChange={(value) => handleVariationChanged(\"price\", value, key)}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </>\r\n                                    })}\r\n                                </div>\r\n                                <ButtonSmall\r\n                                    onClick={() => setNewService({ ...newService, variations: [...newService.variations, { name: \"\", price: 0 }] })}\r\n                                    color=\"blue\"\r\n                                    value=\"Ajouter une variation\"\r\n                                    marginTop=\"20px\"\r\n                                    classname=\"flex\"\r\n                                    iconMUIStart={<AddIcon />}\r\n                                />\r\n                            </div>\r\n                        }\r\n\r\n                        <div className=\"Prest-Step2-Section3\">\r\n                            <Title value=\"Photos du services\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\r\n                            {(error.type === \"imageSize\" || error.type === \"imageType\" || error.type === \"noPictures\") && <p className=\"errorMessage\">{error.message}</p>}\r\n                            <p>Plusieurs photos peuvent être utile pour le client, cela lui permettra de voir votre service plus en détails.</p>\r\n                            <div className=\"servicesListeContainer\">\r\n                                {newService.images.map((item, key) => { return <div key={key} onClick={() => handleDeletePicture(item.localURL || item.url)}><Image url={item.localURL || item.url} /><FaTrashAlt color={\"white\"} size={32} /></div> })}\r\n                                {newService.images.length < 3 && <label htmlFor=\"file\" className=\"label-file\">+</label>}\r\n                            </div>\r\n\r\n                            <input accept=\"image/jpeg, image/jpg, image/png\" id=\"file\" className=\"input-file\" type=\"file\" onChange={(e) => handleChange(e)} />\r\n                            <div className=\"Prest-Step2-Section3-bottom\">\r\n                                <p>2Mo max par photo</p>\r\n                                <p>Type de fichiers acceptés : jpeg, jpg, PNG</p>\r\n                                <ButtonSmall\r\n                                    onClick={() => document.getElementById('file').click()}\r\n                                    color=\"grey\"\r\n                                    value=\"Ajouter une image\"\r\n                                    marginTop=\"20px\"\r\n                                    disabled={newService.images.length >= 4}\r\n                                />\r\n                            </div>\r\n                            <div className=\"buttonSaveOffer\">\r\n                                {error.type === \"maxServices\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                                {error.type === \"name\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                                {error.type === \"description\" && <p className=\"errorMessage\">{error.message}</p>}\r\n                                <ButtonSmall\r\n                                    onClick={() => setIsPopupConfirmSaveOpened(true)}\r\n                                    color=\"green\"\r\n                                    value=\"Sauvergarder cette offre\"\r\n                                    marginTop=\"20px\"\r\n                                    disabled={addingService}\r\n                                />\r\n                                {isPopupConfirmSaveOpened &&\r\n                                    <BoxConfirm\r\n                                        type=\"save\"\r\n                                        position=\"top\"\r\n                                        callback={() => handleAddService()}\r\n                                        callbackClose={() => setIsPopupConfirmSaveOpened(false)}\r\n                                    />\r\n                                }\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"divider\"></div>\r\n\r\n                    </section>\r\n                    <div className=\"Prest-Step2-Section4\">\r\n                        <ButtonLarge\r\n                            onClick={() => setStep(1)}\r\n                            color=\"orange\"\r\n                            width=\"400px\"\r\n                            value=\"Revenir au tableau de bord\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </CSSTransition>\r\n            <CSSTransition\r\n                in={isServiceAddedCorrectly}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"serviceAddedMessage inDashboard\">\r\n                    <p>Annonce sauvegardée avec succès</p>\r\n                </div>\r\n            </CSSTransition>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Prest_Dashboard_Services","/Users/bc/Desktop/Nivid/src/components/Prest_Dashboard_Commandes.js",["1022"],"import React, { useState, useEffect } from 'react'\r\nimport { useAuth } from '../context/userContext'\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nimport Loader from './Loader'\r\nimport ModalYesNo from './utilities/ModalYesNo'\r\n\r\nimport Title from './utilities/Title'\r\nimport SubTitle from './utilities/SubTitle'\r\nimport { ButtonSmall } from './utilities/Buttons'\r\nimport Image from '../components/utilities/Image'\r\nimport PrintIcon from '@mui/icons-material/Print';\r\nimport { FaChevronDown } from 'react-icons/fa';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nimport Fade from '@mui/material/Fade';\r\n\r\nconst Prest_Dashboard_Commandes = () => {\r\n\r\n    const {\r\n        seller,\r\n        getSalesOfSellerIdFromDB,\r\n        formateToDateWithWords,\r\n        formateToDate,\r\n        formatLabelTimePicker,\r\n        updateSaleStatusInDB,\r\n        updateSaleNote,\r\n        sendInBlue_sendBillRequestToAdmin\r\n    } = useAuth()\r\n\r\n    const [openedEvent, setOpenedEvent] = useState(\"\")\r\n    const [sales, setSales] = useState([]);\r\n    const [noteObj, setNoteObj] = useState({ saleID: 0, message: \"\" });\r\n    const [isModalOpened, setIsModalOpened] = useState(false);\r\n    const [currentKey, setCurrentKey] = useState();\r\n\r\n    const [filterStatus, setFilterStatus] = useState(\"\");\r\n    const [filterYear, setFilterYear] = useState(0);\r\n\r\n    const [isBillEmailSent, setIsBillEmailSent] = useState(false);\r\n\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        getSales().then(() => {\r\n            setIsMounted(true)\r\n        })\r\n    }, [])\r\n\r\n    async function getSales() {\r\n        const salesList = await getSalesOfSellerIdFromDB(seller.uid)\r\n        return setSales(salesList)\r\n    }\r\n\r\n    async function handleActionSale(key, status) {\r\n        if (status === \"rejected\") {\r\n            setIsModalOpened(true)\r\n            setCurrentKey(key)\r\n            return\r\n        }\r\n        else {\r\n            let sale = sales.filter(sale => sale.id === key)\r\n            sale[0].status = status\r\n            let newSales = sales.filter(sale => sale.id !== key)\r\n            newSales = [...newSales, sale[0]]\r\n            await updateSaleStatusInDB(sale[0].id, sale[0].sellerID, status)\r\n            return setSales(newSales)\r\n        }\r\n\r\n    }\r\n\r\n    async function handleModalYesNoReturn(val) {\r\n        setIsModalOpened(false)\r\n        if (val === \"no\") return\r\n\r\n        let sale = sales.filter(sale => sale.id === currentKey)\r\n        sale[0].status = \"rejected\"\r\n        let newSales = sales.filter(sale => sale.id !== currentKey)\r\n        newSales = [...newSales, sale[0]]\r\n        await updateSaleStatusInDB(sale[0].id, sale[0].sellerID, \"rejected\")\r\n        return setSales(newSales)\r\n    }\r\n\r\n    function handleChangeNote(saleID, value) {\r\n        setNoteObj({ saleID, message: value })\r\n    }\r\n\r\n    async function handleSaveNote(eventID) {\r\n        let newSale\r\n        let newSaleList = [...sales]\r\n        sales.forEach((sale, key) => {\r\n            if (sale.eventID === eventID) {\r\n                newSale = sale\r\n                newSale.note = noteObj.message\r\n                newSaleList[key] = newSale\r\n            }\r\n        })\r\n        await updateSaleNote(noteObj.saleID, noteObj.message)\r\n        setSales(newSaleList)\r\n        return\r\n    }\r\n\r\n    function handleOpeningSale(key) {\r\n        if (openedEvent === key) {\r\n            setOpenedEvent(\"\")\r\n            setNoteObj({ saleID: 0, message: \"\" })\r\n        } else {\r\n            setOpenedEvent(key)\r\n            let newSale = {}\r\n            sales.forEach(sale => {\r\n                if (sale.id === key) {\r\n                    newSale = sale\r\n                }\r\n            })\r\n            setNoteObj({ saleID: key, message: newSale.note })\r\n        }\r\n    }\r\n\r\n    function getStartYearMinus(val) {\r\n        let yearWanted = new Date(new Date().setFullYear(new Date().getFullYear() - val))\r\n        yearWanted = yearWanted.getFullYear()\r\n        const dateWanted = new Date(yearWanted, 0, 1)\r\n        return dateWanted.getTime()\r\n    }\r\n\r\n    function getEndYearMinus(val) {\r\n        let yearWanted = new Date(new Date().setFullYear(new Date().getFullYear() - val))\r\n        yearWanted = yearWanted.getFullYear()\r\n        const dateWanted = new Date(yearWanted, 12, 31)\r\n        return dateWanted.getTime()\r\n    }\r\n\r\n    function handlePrintClicked(transcationID, sellerID) {\r\n        sendInBlue_sendBillRequestToAdmin(transcationID, sellerID).then(res => {\r\n            if (res === true) {\r\n                setIsBillEmailSent(true)\r\n                setTimeout(() => {\r\n                    setIsBillEmailSent(false)\r\n                }, 2000)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <CSSTransition\r\n                in={!isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <Loader />\r\n            </CSSTransition>\r\n\r\n            <CSSTransition\r\n                in={isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"prest_Dashboard_Commandes\">\r\n\r\n                    <section className=\"prest_dashboard_header\">\r\n                        <div>\r\n                            <SubTitle type=\"big\" font=\"roboto-bold\" value=\"Commandes reçues\" />\r\n                            <p>Vos commandes récentes s'afficheront ici, ne s'afficherint que celle de l'année en cours.<br />\r\n                                Si vous avez besoin de voit vos commandes archivées, vous pourrez y accéder en filtrant\r\n                                les commandes à afficher dans la liste ci-dessous.</p>\r\n                        </div>\r\n                    </section>\r\n\r\n                    <section className=\"prest_dashboard_commandes_list\">\r\n                        <div className=\"prest_dashboard_commandes_list__header\">\r\n                            <div>\r\n                                <label>Filtrer par:</label>\r\n                                <div className=\"filterBloc\">\r\n                                    <div className=\"filterField year\">Année <FaChevronDown /></div>\r\n                                    <div className=\"filterOptions year\">\r\n                                        <div onClick={() => setFilterYear(0)}>{new Date().getFullYear()}</div>\r\n                                        <div onClick={() => setFilterYear(1)}>{new Date().getFullYear() - 1}</div>\r\n                                        <div onClick={() => setFilterYear(2)}>{new Date().getFullYear() - 2}</div>\r\n                                        <div onClick={() => setFilterYear(3)}>{new Date().getFullYear() - 3}</div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"filterBloc\">\r\n                                    <div className=\"filterField year\">Statut <FaChevronDown /></div>\r\n                                    <div className=\"filterOptions year\">\r\n                                        <div onClick={() => setFilterStatus(\"\")}>Tous</div>\r\n                                        <div onClick={() => setFilterStatus(\"validated\")}>Validé</div>\r\n                                        <div onClick={() => setFilterStatus(\"rejected\")}>Rejeté</div>\r\n                                        <div onClick={() => setFilterStatus(\"pending\")}>En attente</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {sales\r\n                            .filter(sale => sale.date > getStartYearMinus(filterYear) && sale.date < getEndYearMinus(filterYear))\r\n                            .filter(sale => (filterStatus.length > 0 ? sale.status === filterStatus : sale.status.length > 0))\r\n                            .sort((a, b) => b.date - a.date)\r\n                            .map((sale, key) =>\r\n                                <div key={key} className=\"prest_dashboard_commandes_list__item\">\r\n                                    <div className=\"item__header\">\r\n\r\n                                        <p className=\"commandTitle\">Commande #{sale.id} - <span>{formateToDate(sale.date)}</span>\r\n                                            {(sale.status === \"validated\") &&\r\n                                                // Traitement à changer, je lemet comme ça pour qu'il soit visible \r\n                                                // de Léo, mais ensuite on devra ne l'afficher que sur c'est à \"passed\"\r\n                                                <>\r\n                                                    <IconButton onClick={() => handlePrintClicked(sale.transactionID, sale.sellerID)} aria-label=\"bill\">\r\n                                                        <PrintIcon />\r\n                                                    </IconButton>\r\n                                                    <Fade in={isBillEmailSent}>\r\n                                                        <div className=\"confirmBox_print\">\r\n                                                            <p>Votre demande de facture a bien été prise en compte, vous recevrez un mail d'ici peu.</p>\r\n                                                        </div>\r\n                                                    </Fade>\r\n                                                </>\r\n                                            }\r\n                                        </p>\r\n                                        <p className=\"blueLink\" onClick={() => handleOpeningSale(sale.id)}>\r\n                                            {openedEvent === sale.id ? \"Fermer les détails de la commande\" : \"Voir les détails de la commande\"}\r\n                                        </p>\r\n                                        <p className=\"commandTitle\">Montant de la commande : <span>{sale.total}€</span></p>\r\n                                    </div>\r\n                                    <div className=\"item__content\">\r\n\r\n                                        <div className={`item__content__left imagesSuperpos ${openedEvent === sale.id && \"closed\"}`}>\r\n                                            {sale.choosedServices.slice(0, 3).map(service =>\r\n                                                <div><Image url={service.image} /></div>\r\n                                            )}\r\n                                        </div>\r\n                                        <div className={`item__content__right ${sale.status}`}>\r\n                                            <div>\r\n                                                <label>Date de l'évènement :</label>\r\n                                                <p>{formateToDateWithWords(sale.eventDate)}</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <label>Nombre de personne :</label>\r\n                                                <p>{sale.people} personnes</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <label>Créneau :</label>\r\n                                                <p>Commence à <span>{formatLabelTimePicker(sale.startAt)}</span> & se termine à <span>{formatLabelTimePicker(sale.endAt)}</span>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <label>Nombre de m² :</label>\r\n                                                <p>{sale.placeSize}m²</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div\r\n                                        className={openedEvent === sale.id ? \"item__details active\" : \"item__details\"}\r\n                                    >\r\n                                        <div className=\"item__details__services__list\">\r\n                                            {sale.choosedServices.map((service, key) =>\r\n                                                <div key={key} className=\"item__details__services__item\">\r\n                                                    <div className=\"services__item__left\">\r\n                                                        <div>\r\n                                                            <img src={service.image} alt=\"\" />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"services__item__right\">\r\n                                                        <p>{service.name}</p>\r\n                                                        <div>\r\n                                                            <span className=\"price\">{service.price}€</span>\r\n                                                            <span className=\"quantity\">x{service.quantity}</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                        <div className=\"item__details__note\">\r\n                                            <Title type=\"h2\" font=\"roboto-bold\" value=\"Ajouter une note pense-bête\" />\r\n                                            <p>Si vous avez besoin de noter quelque chose à ne pas oublier concernant cette commande, c'est ici.</p>\r\n                                            <textarea value={noteObj.message} onChange={(e) => handleChangeNote(sale.id, e.target.value)}></textarea>\r\n                                            {noteObj.message !== sale.note && <ButtonSmall onClick={() => handleSaveNote(sale.eventID)} color=\"blue\" value=\"Sauvegarder\" />}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"item__bottom\">\r\n                                        <div className=\"item__bottom__left\">\r\n                                            <p>Reste à payer à charge du client : {sale.paid !== sale.total ? (sale.total * 0.7).toFixed(2) : 0}€</p>\r\n                                            <span>Ce montant sera réglé 2 jours avant le début de l'évènement</span>\r\n                                        </div>\r\n\r\n                                        <CSSTransition\r\n                                            in={sale.status !== \"pending\"}\r\n                                            timeout={0}\r\n                                            classNames=\"opacityTransition\"\r\n                                            unmountOnExit\r\n                                        >\r\n                                            <div className=\"item__bottom__center\">\r\n                                                <p className={sale.status}>\r\n                                                    Statut : <span>{sale.status === \"validated\" ? \"Validé\" : \"Refusé\"}</span>\r\n                                                </p>\r\n                                            </div>\r\n                                        </CSSTransition>\r\n                                        {sale.status === \"pending\" &&\r\n                                            <div className=\"item__bottom__right\">\r\n                                                <ButtonSmall onClick={() => handleActionSale(sale.id, \"rejected\")} color=\"red\" value=\"Refuser la commande\" />\r\n                                                <ButtonSmall onClick={() => handleActionSale(sale.id, \"validated\")} color=\"green\" value=\"Accepter la commande\" />\r\n                                            </div>\r\n                                        }\r\n\r\n                                        <CSSTransition\r\n                                            in={sale.status === \"validated\"}\r\n                                            timeout={200}\r\n                                            classNames=\"fromLeftTransition\"\r\n                                            unmountOnExit\r\n                                        >\r\n                                            <ButtonSmall onClick={() => handleActionSale(sale.id, \"rejected\")} color=\"red\" value=\"Annuler la commmande\" />\r\n                                        </CSSTransition>\r\n\r\n                                    </div>\r\n                                    <CSSTransition\r\n                                        in={isModalOpened}\r\n                                        timeout={200}\r\n                                        classNames=\"pageTransition\"\r\n                                        unmountOnExit\r\n                                    >\r\n                                        <ModalYesNo\r\n                                            callback={(val) => handleModalYesNoReturn(val)}\r\n                                            value=\"L'annulation d'une commande est irréversible.\"\r\n                                        />\r\n                                    </CSSTransition>\r\n                                </div>\r\n                            )}\r\n                    </section>\r\n                </div>\r\n            </CSSTransition>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Prest_Dashboard_Commandes","/Users/bc/Desktop/Nivid/src/components/Prest_Dashboard_Dashboard.js",["1023"],"import { useState, useEffect } from 'react'\r\nimport { useAuth } from '../context/userContext'\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nimport Title from './utilities/Title'\r\nimport SubTitle from './utilities/SubTitle'\r\nimport { ButtonSmall } from './utilities/Buttons'\r\nimport Image from '../components/utilities/Image'\r\nimport ModalYesNo from './utilities/ModalYesNo'\r\n\r\nimport imgwitness from '../images/witness.svg'\r\nimport imgwishlist from '../images/wishlist.svg'\r\nimport imgshooping from '../images/shopping-bag.svg'\r\nimport emptyStar from \"../images/starempty.png\"\r\nimport star from \"../images/star.svg\"\r\nimport greenTrace from \"../images/greenTrace.png\"\r\n\r\nimport EarningChart from '../components/EarningChart'\r\nimport NoteWidget from '../components/NoteWidget'\r\nimport Loader from './Loader'\r\n\r\n\r\nconst Prest_Dashboard_Dashboard = ({ setStep }) => {\r\n\r\n    const [isMounted, setIsMounted] = useState(false);\r\n    const [sales, setSales] = useState([]);\r\n    const [monthlyEarns, setmMonthlyEarns] = useState(0);\r\n    const [monthlySales, setmMonthlySales] = useState(0);\r\n    const [monthlyViews, setmMonthlyViews] = useState(0);\r\n    const [isModalOpened, setIsModalOpened] = useState(false)\r\n    const [totalAmount, setTotalAmount] = useState(0)\r\n    const [wishListCount, setWishListCount] = useState(0)\r\n    const [reviews, setReviews] = useState([])\r\n    const [position, setPosition] = useState(0)\r\n    const [sellersCount, setSellersCount] = useState(0)\r\n\r\n    const { seller,\r\n        getSalesOfSellerIdFromDB,\r\n        formateToDateWithWords,\r\n        formateToDate,\r\n        getViewsOfSeller,\r\n        sendInBlue_sendPaymentRequestToAdmin,\r\n        getTotalAmountDueToSeller,\r\n        getWishListCountOfSeller,\r\n        getReviewsOfSellerUid,\r\n        getSellerPosition,\r\n        getSellersCount } = useAuth()\r\n\r\n    useEffect(() => {\r\n        getSales().then(salesList => {\r\n            getMonthlyEarns(salesList).then(res => {\r\n                setmMonthlyEarns(res)\r\n                getMonthlySales(salesList).then(res => {\r\n                    setmMonthlySales(res)\r\n                    getMonthlyViews().then(res => {\r\n                        setmMonthlyViews(res)\r\n                        getWishListCountOfSeller(seller.uid).then(res => {\r\n                            setWishListCount(res)\r\n                            getReviewsOfSellerUid(seller.uid).then(res => {\r\n                                setReviews(res)\r\n                                getPositionOfSeller().then(res => {\r\n                                    getSellersCount().then(res => {\r\n                                        setSellersCount(res)\r\n                                        setIsMounted(true)\r\n                                    })\r\n                                })\r\n                            })\r\n                        })\r\n                    })\r\n                })\r\n            })\r\n        })\r\n    }, [])\r\n\r\n    async function getSales() {\r\n        const salesList = await getSalesOfSellerIdFromDB(seller.uid)\r\n        setSales(salesList)\r\n        return salesList\r\n    }\r\n\r\n    async function getMonthlyEarns(salesList) {\r\n        const lastMonthEarns = salesList.filter(sale => sale.date > dateTodayMinusByDay(30) && sale.status === \"validated\" && sale.total === sale.paid)\r\n        let earns = 0\r\n        lastMonthEarns.map(sale => earns = earns + sale.total)\r\n        return earns\r\n    }\r\n\r\n    async function getMonthlySales(salesList) {\r\n        const lastMonthSales = salesList.filter(sale => sale.date > dateTodayMinusByDay(30) && sale.status === \"validated\")\r\n        const lastMonthServices = []\r\n        lastMonthSales.forEach(sale => {\r\n            sale.choosedServices.forEach(service => {\r\n                lastMonthServices.push(service)\r\n            })\r\n        })\r\n        return lastMonthServices.length\r\n    }\r\n\r\n    async function getMonthlyViews() {\r\n        const views = await getViewsOfSeller(seller.uid)\r\n        const lastMonthViews = views.filter(view => view.date.seconds * 1000 > dateTodayMinusByDay(30))\r\n        return lastMonthViews\r\n    }\r\n\r\n    function dateTodayMinusByDay(day) {\r\n        const date = new Date()\r\n        date.setHours(date.getHours() - (24 * day))\r\n        return date\r\n    }\r\n\r\n    function dateTodayPlusByDay(day) {\r\n        const date = new Date()\r\n        date.setHours(date.getHours() + (24 * day))\r\n        return date\r\n    }\r\n\r\n    function getDaysLeftBeforeSaleDelete(eventDate) {\r\n        const daysLeftTimestamp = (eventDate.seconds * 1000 || eventDate) - Date.now()\r\n        const daysLeft = Math.ceil(daysLeftTimestamp / 1000 / 86400)\r\n        return daysLeft - 10 === 0 ? \"aujourd'hui\" : `${daysLeft - 10} jours`\r\n    }\r\n\r\n    async function handlePaymentRequest() {\r\n        const amount = await getTotalAmountDueToSeller()\r\n        setTotalAmount(amount)\r\n        setIsModalOpened(true)\r\n    }\r\n\r\n    function handleYesNoRequestPayment(val) {\r\n        if (val === \"yes\") {\r\n            if (totalAmount > 10) {\r\n                sendInBlue_sendPaymentRequestToAdmin()\r\n            }\r\n            else {\r\n\r\n            }\r\n        }\r\n        setIsModalOpened(false)\r\n    }\r\n\r\n    async function getPositionOfSeller() {\r\n        const position = await getSellerPosition(seller.uid)\r\n        setPosition(position)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <CSSTransition\r\n                in={!isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <Loader />\r\n            </CSSTransition>\r\n\r\n            <CSSTransition\r\n                in={isMounted}\r\n                timeout={300}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <div className=\"prest_Dashboard_Dashboard\">\r\n\r\n                    <section className=\"prest_dashboard_header\">\r\n                        <div className=\"dashboard_left_container\">\r\n                            <Title class=\"Revenusmois\" type=\"h2\" font=\"roboto-medium\" value=\"Revenus du mois actuel\" />\r\n                            <Title type=\"h1\" font=\"roboto-bold\" value={`${monthlyEarns}€`} />\r\n                            <ButtonSmall onClick={() => handlePaymentRequest()} color=\"blue\" value=\"Demander un virement\" />\r\n                        </div>\r\n                        <div className=\"dashboard_statsHeader_container\">\r\n                            <div className=\"item\">\r\n                                <div className=\"image blue\"><span><Image url={imgwitness} /></span></div>\r\n                                <div className=\"content\">\r\n                                    <Title type=\"h2\" font=\"roboto-bold\" value={`${monthlyViews.length}`} />\r\n                                    <span></span>\r\n                                    <SubTitle color=\"grey\" type=\"big\" font=\"roboto-bold\" value=\"Nombre de vues mensuelles\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"item\">\r\n                                <div className=\"image red\"><span><Image url={imgwishlist} /></span></div>\r\n                                <div className=\"content\">\r\n                                    <Title type=\"h2\" font=\"roboto-bold\" value={wishListCount} />\r\n                                    <span></span>\r\n                                    <SubTitle color=\"grey\" type=\"big\" font=\"roboto-bold\" value=\"Ajouts en wishlist\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"item\">\r\n                                <div className=\"image yellow\"><span><Image url={imgshooping} /></span></div>\r\n                                <div className=\"content\">\r\n                                    <Title type=\"h2\" font=\"roboto-bold\" value={`${monthlySales}`} />\r\n                                    <span></span>\r\n                                    <SubTitle color=\"grey\" type=\"big\" font=\"roboto-bold\" value=\"Nombre de ventes mensuelles\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    <section className=\"prest_dashboard_1\">\r\n                        <div className=\"header\">\r\n                            <Title type=\"h2\" font=\"roboto-medium\" value=\"Vos commandes récentes\" />\r\n                            {sales.length > 0 &&\r\n                                <p className=\"blueLink\" onClick={() => setStep(2)}>Voir toutes les commandes</p>\r\n                            }\r\n                        </div>\r\n                        <div className=\"content\">\r\n\r\n                            {sales\r\n                                .filter(sale => sale.status !== \"rejected\")\r\n                                .sort((a, b) => b.date - a.date)\r\n                                .slice(0, 4)\r\n                                .map((sale, key) =>\r\n                                    <div className=\"item\" key={key}>\r\n                                        <div className=\"header\">\r\n                                            {sale.status === \"pending\" && <SubTitle color=\"#acacac\" type=\"big\" font=\"roboto-bold\" value=\"Commande récente en attente de validation\" />}\r\n                                            {sale.status === \"validated\" && <SubTitle color=\"rgb(127, 207, 127)\" type=\"big\" font=\"roboto-bold\" value=\"Commande validée\" />}\r\n                                        </div>\r\n                                        <div className=\"content\">\r\n                                            <div className=\"left imagesSuperpos\">\r\n                                                {sale.choosedServices.slice(0, 3).map(service =>\r\n                                                    <div><Image url={service.image} /></div>\r\n                                                )}\r\n                                            </div>\r\n                                            <div className=\"right\">\r\n                                                <p className=\"commandTitle\">Commande #{sale.id} - <span>{formateToDate(sale.date)}</span></p>\r\n                                                <p>Montant de la commande : <span>{sale.total}€</span></p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            {sales.filter(sale => sale.status !== \"rejected\").length < 1 &&\r\n                                <div className=\"textInEmptyQuery\"><p>Aucune commande récente</p></div>\r\n                            }\r\n\r\n                        </div>\r\n                    </section>\r\n                    <section className=\"prest_dashboard_2\">\r\n                        <div className=\"header\">\r\n                            <Title type=\"h2\" font=\"roboto-medium\" value=\"Rappel\" />\r\n                        </div>\r\n                        <div className=\"content\">\r\n                            <div className=\"left\">\r\n                                <div className=\"header\">\r\n                                    <SubTitle type=\"big\" font=\"roboto-bold\" value=\"Évènements prochains à préparer\" />\r\n                                </div>\r\n                                <div className=\"content\">\r\n\r\n                                    {sales\r\n                                        .filter(sale => sale.eventDate < dateTodayPlusByDay(10) && sale.status === \"validated\")\r\n                                        .sort((a, b) => b.eventDate - a.eventDate)\r\n                                        .slice(0, 3)\r\n                                        .map((sale, key) =>\r\n                                            <div key={key} className={`item ${sale.eventDate < dateTodayPlusByDay(5) ? \"red\" : \"blue\"}`}>\r\n                                                <div className=\"left\">\r\n                                                    <p className=\"commandTitle\">Commande #{sale.id} - <span>{formateToDate(sale.date)}</span></p>\r\n                                                    <p className=\"blueLink\">Voir les détails de la commande</p>\r\n                                                </div>\r\n                                                <div className=\"right\">\r\n                                                    <label>Date de l'évènement :</label>\r\n                                                    <p>{formateToDateWithWords(sale.eventDate)}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                    {sales.filter(sale => sale.date > dateTodayMinusByDay(10) && sale.status === \"validated\").length < 1 &&\r\n                                        <div className=\"textInEmptyQuery\"><p>Aucun rappel</p></div>\r\n                                    }\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"right\">\r\n                                <div className=\"header\">\r\n                                    <SubTitle type=\"big\" font=\"roboto-bold\" value=\"Commandes à valider/vérifier avant expiration\" />\r\n                                </div>\r\n                                <div className=\"content\">\r\n\r\n                                    {sales\r\n                                        .filter(sale => sale.eventDate < dateTodayPlusByDay(20) && sale.status === \"pending\")\r\n                                        .sort((a, b) => b.eventDate - a.eventDate)\r\n                                        .slice(0, 2)\r\n                                        .map((sale, key) =>\r\n                                            <div key={key} className=\"item\">\r\n                                                <div className=\"header\">\r\n                                                    <p>Commande toujours en attente de validation</p>\r\n                                                    <p>Expire: <span>{getDaysLeftBeforeSaleDelete(sale.eventDate)}</span></p>\r\n                                                </div>\r\n                                                <div className=\"content\">\r\n                                                    <div className=\"left imagesSuperpos\">\r\n                                                        {sale.choosedServices.slice(0, 3).map(service =>\r\n                                                            <div><Image url={service.image} /></div>\r\n                                                        )}\r\n                                                    </div>\r\n                                                    <div className=\"right\">\r\n                                                        <p className=\"commandTitle\">Commande #{sale.id} - <span>{formateToDate(sale.date)}</span></p>\r\n                                                        <p className=\"commandTitle\">Montant de la commande : <span>{sale.total}€</span></p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"bottom\">\r\n                                                    <div>\r\n                                                        <label>Date de l'évènement :</label>\r\n                                                        <p>{formateToDateWithWords(sale.eventDate)}</p>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <label>Nombre de personne :</label>\r\n                                                        <p>{sale.people} personnes</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                    {sales.filter(sale => sale.eventDate < dateTodayPlusByDay(20) && sale.status === \"pending\").length < 1 &&\r\n                                        <div className=\"textInEmptyQuery\"><p>Aucune commande à valider</p></div>\r\n                                    }\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"bottom\">\r\n                            <div className=\"legendeContainer\">\r\n                                <label>Légende :</label>\r\n                                <div className=\"blueLegend\">\r\n                                    <span></span>\r\n                                    <p>Prochainement</p>\r\n                                </div>\r\n                                <div className=\"redLegend\">\r\n                                    <span></span>\r\n                                    <p>Très prochainement</p>\r\n                                </div>\r\n                            </div>\r\n                            {sales.length > 0 &&\r\n                                <div className=\"buttonContainer\">\r\n                                    <ButtonSmall onClick={() => setStep(2)} color=\"blue\" value=\"Voir toutes les commandes\" />\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </section>\r\n\r\n                    <section className=\"reviewsContainer\">\r\n                        <div className=\"reviewsContainer__header\">\r\n                            <Title type=\"h2\" font=\"roboto-medium\" value=\"Commentaires récents\" />\r\n                        </div>\r\n                        {reviews.length === 0 ?\r\n\r\n\r\n                            <div className=\"textInEmptyQuery\">\r\n                                <p>Aucun commentaire à afficher</p>\r\n                            </div>\r\n                            :\r\n                            <>\r\n                                <div className=\"reviewsContainer__content\">\r\n                                    <div className=\"reviewsContainer__left\">\r\n                                        <Title type=\"h2\" font=\"roboto-medium\" value=\"Votre note actuelle est\" />\r\n                                        <div className=\"reviewsContainer__globalNoteStars\">\r\n                                            <Image url={star} />\r\n                                            <Image url={star} />\r\n                                            <Image url={star} />\r\n                                            <Image url={star} />\r\n                                            <Image url={emptyStar} />\r\n                                        </div>\r\n\r\n                                        <div className=\"reviewsContainer__globalNote\">\r\n                                            <p>{seller.note}/5</p>\r\n                                        </div>\r\n\r\n                                        <div className=\"reviewsContainer__classement\">\r\n                                            <Title type=\"h2\" align=\"center\" font=\"roboto-medium\" value=\"Vous êtes classé*\" />\r\n                                            <div className=\"reviewsContainer__classementContent\">\r\n                                                <p>{position}ème<Image url={greenTrace} /></p>\r\n                                                <span>sur {sellersCount}</span>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    <div className=\"reviewsContainer__right\">\r\n                                        <div className=\"reviewsContainer__cards__container\">\r\n                                            {reviews\r\n                                                .sort((a, b) => {\r\n                                                    var keyA = new Date(a.date),\r\n                                                        keyB = new Date(b.date);\r\n                                                    // Compare the 2 dates\r\n                                                    if (keyA < keyB) return -1;\r\n                                                    if (keyA > keyB) return 1;\r\n                                                    return 0;\r\n                                                })\r\n                                                .slice(0, 3)\r\n                                                .map(item =>\r\n                                                    <div className=\"reviewsContainer__card\">\r\n                                                        {new Date().getDate() - 7 < new Date(item.date.seconds * 1000).getDate() &&\r\n                                                            <span>Nouveau</span>\r\n                                                        }\r\n                                                        <h3>{item.name}</h3>\r\n                                                        <p className=\"reviewsContainer__card__subTitle\">Evènement du {formateToDate(item.eventDate.seconds * 1000)}</p>\r\n                                                        <p className=\"reviewsContainer__card__content\">{item.comment}</p>\r\n                                                        <NoteWidget note={item.note} />\r\n                                                    </div>\r\n                                                )}\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"reviewsContainer__bottom\">\r\n                                    <div className=\"reviewsContainer__bottom_button\">\r\n                                        <ButtonSmall color=\"grey\" value=\"Voir plus de commentaires\" />\r\n                                    </div>\r\n                                    <p>* Ce classement est généré en fonction du type de service que vous proposez\r\n                                        & du périmètre dans lequel vous vous trouvez par rapport aux autres préstataires</p>\r\n                                </div>\r\n                            </>\r\n                        }\r\n\r\n                    </section>\r\n\r\n                    <section className=\"chartContainer\">\r\n                        <div className=\"chartContainer__header\">\r\n                            <Title type=\"h2\" font=\"roboto-medium\" value=\"Vos statistiques\" />\r\n                        </div>\r\n                        <EarningChart sales={sales} />\r\n                    </section>\r\n\r\n                </div>\r\n            </CSSTransition>\r\n            <CSSTransition\r\n                in={isModalOpened}\r\n                timeout={200}\r\n                classNames=\"pageTransition\"\r\n                unmountOnExit\r\n            >\r\n                <ModalYesNo\r\n                    callback={(val) => handleYesNoRequestPayment(val)}\r\n                    value={`Solde actuel: ${totalAmount}€`}\r\n                    value2={totalAmount < 10 && \"Impossible de demander un virement, votre solde est nul.\"}\r\n                    disabled={totalAmount < 10 ? true : false}\r\n                />\r\n            </CSSTransition>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Prest_Dashboard_Dashboard","/Users/bc/Desktop/Nivid/src/components/ServiceDescription.js",["1024","1025","1026","1027"],"import React, { useEffect, useState } from \"react\";\r\nimport NumericInput from \"react-numeric-input\";\r\nimport { useAuth } from \"../context/userContext\"; // context\r\nimport ReactLoading from \"react-loading\";\r\n\r\nimport { ButtonLarge } from \"./utilities/Buttons\";\r\nimport Image from \"./utilities/Image\";\r\nimport ServiceConfirmModal from \"./ServiceConfirmModal\";\r\n\r\nimport CustomSelect from \"../components/utilities/CustomSelect\";\r\n\r\nimport { ReactComponent as CheckTypeImg } from \"../images/checked-type.svg\";\r\n\r\nimport FullScreenImg from \"./FullScreenImg\";\r\n\r\nconst ServiceDescription = (props) => {\r\n  const item = props.item;\r\n  const handleAddToCard = props.handleAddToCard;\r\n  const display = props.display;\r\n  const isMobile = props.isMobile;\r\n  const handleCloseService = props.handleCloseService;\r\n\r\n  const {\r\n    event,\r\n    getServiceQuantityInCard,\r\n    loadingButtonAddToCard,\r\n    setLoadingButtonAddToCard,\r\n  } = useAuth(); // context\r\n\r\n  const [activePathImage, setActivePathImage] = useState();\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [variation, setVariation] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [isModalOpened, setIsModalOpened] = useState(false);\r\n  const [currentQuantity, setCurrentQuantity] = useState(0);\r\n  const [isFullscreenImgOpen, setIsFullscreenImgOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    function getActivePath() {\r\n      setActivePathImage(item.images[0].url);\r\n      setQuantity(1);\r\n      setLoadingButtonAddToCard(false);\r\n    }\r\n    item.variations && item.variations.length > 0\r\n      ? setVariation(item.variations[0].name)\r\n      : setVariation(\"\");\r\n    if (item.images) getActivePath();\r\n  }, [item]);\r\n\r\n  function handleImageClick(path) {\r\n    setActivePathImage(path);\r\n  }\r\n\r\n  function preHandleAddToCard(note, quantity) {\r\n    handleCloseModal();\r\n    const currentQuantity = getServiceQuantityInCard(item.id);\r\n    const total = (quantity - currentQuantity) * item.price;\r\n    setError(\"\");\r\n    handleAddToCard(quantity, variation, note);\r\n  }\r\n\r\n  function organizeImg() {\r\n    if (item.images) {\r\n      return Object.entries(item.images).map(([key, item]) => {\r\n        return (\r\n          <div\r\n            key={key}\r\n            onClick={() => handleImageClick(item.url)}\r\n            className={\r\n              item.url === activePathImage\r\n                ? \"active verticalImgItem\"\r\n                : \"verticalImgItem\"\r\n            }\r\n          >\r\n            <Image url={item.url} />\r\n          </div>\r\n        );\r\n      });\r\n    }\r\n  }\r\n\r\n  function openModal(e, quantity) {\r\n    e.stopPropagation();\r\n    setLoadingButtonAddToCard(true);\r\n    setCurrentQuantity(quantity);\r\n    setIsModalOpened(true);\r\n  }\r\n\r\n  function handleCloseModal() {\r\n    setLoadingButtonAddToCard(false);\r\n    setIsModalOpened(false);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        display\r\n          ? \"serviceDescriptionContainer active\"\r\n          : \"serviceDescriptionContainer\"\r\n      }\r\n    >\r\n      <div className=\"serviceDescription\">\r\n        <span\r\n          onClick={() => handleCloseService()}\r\n          className=\"closeButton\"\r\n        ></span>\r\n        <div className=\"serviceDescriptionImgAndDetails\">\r\n          {!isMobile && (\r\n            <div className=\"serviceDescriptionLeft\">\r\n              <div className=\"verticalLineImg\">{organizeImg()}</div>\r\n              <div className=\"activeImageItem\" onClick={() => setIsFullscreenImgOpen(true)}>\r\n                <Image url={activePathImage} />\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div className=\"serviceDescriptionRight\">\r\n            <div>\r\n              <p className=\"title\">\r\n                {item.name && item.name}{\" \"}\r\n                <span>\r\n                  {item.foodType && (\r\n                    <>\r\n                      <CheckTypeImg />\r\n                      {item.foodType}\r\n                    </>\r\n                  )}\r\n                </span>\r\n              </p>\r\n              {item.variations && item.variations.length > 0 && (\r\n                <p className=\"subtitle\">{variation}</p>\r\n              )}\r\n              <span>\r\n                {item.variations && item.variations.length > 0\r\n                  ? variation === \"\"\r\n                    ? item.variations[0].price\r\n                    : item.variations.filter((vari) => vari.name === variation)\r\n                        .length > 0 &&\r\n                      item.variations.filter(\r\n                        (vari) => vari.name === variation\r\n                      )[0].price + \"€\"\r\n                  : item.price && item.price + \"€\"}\r\n              </span>\r\n            </div>\r\n            <p onClick={(e) => e.stopPropagation()} className=\"smallTitle\">\r\n              Description de l'offre:\r\n            </p>\r\n            <p onClick={(e) => e.stopPropagation()}>\r\n              {item.description && item.description}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"serviceDescriptionActionContainer\">\r\n          {!isMobile && (\r\n            <div className=\"infoServiceDescriptionAction\">\r\n              {item.id && getServiceQuantityInCard(item.id) !== 0 && (\r\n                <p>\r\n                  Déjà dans votre panier{\" \"}\r\n                  <span>x {getServiceQuantityInCard(item.id)}</span>\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n          {error.length > 0 && <p className=\"errorMessage\">{error}</p>}\r\n\r\n          {item.variations && item.variations.length > 0 && (\r\n            <div\r\n              onClick={(e) => e.stopPropagation()}\r\n              className=\"serviceDescriptionAction\"\r\n            >\r\n              <div style={{ marginBottom: \"20px\" }}>\r\n                <p className=\"smallTitle\">Variante:</p>\r\n                <CustomSelect\r\n                  currentVariation={variation}\r\n                  callback={(e) => setVariation(e.target.value)}\r\n                  options={item.variations}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div\r\n            onClick={(e) => e.stopPropagation()}\r\n            className=\"serviceDescriptionAction\"\r\n          >\r\n            <div>\r\n              <p className=\"smallTitle\">Quantité:</p>\r\n              <NumericInput\r\n                className=\"form-control\"\r\n                value={quantity}\r\n                min={1}\r\n                max={20}\r\n                step={1}\r\n                precision={0}\r\n                size={4}\r\n                mobile\r\n                onChange={(value) => setQuantity(value)}\r\n              />\r\n            </div>\r\n            <ButtonLarge\r\n              onClick={(e) => openModal(e, quantity)}\r\n              color=\"orange\"\r\n              value={\r\n                loadingButtonAddToCard ? (\r\n                  <ReactLoading\r\n                    className=\"loadingSpinnerButton\"\r\n                    type=\"spin\"\r\n                    color=\"white\"\r\n                    height={23}\r\n                    width={23}\r\n                  />\r\n                ) : (\r\n                  \"Ajouter au panier\"\r\n                )\r\n              }\r\n              marginTop=\"10px\"\r\n              disabled={loadingButtonAddToCard ? \"disabled\" : null}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {isModalOpened && (\r\n        <ServiceConfirmModal\r\n          item={item}\r\n          variation={variation}\r\n          closeCallback={handleCloseModal}\r\n          confirmCallback={(note) => preHandleAddToCard(note, quantity)}\r\n        />\r\n      )}\r\n\r\n      {isFullscreenImgOpen && <FullScreenImg imgpath={activePathImage} closeCallback={() => setIsFullscreenImgOpen(false)} />}\r\n    </div>\r\n  );\r\n};\r\nexport default ServiceDescription;\r\n","/Users/bc/Desktop/Nivid/src/components/InterestedSellers.js",[],"/Users/bc/Desktop/Nivid/src/components/UpdateProfil.js",["1028","1029","1030"],"import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from '../context/userContext'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport frLocale from 'date-fns/locale/fr';\r\nimport MobileDatePicker from '@mui/lab/MobileDatePicker';\r\n\r\nimport ReactLoading from 'react-loading';\r\n\r\nimport { ButtonSmall } from './utilities/Buttons'\r\n\r\nconst UpdateProfil = (props) => {\r\n\r\n    const isMobile = props.isMobile\r\n\r\n    const { user, getCurrentUserProfil, updateCurrentUserProfil, verifyLogin, updateUserEmail } = useAuth()\r\n\r\n    const [data, setData] = useState({\r\n        gender: \"f\"\r\n    })\r\n    const [loading, setLoading] = useState(true)\r\n    const [error, setError] = useState({\r\n        field: \"\",\r\n        message: \"\"\r\n    })\r\n    const [isCalendarOpened, setIsCalendarOpened] = useState(false)\r\n    const [confirm, setConfirm] = useState(false)\r\n\r\n    const [newEmail, setNewEmail] = useState(\"\")\r\n    const [confirmEmail, setConfirmEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n\r\n    useEffect(() => {\r\n        getCurrentUserProfil().then(results => {\r\n            setData({ ...data, ...results, birthDate: results.birthDate && new Date(results.birthDate.seconds * 1000) })\r\n            setNewEmail(results.email)\r\n            setLoading(false)\r\n        })\r\n    }, [])\r\n\r\n    // function isInputDisabled(input) {\r\n    //     if (data[input] !== undefined && data[input].length >= 2) {\r\n    //         return true\r\n    //     }\r\n    //     else {\r\n    //         return false\r\n    //     }\r\n    // }\r\n\r\n    async function verifyFields() {\r\n        if (data.firstName !== undefined && data.firstName.length >= 2) {\r\n            if (data.name !== undefined && data.name.length >= 2) {\r\n                if (data.gender !== undefined && data.gender.length > 0) {\r\n                    if (data.birthDate !== undefined) {\r\n                        if (data.tel === undefined || data.tel.length === 10 || data.tel.length === 0) {\r\n                            setError({ field: \"\", message: \"\" })\r\n                            return true\r\n                        }\r\n                        else {\r\n                            return setError({ field: \"tel\", message: \"Merci de renseigner un numéro de téléphone valide.\" })\r\n                        }\r\n                    }\r\n                    else {\r\n                        return setError({ field: \"birthDate\", message: \"Merci de renseigner votre date de naissance.\" })\r\n                    }\r\n                }\r\n                else {\r\n                    return setError({ field: \"gender\", message: \"Merci de renseigner votre sexe.\" })\r\n                }\r\n            }\r\n            else {\r\n                return setError({ field: \"name\", message: \"Merci de renseigner votre nom.\" })\r\n            }\r\n        }\r\n        else {\r\n            return setError({ field: \"firstName\", message: \"Merci de renseigner votre prénom.\" })\r\n        }\r\n    }\r\n\r\n    function handleSaveUpdate() {\r\n        verifyFields()\r\n            .then(async res => {\r\n                if (res === true) {\r\n                    if (user.providerData[0].providerId === \"google.com\") {\r\n                        await updateCurrentUserProfil(data)\r\n                        setConfirm(true)\r\n                    }\r\n                    else {\r\n                        if (newEmail === confirmEmail) {\r\n                            verifyLogin(data.email, password).then(async res => {\r\n                                await updateCurrentUserProfil({ ...data, email: newEmail })\r\n                                await updateUserEmail(newEmail)\r\n                                return setConfirm(true)\r\n                            })\r\n                                .catch(error => {\r\n                                    if (error.code === \"auth/wrong-password\") {\r\n                                        return setError({ field: \"password\", message: \"Le mot de passe est incorrect.\" })\r\n                                    }\r\n                                })\r\n                        }\r\n                        else {\r\n                            return setError({ field: \"emailConfirm\", message: \"Les deux adresses e-mail doivent être identiques.\" })\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    return loading ?\r\n        <div className={isMobile ? \"dashboardUpdate mobile\" : \"dashboardUpdate\"}>\r\n            <ReactLoading className={isMobile ? \"loadingSpinner mobile\" : \"loadingSpinner\"} type=\"spin\" color=\"rgba(245, 192, 67)\" height={50} width={50} />\r\n        </div>\r\n        : (\r\n            <div className={isMobile ? \"dashboardUpdate mobile\" : \"dashboardUpdate\"}>\r\n                <div className=\"leftSide\">\r\n                    <h1>Vos informations personnelles</h1>\r\n                    <div className=\"updateProfilInfoBox\">\r\n                        <p>Pour modifier d'autres informations vous concernant, <Link class=\"contactlinkdashboard\" to=\"/contact\">contactez-nous</Link>.</p>\r\n                    </div>\r\n                    <p className=\"errorMessage\">{error.message}</p>\r\n                    <div className=\"updateProfilContent\">\r\n\r\n                        <div className={error.field === \"firstName\" ? \"formField error\" : \"formField\"}>\r\n                            <label>Prénom*</label>\r\n                            <input type=\"text\" name=\"firstName\" value={data.firstName} onChange={(e) => setData({ ...data, firstName: e.target.value })} />\r\n                        </div>\r\n\r\n                        <div className={error.field === \"name\" ? \"formField error\" : \"formField\"}>\r\n                            <label>Nom*</label>\r\n                            <input type=\"text\" name=\"name\" value={data.name} onChange={(e) => setData({ ...data, name: e.target.value })} />\r\n                        </div>\r\n\r\n                        <div className={error.field === \"gender\" ? \"formField error\" : \"formField\"}>\r\n                            <label>Sexe*</label>\r\n                            <select value={data.gender} onChange={(e) => setData({ ...data, gender: e.target.value })}>\r\n                                <option selected={data.gender === \"h\" && \"selected\"} value=\"h\">Homme</option>\r\n                                <option selected={data.gender === \"f\" && \"selected\"} value=\"f\">Femme</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className={error.field === \"birthDate\" ? \"formFieldSpecialDate error\" : \"formFieldSpecialDate\"}>\r\n                            <label>Date de naissance*</label>\r\n                            <div\r\n                                onClick={() => setIsCalendarOpened(!isCalendarOpened)}\r\n                                className=\"etape1DatePicker subscribe\"\r\n                            >\r\n                                {\r\n                                    data.birthDate !== undefined ?\r\n                                        new Date(data.birthDate).toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"long\", day: \"numeric\" })\r\n                                        :\r\n                                        \"Date de naissance\"\r\n                                }\r\n                            </div>\r\n                            {isCalendarOpened &&\r\n                                <div className=\"calendarContainerAbsolute\">\r\n                                    <LocalizationProvider style={{ position: \"relative!important\" }} locale={frLocale} dateAdapter={AdapterDateFns}>\r\n                                        {isMobile ?\r\n                                            <MobileDatePicker\r\n                                                label=\"Date de l'évènement\"\r\n                                                open={isCalendarOpened}\r\n                                                onClose={() => setIsCalendarOpened(false)}\r\n                                                value={data.birthDate}\r\n                                                onChange={(val) => (setData({ ...data, birthDate: val }), setIsCalendarOpened(false))}\r\n                                                renderInput={() => null}\r\n                                            />\r\n                                            :\r\n                                            <DatePicker\r\n                                                open={isCalendarOpened}\r\n                                                onClose={() => setIsCalendarOpened(false)}\r\n                                                value={data.birthDate}\r\n                                                onChange={(val) => (setData({ ...data, birthDate: val }), setIsCalendarOpened(false))}\r\n                                                renderInput={() => null}\r\n                                            />\r\n                                        }\r\n                                    </LocalizationProvider>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n\r\n                        <div className={error.field === \"tel\" ? \"formField error\" : \"formField\"}>\r\n                            <label>Numéro de téléphone</label>\r\n                            <input type=\"text\" name=\"tel\" value={data.tel} onChange={(e) => setData({ ...data, tel: e.target.value })} />\r\n                        </div>\r\n\r\n                        {user.providerData[0].providerId !== \"google.com\" &&\r\n                            <div className=\"formField\">\r\n                                <label>Adresse e-mail</label>\r\n                                <input type=\"text\" name=\"email\" value={newEmail} onChange={(e) => setNewEmail(e.target.value)} />\r\n                            </div>\r\n                        }\r\n                        {\r\n                            user.providerData[0].providerId !== \"google.com\" &&\r\n                            <div className={error.field === \"emailConfirm\" ? \"formField error\" : \"formField\"}>\r\n                                <label>Confirmation e-mail</label>\r\n                                <input type=\"text\" name=\"email\" onChange={(e) => setConfirmEmail(e.target.value)} />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"updateProfilConfirm\">\r\n\r\n                        {\r\n                            user.providerData[0].providerId !== \"google.com\" ?\r\n                                <div>\r\n                                    <p>Pour confirmer les changements, merci de renseigner votre mot de passe actuel dans le champ ci-dessous :</p>\r\n                                    <div className={error.field === \"password\" ? \"formField error\" : \"formField\"}>\r\n                                        <input type=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)} />\r\n                                    </div>\r\n                                    <ButtonSmall\r\n                                        onClick={() => handleSaveUpdate()}\r\n                                        color=\"orange\"\r\n                                        value=\"Enregistrer les modifications\"\r\n                                        disabled={password.length < 2}\r\n                                    />\r\n                                </div>\r\n                                :\r\n                                <ButtonSmall\r\n                                    onClick={() => handleSaveUpdate()}\r\n                                    color=\"orange\"\r\n                                    value=\"Enregistrer les modifications\"\r\n                                />\r\n\r\n                        }\r\n                        <div>\r\n                            {confirm &&\r\n                                <p className=\"green\">Vos informations personnelles ont bien été mis à jour.</p>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default UpdateProfil","/Users/bc/Desktop/Nivid/src/components/Slider.js",["1031"],"import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"../styles/Slider.css\"\r\nimport { useAuth } from '../context/userContext'\r\n\r\nimport { ButtonSmall } from './utilities/Buttons'\r\n\r\n\r\n\r\nconst Slideshow = ({ sellers, eventStatus, windowsWidth, isMobile }) => {\r\n\r\n    const [currentPageOffer, setCurrentPageOffer] = useState(0);\r\n    const { event } = useAuth()\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n\r\n    }, [])\r\n\r\n\r\n\r\n    const container = isMobile ? windowsWidth - (windowsWidth * 0.1) : windowsWidth - 660\r\n    const itemWidth = windowsWidth < 600 ? windowsWidth - (windowsWidth * 0.20) : 243\r\n    const itemHeight = itemWidth * 1.4\r\n\r\n    function handlePaginationItem(val) {\r\n        const count = sellers && sellers.length; // 5 pour exemple\r\n        const maxPage = Math.ceil(count - (container / (itemWidth))); // 4\r\n        if (val <= maxPage && val >= 0 && (count - maxPage) >= 1) { setCurrentPageOffer(val) }\r\n    }\r\n\r\n    function isButtonDisabled(val) {\r\n        const count = sellers && sellers.length; // 5 pour exemple\r\n        const maxPage = Math.ceil(count - (container / (itemWidth))); // 4\r\n        if (val <= maxPage && val >= 0 && (count - maxPage) >= 1) { return null }\r\n        else { return \"disabled\" }\r\n    }\r\n\r\n    function sellerClicked(sellerID) {\r\n        if (eventStatus === \"creating\") {\r\n            history.push(`/creer-mon-evenement/etape-2/prestataires/${sellerID}`)\r\n        }\r\n    }\r\n\r\n    return !isMobile ?\r\n        <div>\r\n            <div style={{ marginLeft: -(currentPageOffer * itemWidth) }} className=\"detailsServiceItemContainer\">\r\n                {sellers && sellers.length > 0 && sellers.map((item, key) => {\r\n                    return (\r\n\r\n                        <div\r\n                            key={key}\r\n                            className={`itemPrestataireDashboard ${eventStatus === \"creating\" && \"clickable\"}`}\r\n                            onClick={() => sellerClicked(item.uid)}\r\n                            style={{\r\n                                width:320,\r\n                                height:480,\r\n                                backgroundImage: (item && item.image_path) && `url(${item.image_path.url})`\r\n                            }}\r\n                        >\r\n                            <span className=\"bottom\">\r\n                                <p>{(item && item.companyName) && item.companyName}</p>\r\n                                {\r\n                                    eventStatus === \"creating\" && <p>+ en savoir plus</p>\r\n                                }\r\n                            </span>\r\n                            <span className=\"top\">\r\n                                {eventStatus !== \"creating\" && (\r\n                                    <div>\r\n                                        { item.status === \"validated\" && <p className=\"validPrestation\">Prestation validée</p>}\r\n                                        {item.status === \"pending\" && <p className=\"checkingPrestation\">En attente de validation</p>}\r\n                                    </div>\r\n                                )\r\n                                }\r\n                            </span>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n            {sellers && sellers.length > 0 &&\r\n                <div>\r\n                    <div className=\"buttonDuoDashboard\">\r\n                        {/* <ButtonSmall\r\n                            onClick={() => handlePaginationItem(currentPageOffer - 1)}\r\n                            color=\"grey\"\r\n                            value=\"Précédent\"\r\n                            marginRight=\"20px\"\r\n                            disabled={isButtonDisabled(currentPageOffer - 1)}\r\n                        />\r\n\r\n                        <ButtonSmall\r\n                            onClick={() => handlePaginationItem(currentPageOffer + 1)}\r\n                            color=\"grey\"\r\n                            value=\"Suivant\"\r\n                            disabled={isButtonDisabled(currentPageOffer + 1)}\r\n                        /> */}\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n\r\n        : windowsWidth < 600 ?\r\n            <div>\r\n                <div style={{ marginLeft: -(currentPageOffer * (windowsWidth - windowsWidth * 0.17)) + windowsWidth * 0.035 }} className=\"detailsServiceItemContainer\">\r\n                    <button style={{backgroundColor:'white', border:'0px'}} onClick={() => handlePaginationItem(currentPageOffer + 1)}>\r\n                        <svg width=\"36\" height=\"36\" viewBox=\"0 0 24 24\">\r\n                            <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\"></path>\r\n                        </svg>\r\n                    </button>\r\n                    {sellers && sellers.length > 0 && sellers.map((item, key) => {\r\n                        \r\n                        return (\r\n                            <div>\r\n                                <div\r\n                                    key={key}\r\n                                    className=\"itemPrestataireDashboard mobile\"\r\n                                    style={{\r\n                                        width:'80%',\r\n                                        height:480,\r\n                                        marginRight: windowsWidth * 0.030,\r\n                                        backgroundImage: (item && item.image_path) && `url(${item.image_path.url})`\r\n                                    }}\r\n                                >\r\n                                    <span className=\"bottom\">\r\n                                        <p>{(item && item.companyName) && item.companyName}</p>\r\n                                        <p>+ en savoir plus</p>\r\n                                    </span>\r\n                                    <span className=\"top\">\r\n                                        {eventStatus !== \"creating\" &&\r\n                                            <div>\r\n                                                {item.status === \"validated\" && <p className=\"validPrestation\">Prestation validée</p>}\r\n                                                {item.status === \"pending\" && <p className=\"checkingPrestation\">En attente de validation</p>}\r\n                                            </div>\r\n                                        }\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                    <button style={{backgroundColor:'white', border:'0px'}} onClick={() => handlePaginationItem(currentPageOffer - 1)}>\r\n                        <svg width=\"36\" height=\"36\" viewBox=\"0 0 24 24\">\r\n                            <path d=\"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z\"></path>\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n                {sellers && sellers.length > 0 &&\r\n                    <div style={{textAlign:'center',fontSize:'25px'}}>\r\n                        <p><b>Le paiement de <br/>l'acompte a été <span style={{color:'rgb(85 233 32)'}}>validé</span></b></p>\r\n                        <p><b>Reste a payer: {event.budget}€</b> <br/> Le jour de l'événement</p>\r\n                    </div>\r\n                } \r\n            </div>\r\n\r\n            : (windowsWidth > 600 && isMobile) &&\r\n            <div>\r\n                <div style={{ marginLeft: -(currentPageOffer * (itemWidth + 25)) }} className=\"detailsServiceItemContainer\">\r\n                    {sellers && sellers.length > 0 && sellers.map((item, key) => {\r\n                        return (\r\n                            <div\r\n                                key={key}\r\n                                className=\"itemPrestataireDashboard\"\r\n                                style={{\r\n                                    minWidth: itemWidth,\r\n                                    maxWidth: itemWidth,\r\n                                    marginRight: '25px',\r\n                                    backgroundImage: (item && item.image_path) && `url(${item.image_path.url})`\r\n                                }}\r\n                            >\r\n                                <span className=\"bottom\">\r\n                                    <p>{(item && item.companyName) && item.companyName}</p>\r\n                                    <p>+ en savoir plus</p>\r\n                                </span>\r\n                                <span className=\"top\">\r\n                                    {eventStatus !== \"creating\" &&\r\n                                        <div>\r\n                                            {item.status === \"validated\" && <p className=\"validPrestation\">Prestation validée</p>}\r\n                                            {item.status === \"pending\" && <p className=\"checkingPrestation\">En attente de validation</p>}\r\n                                        </div>\r\n                                    }\r\n                                </span>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                {sellers && sellers.length > 0 &&\r\n                    <div>\r\n                        <div className=\"buttonDuoDashboard mobileLight\">\r\n\r\n                            <ButtonSmall\r\n                                onClick={() => handlePaginationItem(currentPageOffer - 1)}\r\n                                color=\"grey\"\r\n                                value=\"Précédent\"\r\n                                marginRight=\"20px\"\r\n                                disabled={isButtonDisabled(currentPageOffer - 1)}\r\n                            />\r\n\r\n                            <ButtonSmall\r\n                                onClick={() => handlePaginationItem(currentPageOffer + 1)}\r\n                                color=\"grey\"\r\n                                value=\"Suivant\"\r\n                                disabled={isButtonDisabled(currentPageOffer + 1)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default Slideshow;","/Users/bc/Desktop/Nivid/src/components/WishList.js",["1032"],"import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from '../context/userContext'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ReactLoading from 'react-loading';\r\n\r\nimport { ButtonSmall } from './utilities/Buttons'\r\nimport Image from './utilities/Image'\r\n\r\nconst WishList = ({ eventStatus, isMobile }) => {\r\n\r\n    const { user, getWishList, getSellersInDbWithUids, deleteItemFromWishList } = useAuth()\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [wishList, setWishList] = useState([])\r\n\r\n    const history = useHistory()\r\n\r\n\r\n    useEffect(() => {\r\n        getWishList(user.uid)\r\n            .then(sellersIds => {\r\n                sellersIds.length > 0 ?\r\n                    getSellersInDbWithUids(sellersIds)\r\n                        .then(sellersData => {\r\n                            setWishList(sellersData)\r\n                            setLoading(false)\r\n                        })\r\n                    :\r\n                    setLoading(false)\r\n\r\n            })\r\n    }, [])\r\n\r\n    async function deleteItem(sellerID) {\r\n        await deleteItemFromWishList(sellerID)\r\n        const newWishList = wishList.filter(item => item.uid !== sellerID)\r\n        setWishList(newWishList)\r\n        return\r\n    }\r\n\r\n    function handleSellerClicked(sellerID) {\r\n        if (eventStatus === \"creating\") {\r\n            history.push(`/creer-mon-evenement/etape-2/prestataires/${sellerID}`)\r\n        }\r\n    }\r\n\r\n    return loading ?\r\n        <div className={isMobile ? \"dashboardWishlist mobile\" : \"dashboardWishlist\"}>\r\n            <ReactLoading className={isMobile ? \"loadingSpinner mobile\" : \"loadingSpinner\"} type=\"spin\" color=\"rgba(245, 192, 67)\" height={50} width={50} />\r\n        </div>\r\n        : (\r\n            <div className={isMobile ? \"dashboardWishlist mobile\" : \"dashboardWishlist\"}>\r\n                <div className=\"leftSide\">\r\n                    <h1>Vos prestataires favoris</h1>\r\n                    <div className=\"wishlist_content\">\r\n                        {wishList.map((item, key) =>\r\n                            <div key={key} className=\"wishlist__item\">\r\n                                <span className=\"heartContainer\">\r\n                                    <Image url=\"/images/heart.svg\" />\r\n                                </span>\r\n                                <div\r\n                                    onClick={() => handleSellerClicked(item.uid)}\r\n                                    className={`wishlist__item_top ${eventStatus === \"creating\" && \"clickable\"}`}\r\n                                    style={{backgroundImage:`url(${item.image_path.url})`, backgroundSize:\"cover\"}}\r\n                                >\r\n                                    <div className=\"wishlist__item_details\">\r\n                                        <p>{item.companyName}</p>\r\n                                        <p>+ en savoir plus</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"wishlist__item_bottom\">\r\n                                    <ButtonSmall onClick={() => deleteItem(item.uid)} color=\"red\" value=\"Retirer de ma liste\" />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        {wishList.length === 0 && <p className=\"noContent\">Pas de prestataires dans vos favoris</p>}\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        )\r\n}\r\n\r\nexport default WishList","/Users/bc/Desktop/Nivid/src/components/EarningChart.js",["1033","1034"],"import React, { useEffect, useState } from 'react'\r\nimport '../../node_modules/react-vis/dist/style.css';\r\nimport { XYPlot, VerticalBarSeries, XAxis, YAxis } from 'react-vis';\r\nimport { useAuth } from '../context/userContext'\r\n\r\nconst EarningChart = ({ sales }) => {\r\n\r\n    const { seller } = useAuth()\r\n    const [yearSales, setYearSales] = useState([])\r\n\r\n\r\n    const [dataGraph, setDataGraph] = useState([\r\n        { x: \"Jan\", y: 0 },\r\n        { x: \"Fev\", y: 0 },\r\n        { x: \"Mar\", y: 0 },\r\n        { x: \"Avr\", y: 0 },\r\n        { x: \"Mai\", y: 0 },\r\n        { x: \"Juin\", y: 0 },\r\n        { x: \"Juil\", y: 0 },\r\n        { x: \"Août\", y: 0 },\r\n        { x: \"Sept\", y: 0 },\r\n        { x: \"Oct\", y: 0 },\r\n        { x: \"Nov\", y: 0 },\r\n        { x: \"Dec\", y: 0 }\r\n    ])\r\n\r\n    useEffect(() => {\r\n        const rectList = document.querySelectorAll('rect')\r\n        rectList.forEach(rect => {\r\n            rect.setAttributeNS(null, \"ry\", \"20\");\r\n        })\r\n        return getSalesAndMountGraphData()\r\n    }, [])\r\n\r\n    function getSalesAndMountGraphData() {\r\n        const yearStart = new Date(new Date().getFullYear(), 0, 1);\r\n        const yearSalesArray = sales.filter(sale => sale.date > yearStart && sale.status !== \"rejected\") // && sale.status === \"validated\"\r\n\r\n        setYearSales(yearSalesArray)\r\n\r\n        let newDataGraph = [...dataGraph]\r\n        yearSalesArray.forEach(sale => {\r\n            const month = new Date(sale.date).getMonth()\r\n            newDataGraph[month].y = newDataGraph[month].y + sale.total\r\n        }, () => setDataGraph(newDataGraph))\r\n\r\n    }\r\n\r\n    return yearSales.length > 0 ? (\r\n        <XYPlot xType=\"ordinal\" xDistance={0} color=\"rgb(159, 232, 184)\" height={300} width={window.innerWidth * 0.9}>\r\n            <XAxis hideLine />\r\n            <YAxis hideLine />\r\n            <VerticalBarSeries\r\n                style={{ transform: `translate(${window.innerWidth * .02}px)`, width: `${window.innerWidth * .02}px` }}\r\n                data={dataGraph} />\r\n        </XYPlot>\r\n    )\r\n        : <div className=\"textInEmptyQuery\"><p>Aucune commande validée cette année</p></div>\r\n}\r\n\r\nexport default EarningChart","/Users/bc/Desktop/Nivid/src/components/ServiceConfirmModal.js",["1035"],"import React, { useEffect, useState } from \"react\";\r\nimport Image from \"./utilities/Image\";\r\nimport { useDetectClickOutside } from \"react-detect-click-outside\";\r\nimport { ButtonSmall } from \"./utilities/Buttons\";\r\n\r\nconst ServiceConfirmModal = ({\r\n  item,\r\n  closeCallback,\r\n  variation,\r\n  confirmCallback,\r\n}) => {\r\n  const [note, setNote] = useState(\"\");\r\n\r\n  const ref = useDetectClickOutside({ onTriggered: closeCallback });\r\n\r\n  return (\r\n    <div className=\"serviceConfirmModal_container\">\r\n      <div ref={ref} className=\"serviceConfirmModal\">\r\n        <p>Confirmation d'ajout d'un service</p>\r\n        <div className=\"serviceItem\">\r\n          <div className=\"imgDetailsServiceItem\">\r\n            <Image url={item.images[0].url} />\r\n          </div>\r\n          <div className=\"contentDetailsServiceItem\">\r\n            <p className=\"title\">{item.name}</p>\r\n            {variation.length > 0 && <p className=\"subTitle\">{variation}</p>}\r\n            <p className=\"price\">{item.price},00€</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"serviceItem_note\">\r\n          <textarea\r\n            value={note}\r\n            onChange={(e) => setNote(e.target.value)}\r\n            className={\"description\"}\r\n            placeholder=\"Ajouter un commentaire à l'intention du prestataire\"\r\n          ></textarea>\r\n        </div>\r\n        <div className=\"serviceItem_bottom\">\r\n          <ButtonSmall\r\n            onClick={closeCallback}\r\n            color=\"grey\"\r\n            value=\"Annuler\"\r\n            marginRight=\"20px\"\r\n            disabled={false}\r\n          />\r\n          <ButtonSmall\r\n            onClick={() => confirmCallback(note)}\r\n            color=\"green\"\r\n            value=\"Valider et continuer\"\r\n            marginRight=\"20px\"\r\n            disabled={false}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ServiceConfirmModal;\r\n","/Users/bc/Desktop/Nivid/src/components/FullScreenImg.js",["1036","1037","1038"],"import React, { useState, useEffect } from 'react';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport { useDetectClickOutside } from \"react-detect-click-outside\";\r\n\r\n\r\nconst FullScreenImg = ({imgpath, closeCallback}) => {\r\n    \r\n  const ref = useDetectClickOutside({ onTriggered: closeCallback });\r\n\r\n    return ( \r\n        <div className=\"fullScreenImg_container\">\r\n            <span onClick={closeCallback}><CloseIcon /></span>\r\n            <img ref={ref} src={imgpath} />\r\n        </div>\r\n     )\r\n}\r\n\r\nexport default FullScreenImg;","/Users/bc/Desktop/Nivid/src/components/utilities/CustomSelect.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/index.js",[],["1039","1040"],"/Users/bc/Desktop/New Nivid/Leo-Project/src/App.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/reportWebVitals.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/RouteProvider.js",["1041","1042","1043","1044","1045"],"import React from 'react'\nimport Home from '../pages/Home'\nimport Pepites from '../pages/Pepites'\nimport About from '../pages/About'\nimport Blog from '../pages/Blog'\nimport Contact from '../pages/Contact'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect\n} from \"react-router-dom\";\nimport Subscribe from '../pages/Subscribe'\nimport Login from '../pages/Login'\nimport Header from './Header'\nimport Dashboard from '../pages/Dashboard';\nimport ProcessContainer from './ProcessContainer'\nimport PrivateRoute from './PrivateRoute'\nimport PrivateSellerRoute from './PrivateSellerRoute'\nimport { useAuth } from '../context/userContext'\nimport Etape1 from '../pages/Etape1'\nimport Etape2 from '../pages/Etape2'\nimport SellerDetailProcess from '../pages/SellerDetailProcess'\nimport Recapitulatif from '../pages/Recapitulatif';\nimport PaymentConfirm from '../pages/paymentConfirm';\nimport PanelDashboard from './Admin/PanelDashboard'\nimport Invitations from '../pages/Invitations'\nimport PasswordForget from '../pages/passwordForget';\nimport Footer from './Footer'\nimport Prest_Login from '../pages/Prest_Login'\nimport Prest_Subscribe from '../pages/Prest_Subscribe'\nimport Prest_ProcessContainer from './Prest_ProcessContainer';\nimport Prest_Dashboard from '../pages/Prest_Dashboard'\nimport Prest_Step0 from '../pages/Prest_Step0'\nimport Prest_Step1 from '../pages/Prest_Step1'\nimport Prest_Step2 from '../pages/Prest_Step2'\nimport Prest_Step3 from '../pages/Prest_Step3'\nimport Prest_Step4 from '../pages/Prest_Step4'\nimport Prest_Step_Confirm from '../pages/Prest_Step_Confirm'\nimport ConfirmSubscribe from '../pages/ConfirmSubscribe'\nimport GiveReview from '../pages/GiveReview';\nimport ConfirmEmail from '../pages/ConfirmEmail';\nimport Contact_Boutique from '../pages/Contact_Boutique'\nimport CGV from '../pages/CGV'\nimport CGU from '../pages/CGU'\nimport Faq from '../pages/Faq'\nimport CookieConsent from \"react-cookie-consent\";\n\nimport ScrollToTop from './ScrollToTop'\nimport { CSSTransition } from 'react-transition-group'\n\n\nconst privateRoute = [\n  { path: '/creer-mon-evenement/etape-1', Component: Etape1, exact: false },\n  { path: '/creer-mon-evenement/etape-2', Component: Etape2, exact: true },\n  { path: '/creer-mon-evenement/etape-3/panier', Component: Recapitulatif, exact: true },\n  { path: '/creer-mon-evenement/etape-3/confirmation', Component: PaymentConfirm, exact: true },\n  { path: '/creer-mon-evenement/etape-3/invitations', Component: Invitations, exact: true },\n]\n\n\nconst RouteProvider = () => {\n\n  const { user, seller } = useAuth()\n\n  return (\n    <Router>\n      <ScrollToTop />\n      <div className=\"App\">\n        <div className=\"appContainer\">\n\n          <Route exact path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n          <Route exact path=\"/pepites\">\n            <Header />\n            <Pepites />\n          </Route>\n          <Route path=\"/qui-sommes-nous\">\n            <Header />\n            <About />\n          </Route>\n          <Route path=\"/blog\">\n            <Header />\n            <Blog />\n          </Route>\n          <Route path=\"/contact\">\n            <Header />\n            <Contact />\n          </Route>\n          <Route path=\"/demande-de-rappel\">\n            <Header />\n            <Contact_Boutique />\n          </Route>\n          <Route path=\"/cgv\">\n            <Header />\n            <CGV />\n            </Route>\n          <Route path=\"/cgu\">\n            <Header />\n            <CGU />\n          </Route>\n          <Route path=\"/faq\">\n            <Header />\n            <Faq />\n          </Route>\n          <Route path=\"/compte\">{user ? <Redirect to='/dashboard' /> : <Login />}</Route>\n          <Route path=\"/confirm-email\"><ConfirmEmail /></Route>\n          <Route path=\"/inscription\">{user ? <Redirect to='/dashboard' /> : <Subscribe />}</Route>\n          <Route path=\"/mot-de-passe-oublie\">{user ? <Redirect to='/dashboard' /> : <PasswordForget />}</Route>\n          <Route path=\"/confirmation\">{user ? <Redirect to='/dashboard' /> : <ConfirmSubscribe />}</Route>\n\n          <PrivateRoute path=\"/dashboard\" comp={Dashboard}></PrivateRoute>\n          <PrivateRoute path=\"/creer-mon-evenement\" comp={ProcessContainer}></PrivateRoute>\n          {privateRoute.map(({ path, Component, exact }) => (\n            <Route key={path} exact={exact} path={path}>\n              {({ match }) => (\n                <CSSTransition\n                  in={match !== null}\n                  timeout={300}\n                  classNames=\"pageTransition\"\n                  unmountOnExit\n                >\n                  <div className=\"pageTransition\">\n                    <Component />\n                  </div>\n                </CSSTransition>\n              )}\n            </Route>\n          ))}\n          <PrivateRoute path=\"/creer-mon-evenement/etape-2/prestataires/:sellerId\" comp={SellerDetailProcess}></PrivateRoute>\n\n          <Route path=\"/acces-prestataire\">{seller ? <Redirect to='/mon-compte-partenaire' /> : <><Header /><Prest_Login /></>}</Route>\n          <Route path=\"/inscription-prestataire\">{seller ? <Redirect to='/mon-compte-partenaire' /> : <><Header /><Prest_Subscribe /></>}</Route>\n\n          <PrivateSellerRoute exact path=\"/mon-compte-partenaire\" comp={Prest_Dashboard}></PrivateSellerRoute>\n\n          <PrivateSellerRoute path=\"/mon-compte-partenaire/process\" comp={Prest_ProcessContainer}></PrivateSellerRoute>\n          <PrivateSellerRoute path=\"/mon-compte-partenaire/process/abonnement\" comp={Prest_Step0}></PrivateSellerRoute>\n          <PrivateSellerRoute path=\"/mon-compte-partenaire/process/description\" comp={Prest_Step1}></PrivateSellerRoute>\n\n          <PrivateSellerRoute path=\"/mon-compte-partenaire/process/services\" comp={Prest_Step2}></PrivateSellerRoute>\n          <PrivateSellerRoute path=\"/mon-compte-partenaire/process/verification-1\" comp={Prest_Step3}></PrivateSellerRoute>\n          <PrivateSellerRoute path=\"/mon-compte-partenaire/process/verification-2\" comp={Prest_Step4}></PrivateSellerRoute>\n\n          <Route path=\"/mon-compte-partenaire/confirmation\"><Header /><Prest_Step_Confirm /></Route>\n\n          <Route path=\"/admin\">{user ? <PanelDashboard /> : <Redirect to='/' />}</Route>\n\n          <Route path=\"/donner-mon-avis\"><GiveReview /></Route>\n\n          <Route path=\"/\"><Footer /></Route>\n            <CookieConsent\n              location=\"bottom\"\n              buttonClass=\"smallButton\"\n              buttonText=\"J'accepte\"\n              cookieName=\"nivid-cookies\"\n              style={{ background: \"rgb(232, 236, 247)\", textAlign: \"left\", lineHeight: \"25px\", color: \"black\", alignItems: \"center\", padding: \"7px 7px\", boxShadow: \"1px 1px 12px 1px rgba(0,0,0, .2)\" }}\n              buttonStyle={{ backgroundColor: \"rgb(245, 192, 67)\" ,color: \"white\", fontSize: \"15px\", padding: \"10px 25px\", borderRadius: \"7px\" }}\n              expires={150}\n            >\n              Nous utilisons des cookies pour vous offrir une meilleure expérience de navigation et analyser le trafic du site. Si vous continuez à utiliser ce site, vous consentez à notre utilisation des cookies <a href=\"#\" class=\"\">En savoir plus</a>{\" \"}\n            </CookieConsent>\n        </div>\n      </div>\n    </Router>\n\n  );\n}\n\nexport default RouteProvider;","/Users/bc/Desktop/New Nivid/Leo-Project/src/context/userContext.js",["1046","1047","1048","1049","1050","1051","1052","1053","1054"],"import React, { createContext, useState, useEffect, useContext } from \"react\";\nimport firebase from \"firebase/app\";\nimport { useFirebase } from \"../assets/base-context\";\nimport publicIp from \"public-ip\";\n\nimport Stripe from \"stripe\";\nimport functions from \"firebase/firebase-functions\";\nimport { inputAdornmentClasses } from \"@mui/material\";\n\nvar SibApiV3Sdk = require(\"sib-api-v3-sdk\");\n\nvar defaultClient = SibApiV3Sdk.ApiClient.instance;\n\nlet myAPIKey = process.env.REACT_APP_SENDINBLUE_APIKEY;\nvar apiKey = defaultClient.authentications[\"api-key\"];\napiKey.apiKey = myAPIKey;\n\nvar partnerKey = defaultClient.authentications[\"partner-key\"];\npartnerKey.apiKey = process.env.REACT_APP_SENDINBLUE_APIKEY;\n\nvar apiInstance = new SibApiV3Sdk.ContactsApi();\nvar createContact = new SibApiV3Sdk.CreateContact();\n\nvar apiInstanceSend = new SibApiV3Sdk.TransactionalEmailsApi();\nvar sendSmtpEmail = new SibApiV3Sdk.SendSmtpEmail();\n\n// Ce fichier comporte toutes les fonctions d'appels et de traitement bdd, et du context global.\n// Il englobe l'app dans App.js\n\nexport const UserContext = createContext();\n\nexport function useAuth() {\n  return useContext(UserContext);\n}\n\nexport const UserProvider = ({ children }) => {\n  const firebaseContext = useFirebase();\n  const auth = firebaseContext.auth();\n  const provider = firebaseContext.provider();\n  const storage = firebaseContext.storage();\n  const firestore = firebaseContext.firestore();\n\n  let datePlusYear = new Date();\n  datePlusYear.setFullYear(datePlusYear.getFullYear());\n\n  const initialEvent = {\n    name: \"\",\n    date: datePlusYear,\n    startAt: 0,\n    endAt: 86360,\n    people: 50,\n    placeSize: 250,\n    place: \"\",\n    latLng: [],\n    budget: 50,\n    budgetLeft: 0,\n    status: null,\n    id: null,\n    choosedServices: [],\n  };\n\n  const initialSeller = {\n    companyName: \"\",\n    adress: \"\",\n    siret: \"\",\n    website: \"\",\n    firstName: \"\",\n    holiday: \"\",\n    lastName: \"\",\n    phone: \"\",\n    description: \"\",\n    category: \"\",\n    subcategory: \"\",\n    status: \"\",\n    image_path: \"\",\n  };\n\n  const [user, setUser] = useState();\n  const [seller, setSeller] = useState(initialSeller);\n  const [event, setEvent] = useState(initialEvent);\n\n  const [loading, setLoading] = useState(true);\n  const [currentStepProcess, setCurrentStepProcess] = useState(0);\n  const [loadingButtonAddToCard, setLoadingButtonAddToCard] = useState(true);\n\n  const refUsers = firestore.collection(\"users\");\n  const refEvents = firestore.collection(\"events\");\n  const refSellers = firestore.collection(\"sellers\");\n  const refSales = firestore.collection(\"sales\");\n\n  const [homeSellersDisplay, setHomeSellersDisplay] = useState([]);\n\n  const [isCardWidgetOpen, setIsCardWidgetOpen] = useState(false);\n\n  const createStripeCheckout = user\n    ? firebase.functions().httpsCallable(\"createStripeCheckout\")\n    : null;\n  const createStripeSubscribe = firebase\n    .functions()\n    .httpsCallable(\"createStripeSubscribe\");\n  const stripe =\n    user || seller\n      ? window.Stripe(\n          \"pk_test_51InLbZBwyEuW61Pj3yTYQlp31JobhK9vIKh32GColDUhXcdtzaKhWF5mVRDa9SGw7HujSuEDPCwvh40GEuo6uJxA00iqmaUXQp\"\n        )\n      : null;\n\n  const checkStripeReturn =\n    user || seller\n      ? firebase.functions().httpsCallable(\"checkStripeReturn\")\n      : null;\n\n  useEffect(() => {\n    auth.onAuthStateChanged((data) => {\n      return handleAuthChanged(data);\n    });\n  }, []);\n\n  async function handleAuthChanged(data) {\n    if (data) {\n      const isSeller = await isThisUserSeller(data.uid);\n      const isUser = await isThisUserUser(data.uid);\n      if (isSeller && !isUser) {\n        const sellerData = await getSellerDataFromDB(data.uid);\n        const sellerServices = await getServicesOfCurrentSellerFromDB();\n        setSeller({\n          ...initialSeller,\n          ...data,\n          ...sellerData,\n          services: sellerServices,\n        });\n        setUser();\n        setLoading(false);\n      } else if (isUser && !isSeller) {\n        if (data.emailVerified === false) {\n          setUser();\n          setSeller();\n          setLoading(false);\n          return;\n        }\n        setUser(data);\n        setSeller();\n        const eventData = await getEvent(data.uid);\n        eventData && eventData !== null\n          ? await getChoosedServices(eventData)\n          : setEvent(initialEvent);\n        setLoading(false);\n      } else if (isSeller && isUser) {\n        const sellerData = await getSellerDataFromDB(data.uid);\n        setSeller({ ...initialSeller, ...data, ...sellerData });\n        setUser(data);\n        const eventData = await getEvent(data.uid);\n        eventData && eventData !== null\n          ? await getChoosedServices(eventData)\n          : setEvent(initialEvent);\n        setLoading(false);\n      }\n    } else {\n      setSeller();\n      setUser();\n      setLoading(false);\n    }\n  }\n\n  async function getSellerDataFromDB(id) {\n    const query = await refSellers.doc(id).get();\n    const result = query.data();\n    return result;\n  }\n\n  async function isThisUserSeller(id) {\n    const doc = await refSellers.doc(id).get();\n    if (doc.exists) return true;\n    return false;\n  }\n\n  async function isThisUserUser(id) {\n    const doc = await refUsers.doc(id).get();\n    if (doc.exists) return true;\n    return false;\n  }\n\n  async function getEvent(uid) {\n    const getEvent = await refEvents.where(\"user\", \"==\", uid).get();\n    if (getEvent.docs.length > 0) {\n      let item = {};\n      getEvent.docs.forEach((doc) => {\n        const data = doc.data();\n        if (data.status && data.status !== \"passed\") {\n          item = { ...data };\n          item.date = data.date.toMillis();\n          item.id = doc.id;\n        }\n      });\n      return item && item.status && item.status !== \"passed\" ? item : null;\n    } else {\n      return null;\n    }\n  }\n\n  async function addEvent(item) {\n    const myEvent = { ...item };\n    delete myEvent.id;\n    let myNewEvent;\n\n    if (item.status !== \"creating\") {\n      myNewEvent = await createEvent(myEvent);\n    }\n\n    if (item.status === \"creating\") {\n      // event existant\n      myNewEvent = await updateEvent(item, myEvent);\n    }\n    await getChoosedServices(myNewEvent);\n  }\n\n  async function createEvent(myEvent) {\n    const req = await refUsers.doc(myEvent.user).get();\n    const res = req.data();\n    var identifier = res.email;\n\n    var updateContact = {\n      attributes: {\n        NOTIF_DATE: new Date(myEvent.date),\n        EVENTID: event.id,\n      },\n    };\n\n    apiInstance.updateContact(identifier, updateContact).then(\n      () => {},\n      (error) => {\n        console.error(error);\n      }\n    );\n\n    myEvent.status = \"creating\";\n    const docRef = await refEvents.add({\n      ...myEvent,\n      date: new Date(myEvent.date),\n    });\n    myEvent.id = docRef.id;\n    return myEvent;\n  }\n\n  async function updateEvent(item, myEvent) {\n    if (item.place !== event.place) {\n      const getServices = await refEvents\n        .doc(item.id)\n        .collection(\"services\")\n        .get();\n      getServices.docs.forEach(async (doc) => {\n        await refEvents\n          .doc(item.id)\n          .collection(\"services\")\n          .doc(doc.id)\n          .delete();\n      });\n    }\n\n    await refEvents.doc(item.id).update({\n      ...myEvent,\n      date: new Date(myEvent.date),\n    });\n    myEvent.id = item.id;\n    return myEvent;\n  }\n\n  async function getBudgetLeft(budget, choosedServices) {\n    let totalPrice = 0;\n    choosedServices.forEach((item) => {\n      if (item.variations && item.variations.length > 0) {\n        totalPrice +=\n          item.variations.filter((vari) => vari.name === item.variation)[0]\n            .price * item.quantity;\n      } else totalPrice += item.price * item.quantity;\n    });\n    const result = budget - totalPrice;\n    return result;\n  }\n\n  async function getChoosedServices(item) {\n    let choosedServices = [];\n    const services = await refEvents.doc(item.id).collection(\"services\").get();\n    services.forEach((doc) => {\n      choosedServices.push({ ...doc.data(), uid: doc.id });\n    });\n    const queryPrice = await getBudgetLeft(item.budget, choosedServices);\n    const neWObject = {\n      ...item,\n      budgetLeft: queryPrice,\n      choosedServices: choosedServices,\n    };\n    return setEvent(neWObject);\n  }\n\n  async function login(email, password) {\n    return await auth\n      .signInWithEmailAndPassword(email, password)\n      .then((data) => {\n        if (data.user.emailVerified === false) {\n          setSeller();\n          setUser();\n          return false;\n        }\n        setUser(data.user);\n        return true;\n      });\n  }\n\n  async function verifyLogin(email, password) {\n    const data = await auth.signInWithEmailAndPassword(email, password);\n    return data;\n  }\n\n  async function subscribe(\n    email,\n    password,\n    firstName,\n    name,\n    tel,\n    gender,\n    birthDate\n  ) {\n    return auth\n      .createUserWithEmailAndPassword(email, password)\n      .then(async (userData) => {\n        await userData.user.updateProfile({\n          displayName: firstName,\n        });\n        await refUsers\n          .doc(userData.user.uid)\n          .set({\n            firstName: firstName,\n            name: name,\n            tel: tel,\n            gender: gender,\n            birthDate: birthDate,\n            email: email,\n          })\n          .catch((error) => {\n            return console.log(error);\n          });\n        userData.user.sendEmailVerification();\n        setUser();\n        setSeller();\n        sendInBlue_addContactSubscribe(email, firstName);\n        return true;\n      })\n      .catch((error) => {\n        return error.code;\n      });\n  }\n\n  async function sellerSubscribe(\n    companyName,\n    adress,\n    siret,\n    website,\n    firstName,\n    holiday,\n    lastName,\n    email,\n    phone,\n    password,\n    latLng,\n    referral\n  ) {\n    const referralToken =\n      Date.now().toString().substr(0, 5) +\n      Math.random().toString().substr(2, 7);\n    return auth\n      .createUserWithEmailAndPassword(email, password)\n      .then(async (userData) => {\n        await userData.user.updateProfile({\n          displayName: firstName,\n        });\n        await refSellers\n          .doc(userData.user.uid)\n          .set({\n            companyName: companyName,\n            adress: adress,\n            latLng: latLng,\n            siret: siret,\n            website: website,\n            firstName: firstName,\n            holiday: [],\n            lastName: lastName,\n            phone: phone,\n            email: email,\n            image_path: \"\",\n            status: \"subscribing\",\n            referralToken: referralToken,\n            referral: referral,\n          })\n          .catch((error) => {\n            return console.log(error);\n          });\n        if (referral.length === 12) {\n          await updateSellerAfterReferralNewSeller(referral, userData.user.uid);\n          sendInBlue_sendToParrainAboutNewReferral(referral);\n        }\n        sendInBlue_addContactSubscribe(\n          email,\n          firstName,\n          lastName,\n          userData.user.uid\n        );\n        setUser();\n        setSeller({\n          companyName: companyName,\n          adress: adress,\n          latLng: latLng,\n          siret: siret,\n          website: website,\n          firstName: firstName,\n          holiday: [],\n          lastName: lastName,\n          phone: phone,\n          email: email,\n          image_path: \"\",\n          status: \"subscribing\",\n          referralToken: referralToken,\n          referral: referral,\n          uid: userData.user.uid\n        });\n        userData.user.sendEmailVerification();\n        return true;\n      })\n      .catch((error) => {\n        return error.code;\n      });\n  }\n\n  async function saveHoliday(id, holi, year, month) {\n    await deleteHoliday(id, year, month)\n    for (let i = 0; i < holi.length; i++) {\n      refSellers\n      .doc(id)\n      .update({\n        holiday: firebase.firestore.FieldValue.arrayUnion(holi[i]),\n      })\n      .catch((error) => {\n        return console.log(error);\n      });\n    }\n    return true;\n  }\n\n  async function deleteHoliday(id, year, month) {\n\n    const selectMonth = await refSellers.doc(id).get();\n    const updateMonth = selectMonth.data().holiday;\n    if (updateMonth!=undefined) {\n      for (let i = 0; i < updateMonth.length; i++) {\n        var monthArray = updateMonth[i].split('.');\n        if (monthArray[0] == year && monthArray[1] == month) {\n          updateMonth.splice(i,1);\n          i--;\n        }\n      } \n      refSellers\n      .doc(id)\n      .update({\n        holiday: updateMonth,\n      })\n      .catch((error) => {\n        return console.log(error);\n      });\n    }\n  }\n\n  async function updateSellerAfterReferralNewSeller(referral, newSellerUid) {\n    const docs = await refSellers.where(\"referralToken\", \"==\", referral).get();\n    let docSeller = {};\n    docs.forEach((doc) => {\n      docSeller = { ...doc.data(), uid: doc.id };\n    });\n    if (\n      docSeller.uid !== undefined &&\n      docSeller.uid !== null &&\n      docSeller.uid.length > 10\n    ) {\n      refSellers\n        .doc(docSeller.uid)\n        .collection(\"referral\")\n        .add({\n          newSeller: newSellerUid,\n          date: Date.now(),\n        })\n        .catch((error) => {\n          return console.log(error);\n        });\n    }\n  }\n\n  function logout() {\n    return auth.signOut();\n  }\n\n  async function signInWithGoogle() {\n    const result = await auth.signInWithPopup(provider);\n    /** @type {firebase.auth.OAuthCredential} */\n    var credential = result.credential;\n\n    // This gives you a Google Access Token. You can use it to access the Google API.\n    var token = credential.accessToken;\n    // The signed-in user info.\n    var user = result.user;\n    var doc = await refUsers.doc(user.uid).get();\n    if (doc.exists) {\n      setUser(auth.currentUser);\n    } else {\n      await refUsers.doc(user.uid).set({\n        firstName: user.displayName,\n        email: user.email,\n      });\n      setUser(auth.currentUser);\n    }\n  }\n\n  // Ajouter un service au panier ( BBD et state )\n  async function addToCard(sellerID, item, quantity) {\n    // Checkons si ce service est deja present dans la liste de cette event\n    const newEvent = { ...event };\n\n    const refCurrentService = refEvents.doc(event.id).collection(\"services\");\n\n    const doc = await refCurrentService\n      .where(\"id\", \"==\", item.id)\n      .where(\"variation\", \"==\", item.variation)\n      .get();\n    const refService = doc.exists && doc.data();\n\n    // Si le service existe dans les service séléctionnés pour cet event, on actualise juste en renseignant la nouvelle quantity ( BBD et state )\n    if (doc.docs.length > 0) {\n      await refCurrentService\n        .doc(doc.docs[0].id)\n        .update({ quantity: quantity });\n      //Ici on chope le service concerné dans le state, puis on le modifie pour ajouter la quantity, et on actualise le state\n      const services = [...event.choosedServices];\n      const service = services.find(\n        (service) =>\n          service.variation === item.variation && service.id === item.id\n      );\n      service.quantity = quantity;\n      newEvent.choosedServices = services;\n      getChoosedServices(newEvent);\n      setLoadingButtonAddToCard(false);\n    }\n    // Mais si le service n'existe pas, on l'ajoute completement ( BBD et state )\n    else {\n      const itemCopy = { ...item };\n      itemCopy.quantity = quantity;\n      const newService = [];\n      await refCurrentService.add(itemCopy);\n      newService.push(item);\n      newEvent.choosedServices.push(newService[0]);\n      getChoosedServices(newEvent);\n      setLoadingButtonAddToCard(false);\n    }\n    setIsCardWidgetOpen(true);\n  }\n\n  function getServiceQuantityInCard(id) {\n    const services = [...event.choosedServices];\n    const servicefiltered = services.filter((service) => service.id === id);\n    let count = 0;\n    if (servicefiltered.length > 1)\n      servicefiltered.forEach((service) => (count += service.quantity));\n    else if (servicefiltered.length > 0) count += servicefiltered[0].quantity;\n    return count;\n  }\n\n  async function updateQuantityService(serviceID, quantity) {\n    if (quantity === undefined) return;\n    quantity = parseInt(quantity);\n\n    if (quantity !== 0) {\n      await refEvents\n        .doc(event.id)\n        .collection(\"services\")\n        .doc(serviceID)\n        .update({ quantity: quantity });\n    } else {\n      await refEvents\n        .doc(event.id)\n        .collection(\"services\")\n        .doc(serviceID)\n        .delete();\n    }\n\n    const eventData = await getEvent(auth.currentUser.uid);\n    await getChoosedServices(eventData);\n    setLoading(false);\n    return;\n  }\n\n  function formatLabelTimePicker(secs) {\n    if (secs === 86400) secs = 86360;\n    var minutes = Math.floor(secs / 60);\n    var hours = Math.floor(minutes / 60);\n    minutes = minutes % 60;\n    return `${hours}:${(\"0\" + minutes).slice(-2)}`;\n  }\n\n  async function getAuthUserFromHisEmail(email) {\n    return auth\n      .sendPasswordResetEmail(email)\n      .then(() => {\n        return true;\n      })\n      .catch(function (error) {\n        if (error.code === \"auth/invalid-email\") {\n          return \"invalid\";\n        } else if (error.code === \"auth/user-not-found\") {\n          return \"notexist\";\n        }\n      });\n  }\n\n  async function updateUserEmail(email) {\n    var user = auth.currentUser;\n    await user.updateEmail(email);\n    await refUsers.doc(user.uid).update({ email: email });\n    await user.sendEmailVerification();\n    return true;\n  }\n\n  async function getCurrentUserProfil() {\n    var uid = auth.currentUser.uid;\n    const doc = await refUsers.doc(uid).get();\n    return doc.exists ? doc.data() : null;\n  }\n\n  async function updateCurrentUserProfil(data) {\n    var uid = auth.currentUser.uid;\n    refUsers.doc(uid).update(data);\n    user.updateProfile({\n      displayName: data.firstName,\n    });\n  }\n\n  async function setImageSellerDB(url, token) {\n    await refSellers.doc(auth.currentUser.uid).update({\n      image_path: { url: url, token: token },\n    });\n  }\n\n  async function addSellerDescription(data, imgURL) {\n    await refSellers.doc(auth.currentUser.uid).update({\n      description: data.description,\n      category: data.category,\n      subcategory: data.subcategory,\n    });\n    setSeller({\n      ...seller,\n      description: data.description,\n      category: data.category,\n      subcategory: data.subcategory,\n      image_path: imgURL !== null && imgURL,\n    });\n  }\n\n  async function addSellerServices(services) {\n    setSeller({ ...seller, services: services });\n    services.forEach(async (service) => {\n      if (service.id.length > 2) {\n        return await refSellers\n          .doc(auth.currentUser.uid)\n          .collection(\"services\")\n          .doc(service.id)\n          .update(service);\n      }\n      return await refSellers\n        .doc(auth.currentUser.uid)\n        .collection(\"services\")\n        .add(service);\n    });\n  }\n\n  async function addOneSellerService(service) {\n    if (service.id.length > 2) {\n      return await refSellers\n        .doc(auth.currentUser.uid)\n        .collection(\"services\")\n        .doc(service.id)\n        .update(service);\n    }\n    const docRef = await refSellers\n      .doc(auth.currentUser.uid)\n      .collection(\"services\")\n      .add(service);\n    return docRef.id;\n  }\n\n  async function getServicesOfCurrentSellerFromDB() {\n    const services = await refSellers\n      .doc(auth.currentUser.uid)\n      .collection(\"services\")\n      .get();\n    var result = [];\n    services.docs.forEach((doc) => {\n      const newResult = { ...doc.data(), id: doc.id };\n      result.push(newResult);\n    });\n    return result;\n  }\n\n  async function addSellerDocuments(documents) {\n    return await refSellers.doc(auth.currentUser.uid).update({\n      documents: documents,\n    });\n  }\n\n  async function getSellerDocumentsFromDB() {\n    const query = await refSellers.doc(auth.currentUser.uid).get();\n    const doc = query.data();\n    const result = doc.documents && doc.documents;\n    if (result === undefined) return null;\n    return result;\n  }\n\n  async function setSellerStatus(sellerId, status) {\n    await refSellers.doc(sellerId).update({\n      status: status,\n    });\n    return setSeller({ ...seller, status: status });\n  }\n\n  async function updateSellerDocumentsStatus(sellerId, newDocumentsArray) {\n    await refSellers.doc(sellerId).update({\n      documents: newDocumentsArray,\n    });\n\n    newDocumentsArray.status === \"rejected\" &&\n      (await refSellers.doc(sellerId).update({\n        status: \"subscribing\",\n      }));\n  }\n\n  async function getSellersInDbWithUids(ids) {\n    let sellers = [];\n    for (const id in ids) {\n      const req = await refSellers.doc(ids[id]).get();\n      let result = req.data();\n      result.uid = req.id;\n      sellers = [...sellers, result];\n      if (sellers.length === ids.length) {\n        return sellers;\n      }\n    }\n  }\n\n  // TODO ICi on a la fonction pour delete la photo de profil qu'on ecrase en a remplaceant, faudra faire la meme avec les autres endroits du site avec uploda de picture\n  async function deleteOldSellerPicture(tokens, type) {\n    tokens.forEach((token) => {\n      var imageRef =\n        type && type === \"services\"\n          ? storage.ref(\"services\").child(token)\n          : storage.ref(\"sellers\").child(token);\n      imageRef.delete().catch((error) => console.log(error));\n    });\n  }\n\n  async function addSalesInDB(sales) {\n    return sales.map(async (sale) => await refSales.add(sale));\n  }\n\n  async function getSalesOfEventIdFromDB(eventId) {\n    const req = await refSales.where(\"eventID\", \"==\", eventId).get();\n    let salesOfEvent = [];\n    req.forEach((doc) => salesOfEvent.push(doc.data()));\n    return salesOfEvent;\n  }\n\n  async function getSalesOfSellerIdFromDB(sellerId) {\n    const req = await refSales.where(\"sellerID\", \"==\", sellerId).get();\n    let salesOfSeller = [];\n    req.forEach((doc) => salesOfSeller.push(doc.data()));\n    return salesOfSeller;\n  }\n\n  async function updateEventStatus(status) {\n    await refEvents.doc(event.id).update({ status: status });\n    return setEvent({ ...event, status: status });\n  }\n\n  async function clearEvent() {\n    setEvent(initialEvent);\n  }\n\n  async function getEventOfSaleFromDB(eventId) {\n    const req = await refEvents.doc(eventId).get();\n    let newEvent = req.data();\n    newEvent.choosedServices = [];\n\n    const reqServices = await refEvents\n      .doc(eventId)\n      .collection(\"services\")\n      .get();\n    reqServices.forEach((doc) => {\n      newEvent.choosedServices = [...newEvent.choosedServices, doc.data()];\n    });\n    return newEvent;\n  }\n\n  function formateToDate(timestamp) {\n    const date = new Date(timestamp);\n    const year = date.getUTCFullYear();\n    const month = date.getMonth() + 1;\n    const day = date.getDate();\n    return `${day}/${month < 10 ? \"0\" : \"\"}${month}/${year}`;\n  }\n\n  function formateToDateWithWords(timestamp) {\n    const date = new Date(\n      timestamp.seconds ? timestamp.seconds * 1000 : timestamp\n    );\n    const year = date.getUTCFullYear();\n    let month = date.getMonth() + 1;\n    const day = date.getDate();\n    month =\n      month === 1\n        ? \"janv\"\n        : month === 2\n        ? \"févr\"\n        : month === 3\n        ? \"mars\"\n        : month === 4\n        ? \"avril\"\n        : month === 5\n        ? \"mai\"\n        : month === 6\n        ? \"juin\"\n        : month === 7\n        ? \"juil\"\n        : month === 8\n        ? \"aout\"\n        : month === 9\n        ? \"sept\"\n        : month === 10\n        ? \"oct\"\n        : month === 11\n        ? \"nov\"\n        : month === 12 && \"déc\";\n    return `${day} ${month} ${year}`;\n  }\n\n  function formateToDateWithFullWords(timestamp) {\n    const date = new Date(timestamp);\n    const year = date.getUTCFullYear();\n    let month = date.getMonth() + 1;\n    const day = date.getDate();\n    month =\n      month === 1\n        ? \"janvier\"\n        : month === 2\n        ? \"février\"\n        : month === 3\n        ? \"mars\"\n        : month === 4\n        ? \"avril\"\n        : month === 5\n        ? \"mai\"\n        : month === 6\n        ? \"juin\"\n        : month === 7\n        ? \"juillet\"\n        : month === 8\n        ? \"aout\"\n        : month === 9\n        ? \"septembre\"\n        : month === 10\n        ? \"octobre\"\n        : month === 11\n        ? \"novembre\"\n        : month === 12 && \"décembre\";\n    return `${day} ${month} ${year}`;\n  }\n\n  async function updateSaleStatusInDB(saleID, sellerID, status) {\n    const req = await refSales\n      .where(\"sellerID\", \"==\", sellerID)\n      .where(\"id\", \"==\", saleID)\n      .get();\n    let saleUID;\n    let userID;\n    let sale;\n    req.forEach((doc) => {\n      sale = doc.data();\n      saleUID = doc.id;\n      userID = sale.userID;\n    });\n    const req2 = await refUsers.doc(userID).get();\n    const user = req2.data();\n    await refSales.doc(saleUID).update({ status });\n    sendInBlue_sendNotificationToUserOfSaleStatus(\n      user,\n      seller.companyName,\n      sale\n    );\n  }\n\n  async function updateSaleNote(saleID, note) {\n    const req = await refSales\n      .where(\"sellerID\", \"==\", auth.currentUser.uid)\n      .where(\"id\", \"==\", saleID)\n      .get();\n    let saleUID;\n    req.forEach((doc) => (saleUID = doc.id));\n    await refSales.doc(saleUID).update({ note });\n    return;\n  }\n\n  function dateTodayMinusByDay(day) {\n    const date = new Date();\n    date.setHours(date.getHours() - 24 * day);\n    return date;\n  }\n\n  async function addViewsOfSeller(sellerID) {\n    const visitorIP = await publicIp.v4();\n    const reqViews = await refSellers.doc(sellerID).collection(\"views\").get();\n\n    let recentViews = [];\n\n    reqViews.forEach(async (doc) => {\n      const view = doc.data();\n      if (\n        view.ip === visitorIP &&\n        view.date.seconds * 1000 > dateTodayMinusByDay(1)\n      ) {\n        recentViews = [...recentViews, view];\n      }\n    });\n    if (recentViews.length === 0) {\n      await refSellers\n        .doc(sellerID)\n        .collection(\"views\")\n        .add({\n          date: new Date(Date.now()),\n          ip: visitorIP,\n        });\n    }\n  }\n\n  async function getViewsOfSeller(sellerID) {\n    const reqViews = await refSellers.doc(sellerID).collection(\"views\").get();\n    let res = [];\n    reqViews.forEach((doc) => res.push(doc.data()));\n    return res;\n  }\n\n  async function isSellerAllowedToModifyAndDeleteService(serviceID) {\n    const req = await refSales\n      .where(\"sellerID\", \"==\", auth.currentUser.uid)\n      .get();\n    let sellerSales = [];\n    req.forEach((doc) => sellerSales.push(doc.data()));\n\n    let isAllowed = true;\n    sellerSales.forEach((sale) => {\n      if (sale.status !== \"passed\" && sale.status !== \"rejected\") {\n        sale.choosedServices.forEach((service) => {\n          if (service.id === serviceID) isAllowed = false;\n        });\n      }\n    });\n    return isAllowed;\n  }\n\n  async function deleteServiceOfSeller(serviceID) {\n    return await refSellers\n      .doc(auth.currentUser.uid)\n      .collection(\"services\")\n      .doc(serviceID)\n      .delete();\n  }\n\n  async function updateSellerProfil(data) {\n    await auth.currentUser.updateProfile({\n      displayName: data.firstName,\n    });\n    await refSellers.doc(auth.currentUser.uid).update({\n      companyName: data.companyName,\n      website: data.website,\n      firstName: data.firstName,\n      lastName: data.lastName,\n      phone: data.phone,\n    });\n    return setSeller({\n      ...seller,\n      companyName: data.companyName,\n      website: data.website,\n      firstName: data.firstName,\n      lastName: data.lastName,\n      phone: data.phone,\n    });\n  }\n\n  async function getSellerReferralCountFromDB() {\n    const res = await refSellers\n      .doc(auth.currentUser.uid)\n      .collection(\"referral\")\n      .get();\n    let newArray = [];\n    res.forEach((doc) => newArray.push(doc.data()));\n\n    let finalArray = [];\n    for (const item of newArray) {\n      const req = await refSellers.doc(item.newSeller).get();\n      const res = req.data();\n      if (res.status === \"opened\") finalArray = [...finalArray, res];\n    }\n    return finalArray.length;\n  }\n\n  async function getEventFromUid(uid) {\n    const req = await refEvents.doc(uid).get();\n    return req.data();\n  }\n\n  async function getReviewsOfSellerUid(uid) {\n    const req = await refSellers.doc(uid).collection(\"reviews\").get();\n    let reviews = [];\n    req.forEach((doc) => reviews.push(doc.data()));\n    return reviews;\n  }\n\n  async function addReviewOfSellerUid(sellerUID, eventID, note, comment, name) {\n    return await refSellers\n      .doc(sellerUID)\n      .collection(\"reviews\")\n      .add({\n        eventID: eventID,\n        note: note,\n        comment: comment,\n        name: name,\n        date: new Date(),\n        eventDate: event.date,\n      })\n      .then((res) => {\n        setTotalNoteOfSeller(sellerUID);\n        return true;\n      })\n      .catch((error) => console.log(error));\n  }\n\n  async function setTotalNoteOfSeller(sellerUID) {\n    const reqReviews = await refSellers\n      .doc(sellerUID)\n      .collection(\"reviews\")\n      .get();\n    const reviewsCount = reqReviews.docs.length;\n    let totalNote = 0;\n    reqReviews.forEach((doc) => {\n      const data = doc.data();\n      totalNote += data.note;\n    });\n    let sellerNote = totalNote / reviewsCount;\n    sellerNote = sellerNote.toFixed();\n    await refSellers.doc(sellerUID).update({\n      note: sellerNote,\n    });\n    return true;\n  }\n\n  async function getSellerPosition(sellerUID) {\n    const reqSellers = await refSellers.get();\n    let sellersWithNote = [];\n    reqSellers.forEach((doc) => {\n      const data = doc.data();\n      if (data.note === undefined) return;\n      const seller = { note: data.note, id: doc.id };\n      sellersWithNote.push(seller);\n    });\n\n    sellersWithNote.sort((a, b) => {\n      if (a.note > b.note) return -1;\n      if (a.note < b.note) return 1;\n      return 0;\n    });\n    const index = sellersWithNote.findIndex((item) => item.id === sellerUID);\n    return index + 1;\n  }\n\n  async function getSellersCount() {\n    const req = await refSellers.get();\n    return req.docs.length;\n  }\n\n  async function sendInBlue_addContactSubscribe(\n    email,\n    firstName,\n    lastName,\n    uid\n  ) {\n    createContact = {\n      email: email,\n      listIds: [4],\n      attributes: {\n        PRENOM: firstName,\n        NOM: lastName && lastName,\n        UID: uid ? uid : 0,\n      },\n    };\n\n    apiInstance.createContact(createContact).then(\n      function (data) {\n        console.log(\"API called successfully.\");\n      },\n      function (error) {\n        console.error(error);\n      }\n    );\n  }\n\n  async function sendInBlue_sendRecapToUserAfterPayment(email, sales, event) {\n    let newSales = [];\n    let paid = 0;\n    let total = 0;\n    sales.forEach((sale) => {\n      refSellers\n        .doc(sale.sellerID)\n        .get()\n        .then((doc) => {\n          const seller = doc.data();\n          const newSale = { ...sale, name: seller.companyName };\n          newSales = [...newSales, newSale];\n\n          total = total + sale.total;\n          paid = paid + sale.paid;\n        });\n    });\n\n    sendSmtpEmail = {\n      to: [\n        {\n          email: email,\n        },\n      ],\n      params: {\n        sales: newSales,\n        event: event,\n        paid: paid,\n        total: total,\n      },\n      templateId: 10,\n      headers: {\n        \"X-Mailin-custom\":\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\n      },\n    };\n\n    apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\n      function (data) {\n        console.log(\"API called successfully. Returned data: \");\n      },\n      function (error) {\n        console.error(error);\n      }\n    );\n  }\n\n  async function sendInBlue_sendNewSaleToSeller(email, services, event) {\n    sendSmtpEmail = {\n      to: [\n        {\n          email: email,\n        },\n      ],\n      params: {\n        services: services,\n        event: event,\n      },\n      templateId: 12,\n      headers: {\n        \"X-Mailin-custom\":\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\n      },\n    };\n\n    apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\n      function (data) {\n        console.log(\"API called successfully. Returned data: \");\n      },\n      function (error) {\n        console.error(error);\n      }\n    );\n  }\n\n  async function sendInBlue_sendNotificationToSellerOfReview(email, name) {\n    sendSmtpEmail = {\n      to: [\n        {\n          email: email,\n        },\n      ],\n      params: {\n        name: name,\n      },\n      templateId: 4,\n      headers: {\n        \"X-Mailin-custom\":\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\n      },\n    };\n\n    apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\n      function (data) {\n        console.log(\"API called successfully. Returned data: \");\n      },\n      function (error) {\n        console.error(error);\n      }\n    );\n  }\n\n  async function sendInBlue_sendNotificationToUserOfSaleStatus(\n    user,\n    prestName,\n    sale\n  ) {\n    sendSmtpEmail = {\n      to: [\n        {\n          email: user.email,\n        },\n      ],\n      params: {\n        prestName: prestName,\n        userName: user.firstName,\n        services: sale.choosedServices,\n      },\n      templateId:\n        sale.status === \"rejected\" ? 8 : sale.status === \"validated\" && 9,\n      headers: {\n        \"X-Mailin-custom\":\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\n      },\n    };\n\n    apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\n      function (data) {\n        console.log(\"API called successfully. Returned data: \");\n      },\n      function (error) {\n        console.error(error);\n      }\n    );\n  }\n\n  async function getTotalAmountDueToSeller(sellerId) {\n    const req = await refSales\n      .where(\n        \"sellerID\",\n        \"==\",\n        sellerId !== undefined ? sellerId : auth.currentUser.uid\n      )\n      .get();\n    let salesOfSeller = [];\n    req.forEach((doc) => {\n      salesOfSeller = [...salesOfSeller, doc.data()];\n    });\n    const validSales = salesOfSeller.filter(\n      (sale) => sale.total === sale.paid && sale.status === \"validated\"\n    ); // à mettre en passed je pense\n    const prices = validSales.map((sale) => sale.price);\n    let finalAmount = 0;\n    prices.forEach((price) => {\n      finalAmount = finalAmount + price;\n    });\n    return finalAmount;\n  }\n\n  async function sendInBlue_sendPaymentRequestToAdmin(sellerId) {\n    const amount = await getTotalAmountDueToSeller(sellerId);\n\n    sendSmtpEmail = {\n      to: [\n        {\n          email: process.env.REACT_APP_ADMIN_EMAIL,\n        },\n      ],\n      params: {\n        sellerId: sellerId,\n        amount: amount,\n      },\n      templateId: 16,\n      headers: {\n        \"X-Mailin-custom\":\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\n      },\n    };\n\n    apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\n      function (data) {\n        console.log(\"API called successfully. Returned data: \");\n      },\n      function (error) {\n        console.error(error);\n      }\n    );\n  }\n\n  async function sendInBlue_sendBillRequestToAdmin(transactionID, sellerID) {\n    sendSmtpEmail = {\n      to: [\n        {\n          email: process.env.REACT_APP_ADMIN_EMAIL,\n        },\n      ],\n      params: {\n        sellerId: sellerID,\n        transactionId: transactionID,\n      },\n      templateId: 17,\n      headers: {\n        \"X-Mailin-custom\":\n          \"Content-Type:application/json|custom_header_2:custom_value_2\",\n      },\n    };\n\n    return apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\n      function (data) {\n        console.log(\"API called successfully. Returned data: \");\n        return true;\n      },\n      function (error) {\n        console.error(error);\n        return false;\n      }\n    );\n  }\n\n  async function sendInBlue_addContactToNewsletter(email) {\n    createContact = {\n      email: email,\n      listIds: [5],\n    };\n\n    return apiInstance.createContact(createContact).then(\n      function (data) {\n        return true;\n      },\n      function (error) {\n        console.log(error);\n        return false;\n      }\n    );\n  }\n\n  async function sendInBlue_sendInvitations(emails, message, user, event) {\n    let emailsArray = [];\n    let emailsArrayWithList = [];\n    emails.forEach((email) => {\n      const newEntry = { email: email };\n      const newEntryList = {\n        email: email,\n        listIds: [6],\n        attributes: {\n          EVENT_DATE: new Date(event.date),\n        },\n      };\n      emailsArray = [...emailsArray, newEntry];\n      emailsArrayWithList = [...emailsArrayWithList, newEntryList];\n    });\n\n    const eventDate = formateToDateWithFullWords(event.date);\n    const startAt = formatLabelTimePicker(event.startAt);\n    const endAt = formatLabelTimePicker(event.endAt);\n    const creneaux = startAt + \" et \" + endAt;\n\n    sendSmtpEmail = {\n      to: emailsArray,\n      params: {\n        prenom: user.displayName,\n        message: message,\n        nomEvent: event.name,\n        adresse: event.place,\n        invites: event.people,\n        date: eventDate,\n        creneaux: creneaux,\n      },\n      templateId: 7,\n      headers: {\n        \"X-Mailin-custom\":\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\n      },\n    };\n\n    return apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\n      function (data) {\n        return true;\n      },\n      function (error) {\n        return false;\n      }\n    );\n  }\n\n  async function getWishList(userID) {\n    const req = await refUsers.doc(userID).get();\n    const res = req.data();\n    return res.wishlist || [];\n  }\n\n  async function deleteItemFromWishList(sellerID) {\n    let newWishList = await getWishList(auth.currentUser.uid);\n    newWishList = newWishList.filter((item) => item !== sellerID);\n    await refUsers.doc(auth.currentUser.uid).update({\n      wishlist: newWishList,\n    });\n    return newWishList;\n  }\n\n  async function addItemToWishListOfUser(sellerID) {\n    let newWishList = await getWishList(auth.currentUser.uid);\n    newWishList = [...newWishList, sellerID];\n    refUsers.doc(auth.currentUser.uid).update({\n      wishlist: newWishList,\n    });\n    return;\n  }\n\n  async function getWishListCountOfSeller(sellerID) {\n    const users = await refUsers\n      .where(\"wishlist\", \"array-contains\", sellerID)\n      .get();\n    return users.docs.length;\n  }\n\n  async function isSellerInWishListOfUser(id) {\n    const currentWishList = await getWishList(auth.currentUser.uid);\n    const isSellerInList = currentWishList.filter((item) => item === id);\n\n    return isSellerInList.length > 0 ? true : false;\n  }\n\n  async function getEmailOfSellerWithUid(sellerID) {\n    const query = await refSellers.doc(sellerID).get();\n    const result = query.data();\n    return result.email;\n  }\n\n  async function sendInBlue_sendToParrainAboutNewReferral(referralCode) {\n    // Aller choper en bdd le seller correspondant au referral code\n    const query = await refSellers\n      .where(\"referralToken\", \"==\", referralCode)\n      .get();\n    const result = query[0].data();\n    const email = result.email;\n\n    // Puis envoyer à ce seller le mail de new referral\n    sendSmtpEmail = {\n      to: [\n        {\n          email: email,\n        },\n      ],\n      params: {\n        name: \"a\",\n      },\n      templateId: 14,\n      headers: {\n        \"X-Mailin-custom\":\n          \"custom_header_1:custom_value_1|custom_header_2:custom_value_2\",\n      },\n    };\n\n    apiInstanceSend.sendTransacEmail(sendSmtpEmail).then(\n      function (data) {\n        console.log(\"API called successfully. Returned data: \");\n      },\n      function (error) {\n        console.error(error);\n      }\n    );\n  }\n\n  function checkoutStart(price) {\n    const saleToken =\n      Date.now().toString().substr(0, 9) +\n      Math.random().toString().substr(2, 9);\n    refEvents.doc(event.id).update({\n      saleToken: saleToken,\n    });\n    createStripeCheckout({\n      price: price,\n      eventId: event.id,\n      saleToken: saleToken,\n    })\n      .then((response) => {\n        const sessionId = response.data.id;\n        stripe.redirectToCheckout({ sessionId: sessionId });\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function checkoutSubscription() {\n    const saleToken =\n      Date.now().toString().substr(0, 9) +\n      Math.random().toString().substr(2, 9);\n    refSellers.doc(seller.uid).update({\n      saleToken: saleToken,\n    });\n    createStripeSubscribe({\n      sellerID: seller.uid,\n      saleToken: saleToken,\n    })\n      .then((response) => {\n        const sessionId = response.data.id;\n        stripe.redirectToCheckout({ sessionId: sessionId });\n      })\n      .catch((error) => console.log(error));\n  }\n\n  async function getSaleTokenOfEventFromDb() {\n    const req = await refEvents.doc(event.id).get();\n    const res = req.data();\n    return res.saleToken;\n  }\n\n  async function checkoutCheck(session_id) {\n    return checkStripeReturn({ session_id: session_id }).then((result) => {\n      return {\n        status: result.data.payment_status,\n        amount: result.data.amount_total,\n        id: result.data.payment_intent || result.data.subscription,\n      };\n    });\n  }\n\n  async function addFoodTypeToSeller(type) {\n    if (type === \"Aucun\") return;\n    let newSeller = { ...seller };\n    let newFoodTypes = [];\n    if (seller.foodTypes === undefined) {\n      newFoodTypes.push(type);\n    } else {\n      newFoodTypes = seller.foodTypes;\n      newFoodTypes.push(type);\n    }\n    newSeller[\"foodTypes\"] = newFoodTypes;\n    await refSellers.doc(auth.currentUser.uid).update({\n      foodTypes: newFoodTypes,\n    });\n    setSeller(newSeller);\n  }\n\n  async function deleteFoodTypeToSeller(serviceID) {\n    const req = await refSellers\n      .doc(auth.currentUser.uid)\n      .collection(\"services\")\n      .doc(serviceID)\n      .get();\n    const data = req.data();\n    const type = data.foodType;\n\n    if (type === \"Aucun\") return;\n    let newSeller = { ...seller };\n    let newFoodTypes = [];\n    if (seller.foodTypes === undefined) return;\n    else {\n      newFoodTypes = seller.foodTypes;\n      let indexes = seller.foodTypes\n        .map((item, index) => (item === type ? index : \"\"))\n        .filter(String);\n      if (indexes[0] === -1) return;\n      else if (newFoodTypes.length > 1) {\n        newFoodTypes.splice(indexes[0], 1);\n      } else newFoodTypes = [];\n\n      newSeller[\"foodTypes\"] = newFoodTypes;\n      await refSellers.doc(auth.currentUser.uid).update({\n        foodTypes: newFoodTypes,\n      });\n      setSeller(newSeller);\n    }\n  }\n  return (\n    <UserContext.Provider\n      value={{\n        login,\n        subscribe,\n        sellerSubscribe,\n        saveHoliday,\n        logout,\n        user,\n        seller,\n        event,\n        setUser,\n        setSeller,\n        addEvent,\n        addToCard,\n        getServiceQuantityInCard,\n        loadingButtonAddToCard,\n        setLoadingButtonAddToCard,\n        setCurrentStepProcess,\n        currentStepProcess,\n        formatLabelTimePicker,\n        getAuthUserFromHisEmail,\n        updateUserEmail,\n        updateQuantityService,\n        signInWithGoogle,\n        getCurrentUserProfil,\n        verifyLogin,\n        updateCurrentUserProfil,\n        addSellerDescription,\n        setImageSellerDB,\n        addSellerServices,\n        addOneSellerService,\n        getServicesOfCurrentSellerFromDB,\n        addSellerDocuments,\n        getSellerDocumentsFromDB,\n        setSellerStatus,\n        updateSellerDocumentsStatus,\n        getSellersInDbWithUids,\n        deleteOldSellerPicture,\n        addSalesInDB,\n        updateEventStatus,\n        getSalesOfEventIdFromDB,\n        clearEvent,\n        getSalesOfSellerIdFromDB,\n        getEventOfSaleFromDB,\n        formateToDate,\n        formateToDateWithWords,\n        updateSaleStatusInDB,\n        updateSaleNote,\n        addViewsOfSeller,\n        getViewsOfSeller,\n        isSellerAllowedToModifyAndDeleteService,\n        deleteServiceOfSeller,\n        updateSellerProfil,\n        getSellerReferralCountFromDB,\n        getEventFromUid,\n        getReviewsOfSellerUid,\n        addReviewOfSellerUid,\n        sendInBlue_sendNotificationToSellerOfReview,\n        sendInBlue_addContactToNewsletter,\n        sendInBlue_sendInvitations,\n        sendInBlue_sendRecapToUserAfterPayment,\n        sendInBlue_sendNewSaleToSeller,\n        sendInBlue_sendToParrainAboutNewReferral,\n        sendInBlue_sendPaymentRequestToAdmin,\n        getWishList,\n        deleteItemFromWishList,\n        addItemToWishListOfUser,\n        isSellerInWishListOfUser,\n        getEmailOfSellerWithUid,\n        checkoutStart,\n        getSaleTokenOfEventFromDb,\n        checkoutCheck,\n        getTotalAmountDueToSeller,\n        homeSellersDisplay,\n        setHomeSellersDisplay,\n        getWishListCountOfSeller,\n        getSellerPosition,\n        getSellersCount,\n        sendInBlue_sendBillRequestToAdmin,\n        addFoodTypeToSeller,\n        deleteFoodTypeToSeller,\n        isCardWidgetOpen,\n        setIsCardWidgetOpen,\n        checkoutSubscription,\n        refSellers,\n      }}\n    >\n      {!loading && children}\n    </UserContext.Provider>\n  );\n};\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/assets/base-context.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/assets/base.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/PrivateRoute.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Header.js",["1055","1056","1057","1058","1059","1060","1061","1062"],"import React, { useState, useEffect } from 'react';\nimport '../styles/Header.css'\nimport { Link, useHistory } from \"react-router-dom\";\nimport logo from \"../images/logoBlack.svg\"\nimport logoWhite from \"../images/logoWhite.svg\"\nimport { useAuth } from \"../context/userContext\";\nimport { CSSTransition } from 'react-transition-group'\nimport { useLocation } from 'react-router-dom'\nimport { HamburgerSlider } from 'react-animated-burgers'\nimport disableScroll from 'disable-scroll';\n\nconst Header = ({ active }) => {\n\n    const { logout, user, seller } = useAuth() // context\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n    const [isNavActive, setIsNavActive] = useState(false)\n    const [isPopinActive, setIsPopinActive] = useState(false)\n    const [isButtonHover, setIsButtonHover] = useState(false)\n    const [isScroll, setIsScroll] = useState(false)\n\n    const history = useHistory()\n    const location = useLocation()\n\n    const isMobile = () => (windowsWidth > 1100) ? false : true\n    const handleResize = (width) => setWindowsWidth(width)\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n        disableScroll.off()\n    }, [])\n\n    async function handleLogOut() {\n        try {\n            await logout()\n        } catch {\n            console.log(\"erreur logout\")\n        }\n    }\n\n    function handleBurgerClicked() {\n        isScroll ? disableScroll.off() : disableScroll.on()\n        setIsNavActive(!isNavActive)\n        setIsScroll(!isScroll)\n    }\n\n    const accountButton = () => {\n        return <div\n            className=\"header_button_login\"\n            onMouseLeave={() => setTimeout(() => setIsButtonHover(false), 100)}\n            onMouseOver={() => setIsButtonHover(true)}\n        >\n            {\n                (!user && !seller) ?\n                    <button\n                        onClick={() => setIsPopinActive(!isPopinActive)}\n                        className={(location.pathname === \"/contact\" || isPopinActive) ? \"white margintopbutton smallButton\" : \"orange smallButton\"}>\n                        {isPopinActive ? \"Fermer\" : \"Se connecter\"}\n                    </button>\n                    : (user) ?\n                        <>\n                            <button\n                                onClick={() => history.push(\"/compte\")}\n                                className={`smallButton ${location.pathname === \"/contact\" ? \"white\" : \"orange\"} ${isButtonHover ? \"onHover\" : \"\"}`}>\n                                Mon compte\n                            </button>\n                            {isMobile() && <button onClick={() => handleLogOut()} className=\"white largeButton\">Deconnexion</button>}\n                            {(!isMobile() && isButtonHover) &&\n                                <div className=\"subMenu\">\n                                    <a href=\"/\" onClick={() => handleLogOut()}>Se déconnecter</a>\n                                </div>\n                            }\n                        </>\n                        : (seller) &&\n                        <>\n                            <button\n                                onClick={() => history.push(\"/mon-compte-partenaire\")}\n                                className={location.pathname === \"/contact\" ? \"white smallButton\" : \"orange smallButton\"}>\n                                Mon compte\n                            </button>\n                            {isMobile() && <button onClick={() => handleLogOut()} className=\"white largeButton\">Deconnexion</button>}\n                            {(!isMobile() && isButtonHover) &&\n                                <div className=\"subMenu\">\n                                    <a href=\"/\" onClick={() => handleLogOut()}>Se déconnecter</a>\n                                </div>\n                            }\n                        </>\n            }\n\n            <CSSTransition\n                in={isPopinActive}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <div className=\"loginPopup_background\">\n                    <div className=\"loginPopup\">\n                        <h1 class=\"chooseheader\">Que souhaitez-vous faire ?</h1>\n                        <div className=\"loginChoose\">\n                            <div>\n                                <h1>Vous êtes particulier ?</h1>\n                                <p>Pour organiser votre évènement sans prise de tête c’est par ici !</p>\n                                <button onClick={() => history.push('/compte')} className=\"orange smallButton\">Je me connecte</button>\n                            </div>\n                            {/* {isMobile() && <div className=\"divider\"></div>} */}\n                            <div>\n                                <h1>Vous êtes partenaire ?</h1>\n                                <p>Boostez vos revenus en toute simplicité et entrez dans leurs fêtes !</p>\n                                <button onClick={() => history.push('/acces-prestataire')} className=\"orange smallButton\">Je me connecte</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </CSSTransition>\n        </div>\n    }\n\n    return (\n        <header\n            className={`${isMobile() && \"mobile\"} ${location.pathname === \"/\" && \" white\"} ${location.pathname === \"/contact\" && \"contact\"}`}\n        >\n            <div onClick={() => history.push('/')} className=\"logoContainer\">\n                <img alt=\"\" src={((location.pathname === \"/\" && !isNavActive) || location.pathname === \"/contact\" && !isNavActive) ? logoWhite : logo} />\n            </div>\n            <CSSTransition\n                in={isNavActive || !isMobile()}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <nav className={isNavActive && \"active\"}>\n                    <ul>\n                        <li className={isLinkActive(\"/\")}>\n                            <Link to=\"/\">Accueil</Link>\n                        </li>\n                        <li className={isLinkActive(\"/qui-sommes-nous\")}>\n                            <Link to=\"/qui-sommes-nous\">Qui sommes-nous ?</Link>\n                        </li>\n                        {seller && \n                            <li className={isLinkActive(\"/mon-compte-partenaire/process/description\")}>\n                                <Link to=\"/mon-compte-partenaire/process/description\">Accès entreprise</Link>\n                            </li>\n                        }\n                        <li className={isLinkActive(\"/blog\")}>\n                            <Link to=\"/blog\">Blog</Link>\n                        </li>\n                        <li className={isLinkActive(\"/contact\")}>\n                            <Link to=\"/contact\">Contact</Link>\n                        </li>\n                        {\n                            isMobile() &&\n                            <>\n                                <li>\n                                    <Link to=\"/faq\">FAQ</Link>\n                                </li>\n                                {/* <li>\n                                    <Link to=\"/faq\">Mentions légales</Link>\n                                </li>\n                                <li className=\"socialNetwork\">\n                                    <span>Facebook</span>\n                                    <span>Twitter</span>\n                                    <span>Instagram</span>\n                                </li> */}\n                                {accountButton()}\n                            </>\n\n                        }\n                    </ul>\n                </nav>\n            </CSSTransition>\n            {!isMobile() && accountButton()}\n            {isMobile() &&\n                <div className=\"burgerMenuContainer\">\n                <style>\n                    {\n                    `\n                    .sc-dlfnuX {\n                        width: ${!isNavActive ? '25px !important' : '40px !important'};\n                        background-color:${((location.pathname === \"/\" && !isNavActive) || location.pathname === \"/contact\" && !isNavActive) ? 'white !important' : 'black !important'};\n                        right: 0px;\n                    }\n                    .sc-dlfnuX::before {\n                        width: 40px !important;\n                        background-color: ${((location.pathname === \"/\" && !isNavActive) || location.pathname === \"/contact\" && !isNavActive) ? 'white !important;' : 'black !important;'};\n                        right: 0px;\n                        }\n                        \n                    .sc-dlfnuX::after {\n                    width: ${!isNavActive ? '33px !important' : '40px !important'};\n                    background-color: ${((location.pathname === \"/\" && !isNavActive) || location.pathname === \"/contact\" && !isNavActive) ? 'white !important' : 'black !important'};\n                    right: 0px;\n                    }\n                    `\n                    }\n                </style>\n                    <HamburgerSlider onClick={() => handleBurgerClicked()} isActive={isNavActive} />\n                </div>\n            }\n        </header>\n    )\n}\n\nfunction isLinkActive(link) {\n    if (link === window.location.pathname) { return \"active\" }\n}\n\nexport default Header;","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Footer.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/ProcessContainer.js",["1063","1064","1065"],"import React, { useState, useEffect } from \"react\";\nimport logo from \"../images/logoBlack.svg\";\nimport { useHistory } from \"react-router-dom\";\nimport ProgressBar from \"react-bootstrap/ProgressBar\";\nimport CartWidget from \"./CartWidget\";\nimport { useAuth } from \"../context/userContext\";\n\nconst ProcessContainer = (props) => {\n  const history = useHistory();\n  const { currentStepProcess, user } = useAuth();\n\n  const [windowsWidth, setWindowsWidth] = useState(window.innerWidth);\n\n  const isMobile = () => (windowsWidth > 1100 ? false : true);\n  const handleResize = (width) => setWindowsWidth(width);\n\n  useEffect(() => {\n    if (user.emailVerified === false) history.push(\"/dashboard\");\n  });\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth));\n  }, [window.innerWidth]);\n\n  function getPourcentBar() {\n    if (windowsWidth > 1100) {\n      return currentStepProcess === 1\n        ? 24.5\n        : currentStepProcess === 2 || currentStepProcess === 21\n        ? 52.6\n        : (currentStepProcess === 3 ||\n            currentStepProcess === 31 ||\n            currentStepProcess === 32) &&\n          80;\n    } else return 100;\n  }\n\n  function handlePreviousStep() {\n    const lastStep = currentStepProcess;\n    if (lastStep == 21) history.push(\"/creer-mon-evenement/etape-2\");\n    else if (lastStep === 31 || lastStep === 32) history.push(\"/dashboard\");\n    else if (lastStep > 1 && lastStep !== 21)\n      history.push(`/creer-mon-evenement/etape-${lastStep - 1}`);\n    else history.push(\"/dashboard\");\n  }\n\n  return (\n    <div>\n      <div className=\"headerStepCreateEvent bootstrapStyle\">\n        <header className=\"process\">\n          <div>\n            <div\n              onClick={() => history.push('/dashboard')} className={!isMobile() ? \"logoContainer\" : \"logoContainer mobile\"}\n            >\n              <img alt=\"\" className=\"logo\" src={logo} />\n            </div>\n            <div className={!isMobile() ? \"stepBack\" : \"stepBack mobile\"}>\n              <a href=\"#\" onClick={() => handlePreviousStep()}>\n                Revenir à l'étape précédente\n              </a>\n            </div>\n            {currentStepProcess !== 1 &&\n              currentStepProcess !== 3 &&\n              currentStepProcess !== 31 &&\n              currentStepProcess !== 32 && <CartWidget isMobile={isMobile()} />}\n          </div>\n          {!isMobile() ? (\n            <div className=\"stepCreateEvent\">\n              <div\n                className={\n                  currentStepProcess === 1 ? \"step left active\" : \"step left\"\n                }\n              >\n                <p>Partie 1</p>\n              </div>\n              <div\n                className={\n                  currentStepProcess === 2 || currentStepProcess === 21\n                    ? \"step active\"\n                    : \"step\"\n                }\n              >\n                <p>Partie 2</p>\n              </div>\n              <div\n                className={\n                  currentStepProcess === 3 ||\n                  currentStepProcess === 31 ||\n                  currentStepProcess === 32\n                    ? \"step right active\"\n                    : \"step right\"\n                }\n              >\n                <p>Partie 3</p>\n              </div>\n            </div>\n          ) : (\n            <div className=\"stepCreateEvent mobile\">\n              <div className=\"step active\">\n                <p>Partie {currentStepProcess.toString().substr(0, 1)}</p>\n              </div>\n            </div>\n          )}\n        </header>\n        <ProgressBar now={getPourcentBar()} />\n      </div>\n    </div>\n  );\n};\n\nexport default ProcessContainer;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/PrivateSellerRoute.js",["1066","1067"],"import React from 'react'\nimport { Redirect, Route } from 'react-router-dom'\nimport { useAuth } from '../context/userContext'\n\nexport default function PrivateRoute({ comp: Component, ...rest }) {\n    const { seller } = useAuth()\n    return (\n        <Route\n            {...rest}\n            render={props => {\n                return /*seller ? */<Component {...props} />/* : <Redirect to='/acces-prestataire' />*/\n            }}\n        >\n        </Route>\n    )\n}","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_ProcessContainer.js",["1068","1069"],"import React, { useState, useEffect } from \"react\";\nimport logo from '../images/Logo Nivid - Noir.png'\nimport { useHistory } from \"react-router-dom\";\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport { useAuth } from '../context/userContext'\n\n\nconst Prest_ProcessContainer = () => {\n\n    const history = useHistory()\n    const { currentStepProcess } = useAuth()\n\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n\n    }, [window.innerWidth])\n\n    const isMobile = () => (windowsWidth > 1100 ? false : true);\n    const handleResize = (width) => setWindowsWidth(width);\n\n    function getPourcentBar() {\n        if (windowsWidth > 1100) {\n            if (currentStepProcess === 0) { return 0; }\n            else if (currentStepProcess === 1) { return 24.5; }\n            else if (currentStepProcess === 2) { return 52.6; }\n            else if (currentStepProcess === 3 || currentStepProcess === 4) { return 80; }\n        }\n        else {\n            return 100\n        }\n    }\n\n    function handlePreviousStep() {\n        const lastStep = currentStepProcess\n        if (lastStep === 1) {\n            history.push('/mon-compte-partenaire/process/abonnement')\n        }\n        if (lastStep === 2) {\n            history.push('/mon-compte-partenaire/process/description')\n        }\n        else if (lastStep === 3) {\n            history.push('/mon-compte-partenaire/process/services')\n        }\n        else if (lastStep === 4) {\n            history.push('/mon-compte-partenaire/process/verification-1')\n        }\n        else {\n            history.push('/mon-compte-partenaire')\n        }\n    }\n\n    return currentStepProcess !== 0 && (\n        <div>\n            <div className=\"headerStepCreateEvent bootstrapStyle\">\n                <header>\n                    <div>\n                        <div onClick={() => history.push('/dashboard')} className={!isMobile() ? \"logoContainer\" : \"logoContainer mobile\"}>\n                            <img alt=\"\" className=\"logo\" src={logo} />\n                        </div>\n                        <div className={!isMobile() ? \"stepBack\" : \"stepBack mobile\"}>\n                            <a href=\"#\" onClick={() => handlePreviousStep()}>Revenir à l'étape précédente</a>\n                        </div>\n                    </div>\n                </header>\n                    {!isMobile() ?\n                        <div className=\"stepCreateEvent\">\n                            <div className={currentStepProcess === 1 ? \"step left active\" : \"step left\"}>\n                                <p>Prestations</p>\n                            </div>\n                            <div className={currentStepProcess === 2 ? \"step active\" : \"step\"}>\n                                <p>Services & Produits</p>\n                            </div>\n                            <div className={currentStepProcess === 3 || currentStepProcess === 4 ? \"step right active\" : \"step right\"}>\n                                <p>Vérification</p>\n                            </div>\n                        </div>\n                        :\n                        <div className=\"stepCreateEvent mobile\">\n                            <div className=\"step active\">\n                                <p>{\n                                    currentStepProcess === 1 ? \"Prestations\"\n                                        : currentStepProcess === 2 ? \"Services & Produits\"\n                                            : (currentStepProcess === 3 || currentStepProcess === 4) && \"Vérification\"\n                                }</p>\n                            </div>\n                        </div>\n                    }\n                <ProgressBar now={getPourcentBar()} />\n            </div>\n        </div>\n    )\n}\n\nexport default Prest_ProcessContainer;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/ScrollToTop.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Pepites.js",["1070","1071"],"import React, { useState, useEffect } from \"react\";\nimport '../styles/Pepites.css'\nimport imgTest from '../images/CARREMENT-FLEUR-FLEURISTE-FRANCHISE-BOUTIQUE-MAGASIN__7_.png'\nimport Image from '../components/utilities/Image'\nimport { useAuth } from \"../context/userContext\";\nimport { useHistory } from 'react-router-dom'\n\n\nconst Pepites = (props) => {\n    const history = useHistory()\n    const { homeSellersDisplay } = useAuth() // context\n\n    useEffect(() => {\n        homeSellersDisplay.length === 0 && history.push('/')\n    })\n\n    return (\n        <>\n            <div className=\"pepitesPage\">\n                <h1>Les <span>pépites</span> de votre quartier</h1>\n                <p>En plus de la grande qualité de services et produits qu’ils offrent, nos prestataires sont sélectionnés selon nos critères écologiques et sociétaux.</p>\n                <div className=\"pepitesPage_content\">\n                    {\n                        homeSellersDisplay\n                        .slice(0, 4)\n                        .map(item => {\n                            return <div className=\"pepitesPage_item\">\n                                <div className=\"pepitesPage_item_top\">\n                                    <div className=\"pepitesPage_item_top_img\">\n                                        <Image url={item.image_path.url} />\n                                    </div>\n                                </div>\n                                <div className=\"pepitesPage_item_bottom\">\n                                    <h4>{item.companyName}</h4>\n                                    <p>{item.subcategory}</p>\n\n                                </div>\n                            </div>\n                        })\n                    }\n                </div>\n                <div className=\"pepitesPage_bottom\">\n                    <h3>Ça vous inspire ?</h3>\n                    <button onClick={() => history.push('/dashboard')} className=\"green largeButton\">Je commence mon évènement</button>\n                </div>\n            </div>\n        </>\n    )\n}\nexport default Pepites;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Login.js",["1072","1073","1074","1075","1076","1077","1078","1079"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/Login.css\"\nimport { Link, useHistory } from 'react-router-dom'\nimport logo from \"../images/logoBlack.svg\"\nimport { useAuth } from \"../context/userContext\"; // context\nimport footer from \"../components/Footer\"\n\nimport { ButtonLarge } from '../components/utilities/Buttons'\n\nconst Login = () => {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n    const [loginFlag, setLoginFlag] = useState(0)\n    const { login, signInWithGoogle } = useAuth() // context\n    const history = useHistory()\n    const isMobile = () => (windowsWidth > 1100) ? false : true\n\n\n    async function handleLoginForm(e) {\n        e.preventDefault()\n        try {\n            const res = await login(email, password)\n            if (res === false) {\n                setPassword(\"\")\n                setError(\"Merci de confirmer votre adresse email.\")\n            }\n            else {\n                history.push('/dashboard')\n            }\n        } catch {\n            setPassword(\"\")\n            setError(\"Nous n'avons pas réussi à vous identifier, veuillez réessayer.\")\n        }\n    }\n\n    const loginF = (flag) => {\n        setLoginFlag(flag)\n    }\n    return (\n        <div className=\"loginSubscribeContainer\">\n            <header>\n                <div className=\"logoContainer\">\n                    <img alt=\"\" src={logo} />\n                </div>\n                <div className=\"blocLoginTopRight\">\n                    <Link to=\"/\"><img alt=\"\" src={'/images/backArrow.png'} />Revenir à l'accueil</Link>\n                </div>\n            </header>\n            <div className=\"loginPageContainer\">\n                <div className=\"loginContainer\">\n                    <h1>Connectez-vous à Nivid</h1>\n                    <p>Gérez votre compte, consultez vos événements et bien plus encore.</p>\n                    {error && (\n                        <div className=\"errorMessage\">\n                            {error}\n                        </div>\n                    )}\n                    <div style={{position:'relative',opacity:loginFlag == 0 ? 1 : 0, zIndex:loginFlag == 0 ? '1' : '0', transition:'all 0.5s'}}>\n                        <div className=\"googleSignInContainer\">\n                            <buttton className=\"googleSignInButton\" onClick={() => signInWithGoogle()}>\n                                <div className=\"googleSignInButtonImageContainer\">\n                                    <img alt=\"\" src={'/images/google.png'} />\n                                </div>\n                                <span>Connectez-vous avec Google</span>\n                            </buttton>\n                        </div>\n                        <div className=\"googleSignInContainer\">\n                            <buttton className=\"googleSignInButton\" onClick={() => loginF(1)}>\n                                <div className=\"googleSignInButtonImageContainer\">\n                                    <img alt=\"\" src={'/images/user.png'} />\n                                </div>\n                                <span>Utiliser mon e-mail</span>\n                            </buttton>\n                        </div>\n                    </div>\n                    <form class=\"formsignin\" style={{position:'absolute',opacity:loginFlag == 1 ? 1 : 0, zIndex:loginFlag == 1 ? '1' : '0', transition:'all 0.5s'}}>\n                        <div className=\"formLine\">\n                            <div className=\"formField\">\n                                <label>Identifiant / Adresse email</label>\n                                <input value={email} type=\"email\" name=\"email\" onChange={(e) => setEmail(e.target.value)} />\n                            </div>\n                        </div>\n\n                        <div className=\"formLine\">\n                            <div className=\"formField\">\n                                <label>Mot de passe<span onClick={() => history.push(\"/mot-de-passe-oublie\")}>Mot de passe oublié ?</span></label>\n                                <input value={password} type=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)} />\n                            </div>\n                        </div>\n\n                        <div className=\"formLine\">\n                            <div className=\"formField\">\n                                <ButtonLarge\n                                    onClick={(e) => handleLoginForm(e)}\n                                    color=\"orange\"\n                                    value=\"C’est parti !\"\n                                    backgroundColor=\"rgba(245, 192, 67)\"\n                                    marginTop=\"10px\"\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"formLine\">\n                            {/* <div className=\"formField loginBottomBloc\">\n                                <p>Rejoindre par d'autres ?</p>\n                                <Link onClick={() => loginF(0)}>retour</Link>\n                    </div> */}\n                        </div>\n                    </form>\n\n                    {/* <div className=\"LoginDiviserContainer\">\n                        <div className=\"LoginDiviser\">\n                            <p>ou</p>\n                        </div>\n                    </div> */}\n                    \n                </div>\n            </div>\n\n        </div>\n    )\n}\nexport default Login;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Dashboard.js",["1080","1081","1082","1083"],"import React, { useState, useEffect } from \"react\";\nimport '../styles/Dashboard.css'\nimport Slideshow from \"../components/Slider\"\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport Header from '../components/Header'\nimport { useAuth } from '../context/userContext'\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport UpdateProfil from '../components/UpdateProfil'\nimport InterestedSellers from '../components/InterestedSellers'\nimport WishList from '../components/WishList'\nimport BlogWidget from '../components/BlogWidget'\nimport { CSSTransition } from 'react-transition-group'\n\nimport { ButtonSmall } from '../components/utilities/Buttons'\nimport Image from '../components/utilities/Image'\n\nconst Dashboard = () => {\n\n    const { event, user, formatLabelTimePicker, getCurrentUserProfil, getSellersInDbWithUids, getSalesOfEventIdFromDB, updateEventStatus, clearEvent } = useAuth()\n    const history = useHistory()\n\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n    const [error, setError] = useState(\"\")\n    const [step, setStep] = useState(1)\n    const [pourcent, setPourcent] = useState(0);\n\n    const [sellers, setSellers] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [moreView, setMoreView] = useState(false);\n\n    // if (step === 3) {\n    //     const WishList = import('../components/WishList')\n    // }\n\n    function isMobile() {\n        if (windowsWidth > 1160) {\n            return false\n        }\n        else {\n            return true\n        }\n    }\n\n    function handleResize(width) {\n        setWindowsWidth(width)\n    }\n\n    useEffect(() => {\n        if (event && event.status && event.status !== \"passed\" && event.date && event.date < Date.now()) {\n            updateEventStatus(\"passed\")\n            clearEvent()\n        } else {\n            getSellerListFromServices()\n            getPourcentBar()\n        }\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n\n    }, [event])\n\n    async function getPourcentBar() {\n        if (!event.status) return\n\n        let pourcentToDisplay\n        const pourcentBudget = (event.budgetLeft / event.budget) * 100\n        if (event.status === \"pending\") {\n            const sales = await getSalesOfEventIdFromDB(event.id)\n            pourcentToDisplay = Math.floor(((event.date - sales[0].date) * 100) / Date.now())\n        }\n        pourcentToDisplay = event.status === \"creating\" ? pourcentBudget : pourcentToDisplay\n        setPourcent(100 - pourcentToDisplay + 5)\n    }\n\n    async function handleCreateEvent() {\n        const data = await getCurrentUserProfil()\n        if (!user.emailVerified) {\n            setError(\"Vous n'avez pas encore confirmé votre adresse email.\")\n        }\n        else if (data.firstName === undefined || data.name === undefined || data.birthDate === undefined) {\n            setError(\"Vous devez compléter votre profil pour pouvoir créer votre premier évènement.\")\n        }\n        else {\n            history.push(\"/creer-mon-evenement/etape-1\")\n        }\n    }\n\n\n\n    async function getSellerListFromServices() {\n        if (event.choosedServices.length < 1 || event.status === null) return null\n\n        let sellerIDList = []\n        for (const service in event.choosedServices) {\n            sellerIDList = [...sellerIDList, event.choosedServices[service].sellerId]\n        }\n        const sellersList = await getSellersInDbWithUids(sellerIDList)\n        const uniqueSellersList = sellersList && sellersList.filter((thing, index, self) => self.findIndex(t => t.email === thing.email) === index)\n\n        if (event.status === \"creating\") {\n            setSellers(uniqueSellersList)\n            setLoading(false)\n            return\n        }\n\n        let finalSellersList = []\n        uniqueSellersList.map(async seller => {\n            const status = await getSaleStatus(seller.uid)\n            const newSeller = { ...seller, status: status }\n            finalSellersList = [...finalSellersList, newSeller]\n\n            if (uniqueSellersList.length === finalSellersList.length) {\n                setSellers(finalSellersList)\n                setLoading(false)\n            }\n        })\n\n\n        if (event.status === \"pending\") {\n            let finalSellersList = []\n            uniqueSellersList.map(async seller => {\n                const status = await getSaleStatus(seller.uid)\n                const newSeller = { ...seller, status: status }\n                finalSellersList = [...finalSellersList, newSeller]\n\n                if (uniqueSellersList.length === finalSellersList.length) {\n                    setSellers(finalSellersList)\n                    setLoading(false)\n                }\n            })\n        }\n        else if (event.status === \"creating\") {\n            setSellers(uniqueSellersList)\n            setLoading(false)\n        }\n    }\n\n    async function getSaleStatus(id) {\n        const sales = await getSalesOfEventIdFromDB(event.id)\n        const sale = sales.filter(sale => sale.sellerID === id)\n        return sale[0].status\n    }\n\n    function getDaysLeftBeforeEvent() {\n        const timestampLeft = event.date - Date.now()\n        const daysLeft = timestampLeft / 1000 / 86400\n        return Math.ceil(daysLeft)\n    }\n\n    function more_view() {\n        if (moreView) {\n            setMoreView(false)\n        }else {\n            setMoreView(true)\n        }\n    }\n\n    return (\n        <div>\n            <Header />\n            <div className={!isMobile() ? \"dashboard\" : \"dashboard mobile\"}>\n                <div className=\"dashboardHeader\">\n                    \n            <CSSTransition\n                in={step === 1}\n                timeout={200}\n                classNames=\"elementTransition\"\n                unmountOnExit\n            >\n                <p className=\"elementTransition\">Content de vous revoir <span>{user.displayName}</span></p>\n            </CSSTransition>\n                    <div>\n                        <span className={step === 1 && \"active\"} onClick={() => setStep(1)}>Tableau de bord</span>\n                        <span className={step === 3 && \"active\"} onClick={() => setStep(3)}>Favoris</span>\n                        <span className={step === 2 && \"active\"} onClick={() => setStep(2)}>Mes informations</span>\n                    </div>\n                </div>\n                {/* {!user.emailVerified && <EmailNotVerified />} */}\n                {step === 1 ? <div className={windowsWidth < 600 ? \"dashboardContent mobile\" : \"dashboardContent\"}>\n                    <div className=\"leftSide\">\n                        {event && <h1>Votre évènement</h1>}\n                        {event.status && event.status !== \"passed\" ? (\n                            <div>\n                                <div className=\"containerBudgetHeader\">\n                                    {event.status === \"creating\" && <h2>Il vous reste {event.budgetLeft < 0 ? 0 : event.budgetLeft }€ sur votre budget total de {event.budget}€</h2>}\n                                    {event.status === \"pending\" && <h2>Plus que {getDaysLeftBeforeEvent()} jours à patienter</h2>}\n                                    <div className=\"progressBarEvent\">\n                                        <ProgressBar now={pourcent} />\n                                    </div>\n                                    {event.status === \"creating\" &&\n                                        <ButtonSmall\n                                            onClick={(e) => history.push('/creer-mon-evenement/etape-2')}\n                                            color=\"orange\"\n                                            value=\"Reprendre mon évènement\"\n                                            backgroundColor=\"rgba(245, 192, 67)\"\n                                        />\n                                    }\n                                </div>\n                                <div className=\"dashboardInfo\">\n                                    <div className={windowsWidth < 600 ? \"insetLeftSide mobile\" : \"insetLeftSide\"}>\n                                        <div className=\"headerDashboardInset\">\n                                            <h2 style={{color:'rgba(245, 192, 67)'}}>Infos évènement</h2>\n                                        </div>\n                                        <div className=\"dashboardInfoContent\" style={{minHeight:'0px'}}>\n                                            <div className=\"item\">\n                                                <label>Nom de l'évènement:</label>\n                                                <p>{event.name}</p>\n                                            </div>\n                                            <div className=\"item\">\n                                                <label>Date:</label>\n                                                <p>{new Date(event.date).toLocaleDateString(\"fr-FR\", { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" })}</p>\n                                            </div>\n                                            <div className=\"item\">\n                                                <label>Créneau:</label>\n                                                <p style={{color:'rgb(239 25 136)'}}>Commence à <span>{formatLabelTimePicker(event.startAt)}</span></p>\n                                                <p style={{color:'rgb(27 76 239)'}}>se termine à <span>{formatLabelTimePicker(event.endAt)}</span></p>\n                                            </div>\n                                            {moreView &&\n                                             <div className=\"item\">\n                                                <label>Nombre de personnes:</label>\n                                                <p>{event.people} personnes</p>\n                                            </div>\n                                            }\n                                            {moreView &&\n                                            <div className=\"item\">\n                                                <label>Nombre de m²:</label>\n                                                <p>{event.placeSize}</p>\n                                            </div>\n                                            }\n                                            <div className=\"item\" style={{marginBottom:'unset'}}>\n                                                <label>Afficher plus\n                                                <button style={{backgroundColor:'rgba(244, 244, 244)', border:'0px', fontSize:'20px'}} onClick={() => more_view()}>{moreView ? '-' : '+'}</button></label>\n                                            </div>\n                                        </div>\n                                        <div className=\"item buttonContainer\">\n                                            {event.status === \"creating\" &&\n                                                <ButtonSmall\n                                                    onClick={() => history.push('/creer-mon-evenement/etape-1')}\n                                                    color=\"grey\"\n                                                    value=\"Modifier les informations\"\n                                                    marginTop=\"20px\"\n                                                />\n                                            }\n                                        </div>\n                                    </div>\n\n                                    {windowsWidth < 600 && <div className=\"separator\"></div>}\n\n                                    <div className=\"insetRightSide\">\n                                        {!isMobile() ?\n                                            <div className=\"headerDashboardInset\">\n                                                <h2 style={{color:'rgba(245, 192, 67)'}}>Prestataires sélectionnés</h2><br/>\n                                                {event.choosedServices.length > 0 ?\n                                                    <p style={{color:'rgba(245, 192, 67)'}}>{sellers && sellers.length} prestataires au total</p>\n                                                    : <span>Vous n'avez pas encore choisi de prestataire</span>\n                                                }\n                                            </div>\n                                            :\n                                            <div className=\"headerDashboardInset\">\n                                                <h2 style={{color:'rgba(245, 192, 67)', marginLeft:'10%'}}>Prestataires sélectionnés</h2>\n                                                {sellers && sellers.length > 0 ?\n                                                    <p style={{color:'rgba(245, 192, 67)'}}>{sellers && sellers.length} prestataires au total</p>\n                                                    : <span>Vous n'avez pas encore choisi de prestataire</span>}\n                                            </div>\n                                        }\n                                        <div>\n                                            <Slideshow eventStatus={event.status} sellers={sellers} windowsWidth={windowsWidth} isMobile={isMobile()} />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        )\n                            :\n                            <div className={isMobile() ? \"noEventDisplayDashboard mobile\" : \"noEventDisplayDashboard\"}>\n                                <Image url=\"/images/triste.png\" />\n                                <h2>C’est dur à croire!</h2>\n                                <p>Mais il semblerait que n’ayez toujours pas planifié d’évènement sur NIVID</p>\n                                <button onClick={() => handleCreateEvent()}>Créer mon premier évènement</button>\n                                {error.length > 0 && <p className=\"errorMessage\">{error}</p>}\n                            </div>\n\n                        }\n                    </div>\n                    {!isMobile() &&\n                        <div>\n                            {event.status === \"creating\" &&\n                                <InterestedSellers />\n                            }\n                            <BlogWidget />\n                        </div>\n                    }\n                </div>\n                    : step === 2 ?\n                        <UpdateProfil isMobile={isMobile()} />\n                        : step === 3 &&\n                        <WishList eventStatus={event.status} isMobile={isMobile()} />\n                }\n\n            </div>\n        </div>\n\n    )\n}\nexport default Dashboard;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/About.js",["1084","1085","1086","1087","1088","1089","1090","1091","1092","1093","1094"],"import React, { useState, useEffect } from \"react\";\nimport pres1 from \"../images/AdobeStock_426636063.jpeg\";\nimport pres2 from \"../images/AdobeStock_200877704.jpeg\";\nimport pres3 from \"../images/AdobeStock_292777021.jpeg\";\nimport pres4 from \"../images/AdobeStock_304886685.jpeg\";\nimport pres5 from \"../images/AdobeStock_129995716.jpeg\";\nimport \"../styles/About.css\";\nimport { FaArrowRight, FaArrowLeft } from \"react-icons/fa\";\nimport { useHistory } from \"react-router-dom\";\nimport PlusImg from \"../images/plus.svg\";\nimport { ButtonSmall} from \"../components/utilities/Buttons\"\nconst About = (props) => {\n  const history = useHistory();\n\n  return (\n    <>\n      <div className=\"about\">\n        <div className=\"about_header\">\n          <h1>\n            L’évènementiel qui <br />nous <span>rassemble</span>.\n          </h1>\n          <div className=\"about_header_images\">\n            <div className=\"images_container\">\n              \n              <div className=\"left\">\n                <div className=\"item one\"></div>\n              </div>\n\n              <div className=\"afterleft\">\n              <div className=\"item two\"></div>\n              <div className=\"item three\"s></div>\n              </div>\n\n              <div className=\"center\">\n              <div className=\"item four\"></div>\n              </div>\n\n              <div className=\"afterright\">\n              <div className=\"item five\"></div>\n              <div className=\"item six\"></div>\n              </div>\n\n              <div className=\"right\">\n                <div className=\"item seven\"></div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n        <div className=\"about_content\">\n          <div className=\"item\">\n            <div className=\"leftabout\">20<br />20</div>\n            <div className=\"rightabout\"><p>\n              Créé en 2020, <span>NIVID</span> est né de l’envie de révolutionner le monde de l’évènementiel,<br /><br />\n              en donnant la possibilité aux particuliers d’organiser simplement <br /><br />des évènements à la hauteur de leurs espérances.<br /><br />\n              Et pour cela, il nous fallait des <span>partenaires de qualité</span>, triés sur le volet.\n            </p></div>\n          </div>\n\n          <div className=\"item\">\n            <div className=\"leftabout\">20<br />21</div>\n            <div className=\"rightabout\"><p>\n            Dès <span>2021</span> suite à la crise sanitaire, on décide de mettre la proximité au cœur de notre mission<br /><br />\n            en permettant aux <span>commerçants</span> et <span>prestataires</span> de services de se consacrer à leur passion et savoir-faire.<br /><br />\n            De la prospection à la facturation, en passant par le service après vente,<br /><br /> <span>NIVID</span> se charge de toutes les tâches laborieuses et chronophages,<br /><br />\n            assurant une présence digitale clé en main à ses <span>partenaires</span>.\n            </p></div>\n          </div>\n\n          <div className=\"item\">\n            <div className=\"leftabout\">20<br />22</div>\n            <div className=\"rightabout\"><p>\n            Après <span>2 ans de réflexion et de développement</span>,<br /><br />\n            on dévoile au grand public la <span>première plateforme</span> d’organisation d’évènements privés.<br /><br />\n            Et pour vous offrir le <span>meilleur</span>, on a consacré notre temps à imaginer une offre introuvable ailleurs,<br /><br />\n            pour qu’aujourd’hui organiser un anniversaire, organiser une soirée en amoureux,<br /><br />\n            ou encore organiser une baby shower soit une réelle source de satisfaction.\n            </p></div>\n          </div>\n\n        </div>\n\n<div className=\"bottomabout\">\n{/*<h1>\n#EtMaintenant ?<br />\nSi c’était vous notre prochain prestataire de <span>rêve</span>\n          </h1>*/}\n</div>\n\n        <div className=\"about_bottom\">\n          <h2>Continuons d'écrire l'histoire ensemble...</h2>\n          <button onClick={() => history.push('/compte')} className=\"button blue_button\">Je commence mon évènement maintenant</button>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default About;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Contact.js",["1095","1096"],"import React, { useState, useEffect } from \"react\";\nimport '../styles/Contact.css'\nimport LogoTransparentImg from \"../images/logo_transparence_contact.svg\"\n\n\nconst Contact = (props) => {\n\n    return (\n        <>\n            <div className=\"contactPage\">\n                <div className=\"contactPage_header\">\n                    <img src={LogoTransparentImg} alt=\"\" />\n                    <h1>Contactez-nous</h1>\n                    <p className=\"obliged\">* obligatoire</p>\n                </div>\n                <div className=\"conctPage_body\">\n                    <div className=\"contactPage_form_bloc\">\n                        <div className=\"formLine\">\n                            <div className=\"formField\">\n                                <label htmlFor=\"name\">Votre nom *</label>\n                                <input name=\"name\" type=\"text\" value=\"\" />\n                            </div>\n                            <div className=\"formField\">\n                                <label htmlFor=\"email\">Votre adresse email *</label>\n                                <input name=\"email\" type=\"text\" value=\"\" />\n                            </div>\n                        </div>\n                        <div className=\"formLine\">\n                            <div className=\"formField\">\n                                <label htmlFor=\"commandID\">Votre numéro de commande</label>\n                                <input name=\"commandID\" type=\"text\" value=\"\" />\n                            </div>\n                            <div className=\"formField\">\n                                <label htmlFor=\"tel\">Numéro de téléphone</label>\n                                <input name=\"tel\" type=\"text\" value=\"\" />\n                            </div>\n                        </div>\n                        <div className=\"formLine\">\n                            <div className=\"formField\">\n                                <label htmlFor=\"message\">Votre message *</label>\n                                <textarea name=\"message\"></textarea>\n                            </div>\n                        </div>\n                        <div className=\"contactPage_form_bloc_bottom\">\n                            <p>En soumettant ce formulaire, vous acceptez nos <a href=\"/CGU\">conditions générales d'utilisations</a> ainsi que notre <a href=\"/politique\">politique de confidentialité</a>.</p>\n                            <button className=\"blue largeButton\">Envoyer le message</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\nexport default Contact;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Invitations.js",["1097","1098"],"import React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"../context/userContext\"; // context\nimport { useHistory } from 'react-router-dom'\n\nimport { ButtonSmall } from '../components/utilities/Buttons'\n\nconst PaymentConfirm = () => {\n\n    const history = useHistory()\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n    const [emails, setEmails] = useState([])\n    const [newEmail, setNewEmail] = useState(\"\")\n    const [error, setError] = useState(\"\")\n    const [message, setMessage] = useState(\"\")\n    const [isSent, setIsSent] = useState(false)\n\n    const { user, event, setCurrentStepProcess, sendInBlue_sendInvitations } = useAuth() // context\n\n    function handleResize(width) {\n        setWindowsWidth(width)\n    }\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n    }, [window.innerWidth])\n\n    setCurrentStepProcess(32)\n\n    function handleAddNewEmail() {\n        \n        let containAt = newEmail.indexOf(\"@\")\n        if (containAt < 1) return setError(\"Veuillez entrer un email valide\")\n\n        let containDot = newEmail.indexOf(\".\")\n        if (containDot <= containAt + 2) return setError(\"Veuillez entrer un email valide\")\n\n\n        if (containDot === newEmail.length - 1) return setError(\"Veuillez entrer un email valide\")\n\n            const newArray = [...emails]\n            newArray.push(newEmail)\n            setEmails(newArray)\n            setNewEmail(\"\")\n            setError(\"\")\n    }\n\n    function handleDeleteEmail(item) {\n        const newArray = [...emails]\n        const index = newArray.indexOf(item);\n        if (index > -1) {\n            newArray.splice(index, 1);\n        }\n        setEmails(newArray)\n    }\n\n    async function handleSendInvitations() {\n        const req = await sendInBlue_sendInvitations(emails, message, user, event)\n        if (req === true) {\n            setIsSent(true)\n            history.push(\"/dashboard\")\n        }\n    }\n\n    return (\n        <div>\n            <div className=\"invitationsContainer\">\n                <div className=\"headerInvitations\">\n                    <h2>Invitations</h2>\n                    <p>Ajoutez les personnes que vous souhaitez inviter à votre évènement</p>\n                </div>\n                <div className=\"contentInvitations\">\n                    {!isSent ?\n                        <>\n                            <div className=\"emailsBlocInvitations\">\n                                <h3>Emails des invité(e)s</h3>\n                                <div className=\"displayEmailsInvitations\">\n                                    {emails.map(item => {\n                                        return <span>{item}<p onClick={() => handleDeleteEmail(item)}>X</p></span>\n                                    })}\n                                </div>\n                                <div className=\"formField\">\n                                    <input value={newEmail} onChange={(e) => setNewEmail(e.target.value)} type=\"text\" placeholder=\"Email de l'invité\" />\n                                    <button onClick={() => handleAddNewEmail()}>Ajouter</button>\n                                </div>\n                                {error.length > 0 &&\n                                    <p className=\"errorMessage\">{error}</p>\n                                }\n                            </div>\n                            <div className=\"messageInvitations\">\n                                <h3>Message de l'invitation</h3>\n                                <textarea value={message} onChange={(e) => setMessage(e.target.value)} />\n                                <button onClick={() => handleSendInvitations()}>Envoyer les invitations</button>\n                            </div>\n                        </>\n                        :\n                        <>\n                            <p>Merci, vos invitations ont été envoyées.</p>\n                            <ButtonSmall\n                                onClick={() => history.push(\"/dashboard\")}\n                                color=\"orange\"\n                                value=\"Revenir au tableau de bord\"\n                            />\n                        </>\n                    }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default PaymentConfirm;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Etape2.js",["1099","1100","1101","1102","1103","1104","1105","1106","1107","1108","1109","1110"],"import React, { useState, useEffect, useRef } from \"react\";\nimport { FaChevronDown } from 'react-icons/fa';\nimport ServicesSlider from '../components/ServicesSlider'\nimport { items } from '../components/servicesData'\nimport { useAuth } from \"../context/userContext\"; // context\nimport SellersMap from '../components/SellersMap'\nimport { GoogleApiWrapper } from 'google-maps-react';\nimport { useFirebase } from \"../assets/base-context\";\nimport { useHistory } from 'react-router-dom'\nimport StickerBudgetLeft from \"../components/StickerBudgetLeft\";\n\nimport Image from '../components/utilities/Image'\n\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select, { SelectChangeEvent } from '@mui/material/Select';\nimport Checkbox from '@mui/material/Checkbox';\n\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\n\nconst initialFilter = {\n    vegan: false,\n    halal: false,\n    casher: false,\n    vegetarien: false\n}\n\nconst Etape2 = (props) => {\n\n    const firebaseContext = useFirebase()\n    const firestore = firebaseContext.firestore()\n\n    const { event, setCurrentStepProcess } = useAuth() // context\n    const history = useHistory()\n\n    const [selectedMenu, setSelectedMenu] = useState(\"decorations\");\n    const [selectedSubMenu, setSelectedSubMenu] = useState(\"Décorations intérieures\");\n    const [currentPageOffers, setCurrentPageOffers] = useState(0);\n    const [beforeSubMenu, setBeforeSubMenu] = useState(\"\");\n    const [isSubMenuDisplay, setIsSubMenuDisplay] = useState(true);\n    const [sellers, setSellers] = useState([]);\n    const [allSellers, setAllSellers] = useState([]); // C'est tout les sellers qui match en subcategory, ET qui sont à plus de 5km ( pour afficher les marker gris sur la map )\n    const [loading, setLoading] = useState(true);\n    const [categorySellers, setCategorySellers] = useState([]); // Tout les sellers qui match avec la category seulement, et à moins de 5 km ( pour afficher le nombre de\n    // prestataire dans la category en cours)\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n    // State pour le scroll du menu category en mobile version\n    const [isDown, setIsDown] = useState(false)\n    const [startX, setStartX] = useState()\n    const [scrollLeft, setScrollLeft] = useState()\n\n    const [isSubMenuNotActiveMobileDisplay, setIsSubMenuNotActiveMobileDisplay] = useState(false)\n\n    const [isSliderHeaderIsMoving, setIsSliderHeaderIsMoving] = useState(false)\n\n    const [foodTypeFilter, setFoodTypeFilter] = useState(initialFilter)\n    const [isFoodFilterOpened, setIsFoodFilterOpened] = useState(false)\n\n    const [leftBudget, setLeftBudget] = useState(0)\n\n    const isMobile = () => windowsWidth > 1100 ? false : true\n\n    const handleResize = (width) => setWindowsWidth(width)\n\n\n    useEffect(() => {\n        event && event.status && event.status !== \"creating\" && history.push('/dashboard')\n        event && !event.status && history.push('/dashboard')\n        !event && history.push('/dashboard')\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n        setLoading(true)\n        getSellersFromDB(selectedMenu, selectedSubMenu)\n        setCurrentStepProcess(2)\n        setLeftBudget(event.budgetLeft)\n    }, [selectedMenu, selectedSubMenu, foodTypeFilter])\n\n    useEffect(() => {\n        setFoodTypeFilter(initialFilter)\n        setIsFoodFilterOpened(false)\n    }, [selectedMenu])\n\n    function handleCategoryChange(category, subcategory) {\n        if (isSliderHeaderIsMoving) return\n        else {\n            setIsSubMenuNotActiveMobileDisplay(false)\n            if (category !== selectedMenu) {\n                setSellers([])\n                setSelectedMenu(category)\n                setSelectedSubMenu(subcategory)\n                setCurrentPageOffers(0)\n                if (category === \"nourriture\") { setIsSubMenuDisplay(false); setBeforeSubMenu(\"\") }\n                else setIsSubMenuDisplay(true)\n            }\n        }\n    }\n\n    function handleSubCategoryChange(key) {\n        if (key !== selectedSubMenu) {\n            setSellers([])\n            setSelectedSubMenu(key)\n            setCurrentPageOffers(0)\n            setIsSubMenuNotActiveMobileDisplay(false)\n        }\n    }\n\n    function displayBeforeSubMenu() {\n        const table = [\"Service à table\", \"Dinatoire\", \"Buffet\"]\n        return table.map((name, i) =>\n            <div onClick={() => (setBeforeSubMenu(name), setIsSubMenuDisplay(true))} key={i} className=\"subMenuItem beforeSubMenu\">\n                <p>{name}</p>\n            </div>\n        )\n    }\n\n    function handleOpeningSellersDetails(sellerId) {\n        history.push(`/creer-mon-evenement/etape-2/prestataires/${sellerId}`)\n    }\n\n    async function getSellersFromDB(category, subCategory) {\n        const refSellers = firestore.collection(\"sellers\");\n\n        // On va choper TOUT les sellers à moins de 5km pour ensuite faire le tri avec les category\n        const results = []\n        var query = refSellers\n        query = query.where(\"category\", \"==\", category)\n        query = query.where(\"status\", \"==\", \"opened\")\n        query.get().then(async res => {\n\n            res.forEach(doc => {\n                results.push({ ...doc.data(), id: doc.id })\n            })\n            let filteredResults = []\n            if (selectedMenu === \"nourriture\") {\n                if (foodTypeFilter.vegan === true) {\n                    results.forEach(item => {\n                        if (item.foodTypes === undefined) return\n                        let filtered = item.foodTypes.filter(foodType => foodType === \"Vegan\")\n                        if (filtered.length) filteredResults.push(item)\n                    })\n                }\n                if (foodTypeFilter.halal === true) {\n                    results.forEach(item => {\n                        if (item.foodTypes === undefined) return\n                        let filtered = item.foodTypes.filter(foodType => foodType === \"Halal\")\n                        if (filtered.length) filteredResults.push(item)\n                    })\n                }\n                if (foodTypeFilter.casher === true) {\n                    results.forEach(item => {\n                        if (item.foodTypes === undefined) return\n                        let filtered = item.foodTypes.filter(foodType => foodType === \"Casher\")\n                        if (filtered.length) filteredResults.push(item)\n                    })\n                }\n                if (foodTypeFilter.vegetarien === true) {\n                    results.forEach(item => {\n                        if (item.foodTypes === undefined) return\n                        let filtered = item.foodTypes.filter(foodType => foodType === \"Vegetarien\")\n                        if (filtered.length) filteredResults.push(item)\n                    })\n                }\n            }\n\n            if (foodTypeFilter.vegetarien === false && foodTypeFilter.casher === false && foodTypeFilter.halal === false && foodTypeFilter.vegan === false)\n                filteredResults = [...results]\n\n            if (filteredResults.length > 0) {\n                const categorySellersQuery = await filterSellersByDistance(filteredResults)\n                const categorySellersClose = []\n                for (const result of categorySellersQuery) {\n                    if (result.firstName) {\n                        categorySellersClose.push(result)\n                    }\n                }\n                const newSellers = categorySellersClose.filter(seller => seller.subcategory === subCategory)\n                setSellers(newSellers)\n                const eventTime = new Date(event.date);\n                var eventDay = eventTime.getFullYear() + '.' + (eventTime.getMonth()+1) + '.' +eventTime.getDate();\n                setSellers(newSellers.filter(seller => seller.holiday.filter(holiday => holiday == eventDay).length == 0))\n                setCategorySellers(newSellers.filter(seller => seller.subcategory === subCategory && seller.holiday.filter(holiday => holiday == eventDay).length == 0))\n                // On enlève les sellers à moins de 5 kilometres, pour ne garder dans allSellers uniquement ceux à plus de 5. Pour envoyer à la map\n                const copyAllSellers = [...filteredResults].filter(item => item.subcategory === subCategory)\n                const newAllSellers = copyAllSellers.filter((item) => !newSellers.includes(item));\n                setAllSellers(newAllSellers)\n            }\n            else {\n                setSellers([])\n                setCategorySellers([])\n            }\n            setLoading(false)\n        })\n    }\n\n    async function filterSellersByDistance(data) {\n        return Promise.all(\n            data.map(item => {\n                const eventLatLng = event.latLng ? event.latLng : { lat: 48.51666, lng: -34.41888 }\n                return getDistanceBetweenTwoPoints(eventLatLng, item.latLng)\n                    .then((result) => {\n                        if ((result / 1000) < 5) { return item }\n                        else { return [] }\n                    })\n            })\n        )\n    }\n\n    async function getDistanceBetweenTwoPoints(eventPos, sellerPos) {\n        var origin = new props.google.maps.LatLng(eventPos.lat, eventPos.lng);\n        var destination = new props.google.maps.LatLng(sellerPos.lat, sellerPos.lng);\n\n        var service = new props.google.maps.DistanceMatrixService();\n        return new Promise(resolve => {\n            service.getDistanceMatrix(\n                {\n                    origins: [origin],\n                    destinations: [destination],\n                    travelMode: 'DRIVING',\n                }, (response, status) => {\n                    resolve(response.rows[0].elements[0].distance.value)\n                }\n            )\n        });\n    }\n\n    const sliderCategory = useRef()\n    function handleMouseDownSliderHeader(e) {\n        setIsDown(true)\n        setStartX(windowsWidth < 1100 ? e.clientX : e.pageX - sliderCategory.current.offsetLeft)\n        setScrollLeft(sliderCategory.current.scrollLeft)\n        setIsSliderHeaderIsMoving(false)\n    }\n\n    function handleMouseLeaveAndUpSliderHeader() {\n        setIsDown(false)\n    }\n\n    function handleMouseMoveSliderHeader(e) {\n        if (!isDown) return\n        setIsSliderHeaderIsMoving(true)\n        e.preventDefault()\n        const x = windowsWidth < 1100 ? e.clientX : e.pageX - sliderCategory.current.offsetLeft;\n        const walk = (x - startX) * 2; //scroll-fast\n        sliderCategory.current.scrollLeft = scrollLeft - walk;\n    }\n    function handleFoodTypeChanged(isChecked, type) {\n        let newFoodTypeFilter = { ...foodTypeFilter }\n        switch (type) {\n            case \"Vegan\":\n                newFoodTypeFilter.vegan = isChecked\n\n                break;\n            case \"Halal\":\n                newFoodTypeFilter.halal = isChecked\n\n                break;\n            case \"Casher\":\n                newFoodTypeFilter.casher = isChecked\n\n                break;\n            case \"Vegetarien\":\n                newFoodTypeFilter.vegetarien = isChecked\n\n                break;\n\n            default:\n                break;\n        }\n        setFoodTypeFilter(newFoodTypeFilter)\n    }\n\n\n    return (\n        <div>\n            {!isMobile() ?\n                <div className=\"headerEtape2\">\n                    <div className={selectedMenu === \"decorations\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"decorations\", \"Décorations intérieures\")}>\n                        <h1>Décorations <FaChevronDown /></h1>\n                        <span>{categorySellers.length} prestataires au total</span>\n                    </div>\n                    <div className={selectedMenu === \"ambiance\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"ambiance\", \"Musique\")}>\n                        <h1>Ambiance <FaChevronDown /></h1>\n                        <span>{categorySellers.length} prestataires au total</span>\n                    </div>\n                    <div className={selectedMenu === \"table\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"table\", \"Nourriture\")}>\n                        <h1>À table <FaChevronDown /></h1>\n                        <span>{categorySellers.length} prestataires au total</span>\n                    </div>\n                    {/* <div className={selectedMenu === \"service\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"service\", \"serveurs\")}>\n                        <h1>Service sur place <FaChevronDown /></h1>\n                        <span>{categorySellers.length} prestataires au total</span>\n            </div> */}\n                </div>\n                :\n                <div\n                    ref={sliderCategory}\n                    className={isDown ? \"headerEtape2 mobile active\" : \"headerEtape2 mobile\"}\n                    onMouseDown={(e) => handleMouseDownSliderHeader(e)}\n                    onMouseLeave={() => handleMouseLeaveAndUpSliderHeader()}\n                    onMouseUp={() => handleMouseLeaveAndUpSliderHeader()}\n                    // onMouseMove={(e) => handleMouseMoveSliderHeader(e)}\n\n                    onTouchStart={(e) => handleMouseDownSliderHeader(e)}\n                    onTouchEnd={() => handleMouseLeaveAndUpSliderHeader()}\n                    onTouchMove={(e) => handleMouseMoveSliderHeader(e)}\n                    style={{touchAction: 'none'}}\n                >\n                    <div className={selectedMenu === \"decorations\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"decorations\", \"Décorations intérieures\")}>\n                        <h1>Décorations <FaChevronDown /></h1>\n                        <span>{categorySellers.length} prestataires au total</span>\n                    </div>\n                    <div className={selectedMenu === \"ambiance\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"ambiance\", \"Musique\")}>\n                        <h1>Ambiance <FaChevronDown /></h1>\n                        <span>{categorySellers.length} prestataires au total</span>\n                    </div>\n                    <div className={selectedMenu === \"table\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"table\", \"Nourriture\")}>\n                        <h1>À table <FaChevronDown /></h1>\n                        <span>{categorySellers.length} prestataires au total</span>\n                    </div>\n                    {/* <div className={selectedMenu === \"service\" ? \"category active\" : \"category\"} onClick={() => handleCategoryChange(\"service\", \"serveurs\")}>\n                        <h1>Service sur place <FaChevronDown /></h1>\n                        <span>{categorySellers.length} prestataires au total</span>\n        </div> */}\n                </div>\n            }\n            <div className={isMobile() ? \"formEtape2Container mobile\" : \"formEtape2Container\"} >\n                {!isMobile() ?\n                    <>\n                        <div className=\"subHeaderEtape2\">\n                            {(selectedMenu === \"nourriture\" && beforeSubMenu.length < 1) && displayBeforeSubMenu()}\n                            {isSubMenuDisplay &&\n                                Object.entries(items[selectedMenu]).map(([key, item]) => {\n                                    return (\n                                        <div key={key} className={selectedSubMenu === key ? \"subMenuItem active\" : \"subMenuItem\"} onClick={() => handleSubCategoryChange(key)}>\n                                            <Image url={item.icon} />\n                                            <p>{key}</p>\n                                            <span>{categorySellers.filter(seller => seller.subcategory === key).length} prestataires dans vos alentours</span>\n                                        </div>\n                                    )\n                                })\n                            }\n                            <div className=\"stickerBudgetLeft\">\n                                <StickerBudgetLeft />\n                            </div>\n                        </div>\n                    </>\n                    :\n                    <div className={isSubMenuNotActiveMobileDisplay ? \"subHeaderEtape2 mobile active\" : \"subHeaderEtape2 mobile\"}>\n                        <p className=\"infoSubHeaderTopButton\">Appuyez pour changer</p>\n                        {(selectedMenu === \"nourriture\" && beforeSubMenu.length < 1) && displayBeforeSubMenu()}\n                        {isSubMenuDisplay &&\n                            Object.entries(items[selectedMenu]).map(([key, item]) => {\n                                if (selectedSubMenu === key) {\n                                    return (\n                                        <div key={key} className=\"subMenuItem active\" onClick={() => setIsSubMenuNotActiveMobileDisplay(!isSubMenuNotActiveMobileDisplay)}>\n                                            <Image url={item.icon} />\n                                            <p>{key}</p>\n                                            <span>{categorySellers.filter(seller => seller.subcategory === key).length} prestataires dans vos alentours</span>\n                                        </div>\n                                    )\n                                }\n                            })\n                        }\n                        <div className=\"hideItemSubHeaderEtape2\">\n                            {\n                                Object.entries(items[selectedMenu]).map(([key, item]) => {\n                                    if (selectedSubMenu !== key) {\n                                        return (\n                                            <div key={key} className=\"subMenuItem\" onClick={() => handleSubCategoryChange(key)}>\n                                                <Image url={item.icon} />\n                                                <p>{key}</p>\n                                                <span>{categorySellers.filter(seller => seller.subcategory === key).length} prestataires dans vos alentours</span>\n                                            </div>\n                                        )\n                                    }\n                                })\n                            }\n                        </div>\n                    </div>\n                }\n\n                {selectedMenu === \"table\" &&\n                    <div className=\"foodTypeFilter\">\n                        <div onClick={() => setIsFoodFilterOpened(r => !r)} className=\"foodTypeFilter_select\">\n                            <p>Régime alimentaire <ExpandMoreIcon /></p>\n                            {isFoodFilterOpened &&\n                                <div onClick={(e) => e.stopPropagation()} className=\"foodTypeFilter_select_dropDown\">\n                                    <ul>\n                                        <li>\n                                            <p className={foodTypeFilter.vegan ? \"active\" : \"\"}>Vegan</p>\n                                            <span>\n                                                <Checkbox\n                                                    checked={foodTypeFilter.vegan}\n                                                    onChange={(e) => handleFoodTypeChanged(e.target.checked, \"Vegan\")}\n                                                    inputProps={{ 'aria-label': 'controlled' }}\n                                                />\n                                            </span>\n                                        </li>\n                                        <li>\n                                            <p className={foodTypeFilter.casher ? \"active\" : \"\"}>Casher</p>\n                                            <span>\n                                                <Checkbox\n                                                    checked={foodTypeFilter.casher}\n                                                    onChange={(e) => handleFoodTypeChanged(e.target.checked, \"Casher\")}\n                                                    inputProps={{ 'aria-label': 'controlled' }}\n                                                />\n                                            </span>\n                                        </li>\n                                        <li>\n                                            <p className={foodTypeFilter.halal ? \"active\" : \"\"}>Halal</p>\n                                            <span>\n                                                <Checkbox\n                                                    checked={foodTypeFilter.halal}\n                                                    onChange={(e) => handleFoodTypeChanged(e.target.checked, \"Halal\")}\n                                                    inputProps={{ 'aria-label': 'controlled' }}\n                                                />\n                                            </span>\n                                        </li>\n                                        <li>\n                                            <p className={foodTypeFilter.vegetarien ? \"active\" : \"\"}>Végétarien</p>\n                                            <span>\n                                                <Checkbox\n                                                    checked={foodTypeFilter.vegetarien}\n                                                    onChange={(e) => handleFoodTypeChanged(e.target.checked, \"Vegetarien\")}\n                                                    inputProps={{ 'aria-label': 'controlled' }}\n                                                />\n                                            </span>\n                                        </li>\n                                    </ul>\n                                </div>\n                            }\n                        </div>\n                    </div>\n                }\n\n\n                <div className=\n                    {\n                        isMobile() && isSubMenuNotActiveMobileDisplay ? \"contentEtape2 mobile notActive\"\n                            : isMobile() && !isSubMenuNotActiveMobileDisplay ? \"contentEtape2 mobile\"\n                                : \"contentEtape2\"\n                    }\n                >\n                    <ServicesSlider\n                        sellers={sellers}\n                        loading={loading}\n                        leftBudget={leftBudget}\n                        currentPageOffers={currentPageOffers}\n                        setCurrentPageOffers={setCurrentPageOffers}\n                        handleOpeningSellersDetails={handleOpeningSellersDetails}\n                        isMobile={isMobile()}\n                        windowsWidth={windowsWidth}\n                        selectedSubMenu={selectedSubMenu}\n                        selectedMenu={selectedMenu}\n                    />\n\n                    {!isMobile() &&\n                        <div className=\"mapContainer\">\n                            <SellersMap sellers={sellers} allSellers={allSellers} />\n                        </div>\n                    }\n                </div>\n            </div >\n        </div>\n    )\n}\n\nexport default GoogleApiWrapper({\n    apiKey: (\"AIzaSyDOQ_vau2uT4Gx_iLMVq2XfsUK3BPULVnY\")\n})(Etape2)","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Login.js",["1111"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/Prest_.css\"\nimport { Link, useHistory } from 'react-router-dom'\nimport { useAuth } from \"../context/userContext\"; // context\n\nimport { ButtonLarge } from '../components/utilities/Buttons'\nimport Layout from '../components/utilities/Layout'\nimport Title from '../components/utilities/Title'\nimport SubTitle from '../components/utilities/SubTitle'\nimport ReactLoading from 'react-loading';\n\nimport imgPrestLogin from '../images/image00002.jpeg'\nimport { CSSTransition } from 'react-transition-group'\n\nconst Prest_Login = () => {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n\n    const [buttonLoading, setButtonLoading] = useState(false)\n    \n    const [isMounted, setIsMounted] = useState(false);\n\n    const { login } = useAuth() // context\n    const history = useHistory()\n\n\n    function handleResize(width) {\n        setWindowsWidth(width)\n    }\n\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n        return setIsMounted(true)\n    }, [])\n\n\n\n    async function handleLoginForm(e) {\n        e.preventDefault()\n        setButtonLoading(true)\n        try {\n            await login(email, password)\n        } catch {\n            setPassword(\"\")\n            setError(\"Nous n'avons pas réussi à vous identifier, veuillez réessayer.\")\n            setButtonLoading(false)\n        }\n    }\n\n\n    return (\n        <Layout>\n            <CSSTransition\n                in={isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <div className=\"prest-login-container\">\n                    <Title value=\"Votre nouvelle boutique vous attend\" type=\"h1\" font=\"roboto-medium\" />\n                    <div className=\"prest-login-flex-container\">\n                        <div className=\"prest-login-left\">\n                            <SubTitle value=\"Grâce à NIVID, recevez des réservations 24H/24 7J/7 et boostez votre chiffre d'affaires\" type=\"big\" font=\"roboto-regular\" />\n                            <div className=\"divider\"></div>\n                            {/*<Title value=\"Connectez-vous à Nivid\" type=\"h2\" font=\"roboto-medium\" />*/}\n\n                            {error && <div className=\"errorMessage\">{error}</div>}\n\n                            <form>\n                                <div className=\"formLine\">\n                                    <div className=\"formField withoutMargin\">\n                                        <label>Identifiant / Adresse email</label>\n                                        <input value={email} type=\"email\" name=\"email\" onChange={(e) => setEmail(e.target.value)} />\n                                    </div>\n                                </div>\n\n                                <div className=\"formLine\">\n                                    <div className=\"formField withoutMargin\">\n                                        <label>Mot de passe<span onClick={() => history.push(\"/mot-de-passe-oublie\")}>Mot de passe oublié ?</span></label>\n                                        <input value={password} type=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)} />\n                                    </div>\n                                </div>\n\n                                <div className=\"formLine\">\n                                    <div className=\"formField withoutMargin\">\n                                        <ButtonLarge\n                                            onClick={(e) => handleLoginForm(e)}\n                                            color=\"orange\"\n                                            value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"C’est parti !\"}\n                                            backgroundColor=\"rgba(245, 192, 67)\"\n                                            marginTop=\"10px\"\n                                            disabled={buttonLoading ? \"disabled\" : null}\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"formLine\">\n                                    <div className=\"formField loginBottomBloc\">\n                                        <p>Vous n'avez pas de compte ?</p>\n                                        <Link to=\"/mon-compte-partenaire/process/abonnement\">Inscrivez-vous</Link>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n\n                        <div className=\"prest-login-right\">\n                            <img alt=\"\" src={imgPrestLogin} />\n                        </div>\n                    </div>\n                </div>\n            </CSSTransition>\n        </Layout>\n    )\n}\nexport default Prest_Login;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Etape1.js",["1112","1113","1114","1115","1116","1117","1118","1119","1120","1121","1122","1123","1124","1125","1126","1127","1128","1129","1130"],"import React, { useState, useEffect } from \"react\";\nimport '../styles/Etape1.css'\nimport NumericInput from 'react-numeric-input';\nimport LocationSearchInput from \"../components/autocompletePlaces\"\nimport { useAuth } from \"../context/userContext\"; // context\nimport { useFirebase } from \"../assets/base-context\";\nimport { useHistory } from 'react-router-dom'\nimport InputRange from 'react-input-range';\nimport \"react-input-range/lib/css/index.css\";\n\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport DatePicker from '@mui/lab/DatePicker';\nimport frLocale from 'date-fns/locale/fr';\nimport MobileDatePicker from '@mui/lab/MobileDatePicker';\n\nimport { ButtonLarge } from '../components/utilities/Buttons'\nimport Loader from '../components/Loader.js'\nimport { FaQuestionCircle } from 'react-icons/fa'\nimport { Hidden } from \"@mui/material\";\n\n\nfunction sizeFormat(num) { return num + ' m²'; }\nfunction euroFormat(num) { return num + '€'; }\n\nconst Etape1 = () => {\n\n    const firebaseContext = useFirebase()\n    const auth = firebaseContext.auth()\n\n    const history = useHistory()\n\n    const { event, addEvent, setCurrentStepProcess, formatLabelTimePicker } = useAuth() // context\n\n\n    const [name, setName] = useState(event.name);\n    const [startDate, setStartDate] = useState(new Date(event.date));\n    const [startTime, setStartTime] = useState(event.startAt);\n    const [endTime, setEndTime] = useState(event.endAt);\n    const [nbrPeople, setNbrPeople] = useState(event.people);\n    const [placeSize, setPlaceSize] = useState(event.placeSize);\n    const [place, setPlace] = useState(event.place);\n    const [latLng, setLatLng] = useState(event.latLng);\n    const [budget, setBudget] = useState(event.budget);\n    const [status, setStatus] = useState(event.status);\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n    const [error, setError] = useState(\"\");\n    const [fieldError, setFieldError] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [isCalendarOpened, setIsCalendarOpened] = useState(false);\n    const [animationLoaderDone, setAnimationLoaderDone] = useState(true)\n    const [buttonSendDisabled, setButtonSendDisabled] = useState(false);\n    const [cEventInput, setCEventInput] = useState(1)\n    const inputIntro = [\n            \n    ];\n\n    let datePlusYear = new Date()\n    datePlusYear.setFullYear(datePlusYear.getFullYear());\n\n\n    const isMobile = () =>  windowsWidth < 1100\n\n    const handleResize = (width) => setWindowsWidth(width)\n\n    useEffect(() => {\n        event && (event.status === undefined || event.status === \"validated\" || event.status === \"pending\") && history.push('/dashboard')\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n\n        appendToSliderTimePicker()\n        setCurrentStepProcess(1)\n    }, [endTime, startTime, window.innerWidth])\n\n\n    async function handleSendForm(e) {\n        e.preventDefault()\n        await isValid().then(async res => {\n            if (res === true) {\n                setLoading(true)\n                setAnimationLoaderDone(false)\n                const item = {\n                    name: name,\n                    date: startDate,\n                    startAt: startTime,\n                    endAt: endTime,\n                    people: nbrPeople,\n                    placeSize: placeSize,\n                    place: place,\n                    latLng: latLng,\n                    budget: budget,\n                    user: auth.currentUser.uid,\n                    paid: 0,\n                    status: status,\n                    id: event.id\n                }\n                if (status !== \"creating\") { item.budgetLeft = budget }\n                try {\n                    addEvent(item).then(() => {\n                        history.push('/creer-mon-evenement/etape-2')\n                    })\n                } catch (e) {\n                    setLoading(false)\n                    setError('Une erreur inconnue est survenue')\n                }\n            }\n        })\n    }\n\n    async function isValid() {\n        // else if(birthDate !== 0) {setError(\"Veuillez renseigner votre nom\")} A faire avec la date de naissance\n        if (name.length > 2) {\n            if (latLng !== undefined && latLng.lat > 0 && latLng.lng > 0) {\n                return true\n            }\n            else {\n                setError(\"Veuillez renseigner une adresse valide\")\n                setFieldError(\"place\")\n            }\n        }\n        else {\n            setError(\"Veuillez renseigner le nom de votre évènement\")\n            setFieldError(\"name\")\n        }\n    }\n\n    function handleAdressChanged(adress, latLng) {\n        setButtonSendDisabled(true)\n        setPlace(adress)\n        setLatLng(latLng)\n        setButtonSendDisabled(false)\n    }\n\n    function appendToSliderTimePicker() {\n        const element = document.getElementsByClassName(\"input-range__slider\")\n        const formatedEndTime = formatLabelTimePicker(endTime)\n        const formatedStartTime = formatLabelTimePicker(startTime)\n        if (element[0] !== undefined) {\n            element[0].innerHTML = \"Commence à \" + formatedStartTime\n            element[1].innerHTML = \"Termine à \" + formatedEndTime\n        }\n    }\n\n    function handleOnChangeInputs(name, value) {\n        if (name === fieldError) {\n            setFieldError(\"\")\n        }\n        if (name === \"name\") { setName(value) }\n        else if (name === \"nbrPeople\") { setNbrPeople(value) }\n        else if (name === \"placeSize\") { setPlaceSize(value) }\n        else if (name === \"budget\") { setBudget(value) }\n    }\n\n    function handleDateChanged(val) {\n        setStartDate(val)\n        setIsCalendarOpened(false)\n    }\n\n    const nextPage = (plus) =>{\n        var number = cEventInput\n        if(cEventInput==1&&plus==-1){\n        } else {\n            setCEventInput(number+plus)\n        }\n    }\n\n    return (loading || !animationLoaderDone) ? <div className=\"formEtape1Container\"><Loader callBack={() => setAnimationLoaderDone(true)} /></div> : (\n        <div>\n            <div className=\"formEtape1Container\">\n                <div style={{height:'100px'}}>\n                    <h2><span style={{color: 'rgb(245, 192, 67)', fontFamily: \"Roboto-medium\"}}>{cEventInput}/6</span></h2>\n                    <p>{inputIntro[cEventInput-1]}</p>\n                </div>\n                <form style={{position:'relative'}}>\n                    \n                    <div style={{height:\"25vh\",width:\"100%\"}}>\n                    </div>\n                    <div className=\"formLine inputview\" style={{position:'absolute',top:0,width:'100%',opacity:cEventInput == 1 ? 1 : 0, zIndex:cEventInput == 1 ? '1' : '0'}}>\n                        <div className={fieldError === \"name\" ? \"formField error\" : \"formField\"}>\n                            <label>Nom de l'évènement</label>\n                            <input className=\"nameEventInput\" type=\"text\" name=\"name\" value={name} onChange={e => handleOnChangeInputs(\"name\", e.target.value)} />\n                        </div>\n                    </div>\n\n                    <div className=\"formLine inputview\" style={{position:'absolute',top:0,width:'100%',opacity:cEventInput == 2 ? 1 : 0, zIndex:cEventInput == 2 ? '1' :'0'}}>\n                        <div className=\"formFieldSpecialDate\">\n                            <label>Quand a-t-il lieu ?</label>\n                            <div\n                                onClick={() => setIsCalendarOpened(!isCalendarOpened)}\n                                className=\"etape1DatePicker\"\n                            >\n                                {new Date(startDate).toLocaleDateString(\"fr-FR\", { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" })}\n                            </div>\n                            {isCalendarOpened &&\n                                <div className=\"calendarContainerAbsolute\">\n                                    <LocalizationProvider style={{ position: \"relative!important\" }} locale={frLocale} dateAdapter={AdapterDateFns}>\n                                        {isMobile() ?\n                                            <MobileDatePicker\n                                                label=\"Date de l'évènement\"\n                                                open={isCalendarOpened}\n                                                onClose={() => setIsCalendarOpened(false)}\n                                                value={startDate}\n                                                onChange={(val) => handleDateChanged(val)}\n                                                renderInput={() => null}\n                                                minDate={datePlusYear}\n                                            />\n                                            :\n                                            <DatePicker\n                                                open={isCalendarOpened}\n                                                onClose={() => setIsCalendarOpened(false)}\n                                                value={startDate}\n                                                onChange={(val) => handleDateChanged(val)}\n                                                renderInput={() => null}\n                                                minDate={datePlusYear}\n                                            />\n                                        }\n                                    </LocalizationProvider>\n                                </div>\n                            }\n                        </div>\n                    </div>\n\n                    <div className=\"formLine inputview\" style={{position:'absolute',top:0,width:'100%',opacity:cEventInput == 3 ? 1 : 0, zIndex:cEventInput == 3 ? '1' : '0'}}>\n                        <div className=\"formField\">\n                            <label>Créneau horaire</label>\n                            <div className=\"etape1TimePickerContainer\" style={{display:!isMobile()&&'inline-block',width:!isMobile()&&'45%'}}>\n                                <InputRange\n                                    maxValue={86400}\n                                    minValue={0}\n                                    draggableTrack\n                                    step={900}\n                                    value={startTime}\n                                    formatLabel={value => formatLabelTimePicker(value)}\n                                    onChange={value => setStartTime(value)} />\n                            </div>\n                            <div className=\"etape1TimePickerContainer endAt\" style={{display:!isMobile()&&'inline-block',width:!isMobile()&&'45%'}}>\n                                <InputRange\n                                    maxValue={86400}\n                                    minValue={0}\n                                    draggableTrack\n                                    step={900}\n                                    value={endTime}\n                                    formatLabel={value => formatLabelTimePicker(value)}\n                                    onChange={value => setEndTime(value)} />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={!isMobile() ? \"formLine  inputview\" : \"formLine mobile  inputview\"} style={{position:'absolute',top:0,width:'100%',opacity:cEventInput == 4 ? 1 : 0, zIndex:cEventInput == 4 ? '1' : '0'}}>\n                        <div className=\"formField\">\n                            <label>Nombre de personnes</label>\n                            <NumericInput\n                                className=\"form-control\"\n                                value={nbrPeople}\n                                min={0}\n                                max={5000}\n                                step={1}\n                                precision={0}\n                                size={4}\n                                mobile\n                                onChange={(value) => handleOnChangeInputs(\"nbrPeople\", value)} />\n                        </div>\n                        <div className=\"formField\">\n                            <div className=\"formField_info\">\n                                <label>m² du lieu</label><FaQuestionCircle />\n                                <span>Nombre de m2 de l’espace où l’évènement pour l’indiquer à nos partenaires si besoin.</span>\n                            </div>\n                            <NumericInput\n                                format={sizeFormat}\n                                className=\"form-control\"\n                                value={placeSize}\n                                min={0}\n                                max={10000}\n                                step={1}\n                                precision={0}\n                                size={9}\n                                mobile\n                                onChange={(value) => handleOnChangeInputs(\"placeSize\", value)} />\n                        </div>\n                    </div>\n\n                    <div className=\"formLine inputview\" style={{position:'absolute',top:0,width:'100%',opacity:cEventInput == 5 ? 1 : 0, zIndex:cEventInput == 5 ? '1' : '0'}}>\n                        <div className={fieldError === \"place\" ? \"formField error\" : \"formField\"}>\n                            <label>Lieu de ton évènement</label>\n                            <LocationSearchInput placeType=\"address\" value={place} onChanged={handleAdressChanged} />\n                        </div>\n                    </div>\n\n                    <div className=\"formLine inputview\" style={{position:'absolute',top:0,width:'100%',opacity:cEventInput == 6 ? 1 : 0, zIndex:cEventInput == 6 ? '1' : '0'}}>\n                        <div className={fieldError === \"budget\" ? \"formField error\" : \"formField\"}>\n                            <div className=\"formField_info\">\n                                <label>Budget</label><FaQuestionCircle />\n                                <span>Il te sera possible de suivre l’avancée de ton budget durant l’organisation de ton évènement. Celui-ci peut être modifié à tout moment.</span>\n                            </div>\n\n                            <NumericInput\n                                format={euroFormat}\n                                className=\"form-control\"\n                                value={budget}\n                                min={50}\n                                max={50000}\n                                step={50}\n                                precision={0}\n                                size={9}\n                                mobile\n                                onChange={(value) => handleOnChangeInputs(\"budget\", value)}\n                            />\n                        </div>\n                    </div>\n                    {error.length > 0 &&\n                        <p className=\"errorMessage\">{error}</p>\n                    }\n                </form>\n                {cEventInput==6 ?\n                    <div className=\"formLine\" style={{display:!isMobile() && \"inline-block\",width:!isMobile() && '25vw'}}>\n                        <div className=\"formField\">\n                            <ButtonLarge\n                                onClick={(e) => handleSendForm(e)}\n                                color=\"orange\"\n                                value=\"C'est Party!\"\n                                backgroundColor=\"rgba(245, 192, 67)\"\n                                marginTop=\"10px\"\n                                disabled={buttonSendDisabled}\n                                width={!isMobile() && '21vw'}\n                            />\n                        </div>\n                    </div>\n                :\n                    <div className=\"formLine\" style={{display:!isMobile() && \"inline-block\",width:!isMobile() && '25vw'}}>\n                        <div className=\"formField\">\n                            <ButtonLarge\n                                onClick={() => nextPage(1)}\n                                color=\"orange\"\n                                value=\"Passez à l'étape suivante\"\n                                backgroundColor=\"rgba(245, 192, 67)\"\n                                marginTop=\"10px\"\n                                width={!isMobile() && '21vw'}\n                            />\n                        </div>\n                    </div>\n                }\n                <div className=\"formLine\" style={{display:!isMobile() && \"inline-block\",width:!isMobile() && '25vw'}}>\n                    <div className=\"formField\">\n                        <ButtonLarge\n                            onClick={() => nextPage(-1)}\n                            color=\"grey\"\n                            value=\"Revenir en arrière\"\n                            backgroundColor=\"rgba(245, 192, 67)\"\n                            marginTop=\"10px\"\n                            disable={cEventInput==1 && 'false'}\n                            width={!isMobile() && '21vw'}\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Etape1","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Recapitulatif.js",["1131","1132"],"import React, { useEffect, useState } from \"react\";\nimport { useFirebase } from \"../assets/base-context\";\nimport ReactLoading from 'react-loading';\nimport { useAuth } from \"../context/userContext\"; // context\nimport { items } from \"../components/servicesData\";\nimport { useHistory } from 'react-router-dom';\nimport { CSSTransition } from 'react-transition-group'\nimport ModalYesNo from '../components/utilities/ModalYesNo'\n\nimport { ButtonLarge } from '../components/utilities/Buttons'\n\nconst Recapitulatif = (props) => {\n    \n    const firebaseContext = useFirebase()\n    const firestore = firebaseContext.firestore()\n\n    const { event, setCurrentStepProcess, updateQuantityService, formatLabelTimePicker, checkoutStart } = useAuth() // context\n    const [services, setServices] = useState([])\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n    const [loading, setLoading] = useState(true)\n\n    const [isModalOpened, setIsModalOpened] = useState(false);\n    const [currentServiceID, setCurrentServiceID] = useState(\"\");\n\n    const history = useHistory()\n\n    function isMobile() {\n        if (windowsWidth > 1090) {\n            return false\n        }\n        else {\n            return true\n        }\n    }\n\n    function handleResize(width) {\n        setWindowsWidth(width)\n    }\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n        setCurrentStepProcess(3)\n        getAllChoosedServicesFromDB()\n    }, [event.choosedServices])\n\n    async function handleDeleteClick(id) {\n        setCurrentServiceID(id)\n        setIsModalOpened(true)\n    }\n\n    async function handleModalYesNoReturn(val) {\n        setIsModalOpened(false)\n        if (val === \"no\") return\n\n        handleQuantityChanged(currentServiceID, 0)\n    }\n\n    async function getAllChoosedServicesFromDB() {\n        const refServices = firestore.collection(\"events\").doc(event.id).collection('services')\n        const allServicesQuery = await refServices.get();\n        const allServices = []\n        allServicesQuery.forEach(doc => {\n            allServices.push({ ...doc.data(), uid: doc.id })\n        })\n        setServices(allServices)\n        setLoading(false)\n    }\n\n\n    function getTotalPrice() {\n        let total = 0;\n        event.choosedServices.forEach(service => {\n            let price = service.price\n            if (service.variations && service.variations.length > 0) {\n                price = service.variations.filter(vari => vari.name === service.variation)[0].price\n            }\n            total += price * service.quantity\n        })\n        total = Number.parseFloat(total).toFixed(2);\n        return total\n    }\n\n\n    const filteredServices = (key) => services.filter(service => service.category === key);\n\n    function handleQuantityChanged(serviceID, quantity) {\n        updateQuantityService(serviceID, quantity)\n    }\n\n    return (\n        <>\n            <div className={!isMobile() ? \"recapContainer\" : \"recapContainer mobile\"}>\n                <div className=\"recapHeader\">\n                    <p className='title'>Récapitulatif panier</p>\n                    <p className='subtitle'>{services.length} offres sélectionnées au total</p>\n                </div>\n                <div className=\"recapContent\">\n                    {loading ?\n                        <div className=\"recapServicesList\">\n                            <ReactLoading className=\"loadingSpinner\" type=\"spin\" color=\"rgba(245, 192, 67)\" height={50} width={50} />\n                        </div>\n                        :\n                        <div className=\"recapServicesList\">\n                            {\n                                Object.entries(items).map(([key, item]) => {\n                                    return (\n                                        <div className=\"recapServicesCategory\">\n                                            <p className=\"title\">\n                                                {key === \"decorations\" && \"Décoration\"}\n                                                {key === \"ambiance\" && \"Ambiance/Activité\"}\n                                                {key === \"nourriture\" && \"Nourriture & boisson\"}\n                                                {/* {key === \"service\" && \"Service sur place\"} */}\n                                            </p>\n                                            {\n                                                filteredServices(key).length > 0 ?\n                                                    filteredServices(key).map(service => {\n                                                        return (\n                                                            <div onClick={() => history.push(`/creer-mon-evenement/etape-2/prestataires/${service.sellerId}`)} className=\"recapServiceItem\">\n                                                                <div className=\"imgRecapServiceItem\">\n                                                                    <img alt=\"\" src={service.images[0].url} />\n                                                                </div>\n                                                                <div className=\"textRecapServiceItem\">\n                                                                    <span>\n                                                                        {(service.variations && service.variations.length > 0) ?\n                                                                            service.variations.filter(vari => vari.name === service.variation)[0].price + \"€\"\n                                                                            : service.price + \"€\"\n                                                                        }\n                                                                    </span>\n                                                                    <p>{service.name}</p>\n                                                                    <p>{(service.variations && service.variations.length > 0) && service.variation}</p>\n                                                                    <p onClick={(e) => e.stopPropagation(e)}>Quantité\n                                                                        <select\n                                                                            onChange={(e) => handleQuantityChanged(service.uid, e.target.value)}\n                                                                            name=\"quantity\"\n                                                                            id=\"quantity\"\n                                                                        >\n                                                                            <option selected={service.quantity === 1 && \"selected\"} value=\"1\">1</option>\n                                                                            <option selected={service.quantity === 2 && \"selected\"} value=\"2\">2</option>\n                                                                            <option selected={service.quantity === 3 && \"selected\"} value=\"3\">3</option>\n                                                                            <option selected={service.quantity === 4 && \"selected\"} value=\"4\">4</option>\n                                                                            <option selected={service.quantity === 5 && \"selected\"} value=\"5\">5</option>\n                                                                            <option selected={service.quantity === 6 && \"selected\"} value=\"6\">6</option>\n                                                                        </select>\n                                                                    </p>\n                                                                    <div onClick={(e) => (e.stopPropagation(), handleDeleteClick(service.uid))} className=\"deleteButtonRecapeServiceItem\">\n                                                                        <img alt=\"\" src=\"/images/trashRed.png\" />\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        )\n                                                    })\n                                                    :\n                                                    <p className=\"grey\">Aucune offre sélectionnée</p>\n                                            }\n                                        </div>\n                                    )\n                                })\n                            }\n                        </div>\n                    }\n                    <div className=\"recapInfo\">\n                        <div className=\"recapInfoTop\">\n                            <div className=\"recapInfoTopItem\">\n                                <span>Nom de l'évènement:</span>\n                                <p>{event.name}</p>\n                            </div>\n                            <div className=\"recapInfoTopItem\">\n                                <span>Date:</span>\n                                <p>{new Date(event.date).toLocaleDateString(\"fr-FR\", { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" })}</p>\n                            </div>\n                            <div className=\"recapInfoTopItem\">\n                                <span>Créneau:</span>\n                                <p className=\"coloredText1\">Commence à {formatLabelTimePicker(event.startAt)}</p>\n                                <p className=\"coloredText2\">Se termine à {formatLabelTimePicker(event.endAt)}</p>\n                            </div>\n                            <div className=\"recapInfoTopItem\">\n                                <span>Nombre de personnes:</span>\n                                <p>{event.people}</p>\n                            </div>\n                            <div className=\"recapInfoTopItem\">\n                                <span>Nombre de m²:</span>\n                                <p>{event.placeSize}</p>\n                            </div>\n                            <div className=\"recapInfoTopItem\">\n                                <span>Adresse:</span>\n                                <p>{event.place}</p>\n                            </div>\n                        </div>\n                        <div className=\"recapInfoBottom\">\n                            <div className=\"pricesRecapInfoBottom\">\n                                <div>\n                                    <p>Total:</p>\n                                    <span>{getTotalPrice()}€</span>\n                                </div>\n                                <div>\n                                    <p>Acompte:</p>\n                                    <span>{Number.parseFloat(getTotalPrice() / 3).toFixed(2)}€</span>\n                                </div>\n                            </div>\n                            <div className=\"paymentRecapInfoBottom\">\n                                <img alt=\"\" src=\"/images/paymentMethode.png\" />\n                                <ButtonLarge\n                                    onClick={() => checkoutStart(Number.parseFloat(getTotalPrice() / 3).toFixed(2))}\n                                    // history.push('/creer-mon-evenement/etape-3/confirmation')\n                                    color=\"orange\"\n                                    value=\"Passer au paiement\"\n                                    disabled={services.length < 1 && \"disabled\"}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <CSSTransition\n                in={isModalOpened}\n                timeout={200}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <ModalYesNo\n                    callback={(val) => handleModalYesNoReturn(val)}\n                    value=\"\"\n                />\n            </CSSTransition>\n        </>\n    )\n}\n\nexport default Recapitulatif;","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Dashboard.js",["1133","1134","1135","1136","1137","1138","1139"],"import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from '../components/Header'\nimport { useAuth } from '../context/userContext'\nimport Prest_Dashboard_Dashboard from \"../components/Prest_Dashboard_Dashboard\"\nimport Prest_Dashboard_Commandes from '../components/Prest_Dashboard_Commandes'\nimport Prest_Dashboard_Services from '../components/Prest_Dashboard_Services'\nimport Prest_Dashboard_Info from '../components/Prest_Dashboard_Info'\nimport Prest_Dashboard_Sponsorship from '../components/Prest_Dashboard_Sponsorship'\nimport Prest_Dashboard_Status_Message from '../components/Prest_Dashboard_Status_Message'\nimport Prest_Dashboard_Calendar from '../components/Prest_Dashboard_Calendar'\n\n\nconst Prest_Dashboard = () => {\n\n    const { seller } = useAuth()\n    const history = useHistory()\n    console.log(useAuth())\n    seller.status === \"subscribing\" && history.push('/mon-compte-partenaire/process/description')\n    \n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n    const [step, setStep] = useState(seller.status === \"opened\" ? \"1\" : \"0\")\n\n    function isMobile() {\n        return windowsWidth > 1160 ? false : true\n    }\n\n    useEffect(() => {\n        seller.status !== \"opened\" ? setStep(0) : setStep(1)\n    }, [seller.status])\n\n    window.addEventListener(\"resize\", (e) => setWindowsWidth(window.innerWidth))\n    window.scrollTo(0, 0);\n\n    return (\n        <div>\n            <Header />\n            <div className={!isMobile() ? \"prest_Dashboard dashboard\" : \"prest_Dashboard dashboard mobile\"}>\n                <div className=\"dashboardHeader\">\n                    <p>Content de vous revoir <span>{seller.displayName}</span></p>\n                    <div>\n                        {seller.status !== \"opened\" && <span className={step === 0 && \"active\"} onClick={() => setStep(0)}>Dashboard</span>}\n\n                        {seller.status === \"opened\" && <span className={step === 1 && \"active\"} onClick={() => setStep(1)}>Dashboard</span>}\n                        {seller.status === \"opened\" && <span className={step === 2 && \"active\"} onClick={() => setStep(2)}>Commandes</span>}\n                        {seller.status === \"opened\" && <span className={step === 3 && \"active\"} onClick={() => setStep(3)}>Mes services</span>}\n                        {seller.status === \"opened\" && <span className={step === 4 && \"active\"} onClick={() => setStep(4)}>Mes informations</span>}\n                        {seller.status === \"opened\" && <span className={step === 5 && \"active\"} onClick={() => setStep(5)}>Parrainage</span>}\n                        {seller.status === \"opened\" && <span className={step === 6 && \"active\"} onClick={() => setStep(6)}>Calendrier</span>}\n                    </div>\n                </div>\n\n                <div className={windowsWidth < 600 ? \"dashboardContent mobile\" : \"dashboardContent\"}>\n                    {step === 0 &&\n                        seller.status !== \"opened\" && <Prest_Dashboard_Status_Message status={seller.status} />\n                    }\n\n                    {step === 1 && <Prest_Dashboard_Dashboard setStep={setStep} />}\n                    {step === 2 && <Prest_Dashboard_Commandes />}\n                    {step === 3 && <Prest_Dashboard_Services setStep={setStep} />}\n                    {step === 4 && <Prest_Dashboard_Info />}\n                    {step === 5 && <Prest_Dashboard_Sponsorship />}\n                    {step === 6 && <Prest_Dashboard_Calendar />}\n                </div>\n            </div>\n        </div>\n\n    )\n}\nexport default Prest_Dashboard;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/paymentConfirm.js",["1140","1141","1142"],"import React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"../context/userContext\"; // context\nimport { useHistory } from 'react-router-dom'\nimport { useLocation } from \"react-router-dom\";\n\nimport { ButtonRoundLarge } from '../components/utilities/Buttons'\nimport ServiceDescription from \"../components/ServiceDescription\";\n\n\nconst PaymentConfirm = () => {\n\n    const [isPayment, setIsPayment] = useState(false)\n    const history = useHistory()\n\n    const { user,\n        event,\n        setCurrentStepProcess,\n        addSalesInDB,\n        updateEventStatus,\n        getSalesOfSellerIdFromDB,\n        sendInBlue_sendRecapToUserAfterPayment,\n        sendInBlue_sendNewSaleToSeller,\n        getEmailOfSellerWithUid,\n        getSaleTokenOfEventFromDb,\n        checkoutCheck } = useAuth() // context\n\n    const search = useLocation().search\n    const eventId = new URLSearchParams(search).get('id')\n    const saleToken = new URLSearchParams(search).get('token')\n    const session_id = new URLSearchParams(search).get('session_id')\n\n    setCurrentStepProcess(31)\n\n    useEffect(() => {\n        if (eventId === undefined || eventId.length < 7 || eventId !== event.id) return history.push('/dashboard')\n        if (event && event.status && event.status !== \"creating\") return history.push('/dashboard')\n\n        getSaleTokenOfEventFromDb().then(token => {\n            return saleToken !== token && history.push('/dashboard')\n        })\n        checkoutCheck(session_id)\n            .then(res => {\n                return res.status === \"paid\" ? createSales(res.amount, res.id) : history.push('/dashboard')\n            })\n    }, [])\n\n    async function createSales(amount, stripeId) {\n        const sellersUniqueIds = await getSellersIds()\n        let finalSales = []\n        // On map sur les ids triés, puis on trie les services pour les attribuer au bon seller\n        sellersUniqueIds.map(async uniqueId => {\n            const sellerServices = event.choosedServices.filter(service => service.sellerId === uniqueId)\n\n            // On modifie les services dans le tableau pour leur donner la structure dont on a besoin\n            let newSellerServices = []\n            sellerServices.forEach(service => {\n                const newService = {\n                    id: service.id,\n                    quantity: service.quantity,\n                    price: service.price,\n                    image: service.images[0].url,\n                    name: service.name,\n                    variations: service.variations,\n                    variation: service.variation,\n                    note: service.note\n                }\n                newSellerServices = [...newSellerServices, newService]\n            })\n            const sellerSales = await getSalesOfSellerIdFromDB(uniqueId)\n            let total = 0\n            newSellerServices.forEach(service =>\n                (service.variations && service.variations.length > 0) ? \n                total += service.variations.filter(vari => vari.name === service.variation)[0].price * service.quantity\n                : total += service.price * service.quantity\n            )\n\n            // On structure le sale comme on l'a décidé\n            finalSales = [...finalSales, {\n                eventID: event.id,\n                sellerID: uniqueId,\n                userID: user.uid,\n                eventDate: event.date,\n                choosedServices: newSellerServices,\n                paid: amount,\n                date: Date.now(), // à recevoir de stripe\n                status: \"pending\",\n                transactionID: stripeId,\n                total: total,\n                id: sellerSales.length + 1,\n                people: event.people,\n                placeSize: event.placeSize,\n                startAt: event.startAt,\n                endAt: event.endAt,\n                sellerNote: \"\"\n            }]\n\n            const sellersEmail = await getEmailOfSellerWithUid(uniqueId)\n            sendInBlue_sendNewSaleToSeller(sellersEmail, newSellerServices, event)\n\n            // Cette fonction est appelée pour le moment au chargement de la pag mais il faudra une confirmation de stripe pour l'appeler.\n            if (sellersUniqueIds.length === finalSales.length) {\n                await addSalesInDB(finalSales)\n                updateEventStatus(\"pending\")\n                sendInBlue_sendRecapToUserAfterPayment(user.email, finalSales, event)\n            }\n        })\n    }\n\n    async function getSellersIds() {\n        // On récupère tous les ids des sellers présents dans tous les services puis on les trie\n        let sellersIds = []\n        event.choosedServices.map(service => sellersIds.push(service.sellerId))\n\n        const sellersUniqueIds = sellersIds.reduce((acc, current) => {\n            const isFound = acc.find(item => item === current);\n            return !isFound ? acc = [...acc, current] : acc\n        }, [])\n        return sellersUniqueIds\n    }\n\n    return !isPayment && (\n        <div>\n            <div className=\"paymentConfirmContainer\">\n                <div className=\"paymentConfirmTop\">\n                    <img alt=\"\" src=\"/images/wouhou.png\" />\n                    <h2>Votre paiement a bien été reçu, merci !</h2>\n                    {/* <ButtonRoundLarge\n                        onClick={() => history.push('/dashboard')}\n                        color=\"orange\"\n                        value=\"Voir mon évènement\"\n                    /> */}\n                </div>\n                <div className=\"paymentConfirmBottom\">\n                <p>Vous pouvez aussi dès à présent inviter des personnes à votre évènements! 🥳</p>\n                    <ButtonRoundLarge\n                        onClick={() => history.push('/creer-mon-evenement/etape-3/invitations')}\n                        color=\"blue\"\n                        value=\"Préparer mes invitations\"\n                    />\n                </div>\n                <div className=\"backconfirm\">Revenir à l'accueil</div>\n            </div>\n        </div>\n    )\n}\n\nexport default PaymentConfirm;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Subscribe.js",["1143","1144","1145","1146","1147"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/Prest_.css\";\nimport { useAuth } from \"../context/userContext\"; // context\nimport { useHistory } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\n\nimport { ButtonLarge } from \"../components/utilities/Buttons\";\nimport Layout from \"../components/utilities/Layout\";\nimport Title from \"../components/utilities/Title\";\nimport SubTitle from \"../components/utilities/SubTitle\";\nimport ReactLoading from \"react-loading\";\nimport LocationSearchInput from \"../components/autocompletePlaces\";\n\nimport imgLiasse from \"../images/image00001.png\";\nimport traitOrange from \"../images/traitOrange.png\";\nimport { bool } from \"prop-types\";\n\nimport { CSSTransition } from \"react-transition-group\";\n\nconst Prest_Subscribe = () => {\n  const search = useLocation().search;\n  const referral = new URLSearchParams(search).get(\"referral\");\n\n  const initialData = {\n    companyName: \"\",\n    adress: \"\",\n    latLng: { lat: 0, lng: 0 },\n    siret: \"\",\n    website: \"\",\n    firstName: \"\",\n    holiday: [],\n    lastName: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    passwordConfirm: \"\",\n    referral: \"\",\n    status: \"subscribing\",\n  };\n\n  const history = useHistory();\n\n  const [sellerData, setSellerData] = useState(initialData);\n  const [error, setError] = useState({ type: \"\", message: \"\" });\n\n  const [passwordStatus, setPasswordStatus] = useState({\n    valid: bool,\n    message: \"\",\n  });\n  const [passwordConfirmStatus, setPasswordConfirmStatus] = useState({\n    valid: bool,\n    message: \"\",\n  });\n  const [affiliateCodeStatus, setAffiliateCodeStatus] = useState({\n    valid: bool,\n    message: \"\",\n  });\n\n  const [buttonLoading, setButtonLoading] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n\n  const { sellerSubscribe } = useAuth(); // context\n\n  const { setCurrentStepProcess, checkoutSubscription, refSellers, seller } = useAuth(); // context\n\n  useEffect(() => {\n    if (referral !== null) setSellerData({ ...sellerData, referral: referral });\n    return setIsMounted(true);\n  }, []);\n\n  function handleAdressChanged(adress, latLng) {\n    if (latLng !== undefined) {\n      setSellerData({ ...sellerData, adress: adress, latLng: latLng });\n    }\n  }\n\n  async function handleFormSubmit(e) {\n    e.preventDefault();\n    setButtonLoading(true);\n    const {\n      companyName,\n      adress,\n      siret,\n      website,\n      firstName,\n      holiday,\n      lastName,\n      email,\n      phone,\n      password,\n      latLng,\n      referral,\n    } = sellerData;\n    isFormComplete().then((res) => {\n      if (res === true) {\n        sellerSubscribe(\n          companyName,\n          adress,\n          siret,\n          website,\n          firstName,\n          holiday,\n          lastName,\n          email,\n          phone,\n          password,\n          latLng,\n          referral\n        ).then((res) => {\n          if (res === \"auth/email-already-in-use\") {\n            setError({ type: \"email\", message: \"Cet email est déjà utilisé\" });\n            setButtonLoading(false);\n          } else\n            setTimeout(() => {\n              history.push(\"/mon-compte-partenaire/process/description\");\n            }, 2000);\n        });\n      }\n    });\n  }\n\n  async function isFormComplete() {\n    if (sellerData.companyName.length > 0) {\n      if (sellerData.adress.length > 0) {\n        if (sellerData.siret.length === 14) {\n          if (sellerData.firstName.length > 0) {\n            if (sellerData.lastName.length > 0) {\n              if (sellerData.email.length > 0) {\n                if (\n                  sellerData.phone.length === 10 ||\n                  sellerData.phone.length === 0\n                ) {\n                  if (sellerData.password.length > 8) {\n                    if (sellerData.password === sellerData.passwordConfirm) {\n                      return true;\n                    } else {\n                      setError({\n                        type: \"passwordConfirm\",\n                        message:\n                          \"Les deux mots de passe ne sont pas identiques\",\n                      });\n                    }\n                  } else {\n                    setError({\n                      type: \"password\",\n                      message:\n                        \"Votre mot de passe doit faire 8 caractère minimum\",\n                    });\n                  }\n                } else {\n                  setError({\n                    type: \"phone\",\n                    message:\n                      \"Merci de renseigner un numéro de téléphone valide\",\n                  });\n                }\n              } else {\n                setError({\n                  type: \"email\",\n                  message: \"Merci de renseigner un email\",\n                });\n              }\n            } else {\n              setError({\n                type: \"lastName\",\n                message: \"Merci de renseigner le nom du gérant\",\n              });\n            }\n          } else {\n            setError({\n              type: \"firstName\",\n              message: \"Merci de renseigner le prénom du gérant\",\n            });\n          }\n        } else {\n          setError({\n            type: \"siret\",\n            message: \"Merci de renseigner un numéro de Siret valide\",\n          });\n        }\n      } else {\n        setError({\n          type: \"adress\",\n          message: \"Vous devez renseigner l'adresse de votre entreprise.\",\n        });\n      }\n    } else {\n      setError({\n        type: \"companyName\",\n        message: \"Vous devez renseigner le nom de votre entreprise.\",\n      });\n    }\n\n    setButtonLoading(false);\n  }\n\n  function handlePasswordChanged(password) {\n    password.length > 8\n      ? setPasswordStatus({ valid: true })\n      : setPasswordStatus({ valid: false });\n    setSellerData({ ...sellerData, password: password });\n  }\n\n  function handlePasswordConfirmChanged(password) {\n    password.length > 8 && password === sellerData.password\n      ? setPasswordConfirmStatus({ valid: true })\n      : setPasswordConfirmStatus({ valid: false });\n    setSellerData({ ...sellerData, passwordConfirm: password });\n  }\n\n  function handleAffiliateCodeChanged(code) {\n    code.length === 12\n      ? setAffiliateCodeStatus({ valid: true })\n      : setAffiliateCodeStatus({ valid: false });\n    setSellerData({ ...sellerData, referral: code });\n  }\n\n  return (\n    <Layout>\n      <CSSTransition\n        in={isMounted}\n        timeout={300}\n        classNames=\"pageTransition\"\n        unmountOnExit\n      >\n        <div className=\"prest-subscribe-container\">\n          <div className=\"prest-subscribe-beforeHeader\">\n            <p>\n              Vous avez déjà un compte ?{\" \"}\n              <span onClick={() => history.push(\"/acces-prestataire\")}>\n                Connectez-vous\n              </span>\n            </p>\n          </div>\n          <div className=\"prest-subscribe-header\">\n            <h1\n              style={{ textAlign: \"center\", fontFamily: \"roboto-medium\" }}\n              className=\"bigTitle\"\n            >\n              Boostez les{\" \"}\n              <span>\n                revenus <img alt=\"\" src={imgLiasse} />\n                <img alt=\"\" src={traitOrange} />\n              </span>\n              <br />\n              de votre activité!\n            </h1>\n            <SubTitle\n              value=\"Grâce à NIVID, recevez des réservations 24H/24 7J/7\"\n              type=\"big\"\n              font=\"roboto-regular\"\n              align=\"center\"\n            />\n            <div className=\"divider small\"></div>\n          </div>\n\n          {error && <div className=\"errorMessage\">{error.message}</div>}\n\n          <form>\n            <div className=\"leftForm\">\n               {/* <Title value=\"À présent, <br></br>apprenons-en un peu plus sur vous\" type=\"h2\" font=\"roboto-medium\" /> */ }\n              <h2 class=\"bigTitle\">À présent, <br></br>apprenons-en un peu plus sur vous</h2>\n              <p class=\"bigTitlep\">Votre compte sera validé manuellement par notre équipe.</p>\n              <div className=\"formLine\">\n                <div className=\"formField withoutMargin\">\n                  <label>Nom de l'entreprise</label>\n                  <input\n                    value={sellerData.companyName}\n                    type=\"text\"\n                    name=\"companyName\"\n                    onChange={(e) =>\n                      setSellerData({\n                        ...sellerData,\n                        companyName: e.target.value,\n                      })\n                    }\n                  />\n                </div>\n              </div>\n\n              <div className=\"formLine\">\n                <div className=\"formField withoutMargin\">\n                  <label>Adresse</label>\n                  <LocationSearchInput\n                    placeType=\"address\"\n                    value={sellerData.adress}\n                    onChanged={handleAdressChanged}\n                    isValid={\n                      sellerData.latLng !== undefined &&\n                      sellerData.latLng.lat !== 0\n                        ? true\n                        : sellerData.latLng !== undefined &&\n                          sellerData.latLng.lat === 0\n                        ? null\n                        : false\n                    }\n                  />\n                </div>\n              </div>\n\n              <div className=\"formLine\">\n                <div className=\"formField withoutMargin\">\n                  <label>Numéro de siret (14 caractères)</label>\n                  <input\n                    value={sellerData.siret}\n                    type=\"text\"\n                    name=\"siret\"\n                    onChange={(e) =>\n                      setSellerData({ ...sellerData, siret: e.target.value })\n                    }\n                    maxlength=\"14\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"formLine\">\n                <div className=\"formField withoutMargin\">\n                  <label>Site internet</label>\n                  <input\n                    value={sellerData.website}\n                    type=\"text\"\n                    name=\"text\"\n                    onChange={(e) =>\n                      setSellerData({ ...sellerData, website: e.target.value })\n                    }\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"rightForm\">\n              <Title\n                value=\"Coordonnées du gérant\"\n                type=\"h2\"\n                font=\"roboto-medium\"\n              />\n\n              <div className=\"formLine\">\n                <div className=\"formField\">\n                  <label>Prénom</label>\n                  <input\n                    value={sellerData.firstName}\n                    type=\"text\"\n                    name=\"firstName\"\n                    onChange={(e) =>\n                      setSellerData({\n                        ...sellerData,\n                        firstName: e.target.value,\n                      })\n                    }\n                  />\n                </div>\n                <div className=\"formField\">\n                  <label>Nom</label>\n                  <input\n                    value={sellerData.lastName}\n                    type=\"text\"\n                    name=\"lastName\"\n                    onChange={(e) =>\n                      setSellerData({ ...sellerData, lastName: e.target.value })\n                    }\n                  />\n                </div>\n              </div>\n\n              <div className=\"formLine\">\n                <div className=\"formField\">\n                  <label>Email</label>\n                  <input\n                    value={sellerData.email}\n                    type=\"email\"\n                    name=\"email\"\n                    onChange={(e) =>\n                      setSellerData({ ...sellerData, email: e.target.value })\n                    }\n                  />\n                </div>\n              </div>\n\n              <div className=\"formLine\">\n                <div className=\"formField\">\n                  <label>Numéro de téléphone (fixe ou portable)</label>\n                  <input\n                    value={sellerData.phone}\n                    type=\"text\"\n                    name=\"phone\"\n                    onChange={(e) =>\n                      setSellerData({ ...sellerData, phone: e.target.value })\n                    }\n                  />\n                </div>\n              </div>\n\n              <div className=\"formLine\">\n                <div className=\"formField\">\n                  <label>Mot de passe</label>\n                  <input\n                    className={\n                      passwordStatus.valid === true\n                        ? \"valid\"\n                        : passwordStatus.valid === false && \"notValid\"\n                    }\n                    value={sellerData.password}\n                    type=\"password\"\n                    name=\"text\"\n                    onChange={(e) => handlePasswordChanged(e.target.value)}\n                  />\n                </div>\n                <div className=\"formField\">\n                  <label>Confirmation mot de passe</label>\n                  <input\n                    className={\n                      passwordConfirmStatus.valid === true\n                        ? \"valid\"\n                        : passwordConfirmStatus.valid === false && \"notValid\"\n                    }\n                    value={sellerData.passwordConfirm}\n                    type=\"password\"\n                    name=\"text\"\n                    onChange={(e) =>\n                      handlePasswordConfirmChanged(e.target.value)\n                    }\n                  />\n                </div>\n              </div>\n            </div>\n          </form>\n          <div className=\"actionFormContainer\">\n            <div className=\"leftForm\">\n              <Title\n                value=\"Vous avez un code de parrainage ?\"\n                type=\"h2\"\n                font=\"roboto-medium\"\n              />\n              <div className=\"formLine\">\n                <div className=\"formField withoutMargin\">\n                  <label>Code de votre parrain</label>\n                  <input\n                    className={\n                      affiliateCodeStatus.valid === true\n                        ? \"valid\"\n                        : affiliateCodeStatus.valid === false && \"notValid\"\n                    }\n                    value={sellerData.referral}\n                    type=\"text\"\n                    name=\"text\"\n                    onChange={(e) => handleAffiliateCodeChanged(e.target.value)}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"rightForm\">\n              <p>\n                En créant un compte chez Nivid en tant que préstataire, vous\n                acceptez les <a href=\"/CGU\">conditions générales du site</a>\n              </p>\n              <div className=\"formLine\">\n                <div className=\"formField withoutMargin\">\n                    <ButtonLarge\n                      onClick={(e) => handleFormSubmit(e)}\n                      color=\"orange\"\n                      value={\n                        buttonLoading ? (\n                          <ReactLoading\n                            className=\"loadingSpinnerButton\"\n                            type=\"spin\"\n                            color=\"white\"\n                            height={23}\n                            width={23}\n                          />\n                        ) : (\n                          \"Créer mon compte\"\n                        )\n                      }\n                      disabled={buttonLoading ? \"disabled\" : null}\n                      marginTop=\"10px\"\n                      width=\"300px\"\n                    />\n                  {/* </Link> */}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </CSSTransition>\n    </Layout>\n  );\n};\nexport default Prest_Subscribe;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Step0.js",["1148","1149","1150","1151","1152","1153","1154","1155","1156","1157","1158","1159","1160","1161"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/Prest_.css\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport { ButtonLarge } from \"../components/utilities/Buttons\";\nimport Layout from \"../components/utilities/Layout\";\nimport Title from \"../components/utilities/Title\";\nimport { useAuth } from \"../context/userContext\"; // context\nimport { ButtonSmall } from \"../components/utilities/Buttons\";\nimport Header from \"../components/Header\";\nimport { FaPlus } from \"react-icons/fa\";\nimport { ReactComponent as Checkedsvg } from \"../images/checked.svg\";\nimport { ReactComponent as Confetti } from \"../images/confetti.svg\";\nimport { AiOutlinePlus } from \"react-icons/ai\";\nimport { AiOutlineLine } from \"react-icons/ai\";\nimport pres1 from \"../images/AdobeStock_426636063.jpeg\";\nimport pres2 from \"../images/AdobeStock_200877704.jpeg\";\nimport pres3 from \"../images/AdobeStock_292777021.jpeg\";\nimport pres4 from \"../images/AdobeStock_304886685.jpeg\";\nimport pres5 from \"../images/AdobeStock_129995716.jpeg\";\nimport cibleImg from \"../images/cible.svg\";\nimport toolImg from \"../images/repair-tools.svg\";\n\nconst Prest_Step0 = () => {\n  const [windowsWidth, setWindowsWidth] = useState(window.innerWidth);\n\n  const history = useHistory();\n  const { setCurrentStepProcess, checkoutSubscription, refSellers, seller } = useAuth(); // context\n\n  const [openedFAQDropdown, setOpenedFAQDropdown] = useState(0);\n\n\n  const isMobile = () => (windowsWidth > 1100 ? false : true);\n  const handleResize = (width) => setWindowsWidth(width);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth));\n  }, []);\n  \n  // useEffect(() => {\n  //   refSellers.doc(seller.uid).get().then(res => {\n  //     const data = res.data()\n  //     data.subscription_id && history.push(\"/mon-compte-partenaire/process/description\")\n  //   })\n  // }, []);\n\n  setCurrentStepProcess(0);\n\n  return (\n    <>\n      <Header />\n      <Layout>\n        <div className=\"membership\">\n          <div className=\"membership_header\">\n            <h1>\n              Dernière étape avant de rentrer\n              <br /> officiellement dans la\n              <span> famille!</span>\n            </h1>\n            <div className=\"membership_header_images\">\n              <div className=\"images_container\">\n                <div className=\"item\">\n                  <img style={{ marginLeft: \"-85px\" }} src={pres1}></img>\n                </div>\n                <div className=\"item\">\n                  <img style={{ marginLeft: \"-85px\" }} src={pres2}></img>\n                </div>\n                <div className=\"item\">\n                  <img style={{ marginLeft: \"-115px\" }} src={pres3}></img>\n                </div>\n                <div className=\"item\">\n                  <img style={{ marginLeft: \"-155px\" }} src={pres4}></img>\n                </div>\n                <div className=\"item\">\n                  <img style={{ marginLeft: \"-15px\" }} src={pres5}></img>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"membership_content\">\n            <p>\n              En rejoignant <span>Nivid</span>, vous intégrez une communauté de\n              professionnels passionés et résolument modernes. Un petit luxe\n              dont on ne sait plus se passer une fois que l'on y a goûté !\n            </p>\n            <div className=\"features\">\n              <div>\n                <img src={cibleImg} />\n                <div class=\"blockprocessabonnement\">\n                  <h4>Augmentez votre chiffre d'affaires</h4>\n                  <p>Grâce à une plateforme intuitive & personnalisée</p>\n                </div>\n              </div>\n              <div>\n                <img src={toolImg} />\n                <div class=\"blockprocessabonnement\">\n                  <h4>Gagnez en productivité</h4>\n                  <p>\n                    Fini les multiples plateformes, faites tout depuis un seul\n                    endroit\n                  </p>\n                </div>\n              </div>\n            </div>\n            <div className=\"offer\">\n              <h1>Votre boutique en ligne</h1>\n              <span>GRATUITE</span>\n              <p>\n                Une commission de 12% pour toute prestation réalisée sur nivid.fr\n              </p>\n              <ul>\n                <li>\n                  <Checkedsvg />Mise en place de la boutique en ligne\n                </li>\n                <li>\n                  <Checkedsvg />\n                  Gestion et facturation des commandes automatisées 24/7\n                </li>\n                <li>\n                  <Checkedsvg />\n                  Accompagnement et support partenaire\n                </li>\n                <li>\n                  <Checkedsvg />\n                  Outils d’analyse de performance (vues, likes, ventes)\n                </li>\n                <li>\n                  <Checkedsvg />\n                  SAV client\n                </li>\n                <li>\n                  <Checkedsvg />\n                  Communication digitale\n                </li>\n              </ul>\n            </div>\n            <div className=\"action\">\n              <h2>\n                Vous n'êtes plus qu'à un clic d'augmenter votre{\" \"}\n                <span> chiffre d'affaires</span> <Confetti />\n              </h2>\n              <Link to=\"/inscription-prestataire\">\n                <ButtonSmall\n                  // onClick={() => checkoutSubscription()}\n                  to=\"/acces-prestataire\"\n                  color=\"blue\"\n                  value=\"Je m'inscris maintenant\"\n                />\n              </Link>\n              <p>\n                En cliquant, vous acceptez les conditions générales de vente\n              </p>\n            </div>\n          </div>\n\n          <div className=\"membership_bottom\">\n            <div className=\"left\">\n              <h1>Quelques questions / réponses à propos de l'abonnement</h1>\n              <p>Pour encore plus de réponses, visitez notre FAQ</p>\n              <button\n                onClick={() => history.push(\"faq\")}\n                className=\"blue smallButton\"\n              >\n                Voir la FAQ\n              </button>\n            </div>\n            <div className=\"right\">\n              <div className=\"home_dropdown_faq\">\n                <div\n                  onClick={() =>\n                    setOpenedFAQDropdown(openedFAQDropdown === 1 ? 0 : 1)\n                  }\n                >\n                  <div className=\"dropdown_faq_header\">\n                    <p>Quelles sont les prochaines étapes de mon inscription ?</p>\n                    {openedFAQDropdown === 1 ? (\n                      <AiOutlineLine />\n                    ) : (\n                      <AiOutlinePlus />\n                    )}\n                  </div>\n                  <span className={openedFAQDropdown === 1 && \"active\"}>\n                  Après nous avoir envoyé tous les documents nécessaires à l’identification de ton entreprise, nous procéderons à une validation de ton dossier. Une fois validé et le paiement de l’abonnement réalisé, il sera l’heure de faire tes premiers pas sur NIVID !\n                  </span>\n                </div>\n                <div\n                  onClick={() =>\n                    setOpenedFAQDropdown(openedFAQDropdown === 2 ? 0 : 2)\n                  }\n                >\n                  <div className=\"dropdown_faq_header\">\n                    <p>Comment suis-je accompagné dans l’installation de ma vitrine ?</p>\n                    {openedFAQDropdown === 2 ? (\n                      <AiOutlineLine />\n                    ) : (\n                      <AiOutlinePlus />\n                    )}\n                  </div>\n                  <span className={openedFAQDropdown === 2 && \"active\"}>\n                  Rassure-toi chez NIVID tu seras toujours accompagné et cela même après tes premiers pas.\nPour installer ta vitrine, nous te mettrons à disposition des tutoriels et si besoin, tu pourras <a href=\"/contact\">prendre rendez vous avec un membre de l’équipe NIVID.</a>\n                  </span>\n                </div>\n                <div\n                  onClick={() =>\n                    setOpenedFAQDropdown(openedFAQDropdown === 3 ? 0 : 3)\n                  }\n                >\n                  <div className=\"dropdown_faq_header\">\n                    <p>Aurais-je des contraintes a respecter en tant que partenaire NIVID ?</p>\n                    {openedFAQDropdown === 3 ? (\n                      <AiOutlineLine />\n                    ) : (\n                      <AiOutlinePlus />\n                    )}\n                  </div>\n                  <span className={openedFAQDropdown === 3 && \"active\"}>\n                  Chez NIVID, nous mettons tout en œuvre pour offrir à nos partenaires et nos clients la meilleure expérience possible. Dans ce sens, nous avons mis en place les <a href=\"/CGU\">conditions générales de service</a>, qui finalement reflètent l’état d’esprit NIVID !\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    </>\n  );\n};\nexport default Prest_Step0;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Step1.js",["1162","1163","1164"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/Prest_.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../context/userContext\"; // context\n\nimport { ButtonSmall, ButtonLarge } from \"../components/utilities/Buttons\";\nimport Layout from \"../components/utilities/Layout\";\nimport Title from \"../components/utilities/Title\";\nimport SubTitle from \"../components/utilities/SubTitle\";\nimport { items } from \"../components/servicesData\";\nimport { useFirebase } from \"../assets/base-context\";\nimport ReactLoading from \"react-loading\";\nimport { CSSTransition } from \"react-transition-group\";\nimport { useLocation } from \"react-router-dom\";\n\nconst Prest_Step1 = () => {\n  const firebaseContext = useFirebase();\n  const storage = firebaseContext.storage();\n\n  const [error, setError] = useState({ type: \"\", message: \"\" });\n  const [buttonLoading, setButtonLoading] = useState(false);\n\n  const [isMounted, setIsMounted] = useState(false);\n\n  const search = useLocation().search;\n  const session_id = new URLSearchParams(search).get(\"session_id\");\n\n  const initialSellerDetails = {\n    description: \"\",\n    category: \"\",\n    subcategory: \"\",\n    image_path: \"\",\n  };\n\n  const initialPictures = {\n    name: \"\",\n    url: \"\",\n    lastModified: 0,\n    size: 0,\n    type: \"\",\n    webkitRelativePath: \"\",\n  };\n\n  const [sellerDetails, setSellerDetails] = useState(initialSellerDetails);\n\n  const [pictures, setPictures] = useState(initialPictures);\n\n  const {\n    setCurrentStepProcess,\n    setImageSellerDB,\n    addSellerDescription,\n    seller,\n    deleteOldSellerPicture,\n    checkoutCheck,\n    refSellers,\n    setSeller,\n  } = useAuth(); // context\n  const history = useHistory();\n\n  // seller.status !== \"subscribing\" && history.push(\"/mon-compte-partenaire\");\n\n  setCurrentStepProcess(1);\n\n  useEffect(() => {\n    setSellerDetails({\n      description: seller.description ? seller.description : '',\n      category: seller.category ? seller.category : '',\n      subcategory: seller.subcategory ? seller.subcategory : '',\n      image_path: seller.image_path ? seller.image_path : '',\n    });\n    return setIsMounted(true);\n  }, []);\n\n  useEffect(() => {\n    if (session_id) {\n      checkoutCheck(session_id).then((res) => {\n        if (res.status === \"paid\") {\n          refSellers.doc(seller.uid).update({\n            subscription_id: res.id,\n          });\n          setSeller({ ...seller, subscription_id: res.id });\n        } /*else history.push(\"/mon-compte-partenaire/process/abonnement\")*/;\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!seller.subscription_id && session_id === null)\n      // history.push(\"/mon-compte-partenaire/process/abonnement\");\n      return;\n  }, []);\n\n  function handleCategoryChange(category, subcategory) {\n    if (category !== sellerDetails.category) {\n      setSellerDetails({\n        ...sellerDetails,\n        category: category,\n        subcategory: subcategory,\n      });\n    }\n  }\n\n  function handleSubCategoryChange(key) {\n    if (key !== sellerDetails.subcategory) {\n      setSellerDetails({ ...sellerDetails, subcategory: key });\n    }\n  }\n\n  function handleChange(e) {\n    const type = e.target.files[0].type;\n    const size = e.target.files[0].size;\n    if (type !== \"image/png\" && type !== \"image/jpeg\" && type !== \"image/jpg\" && type !== \"application/pdf\") {\n      setError({\n        type: \"imageType\",\n        message: \"Votre fichier n'est ni une image jpeg, jpg ou PNG.\",\n      });\n    } else if (size > 2000000) {\n      setError({ type: \"imageSize\", message: \"Votre image fait plus de 2Mo.\" });\n    } else {\n      setPictures(e.target.files[0]);\n      setSellerDetails({\n        ...sellerDetails,\n        image_path: { url: URL.createObjectURL(e.target.files[0]) },\n      });\n      setError({ type: \"\", message: \"\" });\n    }\n  }\n\n  async function isFormValid() {\n    if (sellerDetails.description.length > 350) {\n      if (\n        sellerDetails.category.length > 1 &&\n        sellerDetails.subcategory.length > 1\n      ) {\n        if (\n          (pictures.name && pictures.name.length > 0) ||\n          (sellerDetails.image_path && sellerDetails.image_path.url.length) > 0\n        ) {\n          return true;\n        } else {\n          setButtonLoading(false);\n          setError({\n            type: \"noImage\",\n            message: \"Vous devez ajouter une image.\",\n          });\n        }\n      } else {\n        setButtonLoading(false);\n        setError({\n          type: \"noCategory\",\n          message: \"Vous devez séléctionner votre secteur d'activité.\",\n        });\n      }\n    } else {\n      setButtonLoading(false);\n      setError({\n        type: \"description\",\n        message: \"Votre description doit faire au moins 350 caractères.\",\n      });\n    }\n  }\n\n  async function handleSendForm() {\n    setButtonLoading(true);\n    setError({ type: \"\", message: \"\" });\n    const valid = await isFormValid();\n    if (valid === true) {\n      let tokenAndUrl = { url: \"\", token: \"\" };\n\n      // Si la photo est une nouvelle\n      if (pictures.name.length > 0) {\n        const token = Math.random().toString(36).substr(2, 19);\n        const url = await handleUploadFile(token);\n        await setImageSellerDB(url, token);\n        tokenAndUrl = { url: url, token: token };\n        seller.image_path.url &&\n          deleteOldSellerPicture([seller.image_path.token]);\n      } else {\n        tokenAndUrl = sellerDetails.image_path; // Photo non changée\n      }\n\n      addSellerDescription(sellerDetails, tokenAndUrl).then(() => {\n        setPictures(initialPictures);\n        setSellerDetails({ ...sellerDetails, image_path: tokenAndUrl });\n        setButtonLoading(false);\n        history.push(\"/mon-compte-partenaire/process/services\");\n      });\n    } else {\n      return;\n    }\n  }\n\n  async function handleUploadFile(token) {\n    return new Promise((resolve, reject) => {\n      const upload = storage.ref(`sellers/${token}`).put(pictures);\n      upload.on(\n        \"state_changed\",\n        (snapshot) => {},\n        (error) => {\n          console.log(error);\n        },\n        () => {\n          storage\n            .ref(\"sellers\")\n            .child(token)\n            .getDownloadURL()\n            .then((url) => {\n              resolve(url);\n            })\n            .catch((error) => {\n              console.error(error);\n              reject(error);\n            });\n        }\n      );\n    });\n  }\n\n  return (\n    <Layout>\n      <CSSTransition\n        in={isMounted}\n        timeout={300}\n        classNames=\"pageTransition\"\n        unmountOnExit\n      >\n        <div>\n          <SubTitle\n            value=\"Dites-nous en plus sur votre activité\"\n            type=\"big\"\n            font=\"roboto-medium\"\n            align=\"left\"\n          />\n\n          <div className=\"Prest-Step1-Section1\">\n            <Title\n              value=\"Que devraient savoir vos futurs clients sur vous ?\"\n              type=\"h2\"\n              font=\"roboto-medium\"\n              align=\"left\"\n            />\n            <p>\n              Décrivez en détail votre entreprise : aussi bien les services que\n              les produits proposés afin de renseigner au mieux vos futurs\n              clients. Notre équipe révisera votre texte afin\n              d'optimiser votre vitrine et vous permettre d'attirer le plus\n              grand nombre de clients. Merci de ne pas inclure de page web,\n              courrier électronique, numéro de téléphone et autres coordonnées\n              de contact.\n            </p>\n            <div className=\"textAreaContainer\">\n              <textarea\n                value={sellerDetails.description}\n                onChange={(e) =>\n                  setSellerDetails({\n                    ...sellerDetails,\n                    description: e.target.value,\n                  })\n                }\n              ></textarea>\n              <span\n                className={sellerDetails.description.length > 349 && \"valid\"}\n              >\n                {sellerDetails.description.length}/350\n              </span>\n            </div>\n          </div>\n\n          <div className=\"Prest-Step1-Section2\">\n            <Title\n              value=\"Sélectionnez votre secteur d'activité\"\n              type=\"h2\"\n              font=\"roboto-medium\"\n              align=\"left\"\n            />\n\n            <div className=\"headerEtape2 Prest-category\">\n              {(sellerDetails.category === \"decorations\" ||\n                sellerDetails.category.length === 0) && (\n                <div\n                  className={\n                    sellerDetails.category === \"decorations\"\n                      ? \"category active\"\n                      : \"category\"\n                  }\n                  onClick={() =>\n                    handleCategoryChange(\"decorations\", \"Décorations intérieures\")\n                  }\n                >\n                  <h1>Décorations</h1>\n                </div>\n              )}\n\n              {(sellerDetails.category === \"ambiance\" ||\n                sellerDetails.category.length === 0) && (\n                <div\n                  className={\n                    sellerDetails.category === \"ambiance\"\n                      ? \"category active\"\n                      : \"category\"\n                  }\n                  onClick={() => handleCategoryChange(\"ambiance\", \"Musique\")}\n                >\n                  <h1>Ambiance</h1>\n                </div>\n              )}\n\n              {(sellerDetails.category === \"table\" ||\n                sellerDetails.category.length === 0) && (\n                <div\n                  className={\n                    sellerDetails.category === \"table\"\n                      ? \"category active\"\n                      : \"category\"\n                  }\n                  onClick={() => handleCategoryChange(\"table\", \"Nourriture\")}\n                >\n                  <h1>À table</h1>\n                </div>\n              )}\n\n             {/* {\n                                (sellerDetails.category === \"service\" || sellerDetails.category.length === 0) &&\n                                <div\n                                    className={sellerDetails.category === \"service\" ? \"category active\" : \"category\"}\n                                    onClick={() => handleCategoryChange(\"service\", \"serveurs\")}\n                                >\n                                    <h1>Service sur place</h1>\n                                </div>\n                            } */} \n\n              {sellerDetails.category.length > 0 && (\n                <div className=\"category button\">\n                  <h1\n                    onClick={() =>\n                      setSellerDetails({\n                        ...sellerDetails,\n                        category: \"\",\n                        subcategory: \"\",\n                      })\n                    }\n                  >\n                    Modifier ma sélection\n                  </h1>\n                </div>\n              )}\n            </div>\n\n            <div className=\"subHeaderEtape2 Prest-subCategory\">\n              {sellerDetails.category.length > 1 &&\n                Object.entries(items[sellerDetails.category]).map(\n                  ([key, item]) => {\n                    return (\n                      <div\n                        key={key}\n                        className={\n                          sellerDetails.subcategory === key\n                            ? \"subMenuItem active\"\n                            : \"subMenuItem\"\n                        }\n                        onClick={() => handleSubCategoryChange(key)}\n                      >\n                        <img alt=\"\" src={item.icon} />\n                        <p>{key}</p>\n                      </div>\n                    );\n                  }\n                )}\n            </div>\n          </div>\n\n          <div className=\"Prest-Step1-Section3\">\n            <Title\n              value=\"Photo principale\"\n              type=\"h2\"\n              font=\"roboto-medium\"\n              align=\"left\"\n            />\n\n            {(error.type === \"imageSize\" || error.type === \"imageType\") && (\n              <p className=\"errorMessage\">{error.message}</p>\n            )}\n\n            <p>\n              De votre boutique ou bien de votre stand, quelque chose de\n              représentatif !\n            </p>\n            <div className=\"fileInputContainer\">\n              {sellerDetails.image_path.length === 0 &&\n                seller.image_path.length === 0 && (\n                  <label for=\"file\" className=\"label-file\">\n                    +\n                  </label>\n                )}\n              <input\n                accept=\"image/jpeg, image/jpg, image/png, application/pdf\"\n                id=\"file\"\n                className=\"input-file\"\n                type=\"file\"\n                onChange={(e) => handleChange(e)}\n              />\n              <img\n                style={{ borderRadius: \"8px\" }}\n                alt=\"\"\n                src={sellerDetails.image_path.url || seller.image_path.url}\n              />\n              <div className=\"fileInputRight\">\n                <p>2Mo max.</p>\n                <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\n                <ButtonSmall\n                  onClick={() => document.getElementById(\"file\").click()}\n                  color={\n                    sellerDetails.image_path.length === 0 ? \"grey\" : \"blue\"\n                  }\n                  value={\n                    sellerDetails.image_path.length === 0\n                      ? \"Choisir une image\"\n                      : \"Changer d'image\"\n                  }\n                  marginTop=\"10px\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"Prest-Step1-Section4\">\n            <div>\n              <p>\n                <span>Attention: </span>Merci de bien vérifier toutes vos\n                informations, celles-ci seront modifiables seulement si votre\n                dossier est en attente de validation.\n              </p>\n            </div>\n            <div>\n              <ButtonLarge\n                onClick={() => handleSendForm()}\n                color=\"orange\"\n                value={\n                  buttonLoading ? (\n                    <ReactLoading\n                      className=\"loadingSpinnerButton\"\n                      type=\"spin\"\n                      color=\"white\"\n                      height={23}\n                      width={23}\n                    />\n                  ) : (\n                    \"Passer à l'étape suivante\"\n                  )\n                }\n                width=\"400px\"\n              />\n            </div>\n          </div>\n\n          {error.message.length > 1 && (\n            <p className=\"PrestErrorMessage\">{error.message}</p>\n          )}\n        </div>\n      </CSSTransition>\n    </Layout>\n  );\n};\nexport default Prest_Step1;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/passwordForget.js",["1165","1166"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/Login.css\"\nimport { Link, useHistory } from 'react-router-dom'\nimport logoWhite from \"../images/logoWhite.svg\"\nimport logo from \"../images/logoBlack.svg\"\nimport { useAuth } from \"../context/userContext\"; // context\n\nimport { ButtonSmall, ButtonLarge } from '../components/utilities/Buttons'\nimport BackIcon from '@mui/icons-material/ArrowBackIosNew';\nimport checkedsvg from '../images/checked.png'\nimport Title from '../components/utilities/Title'\nimport Loader from \"../components/Loader\";\n\nconst PasswordForget = () => {\n\n    const [email, setEmail] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n    const [isSent, setIsSent] = useState(false);\n    const [isSending, setIsSending] = useState(false);\n\n    const { getAuthUserFromHisEmail } = useAuth() // context\n    const history = useHistory()\n\n    const isMobile = () => windowsWidth > 1100 ? false : true\n    const handleResize = (width) => setWindowsWidth(width)\n\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n    }, [])\n\n\n\n    async function handleSendPasswordForget(e) {\n        e.preventDefault()\n        await getAuthUserFromHisEmail(email)\n            .then(res => {\n                if (res === true) {\n                    setIsSending(false)\n                    setIsSent(true)\n                }\n                else if (res === \"invalid\") {\n                    setIsSending(false)\n                    setError(\"Le format de l'e-mail est incorrect\")\n                }\n                else if (res === \"notexist\") {\n                    setIsSending(false)\n                    setError(\"L'email que vous avez renseigné n'est associé à aucun compte.\")\n                }\n            })\n    }\n\n\n    return (\n        <div className=\"passwordForget_container\">\n            <header style={{ position: \"relative\", zIndex: \"999\", display: \"flex\", justifyContent: \"space-between\" }}>\n                <div onClick={() => history.push(\"/\")} className=\"logoContainer\">\n                    <img alt=\"\" src={!isMobile() ? logoWhite : logo} />\n                </div>\n                <div className=\"LoginBackLink\">\n                    <ButtonSmall\n                        color=\"orange\"\n                        onClick={() => history.push(\"/\")}\n                        value=\"Revenir à l'accueil\"\n                        iconMUIStart={<BackIcon sx={{ fontSize: 16 }} />}\n                        classname=\"flex\"\n                    />\n                </div>\n            </header>\n            <div className=\"passwordForget\">\n                {!isMobile() && <div className=\"passwordForget_left\"></div>}\n                <div className=\"passwordForget_right\">\n                    <div className=\"passwordForget_form\">\n                        {isSending ?\n                            <Loader />\n                            : !isSent ?\n                                <>\n                                    <h1>Vous avez perdu votre mot de passe ?</h1>\n                                    {error && (\n                                        <div className=\"errorMessage\">\n                                            {error}\n                                        </div>\n                                    )}\n                                    <form>\n                                        <div className=\"formLine\">\n                                            <div className=\"formField\">\n                                                <label>Identifiant / Adresse email</label>\n                                                <input value={email} type=\"email\" name=\"email\" onChange={(e) => setEmail(e.target.value)} />\n                                            </div>\n                                        </div>\n\n\n\n                                        <div className=\"formLine\">\n                                            <div className=\"formField\">\n                                                <ButtonLarge\n                                                    onClick={(e) => { setIsSending(true); handleSendPasswordForget(e) }}\n                                                    color={\"orange\"}\n                                                    value=\"Envoyer le mail de réinitialisation\"\n                                                />\n                                            </div>\n                                        </div>\n                                    </form>\n                                </>\n                                :\n                                <>\n                                    <img alt=\"\" style={{ width: \"60px\" }} src={checkedsvg} />\n                                    <Title value=\"Votre demande de réinitialisation a bien été envoyée.\" type=\"h2\" font=\"roboto-medium\" align=\"center\" />\n                                    <div className=\"passwordForget_form_bottom\">\n                                        <p>Vous n'avez pas reçu d'email de réinitialisation ?</p>\n                                        <a href=\"\" onClick={(e) => { setIsSending(true); handleSendPasswordForget(e) }}>Envoyer à nouveau</a>\n                                    </div>\n                                </>\n                        }\n                    </div>\n\n                </div>\n            </div>\n\n        </div>\n    )\n}\nexport default PasswordForget;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Step3.js",["1167","1168"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/Prest_.css\"\nimport { useHistory } from 'react-router-dom'\nimport { useAuth } from \"../context/userContext\"; // context\n\nimport { ButtonSmall, ButtonLarge } from '../components/utilities/Buttons'\nimport Layout from '../components/utilities/Layout'\nimport Title from '../components/utilities/Title'\nimport SubTitle from '../components/utilities/SubTitle'\nimport ReactLoading from 'react-loading';\nimport { useFirebase } from \"../assets/base-context\";\nimport { FaCheckCircle } from 'react-icons/fa';\nimport { CSSTransition } from 'react-transition-group'\n\nconst Prest_Step3 = () => {\n    \n    const firebaseContext = useFirebase()\n    const storage = firebaseContext.storage()\n\n    const initialDocuments = {\n        kbis: \"\",\n        ci: \"\",\n        assurance: \"\",\n        sepa: \"\",\n        rib: \"\"\n    }\n\n    const [error, setError] = useState({ type: \"\", message: \"\" });\n    const [buttonLoading, setButtonLoading] = useState(false)\n\n    const [documents, setDocuments] = useState(initialDocuments)\n\n    const [isMounted, setIsMounted] = useState(false);\n\n\n    const { seller, setCurrentStepProcess, addSellerDocuments, getSellerDocumentsFromDB } = useAuth() // context\n    const history = useHistory()\n    \n    // seller.status !== \"subscribing\" && history.push('/mon-compte-partenaire')\n\n    setCurrentStepProcess(3)\n\n    useEffect(() => {\n        function getCurrentDocumentsFromDB() {\n            getSellerDocumentsFromDB().then(data => {\n                if (data === null) {\n                    setDocuments(initialDocuments)\n                }\n                else {\n                    setDocuments(data)\n                }\n            })\n        }\n        getCurrentDocumentsFromDB()\n        setIsMounted(true)\n    }, [])\n\n\n    function handleInputChange(e, docType) {\n        const type = e.target.files[0].type\n        const size = e.target.files[0].size\n        if (type !== \"image/png\" && type !== \"image/jpeg\" && type !== \"image/jpg\" && type !== \"application/pdf\") {\n            setError({ type: docType, message: \"Votre fichier n'est ni une image jpeg, jpg, png ou PDF.\" })\n        }\n        else if (size > 2000000) {\n            setError({ type: docType, message: \"Votre image fait plus de 2Mo.\" })\n        }\n        else {\n            e.target.files[0].docType = docType\n            docType === \"kbis\" ? setDocuments({ ...documents, kbis: e.target.files[0] })\n                : docType === \"ci\" ? setDocuments({ ...documents, ci: e.target.files[0] })\n                    : docType === \"assurance\" && setDocuments({ ...documents, assurance: e.target.files[0] })\n            setError({ type: \"\", message: \"\" })\n        }\n    }\n\n    async function handleSendForm() {\n        setButtonLoading(true)\n        if (documents.kbis.name && documents.ci.name && documents.assurance.name) {\n            let documentsUrlArray = { ...documents }\n\n            for (const doc in documents) {\n                if (documents[doc].lastModified) {\n                    const token = `${documents[doc].docType}-${Math.random().toString(36).substr(2, 19)}`\n                    const url = await handleUploadFile(documents[doc], token)\n                    documentsUrlArray[documents[doc].docType] = { url: url, token: token, name: documents[doc].name }\n                }\n            }\n            \n            const modifiedFiles = Object.values(documents).filter(doc => doc.lastModified !== undefined)\n            modifiedFiles.length > 0 && await addSellerDocuments(documentsUrlArray)\n            history.push('/mon-compte-partenaire/process/verification-2')\n\n        } else {\n            setError({ type: \"docCount\", message: \"Il manque des documents. Le Kbis, la carte d'identité, et l'assurance de responsabilité civile, sont obligatoires.\" })\n            setButtonLoading(false)\n        }\n\n    }\n\n    function handleUploadFile(image, token) {\n\n        return new Promise((resolve, reject) => {\n\n            const upload = storage.ref(`sellers/${token}`).put(image)\n            upload.on(\n                \"state_changed\", snapshot => { },\n                error => {\n                    console.log(error)\n                }, () => {\n                    storage\n                        .ref(\"sellers\")\n                        .child(token)\n                        .getDownloadURL()\n                        .then(url => {\n                            resolve(url);\n                        })\n                        .catch(error => {\n                            console.error(error)\n                            reject(error);\n                        })\n                }\n            )\n        })\n    }\n\n    return (\n        <Layout>\n            <CSSTransition\n                in={isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <div className=\"layoutDocumentPrest\">\n                    <div className=\"Prest-Step3-Header\">\n                        <SubTitle value=\"Vérification documents\" type=\"big\" font=\"roboto-medium\" align=\"left\" />\n                        <p>Sur cette page vous allez devoir nous transmettre vos documents, pour que nous puissions vérifier votre activité.</p>\n                        <p>Merci de bien les vérifier avant envoi, il ne peut y avoir de modifications possibles.</p>\n                    </div>\n\n                    <div className=\"Prest-Step3-Section1\">\n                        <Title value=\"KBIS actualisé ou relevé Siren\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                        {error.type === \"kbis\" && <p className=\"errorMessage\">{error.message}</p>}\n                        <p>Evitez les photos floues ou trop sombres.</p>\n                        <input id=\"fileKbis\" className=\"input-file\" type=\"file\" onChange={(e) => handleInputChange(e, \"kbis\")} />\n                        <div className=\"fileConditions\">\n                            <p>2Mo max</p>\n                            <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\n                        </div>\n                        {\n                            (documents.kbis.status && documents.kbis.status === \"validated\") ?\n                                <p className=\"validMessage\"><FaCheckCircle style={{ marginRight: \"5px\" }} size=\"25\" color=\"rgb(120, 213, 152)\" />Votre document a été accepté</p>\n                                :\n                                <div>\n                                    {(documents.kbis.status && documents.kbis.status === \"rejected\") &&\n                                        <p className=\"errorMessage\">Votre document a été refusé.</p>\n                                    }\n                                    <ButtonSmall\n                                        onClick={() => document.getElementById('fileKbis').click()}\n                                        color=\"blue\"\n                                        value=\"Charger le document\"\n                                        marginTop=\"15px\"\n                                    />\n                                    {(documents.kbis && documents.kbis.status !== \"rejected\") && <span className=\"fileNameOnRight\">{documents.kbis.name}</span>}\n                                </div>\n                        }\n                    </div>\n\n                    <div className=\"Prest-Step3-Section2\">\n                        <Title value=\"Carte d'identité du gérant\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                        {error.type === \"ci\" && <p className=\"errorMessage\">{error.message}</p>}\n                        <p>Evitez les photos floues ou trop sombres.</p>\n                        <p>Merci de nous fournir un document avec le recto et le verso de votre carte d'identité.</p>\n                        <input id=\"fileCi\" className=\"input-file\" type=\"file\" onChange={(e) => handleInputChange(e, \"ci\")} />\n                        <div className=\"fileConditions\">\n                            <p>2Mo max</p>\n                            <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\n                        </div>\n                        {\n                            (documents.ci.status && documents.ci.status === \"validated\") ?\n                                <p className=\"validMessage\"><FaCheckCircle style={{ marginRight: \"5px\" }} size=\"25\" color=\"rgb(120, 213, 152)\" />Votre document a été accepté</p>\n                                :\n                                <div>\n                                    {(documents.ci.status && documents.ci.status === \"rejected\") &&\n                                        <p className=\"errorMessage\">Votre document a été refusé.</p>\n                                    }\n                                    <ButtonSmall\n                                        onClick={() => document.getElementById('fileCi').click()}\n                                        color=\"blue\"\n                                        value=\"Charger le document\"\n                                        marginTop=\"15px\"\n                                    />\n                                    {(documents.ci && documents.ci.status !== \"rejected\") && <span className=\"fileNameOnRight\">{documents.ci.name}</span>}\n                                </div>\n                        }\n                    </div>\n\n                    <div className=\"Prest-Step3-Section4\">\n                        <Title value=\"Assurance responsabilité civile professionnelle\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                        {error.type === \"assurance\" && <p className=\"errorMessage\">{error.message}</p>}\n                        <p>Evitez les photos floues ou trop sombres.</p>\n                        <input id=\"fileAssurance\" className=\"input-file\" type=\"file\" onChange={(e) => handleInputChange(e, \"assurance\")} />\n                        <div className=\"fileConditions\">\n                            <p>2Mo max</p>\n                            <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\n                        </div>\n                        {\n                            (documents.assurance.status && documents.assurance.status === \"validated\") ?\n                                <p className=\"validMessage\"><FaCheckCircle style={{ marginRight: \"5px\" }} size=\"25\" color=\"rgb(120, 213, 152)\" />Votre document a été accepté</p>\n                                :\n                                <div>\n                                    {(documents.assurance.status && documents.assurance.status === \"rejected\") &&\n                                        <p className=\"errorMessage\">Votre document a été refusé.</p>\n                                    }\n                                    <ButtonSmall\n                                        onClick={() => document.getElementById('fileAssurance').click()}\n                                        color=\"blue\"\n                                        value=\"Charger le document\"\n                                        marginTop=\"15px\"\n                                    />\n                                    {(documents.assurance && documents.assurance.status !== \"rejected\") && <span className=\"fileNameOnRight\">{documents.assurance.name}</span>}\n                                </div>\n                        }\n                    </div>\n\n\n                    <div className=\"divider\"></div>\n\n                    <div className=\"Prest-Step3-Section3\">\n                        <ButtonLarge\n                            onClick={() => handleSendForm()}\n                            color=\"orange\"\n                            value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"Passer aux documents suivants\"}\n                            width=\"400px\"\n                        />\n                    </div>\n                    {error.type === \"docCount\" && <p className=\"PrestErrorMessage\">{error.message}</p>}\n                </div>\n            </CSSTransition>\n        </Layout>\n    )\n}\nexport default Prest_Step3;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Step_Confirm.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Step2.js",["1169","1170","1171"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/Prest_.css\"\nimport { useHistory } from 'react-router-dom'\nimport { useAuth } from \"../context/userContext\"; // context\n\nimport DeleteIcon from '@mui/icons-material/DeleteOutline';\nimport IconButton from '@mui/material/IconButton';\nimport AddIcon from '@mui/icons-material/Add';\n\nimport { useDetectClickOutside } from 'react-detect-click-outside';\n\nimport { ButtonSmall, ButtonLarge } from '../components/utilities/Buttons'\nimport Layout from '../components/utilities/Layout'\nimport Title from '../components/utilities/Title'\nimport SubTitle from '../components/utilities/SubTitle'\nimport NumericInput from 'react-numeric-input';\nimport { useFirebase } from \"../assets/base-context\";\nimport ReactLoading from 'react-loading';\n\nimport { FaTrashAlt } from 'react-icons/fa'\nimport { CSSTransition } from 'react-transition-group'\n\nimport Image from '../components/utilities/Image'\n\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\n\nconst BoxConfirm = ({ type, position, callback, callbackClose }) => {\n    const refConfirmBox = useDetectClickOutside({ onTriggered: callbackClose });\n    return <div ref={refConfirmBox} className={`confirmBox ${position}`}>\n        <span>\n            {type === \"delete\" && \"Confirmation de suprresion d'une variation\"}\n            {type === \"save\" && \"Confirmation de sauvegarde\"}\n        </span>\n        <h2>\n            {type === \"delete\" && \"Êtes-vous sûr de vouloir supprimer cette variation ?\"}\n            {type === \"save\" && \"Vous n'avez rien oublié ?\"}\n        </h2>\n        <p>\n            {type === \"delete\" && \"Cette action est irréversible\"}\n            {type === \"save\" && \"Si jamais... Vous pouvez toujours modifier ce service directement depuis votre dashboard\"}\n        </p>\n\n        <ButtonSmall\n            onClick={callback}\n            color={type === \"delete\" ? \"red\" : \"green\"}\n            value=\"Je confirme\"\n            marginTop=\"20px\"\n        />\n    </div>\n}\n\n\nconst Prest_Step2 = () => {\n\n    const firebaseContext = useFirebase()\n    const storage = firebaseContext.storage()\n\n    const [error, setError] = useState({ type: \"\", message: \"\" });\n    const [buttonLoading, setButtonLoading] = useState(false)\n\n    const [services, setServices] = useState([])\n    const [pictureTokensToDelete, setPictureTokensToDelete] = useState([])\n\n    const [isFormOpened, setIsFormOpened] = useState(false)\n\n    const { seller, setCurrentStepProcess, addSellerServices, getServicesOfCurrentSellerFromDB, deleteOldSellerPicture, addFoodTypeToSeller } = useAuth() // context\n    const history = useHistory()\n\n    // seller.status !== \"subscribing\" && history.push('/mon-compte-partenaire')\n\n    const initialNewService = {\n        category: seller.category,\n        name: \"\",\n        images: [],\n        description: \"\",\n        price: 0,\n        variations: [],\n        foodType: \"Aucun\",\n        id: null\n    }\n\n    const [newService, setNewService] = useState(initialNewService)\n\n    const [isMounted, setIsMounted] = useState(false);\n\n    const [isPopupConfirmDeleteOpened, setIsPopupConfirmDeleteOpened] = useState(false)\n    const [isPopupConfirmSaveOpened, setIsPopupConfirmSaveOpened] = useState(false)\n    const [currentDeletingVariation, setCurrentDeletingVariation] = useState(-1)\n\n    const [isServiceAddedCorrectly, setIsServiceAddedCorrectly] = useState(false)\n\n    const [isVariations, setIsVariations] = useState(false)\n\n    setCurrentStepProcess(2)\n\n    useEffect(() => {\n        function getCurrentServicesFromDB() {\n            getServicesOfCurrentSellerFromDB().then(data => {\n                setServices(data)\n            })\n        }\n        getCurrentServicesFromDB()\n        setIsMounted(true)\n    }, [])\n\n\n    function handleChange(e) {\n        const type = e.target.files[0].type\n        const size = e.target.files[0].size\n        if (type !== \"image/png\" && type !== \"image/jpeg\" && type !== \"image/jpg\" && type !== \"application/pdf\") {\n            setError({ type: \"imageType\", message: \"Votre fichier n'est ni une image jpeg, jpg, png ou PDF.\" })\n        }\n        else if (size > 2000000) {\n            setError({ type: \"imageSize\", message: \"Votre image fait plus de 2Mo.\" })\n        }\n        else {\n            const newURL = URL.createObjectURL(e.target.files[0])\n            e.target.files[0].localURL = newURL\n            setNewService({ ...newService, images: [...newService.images, e.target.files[0]] })\n            setError({ type: \"\", message: \"\" })\n        }\n    }\n\n    function euroFormat(num) { return num + '€'; }\n\n    function handleDeletePicture(item) {\n        const newPictures = [...newService.images]\n        for (var i = 0; i < newPictures.length; i++) {\n            if (newPictures[i].localURL === item || newPictures[i].url === item) {\n                if (newPictures[i].url === item) {\n                    setPictureTokensToDelete([...pictureTokensToDelete, newPictures[i].token])\n                }\n                newPictures.splice(i, 1);\n            }\n        }\n        setNewService({ ...newService, images: newPictures })\n    }\n\n    function handleServiceClicked(item) {\n        setIsVariations(item.variations.length > 0 ? true : false)\n        clearInputs()\n        setNewService(item)\n        setIsFormOpened(true)\n    }\n\n    function clearInputs() {\n        setNewService(initialNewService)\n        setError({ type: \"\", message: \"\" })\n    }\n\n    function handleAddService() {\n        setIsPopupConfirmSaveOpened(false)\n        if (newService.name.length < 5) {\n            setError({ type: \"name\", message: \"Le nom de votre offre doit faire au minimum 5 caractères.\" })\n        }\n        else if (newService.description.length < 20 || newService.description.length > 300) {\n            setError({ type: \"description\", message: \"Votre description doit comporter entre 20 et 300 caractères.\" })\n        }\n        else if (newService.images.length === 0) {\n            setError({ type: \"noPictures\", message: \"Vous devez ajouter au moins une photo de votre service.\" })\n        }\n        else {\n            setIsFormOpened(false)\n\n            //Si l'id est égal à Null, c'est que le service est nouveau\n            //Si l'id n'est pas null, on ne créera pas un nouveau service on modifiera l'actuel\n            if (newService.id !== null) {\n                const newServicesList = [...services]\n                var index = newServicesList.findIndex(service => service.id === newService.id)\n\n                const serviceToUpload = { ...newService }\n                if (!isVariations) serviceToUpload.variations = []\n                newServicesList[index] = serviceToUpload\n\n                setServices(newServicesList)\n                clearInputs()\n                setIsServiceAddedCorrectly(true)\n                setTimeout(() => {\n                    setIsServiceAddedCorrectly(false)\n                }, 2000)\n            }\n            else {\n\n                if (services.length >= 5) {\n                    setError({ type: \"maxServices\", message: \"Vous avez déjà atteint le maximum d'offres sur votre boutique.\" })\n                }\n                else {\n                    const reconstructedService = newService\n                    reconstructedService.id = services.length\n                    if (!isVariations) reconstructedService.variations = []\n\n                    setServices([...services, reconstructedService])\n                    clearInputs()\n                    setIsServiceAddedCorrectly(true)\n                    setTimeout(() => {\n                        setIsServiceAddedCorrectly(false)\n                    }, 2000)\n                }\n            }\n        }\n    }\n\n    function handleClickedAddService() {\n        setIsFormOpened(true)\n        setIsVariations(false)\n        clearInputs()\n        document.getElementById('serviceName').focus()\n    }\n\n    function handleFormSend() {\n        setButtonLoading(true)\n        if (services.length > 0) {\n            var newAllServicesArray = []\n\n            services.forEach(async service => {\n                var newServiceImageArray = service.images.filter(image => !image.localURL)\n                var newServiceArray = {\n                    description: service.description,\n                    id: service.id,\n                    name: service.name,\n                    images: newServiceImageArray,\n                    price: service.price,\n                    category: service.category,\n                    variations: service.variations,\n                    foodType: service.foodType !== undefined ? service.foodType : \"Aucun\"\n                }\n                \n                if (seller.category === \"nourriture\")\n                    await addFoodTypeToSeller(service.foodType !== undefined ? service.foodType : \"Aucun\")\n\n                for (var i = 0; i < service.images.length; i++) {\n\n                    if (service.images[i].localURL) {\n                        const token = Math.random().toString(36).substr(2, 19)\n                        const url = await handleUploadFile(service.images[i], token)\n                        let newImg = { url: url, token: token }\n                        newServiceImageArray.push(newImg)\n                        newServiceArray.images = newServiceImageArray\n                        pictureTokensToDelete.length > 0 && deleteOldSellerPicture(pictureTokensToDelete, \"services\")\n                    }\n                }\n                newAllServicesArray = [...newAllServicesArray, newServiceArray]\n                if (services.length === newAllServicesArray.length) {\n                    await addSellerServices(newAllServicesArray)\n                    history.push('/mon-compte-partenaire/process/verification-1')\n                }\n            })\n        }\n        else {\n            setError({ type: \"serviceSize\", message: \"Merci d'ajouter au moins un service à votre boutique.\" })\n            setButtonLoading(false)\n        }\n    }\n\n    function handleUploadFile(image, token) {\n\n        return new Promise((resolve, reject) => {\n\n            const upload = storage.ref(`services/${token}`).put(image)\n            upload.on(\n                \"state_changed\", snapshot => { },\n                error => {\n                    console.log(error)\n                }, () => {\n                    storage\n                        .ref(\"services\")\n                        .child(token)\n                        .getDownloadURL()\n                        .then(url => {\n                            resolve(url);\n                        })\n                        .catch(error => {\n                            console.error(error)\n                            reject(error);\n                        })\n                }\n            )\n        })\n    }\n\n    function handleVariationChanged(type, val, key) {\n        let newVariations = [...newService.variations]\n        let newVariation = { ...newService.variations[key] }\n        if (type === \"name\") newVariation.name = val\n        else if (type === \"price\") newVariation.price = val\n        newVariations[key] = newVariation\n        setNewService({ ...newService, variations: newVariations })\n    }\n\n    function handleDeleteVariation(key) {\n        let newVariations = [...newService.variations]\n        newVariations.splice(key, key + 1)\n        setNewService({ ...newService, variations: newVariations })\n        setCurrentDeletingVariation(-1)\n        setIsPopupConfirmDeleteOpened(false)\n    }\n\n\n    function handleFoodTypeChanged(e) {\n        let newNewService = { ...newService }\n        newNewService.foodType = e.target.value\n        setNewService(newNewService)\n    }\n\n    return (\n        <>\n            <Layout>\n                <CSSTransition\n                    in={isMounted}\n                    timeout={300}\n                    classNames=\"pageTransition\"\n                    unmountOnExit\n                >\n                    <div>\n                        <div className=\"Prest-Step2-Header\">\n                            <SubTitle value=\"Création de vos services\" type=\"big\" font=\"roboto-medium\" align=\"left\" />\n                            <p>Sur cette page vous pourrez créer vos services, qui seront ensuite visibles sur la page de votre profil NIVID.</p>\n                            <p>Prenez donc le temps de réfléchir vos prix & rédiger une bonne description.</p>\n                            <p>dès validation de votre dossier nous viendrons prendre des photos professionnelles de vos services/produits</p>\n                            <Title value=\"Ajouter vos services/produits\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                            <div className=\"servicesListeContainer\">\n                                {\n                                    services.map((item, key) => {\n                                        return (\n                                            <div\n                                                className=\"serviceContainer\"\n                                                onClick={() => handleServiceClicked(item)}\n                                                key={key}\n                                            >\n\n                                                <div className=\"detailsServiceItem active\">\n                                                    <div className=\"serviceItem\">\n                                                        <div className=\"imgDetailsServiceItem\">\n                                                            <Image url={item.images[0].localURL || item.images[0].url} />\n                                                        </div>\n                                                        <div className=\"contentDetailsServiceItem\">\n                                                            <p className=\"title\">{item.name}</p>\n                                                            <p>{item.variations.length > 0 ? item.variations[0].price : item.price},00€</p>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        )\n                                    })}\n                                {services.length < 5 && <label onClick={() => handleClickedAddService()} className=\"label-file\">+</label>}\n                            </div>\n                            <span>{services.length} / 5</span>\n                        </div>\n                        <div className=\"divider\"></div>\n\n                        <div className={isFormOpened ? \"formWrapContainer active\" : \"formWrapContainer\"}>\n                            <div className=\"Prest-Step2-Section0\">\n                                <Title value=\"Type de service:\" type=\"h3\" font=\"roboto-medium\" align=\"left\" />\n                                <div className=\"Prest-Step2-Section0_serviceType\">\n                                    <Title onClick={() => setIsVariations(false)} customClass={!isVariations && \"active\"} value=\"Service simple\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                    <Title onClick={() => { newService.variations.length === 0 && setNewService({ ...newService, variations: [{ name: \"\", price: 0 }] }); setIsVariations(true) }} customClass={isVariations && \"active\"} value=\"Service variable\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                </div>\n                            </div>\n                            <div className={`Prest-Step2-Section1 ${isVariations ? \"noFlex\" : \"\"}`}>\n                                <div className=\"left\">\n                                    <Title value=\"Intitulé du service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                    <p>Le nom de votre offre, par exemple : x5 fleurs de décorations de table</p>\n                                    <div className=\"formField withoutMargin\">\n                                        <input\n                                            className={`${error.type === \"name\" ? \"invalid\" : \"\"}`}\n                                            id=\"serviceName\"\n                                            type=\"text\"\n                                            value={newService.name}\n                                            onChange={(e) => (setError({ type: \"\", message: \"\" }), setNewService({ ...newService, name: e.target.value }))}\n                                        />\n                                    </div>\n                                </div>\n                                {!isVariations &&\n                                    <div className=\"right\">\n                                        <Title value=\"Prix de votre service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                        <div className=\"formField withoutMargin\">\n                                            <NumericInput\n                                                format={euroFormat}\n                                                className=\"form-control\"\n                                                value={newService.price}\n                                                min={20}\n                                                max={1000}\n                                                step={1}\n                                                precision={0}\n                                                size={9}\n                                                mobile\n                                                onChange={(value) => (setError({ type: \"\", message: \"\" }), setNewService({ ...newService, price: value }))}\n                                            />\n                                        </div>\n                                    </div>\n                                }\n                            </div>\n\n                            {\n                                seller.category === \"nourriture\" &&\n                                <div className=\"Prest-Step2-Section1bis\">\n                                    <Title value=\"Régime alimentaire\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                    {/* <FormGroup style={{ display: \"flex\", flexDirection: \"row\" }}>\n                                    <FormControlLabel onChange={(e) => handleFoodTypeChanged(e, \"Vegan\")} control={<Checkbox />} label=\"Vegan\" />\n                                    <FormControlLabel onChange={(e) => handleFoodTypeChanged(e, \"Casher\")} control={<Checkbox />} label=\"Casher\" />\n                                    <FormControlLabel onChange={(e) => handleFoodTypeChanged(e, \"Halal\")} control={<Checkbox />} label=\"Halal\" />\n                                    <FormControlLabel onChange={(e) => handleFoodTypeChanged(e, \"Vegetarien\")} control={<Checkbox />} label=\"Végétarien\" />\n                                </FormGroup>  */}\n                                    <RadioGroup\n                                        row\n                                        aria-label=\"gender\"\n                                        name=\"row-radio-buttons-group\"\n                                        onChange={handleFoodTypeChanged}\n                                        value={newService.foodType !== undefined ? newService.foodType : \"Aucun\"}\n                                    >\n                                        <FormControlLabel value=\"Vegan\" control={<Radio />} label=\"Vegan\" />\n                                        <FormControlLabel value=\"Casher\" control={<Radio />} label=\"Casher\" />\n                                        <FormControlLabel value=\"Halal\" control={<Radio />} label=\"Halal\" />\n                                        <FormControlLabel value=\"Vegetarien\" control={<Radio />} label=\"Végétarien\" />\n                                        <FormControlLabel value=\"Aucun\" control={<Radio />} label=\"Aucun\" />\n                                    </RadioGroup>\n                                </div>\n\n                            }\n\n                            <div className=\"Prest-Step2-Section2\">\n                                <Title value=\"Description de votre service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                <p>Décrivez au mieux le service que vous proposez au travers de cette offre.</p>\n                                <textarea\n                                    value={newService.description}\n                                    onChange={(e) => setNewService({ ...newService, description: e.target.value })}\n                                    className={`${error.type === \"description\" && \"invalid\"}`}\n                                >\n                                </textarea>\n                            </div>\n\n                            {isVariations &&\n                                <div className=\"Prest-Step2-Section2bis\">\n                                    <Title value=\"Création des déclinaisons\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                    <div className=\"Prest-Step2-Section2bis_variations\">\n                                        {newService.variations.map((variation, key) => {\n                                            return <>\n                                                <div className=\"variation_header\">\n                                                    <Title value={`Variation ${key}`} type=\"h3\" font=\"roboto-medium\" align=\"left\" />\n                                                    <IconButton\n                                                        onClick={() => { setCurrentDeletingVariation(key); setIsPopupConfirmDeleteOpened(true) }}\n                                                        color=\"error\"\n                                                        aria-label=\"delete\"\n                                                    >\n                                                        <DeleteIcon />\n                                                    </IconButton>\n                                                    {(isPopupConfirmDeleteOpened && currentDeletingVariation === key) &&\n                                                        <BoxConfirm\n                                                            type=\"delete\"\n                                                            position=\"bottom\"\n                                                            callback={() => handleDeleteVariation(key)}\n                                                            callbackClose={() => { setCurrentDeletingVariation(-1); setIsPopupConfirmDeleteOpened(false) }}\n                                                        />\n                                                    }\n                                                </div>\n                                                <div className=\"Prest-Step2-Section2bis_variation_item\"><div className=\"left\">\n                                                    <Title value=\"Intitulé de la variation\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                                    <p>Le nom de votre variation, par exemple : 6 parts/6 personnes</p>\n                                                    <div className=\"formField withoutMargin\">\n                                                        <input\n                                                            className={error.type === \"name\" && \"invalid\"}\n                                                            id=\"serviceName\"\n                                                            type=\"text\"\n                                                            value={newService.variations[key].name}\n                                                            onChange={(e) => handleVariationChanged(\"name\", e.target.value, key)}\n                                                        />\n                                                    </div>\n                                                </div>\n                                                    <div className=\"right\">\n                                                        <Title value=\"Prix de la variation\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                                        <div className=\"formField withoutMargin\">\n                                                            <NumericInput\n                                                                format={euroFormat}\n                                                                className=\"form-control\"\n                                                                value={newService.variations[key].price}\n                                                                min={1}\n                                                                max={1000}\n                                                                step={1}\n                                                                precision={0}\n                                                                size={9}\n                                                                mobile\n                                                                onChange={(value) => handleVariationChanged(\"price\", value, key)}\n                                                            />\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </>\n                                        })}\n                                    </div>\n                                    <ButtonSmall\n                                        onClick={() => setNewService({ ...newService, variations: [...newService.variations, { name: \"\", price: 0 }] })}\n                                        color=\"blue\"\n                                        value=\"Ajouter une variation\"\n                                        marginTop=\"20px\"\n                                        classname=\"flex\"\n                                        iconMUIStart={<AddIcon />}\n                                    />\n                                </div>\n                            }\n\n                            <div className=\"Prest-Step2-Section3\">\n                                <Title value=\"Photos du service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                {(error.type === \"imageSize\" || error.type === \"imageType\" || error.type === \"noPictures\") && <p className=\"errorMessage\">{error.message}</p>}\n                                <p>Plusieurs photos peuvent être utiles pour le client, cela lui permettra de voir votre service plus en détail.</p>\n                                <div className=\"servicesListeContainer\">\n                                    {newService.images.map((item, key) =>\n                                        <div onClick={() => handleDeletePicture(item.localURL || item.url)} style={{ position: \"relative\" }}>\n                                            <Image url={item.localURL || item.url} /><FaTrashAlt color={\"white\"} size={32} />\n                                        </div>\n                                    )}\n                                    {newService.images.length < 4 && <label for=\"file\" className=\"label-file\">+</label>}\n                                </div>\n\n                                <input accept=\"image/jpeg, image/jpg, image/png, application/pdf\" id=\"file\" className=\"input-file\" type=\"file\" onChange={(e) => handleChange(e)} />\n                                <div className=\"Prest-Step2-Section3-bottom\">\n                                    <p>2Mo max par photo</p>\n                                    <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\n                                </div>\n                                <div className=\"buttonSaveOffer\">\n                                    {error.type === \"maxServices\" && <p className=\"errorMessage\">{error.message}</p>}\n                                    {error.type === \"name\" && <p className=\"errorMessage\">{error.message}</p>}\n                                    {error.type === \"description\" && <p className=\"errorMessage\">{error.message}</p>}\n                                    <ButtonSmall\n                                        onClick={() => setIsPopupConfirmSaveOpened(true)}\n                                        color=\"green\"\n                                        value=\"Sauvergarder cette offre\"\n                                        marginTop=\"20px\"\n                                    />\n                                    {isPopupConfirmSaveOpened &&\n                                        <BoxConfirm\n                                            type=\"save\"\n                                            position=\"top\"\n                                            callback={() => handleAddService()}\n                                            callbackClose={() => setIsPopupConfirmSaveOpened(false)}\n                                        />\n                                    }\n                                </div>\n                            </div>\n                            <div className=\"divider\"></div>\n                        </div>\n\n\n                        <div className=\"Prest-Step2-Section4\">\n                            <Title value=\"Une fois terminé, passez à l’étape suivante\" type=\"h2\" font=\"roboto-medium\" align=\"right\" />\n                            <p>Vos services pourront être modifiés sur votre tableau de bord plus tard.</p>\n                            <ButtonLarge\n                                onClick={() => handleFormSend()}\n                                color=\"orange\"\n                                width=\"400px\"\n                                value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"Passer à l'étape suivante\"}\n                            />\n                        </div>\n\n                        {error.type === \"serviceSize\" && <p className=\"PrestErrorMessage\">{error.message}</p>}\n                    </div>\n                </CSSTransition>\n            </Layout>\n\n            <CSSTransition\n                in={isServiceAddedCorrectly}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <div className=\"serviceAddedMessage\">\n                    <p>Annonce sauvegardée avec succès</p>\n                </div>\n            </CSSTransition>\n        </>\n    )\n}\nexport default Prest_Step2;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/ConfirmSubscribe.js",["1172","1173","1174"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/Login.css\"\nimport { Link, useHistory } from 'react-router-dom'\nimport logo from \"../images/logoBlack.svg\"\nimport { ButtonSmall, ButtonLarge } from '../components/utilities/Buttons'\nimport BackIcon from '@mui/icons-material/ArrowBackIosNew';\nimport checkedsvg from '../images/checked.png'\nimport Title from '../components/utilities/Title'\n\nconst ConfirmSubscribe = () => {\n    \n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n\n    function isMobile() {\n        if (windowsWidth > 1100) {\n            return false\n        }\n        else {\n            return true\n        }\n    }\n\n    function handleResize(width) {\n        setWindowsWidth(width)\n    }\n\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n    }, [])\n\n    const history = useHistory()\n\n\n    return (\n        <div className=\"ConfirmSubscribe_container\">\n        <header style={{ position: \"relative\", zIndex: \"999\", display: \"flex\", justifyContent: \"space-between\" }}>\n            <div onClick={() => history.push(\"/\")} className=\"logoContainer\">\n                <img alt=\"\" src={logo} />\n            </div>\n            <div className=\"LoginBackLink\">\n                <ButtonSmall\n                    color=\"orange\"\n                    onClick={() => history.push(\"/\")}\n                    value=\"Revenir à l'accueil\"\n                    iconMUIStart={<BackIcon sx={{ fontSize: 16 }} />}\n                    classname=\"flex\"\n                />\n            </div>\n        </header>\n            <div className=\"ConfirmSubscribe\">\n                <div className=\"loginContainer\">\n                    <img alt=\"\" style={{width: \"60px\"}} src={checkedsvg} />\n                    <Title value=\"Merci pour votre inscription.\" type=\"h2\" font=\"roboto-medium\" align=\"center\" />\n                    <p>Un email de confirmation vient d'être envoyé à l'adresse email que vous avez renseigné. Merci de cliquer sur le lien de validation.</p>\n                </div>\n            </div>\n\n        </div>\n    )\n}\nexport default ConfirmSubscribe;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/SellerDetailProcess.js",["1175","1176"],"import React, { useEffect, useState } from \"react\";\nimport { useFirebase } from \"../assets/base-context\";\nimport ServiceDescription from \"../components/ServiceDescription\";\nimport { useAuth } from \"../context/userContext\"; // context\nimport { useParams } from \"react-router-dom\";\nimport StickerBudgetLeft from \"../components/StickerBudgetLeft\";\n\nimport { ButtonSmall } from \"../components/utilities/Buttons\";\nimport Image from \"../components/utilities/Image\";\nimport Loader from \"../components/Loader.js\";\n\nimport { CSSTransition } from \"react-transition-group\";\n\nconst SellerDetailProcess = () => {\n  const firebaseContext = useFirebase();\n  const firestore = firebaseContext.firestore();\n\n  const [details, setDetails] = useState();\n  const [loading, setLoading] = useState(true);\n  const [isWishList, setIsWishList] = useState(false);\n  const [currentPageOffer, setCurrentPageOffer] = useState(0);\n  const [windowsWidth, setWindowsWidth] = useState(window.innerWidth);\n  const [selectedService, setSelectedService] = useState({});\n  const [isSelectedServiceOpen, setIsSelectedServiceOpen] = useState(false);\n\n  const {\n    addToCard,\n    setCurrentStepProcess,\n    addViewsOfSeller,\n    addItemToWishListOfUser,\n    isSellerInWishListOfUser,\n    setIsCardWidgetOpen,\n  } = useAuth(); // context\n  const { sellerId } = useParams();\n\n  const [animationLoaderDone, setAnimationLoaderDone] = useState(false);\n\n  const refSellers = firestore.collection(\"sellers\");\n\n  const isMobile = () => (windowsWidth > 1100 ? false : true);\n  const handleResize = (width) => setWindowsWidth(width);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth));\n    setCurrentStepProcess(21);\n\n    function getSellerDetailsFromDB() {\n      refSellers\n        .doc(sellerId)\n        .get()\n        .then((queryDetails) => {\n          getSellerServicesFromDB(queryDetails.data());\n        });\n    }\n\n    getSellerDetailsFromDB();\n    addViewsOfSeller(sellerId);\n\n    isSellerInWishListOfUser(sellerId).then((res) => {\n      if (res === true) setIsWishList(true);\n    });\n  }, []);\n\n  async function getSellerServicesFromDB(data) {\n    const servicesArray = [];\n    const detailsArray = data;\n    const results = await refSellers.doc(sellerId).collection(\"services\").get();\n    results.forEach((doc) => {\n      const newData = doc.data();\n      if (newData.variations && newData.variations.length > 0)\n        newData.price = newData.variations[0].price;\n      servicesArray.push({ ...newData, sellerId: sellerId, id: doc.id });\n    });\n    detailsArray.services = servicesArray;\n    setDetails(detailsArray);\n    setLoading(false);\n  }\n\n  function handlePaginationItem(val) {\n    const count = details.services.length; // 5 pour exemple\n    const maxPage = Math.ceil(count - windowsWidth / 380); // 4\n    if (val <= maxPage && val >= 0 && count - maxPage >= 1)\n      setCurrentPageOffer(val);\n  }\n\n  function handleServiceClicked(item) {\n    if (selectedService !== undefined && item.id === selectedService.id)\n      setIsSelectedServiceOpen(!isSelectedServiceOpen);\n    else {\n      setSelectedService(item);\n      setIsSelectedServiceOpen(true);\n    }\n  }\n\n\n  const handleCloseService = () => setIsSelectedServiceOpen(false)\n\n  function isButtonDisabled(val) {\n    const count = details.services.length; // 5 pour exemple\n    const maxPage = Math.ceil(count - windowsWidth / 380); // 4\n    return (val <= maxPage && val >= 0 && count - maxPage >= 1) ? null : \"disabled\"\n  }\n\n  function handleAddToCard(quantity, variation, note) {\n    const sellerID = sellerId;\n    let item = { ...selectedService };\n    item.variation = variation;\n    item.note = note;\n    addToCard(sellerID, item, quantity);\n    window.scrollTo(0, 0);\n  }\n\n  async function handleAddToWishList(id) {\n    await addItemToWishListOfUser(id);\n    setIsWishList(true);\n    return;\n  }\n\n  return (\n    <div>\n      <CSSTransition\n        in={loading || !animationLoaderDone}\n        timeout={300}\n        classNames=\"pageTransition\"\n        unmountOnExit\n      >\n        <div className=\"pageTransition\">\n          <div className=\"sellersDetailsContainer\">\n            <Loader callBack={() => setAnimationLoaderDone(true)} />\n          </div>\n        </div>\n      </CSSTransition>\n\n      <CSSTransition\n        in={!loading && animationLoaderDone}\n        timeout={300}\n        classNames=\"pageTransition\"\n        unmountOnExit\n      >\n        {!loading && (\n          <div className=\"pageTransition\">\n            <div\n              className={\n                !isMobile()\n                  ? \"sellersDetailsContainer\"\n                  : \"sellersDetailsContainer mobile\"\n              }\n            >\n              <div className=\"sellersDetailsHeader\">\n                {!isMobile() && (\n                  <div className=\"stickerBudgetLeft stickerBudgetDetailsHeader\">\n                    <StickerBudgetLeft />\n                  </div>\n                )}\n                <div className=\"sellersHeaderImgContainer\">\n                  <Image url={details.image_path.url} />\n                </div>\n                <p className=\"title\">{details.name}</p>\n                <p>\n                  <Image url={\"/images/orange_marker.png\"} />\n                  {details.adress}\n                </p>\n                {isWishList ? (\n                  <span>Ajouté à votre WishList</span>\n                ) : (\n                  <ButtonSmall\n                    onClick={() => handleAddToWishList(sellerId)}\n                    color=\"pink\"\n                    value=\"ajouter à ma wishlist\"\n                    marginTop=\"20px\"\n                    icon=\"/images/heart.svg\"\n                  />\n                )}\n              </div>\n              {isMobile() && <div className=\"separatorServiceDetail\"></div>}\n              <div\n                className={\n                  !isMobile()\n                    ? \"sellerDetailsServicesContainer\"\n                    : \"sellerDetailsServicesContainer mobile\"\n                }\n              >\n                <p className=\"title\">Offres du prestataire</p>\n                <div className=\"offersListButtonContainer detailsServicesButtonContainer\">\n                  <ButtonSmall\n                    onClick={() => handlePaginationItem(currentPageOffer - 1)}\n                    color=\"grey\"\n                    value=\"Précédent\"\n                    marginRight=\"20px\"\n                    disabled={isButtonDisabled(currentPageOffer - 1)}\n                  />\n                  <ButtonSmall\n                    onClick={() => handlePaginationItem(currentPageOffer + 1)}\n                    color=\"grey\"\n                    value=\"Suivant\"\n                    disabled={isButtonDisabled(currentPageOffer + 1)}\n                  />\n                </div>\n                <div\n                  style={{ marginLeft: -(currentPageOffer * 380) }}\n                  className=\"detailsServiceItemContainer\"\n                >\n                  {Object.entries(details.services).map(([key, item]) => {\n                    return (\n                      <div\n                        onClick={() => handleServiceClicked(item)}\n                        className={\n                          selectedService !== undefined\n                            ? selectedService.id !== item.id\n                              ? \"notActive detailsServiceItem\"\n                              : \"active detailsServiceItem\"\n                            : \"detailsServiceItem\"\n                        }\n                        key={key}\n                      >\n                        <div className=\"serviceItem\">\n                          <div className=\"imgDetailsServiceItem\">\n                            <Image url={item.images[0].url} />\n                          </div>\n                          <div className=\"contentDetailsServiceItem\">\n                            <p className=\"title\">{item.name}</p>\n                            <p>{item.price}€</p>\n                            <span>+ en savoir plus</span>\n                          </div>\n                        </div>\n                        {isMobile() && (\n                          <ServiceDescription\n                            handleCloseService={handleCloseService}\n                            isMobile={isMobile()}\n                            display={\n                              selectedService.id === item.id &&\n                              isSelectedServiceOpen\n                                ? true\n                                : false\n                            }\n                            handleAddToCard={handleAddToCard}\n                            item={selectedService}\n                          />\n                        )}\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n              <div>\n                {!isMobile() && (\n                  <ServiceDescription\n                    handleCloseService={handleCloseService}\n                    handleAddToCard={handleAddToCard}\n                    item={selectedService}\n                    display={isSelectedServiceOpen}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </CSSTransition>\n    </div>\n  );\n};\n\nexport default SellerDetailProcess;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Prest_Step4.js",["1177"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/Prest_.css\"\nimport { useHistory } from 'react-router-dom'\nimport { useAuth } from \"../context/userContext\"; // context\n\nimport { ButtonSmall, ButtonLarge } from '../components/utilities/Buttons'\nimport Layout from '../components/utilities/Layout'\nimport Title from '../components/utilities/Title'\nimport SubTitle from '../components/utilities/SubTitle'\nimport ReactLoading from 'react-loading';\nimport { FaCheckCircle } from 'react-icons/fa';\nimport { useFirebase } from \"../assets/base-context\";\n\nimport { CSSTransition } from 'react-transition-group'\n\nconst Prest_Step4 = () => {\n    \n    const firebaseContext = useFirebase()\n    const auth = firebaseContext.auth()\n    const storage = firebaseContext.storage()\n\n    const initialDocuments = {\n        kbis: \"\",\n        ci: \"\",\n        assurance: \"\",\n        sepa: \"\",\n        rib: \"\"\n    }\n\n    const [error, setError] = useState({ type: \"\", message: \"\" });\n    const [buttonLoading, setButtonLoading] = useState(false)\n\n    const [documents, setDocuments] = useState(initialDocuments)\n\n    const [isMounted, setIsMounted] = useState(false);\n\n    const { seller, setCurrentStepProcess, addSellerDocuments, getSellerDocumentsFromDB, setSellerStatus } = useAuth() // context\n    const history = useHistory()\n\n    // seller.status !== \"subscribing\" && history.push('/mon-compte-partenaire')\n\n    setCurrentStepProcess(4)\n\n    useEffect(() => {\n        function getCurrentDocumentsFromDB() {\n            getSellerDocumentsFromDB().then(data => {\n                if (data === null) {\n                    setDocuments(initialDocuments)\n                }\n                else {\n                    setDocuments(data)\n                }\n            })\n        }\n        getCurrentDocumentsFromDB()\n        setIsMounted(true)\n    }, [])\n\n    function handleInputChange(e, docType) {\n        const type = e.target.files[0].type\n        const size = e.target.files[0].size\n        if (type !== \"image/png\" && type !== \"image/jpeg\" && type !== \"image/jpg\" && type !== \"application/pdf\") {\n            setError({ type: docType, message: \"Votre fichier n'est ni une image jpeg, jpg, png ou PDF.\" })\n        }\n        else if (size > 2000000) {\n            setError({ type: docType, message: \"Votre image fait plus de 2Mo.\" })\n        }\n        else {\n            e.target.files[0].docType = docType\n            docType === \"sepa\" ? setDocuments({ ...documents, sepa: e.target.files[0] })\n                : docType === \"rib\" && setDocuments({ ...documents, rib: e.target.files[0] })\n            setError({ type: \"\", message: \"\" })\n        }\n    }\n\n    async function handleSendForm() {\n        setButtonLoading(true)\n        if (documents.rib.name) {\n            let documentsUrlArray = { ...documents }\n\n            for (const doc in documents) {\n                if (documents[doc].lastModified) {\n                    const token = `${documents[doc].docType}-${Math.random().toString(36).substr(2, 19)}`\n                    const url = await handleUploadFile(documents[doc], token)\n                    documentsUrlArray[documents[doc].docType] = { url: url, token: token, name: documents[doc].name }\n                }\n            }\n            await addSellerDocuments(documentsUrlArray)\n            handleSendAll()\n        }\n        else {\n            setError({ type: \"final\", message: \"Pour finaliser votre inscription, le Rib est obligatoire.\" })\n            setButtonLoading(false)\n        }\n    }\n\n    async function handleSendAll() {\n\n        if (seller.description && seller.description.length > 0) {\n            if (seller.image_path && seller.image_path.url && seller.image_path.url.length > 0) {\n                if (seller.services.length > 0) {\n                    if (documents.kbis.name && documents.kbis.status !== \"rejected\") {\n                        if (documents.ci.name && documents.ci.status !== \"rejected\") {\n                            if (documents.assurance.name && documents.assurance.status !== \"rejected\") {\n                                if (documents.rib.name && documents.rib.status !== \"rejected\") {\n                                    await setSellerStatus(auth.currentUser.uid, \"pending\")\n                                    history.push('/mon-compte-partenaire/confirmation')\n                                } else {\n                                    setError({ type: \"final\", message: \"Pour finaliser votre inscription, le RIB est obligatoire.\" })\n                                }\n                            } else {\n                                setError({ type: \"final\", message: \"Pour finaliser votre inscription, l'assurance de responsabilité civile est obligatoire.\" })\n                            }\n                        } else {\n                            setError({ type: \"final\", message: \"Pour finaliser votre inscription, la carte d'identité du gérant est obligatoire.\" })\n                        }\n                    } else {\n                        setError({ type: \"final\", message: \"Pour finaliser votre inscription, le Kbis est obligatoire.\" })\n                    }\n                } else {\n                    setError({ type: \"final\", message: \"Pour finaliser votre inscription, vous devez avoir ajouté au moins 1 service.\" })\n                }\n            } else {\n                setError({ type: \"final\", message: \"Pour finaliser votre inscription, merci d'ajouter une photo principale pour votre boutique.\" })\n            }\n        }\n        else {\n            setError({ type: \"final\", message: \"Pour finaliser votre inscription, vous devez renseigner une description de votre boutique, à l'étape Prestations\" })\n        }\n        setButtonLoading(false)\n    }\n\n    function handleUploadFile(image, token) {\n\n        return new Promise((resolve, reject) => {\n\n            const upload = storage.ref(`sellers/${token}`).put(image)\n            upload.on(\n                \"state_changed\", snapshot => { },\n                error => {\n                    console.log(error)\n                }, () => {\n                    storage\n                        .ref(\"sellers\")\n                        .child(token)\n                        .getDownloadURL()\n                        .then(url => {\n                            resolve(url);\n                        })\n                        .catch(error => {\n                            console.error(error)\n                            reject(error);\n                        })\n                }\n            )\n        })\n    }\n\n    function handleDownloadSEPA() {\n\n        const element = document.createElement(\"a\");\n        const file = new Blob([document.getElementById('inputDownload').value],\n            { type: 'text/plain;charset=utf-8' });\n        element.href = URL.createObjectURL(file);\n        element.download = \"SEPA.txt\";\n        document.body.appendChild(element);\n        element.click();\n    }\n\n    return (\n        <Layout>\n            <CSSTransition\n                in={isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <div className=\"layoutDocumentPrest\">\n                    <div className=\"Prest-Step4-Header\">\n                        <SubTitle value=\"Vérification documents\" type=\"big\" font=\"roboto-medium\" align=\"left\" />\n                        <p>Sur cette page vous allez devoir nous transmettre vos documents, pour que nous puissions vérifier votre activité.</p>\n                        <p>Merci de bien les vérifier avant envoi, il ne peut y avoir de modifications possibles.</p>\n                    </div>\n\n                    <div className=\"Prest-Step4-Section1\">\n                        <Title value=\"Prélèvement SEPA à remplir\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                        {error.type === \"sepa\" && <p className=\"errorMessage\">{error.message}</p>}\n                        <p>Vous pourrez transférer ce document plus tard sur votre espace ou dés maintenant.</p>\n                        <input id=\"fileSepa\" className=\"input-file\" type=\"file\" onChange={(e) => handleInputChange(e, \"sepa\")} />\n\n                        {\n                            (documents.sepa.status && documents.sepa.status === \"validated\") ?\n                                <p className=\"validMessage\"><FaCheckCircle style={{ marginRight: \"5px\" }} size=\"25\" color=\"rgb(120, 213, 152)\" />Votre document a été accepté</p>\n                                :\n                                <div>\n                                    {(documents.sepa.status && documents.sepa.status === \"rejected\") &&\n                                        <p className=\"errorMessage\">Votre document a été refusé.</p>\n                                    }\n                                    <div id=\"inputDownload\">\n                                        <ButtonSmall\n                                            onClick={() => handleDownloadSEPA()}\n                                            color=\"orange\"\n                                            value=\"Télécharger le document\"\n                                            marginTop=\"20px\"\n                                        />\n                                    </div>\n                                    <ButtonSmall\n                                        onClick={() => document.getElementById('fileSepa').click()}\n                                        color=\"blue\"\n                                        value=\"Charger le document\"\n                                        marginTop=\"20px\"\n                                    />\n                                    {(documents.sepa && documents.sepa.status !== \"rejected\") && <span className=\"fileNameOnRight\">{documents.sepa.name}</span>}\n                                </div>\n\n                        }\n                    </div>\n\n                    <div className=\"Prest-Step4-Section2\">\n                        <Title value=\"RIB bancaire\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                        {error.type === \"rib\" && <p className=\"errorMessage\">{error.message}</p>}\n                        <p>Evitez les photos flous ou trop sombres.</p>\n                        <input id=\"fileRib\" className=\"input-file\" type=\"file\" onChange={(e) => handleInputChange(e, \"rib\")} />\n                        <div className=\"fileConditions\">\n                            <p>2Mo max</p>\n                            <p>Type de fichiers acceptés : jpeg, jpg, png ou PDF</p>\n                        </div>\n                        {\n                            (documents.rib.status && documents.rib.status === \"validated\") ?\n                                <p className=\"validMessage\"><FaCheckCircle style={{ marginRight: \"5px\" }} size=\"25\" color=\"rgb(120, 213, 152)\" />Votre document a été accepté</p>\n                                :\n                                <div>\n                                    {(documents.rib.status && documents.rib.status === \"rejected\") &&\n                                        <p className=\"errorMessage\">Votre document a été refusé.</p>\n                                    }\n                                    <ButtonSmall\n                                        onClick={() => document.getElementById('fileRib').click()}\n                                        color=\"blue\"\n                                        value=\"Charger le document\"\n                                        marginTop=\"15px\"\n                                    />\n                                    {(documents.rib && documents.rib.status !== \"rejected\") && <span className=\"fileNameOnRight\">{documents.rib.name}</span>}\n                                </div>\n                        }\n\n                    </div>\n\n\n                    <div className=\"divider\"></div>\n\n                    <div className=\"Prest-Step4-Section3\">\n                        <Title value=\"Si vous avez terminé & bien vérifié que vos documents sont correctements enregistrés, vous pouvez finaliser votre dossier d'inscription\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                        <p>En cochant cette case vous acceptez les <span>conditions générales de ventes</span></p>\n                        <ButtonLarge\n                            onClick={() => handleSendForm()}\n                            color=\"orange\"\n                            value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"Finaliser mon inscription\"}\n                            width=\"400px\"\n                        />\n                    </div>\n                    {error.type === \"final\" && <p className=\"PrestErrorMessage\">{error.message}</p>}\n                </div>\n            </CSSTransition>\n        </Layout>\n    )\n}\nexport default Prest_Step4;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/ConfirmEmail.js",["1178","1179","1180"],"import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { queryString } from 'query-string';\nimport { useFirebase } from \"../assets/base-context\";\n\nconst ConfirmEmail = () => {\n    \n    const firebaseContext = useFirebase()\n    const auth = firebaseContext.auth()\n\n    const [userNewPassword, setUserNewPassword] = useState(\"\")\n    const [errorMessage, setErrorMessage] = useState(\"\")\n    const [confirmMessage, setConfirmMessage] = useState(\"\")\n    const [actionMode, setActionMode] = useState(\"\")\n\n    const history = useHistory()\n\n    let url = window.location.search;\n    let params = queryString.parse(url);\n    var { mode, oobCode, continueUrl, lang } = params\n\n    useEffect(() => {\n        setActionMode(mode)\n        if (mode === \"resetPassword\") {\n            handleResetPassword();\n        }\n        else if (mode === \"verifyEmail\") {\n            handleVerifyEmail(oobCode, continueUrl, lang);\n        }\n    }, [])\n\n\n\n    function handleVerifyEmail(oobCode, continueUrl, lang) {\n        auth.applyActionCode(oobCode).then((resp) => {\n            // Email address has been verified.\n            setConfirmMessage(\"Votre email a bien été confirmé, vous allez être redirigé ...\")\n            setTimeout(() => {\n                history.push('/compte')\n            }, 3000)\n\n        }).catch((error) => {\n\n        });\n    }\n\n    function handleResetPassword() {\n        // Localize the UI to the selected language as determined by the lang\n        // parameter.\n\n        // Verify the password reset code is valid.\n        auth.verifyPasswordResetCode(oobCode).then((email) => {\n            var accountEmail = email;\n\n            // TODO: Show the reset screen with the user's email and ask the user for\n\n        }).catch((error) => {\n            console.log(error)\n        });\n    }\n\n    function handleConfirmNewPassword() {\n        // the new password.\n        var newPassword = userNewPassword\n\n        // Save the new password.\n        auth.confirmPasswordReset(oobCode, newPassword).then((resp) => {\n            // Password reset has been confirmed and new password updated.\n            setConfirmMessage(\"Mot de passe réinitialisé avec succés, vous allez être redirigé ...\")\n            setTimeout(() => {\n                history.push('/compte')\n            }, 3000)\n\n        }).catch((error) => {\n            console.log(error)\n        });\n    }\n\n    return actionMode === \"resetPassword\" ? (\n        confirmMessage.length < 3 ? (\n            <div>\n                <label>Votre nouveau mot de passe</label>\n                <input type=\"password\" value={userNewPassword} onChange={(e) => setUserNewPassword(e.target.value)} />\n                <button onClick={() => handleConfirmNewPassword()}>Confirmer</button>\n            </div>\n        )\n            : confirmMessage\n    )\n        : actionMode === \"verifyEmail\" && (\n            confirmMessage ? confirmMessage : errorMessage\n        )\n\n}\n\nexport default ConfirmEmail","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/CGV.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/GiveReview.js",["1181"],"import { useState, useEffect } from 'react'\nimport { useLocation } from \"react-router-dom\";\nimport { useAuth } from \"../context/userContext\"; // context\nimport { CSSTransition } from 'react-transition-group'\nimport { useHistory } from \"react-router-dom\";\nimport { ButtonSmall } from '../components/utilities/Buttons';\n\nimport Loader from '../components/Loader'\n\nimport { FaStar } from 'react-icons/fa';\n\nconst GiveReview = () => {\n\n    const search = useLocation().search\n    const eventId = new URLSearchParams(search).get('id')\n\n    const history = useHistory()\n\n    const [sellers, setSellers] = useState([])\n    const [isMounted, setIsMounted] = useState(false)\n    const [error, setError] = useState(\"\")\n\n    const {\n        user,\n        getSalesOfEventIdFromDB,\n        getSellersInDbWithUids,\n        getEventFromUid,\n        getReviewsOfSellerUid,\n        addReviewOfSellerUid,\n        sendInBlue_sendNotificationToSellerOfReview } = useAuth() // context\n\n\n    useEffect(() => {\n        if (eventId === null || eventId === undefined || eventId.length < 1) {\n            return history.push('/')\n        }\n        // Si pas connecté\n        if (!user) {\n            setIsMounted(true)\n            return setError(\"Vous devez être connecté pour laisser un avis.\")\n        }\n        // Si pas le createur de l'event\n        getEventFromUid(eventId).then(res => {\n            if (!res || user.uid !== res.user) {\n                return history.push('/')\n            }\n        })\n\n\n        if (eventId !== null && eventId.length > 1) {\n            getAllowedSellers().then(newSellers => {\n                if (newSellers === false) return history.push(\"/\")\n                // On ne prend que les sellers qui n'ont pas deja un avis avec l'id de l'event\n                const filtered = newSellers.filter(seller => seller.reviews.filter(review => review.eventID === eventId).length === 0)\n                const final = filtered.map(item => {\n                    return {\n                        newReview: {},\n                        companyName: item.companyName,\n                        reviews: item.reviews,\n                        uid: item.uid,\n                        firstName: item.firstName,\n                        email: item.email\n                    }\n                })\n                setSellers(final)\n                setError(\"\")\n                setIsMounted(true)\n            })\n        }\n    }, [])\n\n    async function getAllowedSellers() {\n        const res = await getSalesOfEventIdFromDB(eventId)\n        if (res.length < 1) return false\n        const sellerIds = res.map(element => element.sellerID)\n\n        const sellersArray = await getSellersInDbWithUids(sellerIds)\n        const newSellers = new Promise((resolve, reject) => {\n            sellersArray.map(async seller => {\n                const res = await getReviewsOfSellerUid(seller.uid)\n                seller.reviews = res\n                resolve(seller)\n            })\n        });\n        return Promise.all([newSellers]).then((val) => val)\n    }\n\n    function handleNoteChanged(key, note) {\n        let newSellers = [...sellers]\n        newSellers[key].newReview.note = note\n        setSellers(newSellers)\n    }\n\n    function handleCommentChanged(key, comment) {\n        let newSellers = [...sellers]\n        newSellers[key].newReview.comment = comment\n        setSellers(newSellers)\n    }\n\n    async function handleSendReview(sellerUID, key) {\n        const note = sellers[key].newReview.note\n        const comment = sellers[key].newReview.comment\n        if (note === undefined || comment === undefined) return\n        const res = await addReviewOfSellerUid(sellerUID, eventId, note, comment, user.displayName)\n        if (res) {\n            let newSellers = [...sellers]\n            const newReview = { eventID: eventId, note: note, comment: comment }\n            newSellers[key].reviews.push(newReview)\n            newSellers[key].newReview = newReview\n            setSellers(newSellers)\n\n            sendInBlue_sendNotificationToSellerOfReview(newSellers[key].email, newSellers[key].firstName)\n        }\n    }\n\n    return (\n        <div className=\"GiveReview_container\">\n            <CSSTransition\n                in={!isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <Loader />\n            </CSSTransition>\n\n            <CSSTransition\n                in={isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <div className=\"GiveReview\">\n                    {error.length < 1 ?\n                        <>\n                            <h1>Donnez une note aux prestataires que vous aviez choisi</h1>\n                            {sellers.map((seller, key) =>\n                                seller.newReview.eventID === undefined ?\n                                    <div key={key} className=\"GiveReview__item\" >\n                                        <h2>{seller.companyName}</h2>\n                                        <div className=\"stars_container\">\n                                            <FaStar className={`${seller.newReview.note > 4 ? \"active\" : \"\"}`} onClick={() => handleNoteChanged(key, 5)} />\n                                            <FaStar className={`${seller.newReview.note > 3 ? \"active\" : \"\"}`} onClick={() => handleNoteChanged(key, 4)} />\n                                            <FaStar className={`${seller.newReview.note > 2 ? \"active\" : \"\"}`} onClick={() => handleNoteChanged(key, 3)} />\n                                            <FaStar className={`${seller.newReview.note > 1 ? \"active\" : \"\"}`} onClick={() => handleNoteChanged(key, 2)} />\n                                            <FaStar className={`${seller.newReview.note > 0 ? \"active\" : \"\"}`} onClick={() => handleNoteChanged(key, 1)} />\n                                        </div>\n                                        <div className=\"formField\">\n                                            <textarea\n                                                type=\"text\"\n                                                value={seller.comment}\n                                                onChange={e => handleCommentChanged(key, e.target.value)}\n                                                placeholder=\"Laissez un commentaire\"\n                                            />\n                                        </div>\n                                        <div className=\"buttonSendForm\">\n                                            <ButtonSmall\n                                                onClick={() => handleSendReview(seller.uid, key)}\n                                                color=\"blue\"\n                                                value=\"Valider\"\n                                                disabled={seller.newReview.note === undefined || seller.newReview.comment === undefined || seller.newReview.comment.length < 3}\n                                            />\n                                        </div>\n                                    </div>\n                                    :\n                                    <div key={key}>Merci</div>\n                            )}\n                        </>\n                        :\n                        <>\n                            <p>{error}</p>\n                            <span className=\"linkRedirect\" onClick={() => history.push('/compte')} >Se connecter</span>\n                        </>\n                    }\n                </div>\n            </CSSTransition>\n        </div >\n    )\n}\n\nexport default GiveReview","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Faq.js",["1182","1183","1184"],"import React, { useState, useEffect } from \"react\";\nimport '../styles/Faq.css'\nimport { FaArrowRight, FaArrowLeft } from 'react-icons/fa';\nimport { useHistory } from 'react-router-dom'\nimport PlusImg from '../images/plus.svg'\nimport { AiOutlinePlus } from \"react-icons/ai\";\nimport { AiOutlineLine } from \"react-icons/ai\";\n\nimport  { ReactComponent as ArrowImg } from '../images/right-arrow.svg'\n\nconst faqData = [\n    {\n        question: \"Comment est réalisé le paiement de mon évènement ?\",\n        response: \"Le paiement est entièrement réalisé sur NIVID.fr. Dès validation de votre évènement, nous vous demanderons un acompte de 30%. Le jour de l’évènement, vous serez prélevé du restant dû de la commande avec le même moyen de paiement utilisé pour l’acompte. Les moyens de paiement sont : Visa, MasterCard, autres Cartes Bancaires, ApplePay, Paypal.\",\n        type: \"particulier\"\n    },\n    {\n        question: \"Quel évènement puis-je organiser sur NIVID.fr ?\",\n        response: \"Sur NIVID.fr vous pouvez organiser tous types d’évènements, de la babyshower à l’anniversaire en passant par le diner en amoureux, sans oublier la soirée entre amis ou en famille. Laissez votre imagination vous guider et éclatez-vous !\",\n        type: \"particulier\"\n    },\n    {\n        question: \"Comment gérer mon évènement en période de crise sanitaire ?\",\n        response: \"Nous veillons à la bonne exécution des gestes barrières de la part des partenaires NIVID. Il en est de votre responsabilité d’en faire de même le jour de votre évènement pour la sécurité de tous. Nous communiquerons quelques jours avant votre évènement, une note des bonnes pratiques à mettre en place.\",\n        type: \"particulier\"\n    },\n    {\n        question: \"Quelles sont les prochaines étapes de mon inscription ?\",\n        response: \"Après nous avoir envoyé tous les documents nécessaires à l’identification de ton entreprise, nous procéderons à une validation de ton dossier. Une fois validé et le paiement de l’abonnement réalisé, il sera l’heure de faire tes premiers pas sur NIVID !\",\n        type: \"prestataire\"\n    },\n    {\n        question: \"Comment suis-je accompagné dans l’installation de ma vitrine ?\",\n        response: \"Rassure-toi chez NIVID tu seras toujours accompagné et cela même après tes premiers pas. Pour installer ta vitrine, nous te mettrons à disposition des tutoriels et si besoin, tu pourras prendre rendez vous avec un membre de l’équipe NIVID.\",\n        type: \"prestataire\"\n    },\n    {\n        question: \"Aurais-je des contraintes a respecter en tant que partenaire NIVID ?\",\n        response: \"Chez NIVID, nous mettons tout en œuvre pour offrir à nos partenaires et nos clients la meilleure expérience possible. Dans ce sens, nous avons mis en place les conditions générales de service, qui finalement reflètent l’état d’esprit NIVID !\",\n        type: \"prestataire\"\n    },\n    {\n        question: \"Combien coûte l’adhésion sur le site NIVID ?\",\n        response: \"L’adhésion est à 468 €/mois HT soit 39€/mois HT, autrement dit l’équivalent d’un bouquet de fleur ou d’un beau gâteau d’anniversaire, d’un plateau traiteur, d’une bonne bouteille de champagne ... Vendu sur NIVID.fr. Et pour nous permettre de vous faire briller en ligne grâce à de la publicité digitale, l’optimisation de votre boutique digitale, nous prélevons une commission de 8% HT pour la vente de produits et de 10% HT pour la vente de services. Chez NIVID nous réinvestissons pour vous.\",\n        type: \"prestataire\"\n    },\n]\n\nconst Faq = (props) => {\n\n    const [activeQuestionsType, setActiveQuestionsType] = useState(\"particulier\")\n    const [openedQuestion, setOpenedQuestion] = useState(-1)\n\n    const [filter, setFilter] = useState(\"\")\n    const [pagination, setPagination] = useState({ from: 0, to: 5 })\n    const [currentPage, setCurrentPage] = useState(0)\n    const [pageCount, setPageCount] = useState(1)\n\n    const history = useHistory()\n\n    useEffect(() => {\n        const newPageCount = Math.ceil(faqData.filter(item => item.type === activeQuestionsType).filter(item => item.question.includes(filter)).length / 5)\n        newPageCount === 1 && setCurrentPage(0)\n        setPageCount(newPageCount)\n        const newSlice = { from: 0 + (currentPage * 5), to: 5 + (currentPage * 5) }\n        setPagination(newSlice)\n    }, [currentPage, filter, activeQuestionsType])\n\n    function handlePagination(page) {\n        if (page + 1 > pageCount || page < 0) return\n        setCurrentPage(page)\n    }\n\n    function handleActiveQuestionsType(type) {\n        setCurrentPage(0)\n        setActiveQuestionsType(type)\n    }\n\n    return (\n        <>\n            <div className=\"faq\">\n                <div className=\"faq_header\">\n                    <h1>Questions fréquentes</h1>\n                    <div className=\"inputWithButton_FAQ\">\n                        <input onChange={(e) => setFilter(e.target.value)} value={filter} placeholder=\"Tapez votre question ici ...\" type=\"text\" />\n                    </div>\n                </div>\n                <div className=\"faq_content\">\n                    <div className=\"faq_content_type\">\n                        <h2 className={activeQuestionsType === \"particulier\" && \"active\"} onClick={() => handleActiveQuestionsType(\"particulier\")}>Particulier</h2>\n                        <h2 className={activeQuestionsType === \"prestataire\" && \"active\"} onClick={() => handleActiveQuestionsType(\"prestataire\")}>Prestataire</h2>\n                    </div>\n                </div>\n                <div className=\"faq_content_content\">\n                    {\n                        faqData\n                            .filter(item => item.question.includes(filter))\n                            .filter(item => item.type === activeQuestionsType)\n                            .slice(pagination.from, pagination.to)\n                            .map((item, key) => {\n                                return <div\n                                    key={key}\n                                    onClick={() => setOpenedQuestion(key === openedQuestion ? -1 : key)}\n                                    className={openedQuestion === key ? \"faq_item active\" : \"faq_item\"}>\n                                    <h4>{item.question}</h4>\n                                    <p className={`${openedQuestion === key ? \"active\" : \"\"}`}> {item.response}</p>\n                                    <span\n                                    className={`${openedQuestion === key ? \"active\" : \"\"}`}\n                                    >{ openedQuestion === key ? <AiOutlineLine /> : <AiOutlinePlus /> }</span>\n                                </div>\n                                // Afficher le + et le - sur les items\n                            })\n                    }\n                    <div className=\"faq_pagination\">\n                        <ArrowImg className={currentPage - 1 < 0 && \"disabled\"} onClick={() => handlePagination(currentPage - 1)} />\n                        <p>Page {currentPage + 1} sur {pageCount}</p>\n                        <ArrowImg className={currentPage + 1 + 1 > pageCount && \"disabled\"} onClick={() => handlePagination(currentPage + 1)} />\n                    </div>\n                </div>\n                <div className=\"faq_bottom\">\n                    <h4>Vous ne trouvez pas de réponse à votre question ?</h4>\n                    <button onClick={() => history.push('/contact')} className=\"blue largeButton\">Contactez-nous</button>\n                </div>\n            </div>\n        </>\n    )\n}\nexport default Faq;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Home.js",["1185","1186","1187","1188","1189","1190","1191","1192","1193"],"import React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { useHistory } from 'react-router-dom'\nimport '../styles/Home.css'\nimport marker from '../images/orange_marker.png'\nimport articleImage from '../images/Menu-gastronomique-facile.png';\nimport NoteWidget from '../components/NoteWidget'\nimport Image from '../components/utilities/Image'\nimport { FaPlus } from 'react-icons/fa';\nimport { Zoom } from \"react-slideshow-image\";\nimport 'react-slideshow-image/dist/styles.css'\nimport feature1 from '../images/confetti.svg'\nimport SimpleImageSlider from \"react-simple-image-slider\";\nimport feature2 from '../images/invitation-danniversaire.svg'\nimport feature3 from '../images/best-seller.svg'\nimport LocationSearchInput from \"../components/autocompletePlaces\"\nimport { useFirebase } from \"../assets/base-context\";\nimport { GoogleApiWrapper } from 'google-maps-react';\nimport { useAuth } from \"../context/userContext\";\n\nimport backgroundHome from '../images/homepage1-2.jpeg'\nimport imgTest from '../images/homepage1-2.jpeg'\nimport imgTest2 from '../images/rapellVid3.png'\nimport { padding } from \"@mui/system\";\n\nconst Home = (props) => {\n    const zoomOutProperties = {\n        duration: 5000,\n        transitionDuration: 500,\n        infinite: true,\n        indicators: false,\n        scale: 0.4,\n        arrows: true\n    };\n    const isMobilenvir = () => (windowsWidth > 1160) ? false : true\n    const slides = [\n            {\n                img: feature1,\n                head: \"De A à \",\n                span: 'Z',\n                para: \"Commandez et réservez vos produits et prestations sur NIVID.fr gratuitement, sans bouger de votre canapé.\",\n            },\n            {\n                img: feature2,\n                head: \"Sans \",\n                span: \"devis\",\n                para: \"Parce que l’on veut vous simplifier la vie, et vous aider à gérer votre budget.\",\n            },\n            {\n                img: feature3,\n                head: \"Autour de chez \",\n                span: \"vous\",\n                para: \"Grâce à nos partenaires de proximité sélectionnés selon nos critères de qualités.\",\n            }\n        ];\n    const firebaseContext = useFirebase()\n    const firestore = firebaseContext.firestore()\n\n    const history = useHistory()\n    const { setHomeSellersDisplay } = useAuth() // context\n\n    const search = useLocation().search\n    const referral = new URLSearchParams(search).get('referral')\n\n    const [openedFAQDropdown, setOpenedFAQDropdown] = useState(0)\n\n    const [city, setCity] = useState(\"\")\n    const [latLng, setLatLng] = useState(\"\")\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n    const [activeSlide, setActiveSlide] = useState(1)\n    const [errorSearchCity, setErrorSearchCity] = useState(false)\n\n    useEffect(() => {\n        if (referral !== null && referral.length > 1) {\n            history.push(`/inscription-prestataire?referral=${referral}`)\n        }\n\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n        \n        // const interval = setInterval(() => {\n        //     setActiveSlide(activeSlide => activeSlide === 3 ? 1 : activeSlide + 1)\n        // }, 4000)\n        // return () => clearInterval(interval);\n    })\n    const isMobile = () => (windowsWidth > 1100) ? false : true\n    const handleResize = (width) => setWindowsWidth(width)\n\n    function handleCityChanged(city, latLng) {\n        setCity(city)\n        latLng !== undefined && setLatLng(latLng)\n    }\n\n\n    async function handleGetRandomSellers() {\n        if (latLng === \"\") return \n\n        const refSellers = firestore.collection(\"sellers\");\n\n        // On va choper TOUT les sellers à moins de 5km pour ensuite faire le tri avec les category\n        const categorySellers = await refSellers\n            .where(\"status\", \"==\", \"opened\")\n            .get();\n        const results = []\n\n        categorySellers.forEach(doc => results.push({ ...doc.data(), id: doc.id }))\n        if (results.length > 0) {\n            const sellersFilteredByDistance = await filterSellersByDistance(results)\n            const newSellers = sellersFilteredByDistance.filter(item => item.firstName).map(item => item)\n            setHomeSellersDisplay(newSellers)\n            newSellers.length > 0 ? history.push('/pepites') : history.push('/dashboard')\n        }\n        else return setErrorSearchCity(true)\n    }\n\n    async function filterSellersByDistance(data) {\n        return Promise.all(\n            data.map(item => {\n                return getDistanceBetweenTwoPoints(latLng, item.latLng)\n                    .then((result) => {\n                        if ((result / 1000) < 10) return item\n                        else return []\n                    })\n            })\n        )\n    }\n\n    async function getDistanceBetweenTwoPoints(searchPos, sellerPos) {\n        var origin = new props.google.maps.LatLng(searchPos.lat, searchPos.lng);\n        var destination = new props.google.maps.LatLng(sellerPos.lat, sellerPos.lng);\n\n        var service = new props.google.maps.DistanceMatrixService();\n        return new Promise(resolve => {\n            service.getDistanceMatrix(\n                {\n                    origins: [origin],\n                    destinations: [destination],\n                    travelMode: 'DRIVING',\n                }, (response, status) => {\n                    resolve(response.rows[0].elements[0].distance.value)\n                }\n            )\n        });\n    }\n\n    return (\n        <>\n            <div className={`home_slider ${isMobile() && \"mobile\"}`}>\n                <div className=\"home_slider_form\">\n                    <h1>Fêtes <span>rêvées !</span></h1>\n                    <h3>Grâce à la première plateforme d’organisation d’évènement de A à Z</h3>\n                    <div className=\"inputWithButton\">\n                        <LocationSearchInput placeholder=\"Où se déroule votre évènement ? (ville)\" placeType=\"(cities)\" value={city} onChanged={handleCityChanged} />\n                        <img src={marker} />\n                        <button onClick={() => handleGetRandomSellers()} className=\"Home smallButton orange\">Rechercher</button>\n                        {errorSearchCity && <p style={{color: !isMobile() ? \"white\" : \"black\", fontFamily:\"roboto-medium\"}}>Aucun prestataire dans cette ville pour le moment.</p>}\n                    </div>\n                </div>\n            </div>\n            <div className=\"home_section1\">\n                <h1>Créez l'évènement qui vous <span>rassemble</span>.</h1>\n                {/* <p><NoteWidget note={4} /> 4/5 sur trustpilot</p> */}\n                {isMobilenvir() ? \n                    <Zoom {...zoomOutProperties}>\n                        {slides.map((each, index) => (\n                        <div className=\"home_features\">\n                            <div style={{border: \"solid 3px rgb(245, 192,67)\", borderRadius: \"5%\", padding: '5%', maxHeight: \"400px\"}}>\n                                <img src={each.img} alt=\"\" />\n                                <h2>{each.head}<span style={{color: 'rgb(245, 192, 67)', fontFamily: \"Roboto-medium\"}}>{each.span}</span></h2>\n                                <p>{each.para}</p>\n                            </div>\n                        </div>\n                        ))}\n                    </Zoom>\n                    :\n                    <div className=\"home_features\">\n                        <div>\n                            <img src={feature1} alt=\"\" />\n                            <h2>De <span>A</span> à <span>Z</span></h2>\n                            <p>Commandez et réservez vos produits et prestations sur NIVID.fr gratuitement, sans bouger de votre canapé.</p>\n                        </div>\n                        <div>\n                            <img src={feature2} alt=\"\" />\n                            <h2>Sans <span>devis</span></h2>\n                            <p>Parce que l’on veut vous simplifier la vie, et vous aider à gérer votre budget.</p>\n                        </div>\n                        <div>\n                            <img src={feature3} alt=\"\" />\n                            <h2>Autour de chez <span>vous</span></h2>\n                            <p>Grâce à nos partenaires de proximité sélectionnés selon nos critères de qualités.</p>\n                        </div>\n                    </div>\n                    }\n                <div className=\"home_section1_bottom\">\n                    <h2>Alors, <span className=\"yellowtext robotomedium\">convaincu.e</span> ?</h2>\n                    <button onClick={() => history.push(\"/dashboard\")} className=\"orange largeButton\">J'organise mon évènement</button>\n                </div>\n                <div className=\"dividerspace\"></div>\n            </div>\n            <div className=\"home_section3\">\n               <h2>En attendant, ces articles pourraient vous intéresser...</h2>\n                <div className=\"blogContainer\">\n                    <div className=\"articleContainer\">\n                        <div className=\"articleContent\">\n                        <div className=\"imageContainer\">\n                                <Image url={articleImage} />\n                            </div>\n                            <h3>7 Façons de Faire la Promotion de Votre Évènement Hors Ligne</h3>\n                            <p>le 21 Septembre 2020</p>\n                        </div>\n                    </div>\n                    <div className=\"articleContainer\">\n                        <div className=\"articleContent\">\n                        <div className=\"imageContainer\">\n                                <Image url={articleImage} />\n                            </div>\n                            <h3>7 Façons de Faire la Promotion de Votre Évènement Hors Ligne</h3>\n                            <p>le 21 Septembre 2020</p>\n                        </div>\n                    </div>\n                    <div className=\"articleContainer\">\n                        <div className=\"articleContent\">\n                        <div className=\"imageContainer\">\n                                <Image url={articleImage} />\n                            </div>\n                            <h3>7 Façons de Faire la Promotion de Votre Évènement Hors Ligne</h3>\n                            <p>le 21 Septembre 2020</p>\n                        </div>\n                    </div>\n                </div>\n                <button onClick={() => {window.location.href = \"#\"}} className=\"orange smallButton\">Voir le blog</button>\n                <div className=\"dividerspace\"></div>\n            </div>\n            <div className=\"home_section4\">\n                <div className=\"left_FAQ\">\n                    <h1>Un événement réussi est un événement <span>préparé...</span></h1>\n                    <div className=\"disabled_home\">\n                    <h3 className=\"robotomedium\" >Pour encore plus de réponses, visitez notre FAQ</h3>\n                    <button onClick={() => history.push('faq')} className=\"blue smallButton\">Voir la FAQ</button>\n                </div>\n                </div>\n                <div className=\"right_FAQ\">\n                    <div className=\"home_dropdown_faq\">\n                        <div onClick={() => setOpenedFAQDropdown(openedFAQDropdown === 1 ? 0 : 1)}>\n                            <div className=\"dropdown_faq_header\">\n                                <p>Comment est réalisé le paiement de mon évènement ?</p><FaPlus />\n                            </div>\n                            <span className={openedFAQDropdown === 1 && \"active\"}>\n                            Le paiement est entièrement réalisé sur NIVID.fr. Dès validation de votre évènement, nous vous demanderons un acompte de 30%. Le jour de l’évènement, vous serez prélevé du restant dû de la commande avec le même moyen de paiement utilisé pour l’acompte.\n                            Les moyens de paiement sont : Visa, MasterCard, autres Cartes Bancaires, ApplePay, Paypal.\n                            </span>\n                        </div>\n                        <div onClick={() => setOpenedFAQDropdown(openedFAQDropdown === 2 ? 0 : 2)}>\n                            <div className=\"dropdown_faq_header\">\n                                <p>Quel évènement puis-je organiser sur NIVID.fr ?</p><FaPlus />\n                            </div>\n                            <span className={openedFAQDropdown === 2 && \"active\"}>\n                            Sur NIVID.fr vous pouvez organiser tous types d’évènements, de la babyshower à l’anniversaire en passant par le diner en amoureux, sans oublier la soirée entre amis ou en famille. Laissez votre imagination vous guider et éclatez-vous !</span>\n                        </div>\n                        <div onClick={() => setOpenedFAQDropdown(openedFAQDropdown === 3 ? 0 : 3)}>\n                            <div className=\"dropdown_faq_header\">\n                                <p>Comment gérer mon évènement en période de crise sanitaire ?</p><FaPlus />\n                            </div>\n                            <span className={openedFAQDropdown === 3 && \"active\"}>\n                            Nous veillons à la bonne exécution des gestes barrières de la part des partenaires NIVID. Il en est de votre responsabilité d’en faire de même le jour de votre évènement pour la sécurité de tous. Nous communiquerons quelques jours avant votre évènement, une note des bonnes pratiques à mettre en place.\n                            </span>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"enabled_home\">\n                    <h3 className=\"robotomedium\" >Pour encore plus de réponses, visitez notre FAQ</h3>\n                    <button onClick={() => history.push('faq')} className=\"blue smallButton\">Voir la FAQ</button>\n                </div>\n            </div>\n            <div className=\"home_section2\">\n                <h2>Vous souhaitez proposer vos services ou produits ? Soyez visible auprès de nos communauté <span>gratuitement !</span></h2>\n                <button onClick={() => history.push('/demande-de-rappel')} className=\"orange largeButton\">Je me renseigne</button>\n            </div>\n        </>\n    )\n}\n\nexport default GoogleApiWrapper({\n    apiKey: (\"AIzaSyDOQ_vau2uT4Gx_iLMVq2XfsUK3BPULVnY\")\n})(Home)\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Contact_Boutique.js",["1194","1195","1196","1197","1198","1199","1200","1201"],"import React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { useHistory } from 'react-router-dom'\nimport '../styles/Contact_Boutique.css'\nimport NoteWidget from '../components/NoteWidget'\nimport Image from '../components/utilities/Image'\n\nimport imgBloc1 from '../images/Calque2.svg'\nimport rappelImg1 from '../images/rapellVid1.png'\nimport rappelImg2 from '../images/rapellVid2.png'\nimport rappelImg3 from '../images/rapellVid3.png'\n\nconst Contact_Boutique = (props) => {\n\n    const history = useHistory()\n\n    const search = useLocation().search\n    const referral = new URLSearchParams(search).get('referral')\n\n    const [openedFAQDropdown, setOpenedFAQDropdown] = useState(0)\n\n    useEffect(() => {\n    })\n\n    function handleAncreClicked() {\n        window.scrollTo(0, 0);\n    }\n\n    return (\n        <>\n            <div className=\"contact_seller1\">\n                <div>\n                    <h1><span>Rejoignez</span> NIVID!</h1>\n                    <h2>Une plateforme au service de ses partenaires</h2>\n                    <div className=\"contact_seller_form_bloc\">\n                        <p>Une question ? Demandez un rappel en remplissant le formulaire :</p>\n                        <div className=\"contact_seller_form\">\n\n                            <div className=\"formLine\">\n                                <div className=\"formField\">\n                                    <label htmlFor=\"name\">Votre nom *</label>\n                                    <input name=\"name\" type=\"text\" value=\"\" />\n                                </div>\n                                <div className=\"formField\">\n                                    <label htmlFor=\"email\">Votre adresse mail *</label>\n                                    <input name=\"email\" type=\"text\" value=\"\" />\n                                </div>\n                            </div>\n\n                            <div className=\"formLine\">\n                                <div className=\"formField\">\n                                    <label htmlFor=\"tel\">Votre numéro de téléphone *</label>\n                                    <input name=\"tel\" type=\"text\" value=\"\" />\n                                </div>\n                                <div className=\"formField\">\n                                    <label htmlFor=\"domaine\">Votre domaine d'activité *</label>\n                                    <input name=\"domaine\" type=\"text\" value=\"\" />\n                                </div>\n                            </div>\n\n                            <div className=\"formLine\">\n                                <div className=\"formField\">\n                                    <label htmlFor=\"how\">Comment avez-vous entendu parler de nous ? *</label>\n                                    <input name=\"how\" type=\"text\" value=\"\" />\n                                </div>\n                            </div>\n                            <div className=\"contact_seller_form_button\">\n                                <button className=\"blue largeButton\">Envoyer ma demande de rappel</button>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n                <div>\n                    <img src={imgBloc1} alt=\"\" />\n                </div>\n            </div>\n            <div className=\"contact_seller2\">\n                <h1>Mettez en avant votre <span>savoir-faire</span>, laissez-nous faire le <span>reste</span></h1>\n                {/*<div className=\"contact_seller2_banner1\">\n\n                </div>\n                <div className=\"contact_seller2_banner2\">\n\n                </div> */}\n            </div>\n            <div className=\"contact_seller3\">\n                <div className=\"contact_seller3_videos\">\n                {/* <img src={rappelImg1} alt=\"\" />\n                    <img src={rappelImg2} alt=\"\" /> */}\n                    <img src={rappelImg2} alt=\"\" />\n                </div>\n                <button onClick={() => handleAncreClicked()} className=\"blue largeButton\">Je deviens partenaire</button>\n            </div>\n            <div className=\"contact_seller4\">\n                <h3>Questions fréquentes</h3>\n                <div className=\"contact_seller4_item\">\n                    <h3>Quelles sont les prochaines étapes de mon inscription ?</h3>\n                    <p>Pour t’inscrire sur NIVID tu dois nous donner les documents nous permettant d’identifier ton activité. En plus de cela nous organiserons une rencontre en visioconférence. Si tu réponds aux critères de qualité de NIVID, nous validerons ton inscription !</p>\n                </div>\n                <div className=\"contact_seller4_item\">\n                    <h3>Comment suis-je accompagné dans l’installation de ma vitrine ?</h3>\n                    <p>Rassure-toi chez NIVID tu seras toujours accompagné et cela même après tes premiers pas.<br></br>\nPour installer ta vitrine, nous te mettrons à disposition des tutoriels et si besoin, tu pourras <a href=\"/contact\">prendre rendez vous avec un membre de l’équipe NIVID.</a></p>\n                </div>\n                <div className=\"contact_seller4_item\">\n                    <h3>Aurais-je des contraintes a respecter en tant que partenaire NIVID ?</h3>\n                    <p>Chez NIVID, nous mettons tout en œuvre pour offrir à nos partenaires et nos clients la meilleure expérience possible. Dans ce sens, nous avons mis en place les <a href=\"/CGU\">conditions générales de service</a>, qui finalement reflètent l’état d’esprit NIVID !</p>\n                </div>\n                <div className=\"contact_seller4_item\">\n                    <h3>Combien coûte l’adhésion ?</h3>\n                    <p>L’adhésion à la plateforme est gratuite, nous prélevons seulement une commission sur les prestations que vous vendrez grâce à NIVID !<br></br></p>\n                </div>\n            </div>\n        </>\n    )\n}\nexport default Contact_Boutique;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Blog.js",["1202","1203"],"import React, { useState, useEffect } from \"react\";\nimport '../styles/Blog.css'\n\n\nconst Blog = (props) => {\n\n    return (\n        <>\n            <h1>Page en construction</h1>\n        </>\n    )\n}\nexport default Blog;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/Subscribe.js",["1204","1205"],"import React, { useState, useEffect } from \"react\";\nimport \"../styles/Login.css\"\nimport { Link, useHistory } from 'react-router-dom'\nimport logo from \"../images/Logo Nivid - Noir.png\"\nimport { useAuth } from \"../context/userContext\"; // context\n\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport DatePicker from '@mui/lab/DatePicker';\nimport frLocale from 'date-fns/locale/fr';\nimport MobileDatePicker from '@mui/lab/MobileDatePicker';\n\nimport { ButtonLarge } from '../components/utilities/Buttons'\n\nconst Subscribe = () => {\n\n    const [firstName, setFirstName] = useState(\"\");\n    const [name, setName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [emailConfirm, setEmailConfirm] = useState(\"\");\n    const [tel, setTel] = useState(\"\");\n    const [birthDate, setBirthDate] = useState(new Date('January 1, 1989'));\n    const [gender, setGender] = useState(\"h\");\n    const [password, setPassword] = useState(\"\");\n    const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const [fieldError, setFieldError] = useState(\"\");\n\n    const [signinFlag, setSigninFlag] = useState(0)\n\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n    const [isCalendarOpened, setIsCalendarOpened] = useState(false);\n\n\n    const { subscribe, signInWithGoogle } = useAuth() // context\n    const history = useHistory()\n\n\n    function isMobile() {\n        if (windowsWidth > 1100) {\n            return false\n        }\n        else {\n            return true\n        }\n    }\n\n    function handleResize(width) {\n        setWindowsWidth(width)\n    }\n\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n    }, [])\n\n    async function handleSubscribeForm(e) {\n        e.preventDefault()\n        const valid = await isValid()\n        if (valid === true) {\n            const res = await subscribe(email, password, firstName, name, tel, gender, birthDate)\n            if (res === \"auth/email-already-in-use\") {\n                setError(\"Cet email est déjà utilisé\")\n            }\n            else if (res === true) {\n                history.push('/confirmation')\n            }\n        }\n    }\n\n    async function isValid() {\n        // else if(birthDate !== 0) {setError(\"Veuillez renseigner votre nom\")} A faire avec la date de naissance\n        if (firstName.length > 1) {\n            if (name.length > 1) {\n                if (tel.toString().length === 0 || (tel.toString().length === 10)) {\n                    if (password.length >= 8) {\n                        if (password === passwordConfirm) {\n                            if (email === emailConfirm) {\n                                return true\n                            }\n                            else {\n                                setError(\"La confirmation de l'email ne correspond pas\")\n                                setFieldError(\"emailconfirm\")\n                            }\n                        }\n                        else {\n                            setError(\"La confirmation du mot de passe ne correspond pas\")\n                            setFieldError(\"passwordconfirm\")\n                        }\n                    }\n                    else {\n                        setError(\"Votre mot de passe doit contenir au moins 8 caractères\")\n                        setFieldError(\"password\")\n                    }\n                }\n                else {\n                    setError(\"Veuillez renseigner un numéro de téléphone valide\")\n                    setFieldError(\"tel\")\n                }\n            }\n            else {\n                setError(\"Veuillez renseigner votre nom\")\n                setFieldError(\"nom\")\n            }\n        }\n        else {\n            setError(\"Veuillez renseigner votre prénom\")\n            setFieldError(\"prenom\")\n        }\n    }\n\n    function handleOnChangeInputs(name, value) {\n        if (name === fieldError) {\n            setFieldError(\"\")\n        }\n        if (name === \"prenom\") { setFirstName(value) }\n        else if (name === \"nom\") { setName(value) }\n        else if (name === \"birthDate\") { setBirthDate(value); setIsCalendarOpened(false) }\n        else if (name === \"sexe\") { setGender(value) }\n        else if (name === \"tel\") { setTel(value) }\n        else if (name === \"email\") { setEmail(value) }\n        else if (name === \"emailconfirm\") { setEmailConfirm(value) }\n        else if (name === \"password\") { setPassword(value) }\n        else if (name === \"passwordconfirm\") { setPasswordConfirm(value) }\n    }\n\n    const loginF = (flag) => {\n        setSigninFlag(flag)\n    }\n\n    return (\n        <div className=\"loginSubscribeContainer\">\n            <header>\n                <div className=\"logoContainer\">\n                    <img alt=\"\" src={logo} />\n                </div>\n            </header>\n            <div className=\"blocLoginTopRight\">\n                {!isMobile() &&\n                    <div className=\"LoginBackLink\">\n                        <Link to=\"/\">Revenir à l'accueil</Link>\n                    </div>\n                }\n                {/*<p>Vous avez déjà un compte ?</p> */}\n                <Link to=\"/\">Revenir à l'accueil</Link>\n            </div>\n            <div className={!isMobile() ? \"subscribePageContainer\" : \"subscribePageContainer moblie\"}>\n                {!isMobile() &&\n                    <div className=\"marketingBlocForm\">\n                        <div className=\"marketingItem\">\n                            <h2>Inscris-toi</h2>\n                            <p>gratuitement en 1 minute pour créer ton évènement et découvrir les offres de partenaires autour de chez toi.</p>\n                        </div>\n                        <div className=\"marketingItem\">\n                            <h3>Imagine</h3>\n                            <p>ton évènement en choisissant ce dont tu as envie, en gérant habilement ton budget</p>\n                        </div>\n                        <div className=\"marketingItem\">\n                            <h3>Que la fête commence !</h3>\n                            {/* <p>En vous inscrivant, vous accéderez à des tarifs spécialement négociés pour vous, et que vous ne trouverez nulle part ailleurs.</p> */}\n                        </div>\n                    </div>\n                }\n                <div className=\"subscribeContainer\">\n                    <h1>Inscris-toi à Nivid</h1>\n                    <p>Gérez votre compte, consultez vos événements et bien plus encore.</p>\n                    <div>\n                        {(!signinFlag || !isMobile()) &&\n                            <div className=\"googleSignInContainer\">\n                                <buttton className=\"googleSignInButton\" onClick={() => signInWithGoogle()}>\n                                    <div className=\"googleSignInButtonImageContainer\">\n                                        <img alt=\"\" src={'/images/google.png'} />\n                                    </div>\n                                    <span>Inscrivez-vous avec Google</span>\n                                </buttton>\n                            </div>\n                        }\n                        {(isMobile() && !signinFlag) && \n                            <div className=\"googleSignInContainer\">\n                                <buttton className=\"googleSignInButton\" onClick={() => loginF(1)}>\n                                    <div className=\"googleSignInButtonImageContainer\">\n                                        <img alt=\"\" src={'/images/user.png'} />\n                                    </div>\n                                    <span>Utiliser mon e-mail</span>\n                                </buttton>\n                            </div>\n                        }\n                    </div>\n                    {(!isMobile() || signinFlag===1) &&\n                        <form style={{opacity:signinFlag == 1 ? 1 : 0, transition:'all 0.5s'}}>\n                            <div className=\"formLine\">\n                                <div className={fieldError === \"prenom\" ? \"formField error\" : \"formField\"}>\n                                    <label>Prénom</label>\n                                    <input value={firstName} type=\"text\" name=\"prenom\" onChange={(e) => handleOnChangeInputs(\"prenom\", e.target.value)} />\n                                </div>\n                                <div className={fieldError === \"nom\" ? \"formField error\" : \"formField\"}>\n                                    <label>Nom</label>\n                                    <input value={name} type=\"text\" name=\"nom\" onChange={(e) => handleOnChangeInputs(\"nom\", e.target.value)} />\n                                </div>\n                            </div>\n\n                            <div className=\"formLine\">\n                                <div className={fieldError === \"birthDate\" ? \"formFieldSpecialDate error\" : \"formFieldSpecialDate\"}>\n                                    <label>Date de naissance</label>\n                                    <div\n                                        onClick={() => setIsCalendarOpened(!isCalendarOpened)}\n                                        className=\"etape1DatePicker subscribe\"\n                                    >\n                                        {new Date(birthDate).toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"long\", day: \"numeric\" })}\n                                    </div>\n                                    {isCalendarOpened &&\n                                        <div className=\"calendarContainerAbsolute\">\n                                            <LocalizationProvider style={{ position: \"relative!important\" }} locale={frLocale} dateAdapter={AdapterDateFns}>\n                                                {isMobile() ?\n                                                    <MobileDatePicker\n                                                        label=\"Date de l'évènement\"\n                                                        open={isCalendarOpened}\n                                                        onClose={() => setIsCalendarOpened(false)}\n                                                        value={birthDate}\n                                                        onChange={(val) => handleOnChangeInputs(\"birthDate\", val)}\n                                                        renderInput={() => null}\n                                                    />\n                                                    :\n                                                    <DatePicker\n                                                        open={isCalendarOpened}\n                                                        onClose={() => setIsCalendarOpened(false)}\n                                                        value={birthDate}\n                                                        onChange={(val) => handleOnChangeInputs(\"birthDate\", val)}\n                                                        renderInput={() => null}\n                                                    />\n                                                }\n                                            </LocalizationProvider>\n                                        </div>\n                                    }\n                                </div>\n                                <div className={fieldError === \"sexe\" ? \"formField error\" : \"formField\"}>\n                                    <label>Sexe</label>\n                                    <select value={gender} onChange={(e) => handleOnChangeInputs(\"sexe\", e.target.value)}>\n                                        <option value=\"h\">Homme</option>\n                                        <option value=\"f\">Femme</option>\n                                    </select>\n                                </div>\n                            </div>\n\n                            <div className=\"formLine\">\n                                <div className={fieldError === \"tel\" ? \"formField error\" : \"formField\"}>\n                                    <label>Numéro de téléphone (facultatif)</label>\n                                    <input value={tel} type=\"tel\" name=\"numero\" onChange={(e) => handleOnChangeInputs(\"tel\", e.target.value)} pattern=\"[0-9]{2}-[0-9]{2}-[0-9]{2}-[0-9]{2}-[0-9]{2}\" />\n                                </div>\n                            </div>\n\n                            <div className=\"formLine\">\n                                <div className={fieldError === \"email\" ? \"formField error\" : \"formField\"}>\n                                    <label>Email</label>\n                                    <input value={email} type=\"email\" name=\"email\" onChange={(e) => handleOnChangeInputs(\"email\", e.target.value)} />\n                                </div>\n                                <div className={fieldError === \"password\" ? \"formField error\" : \"formField\"}>\n                                    <label>Mot de passe</label>\n                                    <input value={password} type=\"password\" name=\"password\" onChange={(e) => handleOnChangeInputs(\"password\", e.target.value)} />\n                                </div>\n                            </div>\n\n                            <div className=\"formLine\">\n                                <div className={fieldError === \"emailconfirm\" ? \"formField error\" : \"formField\"}>\n                                    <label>Confirmation d'email</label>\n                                    <input value={emailConfirm} type=\"email\" name=\"emailconfirm\" onChange={(e) => handleOnChangeInputs(\"emailconfirm\", e.target.value)} />\n                                </div>\n                                <div className={fieldError === \"passwordconfirm\" ? \"formField error\" : \"formField\"}>\n                                    <label>Confirmation mot de passe</label>\n                                    <input value={passwordConfirm} type=\"password\" name=\"passwordconfirm\" onChange={(e) => handleOnChangeInputs(\"passwordconfirm\", e.target.value)} />\n                                </div>\n                            </div>\n                        </form>\n                    }\n                </div>\n            </div>\n            \n            {/* <div className=\"LoginDiviserContainer\">\n                <div className=\"LoginDiviser\">\n                    <p>ou</p>\n                </div>\n            </div>\n            <p className=\"errorMessage\">{error}</p> */}\n            {signinFlag===1 && \n                <div className=\"bottomSubscribeContainer\">\n                    <div className=\"formField conditionsGenerales\">\n                        <p>En créant un compte chez Nivid, vous acceptez les <a href=\"CGU\">conditions générales</a> du site.</p>\n                    </div>\n                    <div className=\"formField\">\n                        <ButtonLarge\n                            onClick={(e) => handleSubscribeForm(e)}\n                            color=\"orange\"\n                            value=\"S'inscrire\"\n                            backgroundColor=\"rgba(245, 192, 67)\"\n                            marginTop=\"10px\"\n                        />\n                    </div>\n                </div>\n            }\n        </div>\n    )\n}\nexport default Subscribe;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/pages/CGU.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/PanelDashboard.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Loader.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/CartWidget.js",["1206"],"import React, { useEffect, useState } from \"react\";\nimport { useAuth } from \"../context/userContext\"; // context\nimport { useDetectClickOutside } from \"react-detect-click-outside\";\nimport { useHistory } from \"react-router-dom\";\nimport { CSSTransition } from \"react-transition-group\";\nimport ModalYesNo from \"./utilities/ModalYesNo\";\nimport imgshooping from \"../images/shopping-bag.svg\";\n\nconst CartWidget = (props) => {\n  const isMobile = props.isMobile;\n  const history = useHistory();\n  const {\n    event,\n    updateQuantityService,\n    isCardWidgetOpen,\n    setIsCardWidgetOpen,\n  } = useAuth(); // context\n\n  const [choosedServices, setChoosedServices] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [isModalOpened, setIsModalOpened] = useState(false);\n  const [currentServiceID, setCurrentServiceID] = useState(\"\");\n\n  useEffect(async () => {\n    getChoosedServices().then(() => {\n      getTotalPrice();\n    });\n  });\n\n  async function handleDeleteClick(id) {\n    setCurrentServiceID(id);\n    setIsModalOpened(true);\n  }\n\n  async function handleModalYesNoReturn(val) {\n    setIsModalOpened(false);\n    if (val === \"no\") return;\n\n    handleDeleteService(currentServiceID);\n  }\n\n  async function handleClickIcon() {\n    if (!isMobile) {\n      if (isCardWidgetOpen === false) {\n        setIsCardWidgetOpen(true);\n        await getChoosedServices().then(() => {\n          getTotalPrice();\n        });\n      } else setIsCardWidgetOpen(false);\n    } else history.push(\"/creer-mon-evenement/etape-3/panier\");\n  }\n\n  async function getChoosedServices() {\n    setChoosedServices(event.choosedServices);\n  }\n\n  function getTotalPrice() {\n    let total = 0;\n    choosedServices.forEach((service) => {\n      let price = service.price;\n      if (service.variations && service.variations.length > 0) {\n        price = service.variations.filter(\n          (vari) => vari.name === service.variation\n        )[0].price;\n      }\n      total += price * service.quantity;\n    });\n    total = Number.parseFloat(total).toFixed(2);\n    setTotalPrice(total);\n  }\n\n  function handleDeleteService(id) {\n    updateQuantityService(id, 0);\n  }\n\n  function handleButtonRecap() {\n    setIsCardWidgetOpen(false);\n    history.push(\"/creer-mon-evenement/etape-3/panier\");\n  }\n\n  const ref = useDetectClickOutside({\n    onTriggered: () => setIsCardWidgetOpen(false),\n  });\n\n  return (\n    <>\n      <div\n        ref={ref}\n        className={\n          isMobile ? \"CartWidgetContainer mobile\" : \"CartWidgetContainer\"\n        }\n      >\n        <div\n          onClick={() => handleClickIcon()}\n          className={\n            isCardWidgetOpen ? \"CartIconContainer active\" : \"CartIconContainer\"\n          }\n        >\n          <img alt=\"\" src={imgshooping} />\n          <span>{choosedServices !== undefined && choosedServices.length}</span>\n        </div>\n        {isCardWidgetOpen && !isMobile && (\n          <div className=\"wrapperContainer\">\n            <div className=\"wrapperItemList\">\n              {choosedServices.map((service) => {\n                return (\n                  <div className=\"cartWrapperItem\">\n                    <div className=\"imgCartWrapperItemContainer\">\n                      <img\n                        alt=\"\"\n                        src={service.images && service.images[0].url}\n                      />\n                    </div>\n                    <div className=\"contentCartWrapperItemContainer\">\n                      <span>\n                        {service.variations && service.variations.length > 0\n                          ? service.variations.filter(\n                              (vari) => vari.name === service.variation\n                            )[0].price + \"€\"\n                          : service.price + \"€\"}\n                      </span>\n                      <p>{service.name}</p>\n                      <p>{service.variation}</p>\n                      <p>x {service.quantity}</p>\n                      <div\n                        onClick={() => handleDeleteClick(service.uid)}\n                        className=\"deleteButtonCartWrapper\"\n                      >\n                        <img alt=\"\" src=\"/images/trashRed.png\" />\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n\n            <div className=\"cartWrapperBottom\">\n              <div className=\"cartWrapperBottomTotalContainer\">\n                <p>Total: {totalPrice}€</p>\n              </div>\n              <div className=\"cartWrapperBottomButtonContainer\">\n                <button\n                  disabled={choosedServices.length < 1 && \"disabled\"}\n                  onClick={() => handleButtonRecap()}\n                >\n                  Voir panier\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n      <CSSTransition\n        in={isModalOpened}\n        timeout={5000}\n        classNames=\"pageTransition\"\n        unmountOnExit\n      >\n        <ModalYesNo callback={(val) => handleModalYesNoReturn(val)} value=\"\" />\n      </CSSTransition>\n    </>\n  );\n};\n\nexport default CartWidget;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/UpdateProfil.js",["1207","1208","1209"],"import React, { useState, useEffect } from \"react\";\nimport { useAuth } from '../context/userContext'\nimport { Link } from \"react-router-dom\";\n\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport DatePicker from '@mui/lab/DatePicker';\nimport frLocale from 'date-fns/locale/fr';\nimport MobileDatePicker from '@mui/lab/MobileDatePicker';\n\nimport ReactLoading from 'react-loading';\n\nimport { ButtonSmall } from './utilities/Buttons'\n\nconst UpdateProfil = (props) => {\n\n    const isMobile = props.isMobile\n\n    const { user, getCurrentUserProfil, updateCurrentUserProfil, verifyLogin, updateUserEmail } = useAuth()\n\n    const [data, setData] = useState({\n        gender: \"f\"\n    })\n    const [loading, setLoading] = useState(true)\n    const [error, setError] = useState({\n        field: \"\",\n        message: \"\"\n    })\n    const [isCalendarOpened, setIsCalendarOpened] = useState(false)\n    const [confirm, setConfirm] = useState(false)\n\n    const [newEmail, setNewEmail] = useState(\"\")\n    const [confirmEmail, setConfirmEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n\n\n    useEffect(() => {\n        getCurrentUserProfil().then(results => {\n            setData({ ...data, ...results, birthDate: results.birthDate && new Date(results.birthDate.seconds * 1000) })\n            setNewEmail(results.email)\n            setLoading(false)\n        })\n    }, [])\n\n    // function isInputDisabled(input) {\n    //     if (data[input] !== undefined && data[input].length >= 2) {\n    //         return true\n    //     }\n    //     else {\n    //         return false\n    //     }\n    // }\n\n    async function verifyFields() {\n        if (data.firstName !== undefined && data.firstName.length >= 2) {\n            if (data.name !== undefined && data.name.length >= 2) {\n                if (data.gender !== undefined && data.gender.length > 0) {\n                    if (data.birthDate !== undefined) {\n                        if (data.tel === undefined || data.tel.length === 10 || data.tel.length === 0) {\n                            setError({ field: \"\", message: \"\" })\n                            return true\n                        }\n                        else {\n                            return setError({ field: \"tel\", message: \"Merci de renseigner un numéro de téléphone valide.\" })\n                        }\n                    }\n                    else {\n                        return setError({ field: \"birthDate\", message: \"Merci de renseigner votre date de naissance.\" })\n                    }\n                }\n                else {\n                    return setError({ field: \"gender\", message: \"Merci de renseigner votre sexe.\" })\n                }\n            }\n            else {\n                return setError({ field: \"name\", message: \"Merci de renseigner votre nom.\" })\n            }\n        }\n        else {\n            return setError({ field: \"firstName\", message: \"Merci de renseigner votre prénom.\" })\n        }\n    }\n\n    function handleSaveUpdate() {\n        verifyFields()\n            .then(async res => {\n                if (res === true) {\n                    if (user.providerData[0].providerId === \"google.com\") {\n                        await updateCurrentUserProfil(data)\n                        setConfirm(true)\n                    }\n                    else {\n                        if (newEmail === confirmEmail) {\n                            verifyLogin(data.email, password).then(async res => {\n                                await updateCurrentUserProfil({ ...data, email: newEmail })\n                                await updateUserEmail(newEmail)\n                                return setConfirm(true)\n                            })\n                                .catch(error => {\n                                    if (error.code === \"auth/wrong-password\") {\n                                        return setError({ field: \"password\", message: \"Le mot de passe est incorrect.\" })\n                                    }\n                                })\n                        }\n                        else {\n                            return setError({ field: \"emailConfirm\", message: \"Les deux adresses e-mail doivent être identiques.\" })\n                        }\n                    }\n                }\n            })\n    }\n\n    return loading ?\n        <div className={isMobile ? \"dashboardUpdate mobile\" : \"dashboardUpdate\"}>\n            <ReactLoading className={isMobile ? \"loadingSpinner mobile\" : \"loadingSpinner\"} type=\"spin\" color=\"rgba(245, 192, 67)\" height={50} width={50} />\n        </div>\n        : (\n            <div className={isMobile ? \"dashboardUpdate mobile\" : \"dashboardUpdate\"}>\n                <div className=\"leftSide\">\n                    <h1>Vos informations personnelles</h1>\n                    <div className=\"updateProfilInfoBox\">\n                        <p>Pour modifier d'autres informations vous concernant, <Link class=\"contactlinkdashboard\" to=\"/contact\">contactez-nous</Link>.</p>\n                    </div>\n                    <p className=\"errorMessage\">{error.message}</p>\n                    <div className=\"updateProfilContent\">\n\n                        <div className={error.field === \"firstName\" ? \"formField error\" : \"formField\"}>\n                            <label>Prénom*</label>\n                            <input type=\"text\" name=\"firstName\" value={data.firstName} onChange={(e) => setData({ ...data, firstName: e.target.value })} />\n                        </div>\n\n                        <div className={error.field === \"name\" ? \"formField error\" : \"formField\"}>\n                            <label>Nom*</label>\n                            <input type=\"text\" name=\"name\" value={data.name} onChange={(e) => setData({ ...data, name: e.target.value })} />\n                        </div>\n\n                        <div className={error.field === \"gender\" ? \"formField error\" : \"formField\"}>\n                            <label>Sexe*</label>\n                            <select value={data.gender} onChange={(e) => setData({ ...data, gender: e.target.value })}>\n                                <option selected={data.gender === \"h\" && \"selected\"} value=\"h\">Homme</option>\n                                <option selected={data.gender === \"f\" && \"selected\"} value=\"f\">Femme</option>\n                            </select>\n                        </div>\n\n                        <div className={error.field === \"birthDate\" ? \"formFieldSpecialDate error\" : \"formFieldSpecialDate\"}>\n                            <label>Date de naissance*</label>\n                            <div\n                                onClick={() => setIsCalendarOpened(!isCalendarOpened)}\n                                className=\"etape1DatePicker subscribe\"\n                            >\n                                {\n                                    data.birthDate !== undefined ?\n                                        new Date(data.birthDate).toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"long\", day: \"numeric\" })\n                                        :\n                                        \"Date de naissance\"\n                                }\n                            </div>\n                            {isCalendarOpened &&\n                                <div className=\"calendarContainerAbsolute\">\n                                    <LocalizationProvider style={{ position: \"relative!important\" }} locale={frLocale} dateAdapter={AdapterDateFns}>\n                                        {isMobile ?\n                                            <MobileDatePicker\n                                                label=\"Date de l'évènement\"\n                                                open={isCalendarOpened}\n                                                onClose={() => setIsCalendarOpened(false)}\n                                                value={data.birthDate}\n                                                onChange={(val) => (setData({ ...data, birthDate: val }), setIsCalendarOpened(false))}\n                                                renderInput={() => null}\n                                            />\n                                            :\n                                            <DatePicker\n                                                open={isCalendarOpened}\n                                                onClose={() => setIsCalendarOpened(false)}\n                                                value={data.birthDate}\n                                                onChange={(val) => (setData({ ...data, birthDate: val }), setIsCalendarOpened(false))}\n                                                renderInput={() => null}\n                                            />\n                                        }\n                                    </LocalizationProvider>\n                                </div>\n                            }\n                        </div>\n\n                        <div className={error.field === \"tel\" ? \"formField error\" : \"formField\"}>\n                            <label>Numéro de téléphone</label>\n                            <input type=\"text\" name=\"tel\" value={data.tel} onChange={(e) => setData({ ...data, tel: e.target.value })} />\n                        </div>\n\n                        {user.providerData[0].providerId !== \"google.com\" &&\n                            <div className=\"formField\">\n                                <label>Adresse e-mail</label>\n                                <input type=\"text\" name=\"email\" value={newEmail} onChange={(e) => setNewEmail(e.target.value)} />\n                            </div>\n                        }\n                        {\n                            user.providerData[0].providerId !== \"google.com\" &&\n                            <div className={error.field === \"emailConfirm\" ? \"formField error\" : \"formField\"}>\n                                <label>Confirmation e-mail</label>\n                                <input type=\"text\" name=\"email\" onChange={(e) => setConfirmEmail(e.target.value)} />\n                            </div>\n                        }\n                    </div>\n\n                    <div className=\"updateProfilConfirm\">\n\n                        {\n                            user.providerData[0].providerId !== \"google.com\" ?\n                                <div>\n                                    <p>Pour confirmer les changements, merci de renseigner votre mot de passe actuel dans le champ ci-dessous :</p>\n                                    <div className={error.field === \"password\" ? \"formField error\" : \"formField\"}>\n                                        <input type=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)} />\n                                    </div>\n                                    <ButtonSmall\n                                        onClick={() => handleSaveUpdate()}\n                                        color=\"orange\"\n                                        value=\"Enregistrer les modifications\"\n                                        disabled={password.length < 2}\n                                    />\n                                </div>\n                                :\n                                <ButtonSmall\n                                    onClick={() => handleSaveUpdate()}\n                                    color=\"orange\"\n                                    value=\"Enregistrer les modifications\"\n                                />\n\n                        }\n                        <div>\n                            {confirm &&\n                                <p className=\"green\">Vos informations personnelles ont bien été mis à jour.</p>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n}\n\nexport default UpdateProfil","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Slider.js",["1210"],"import React, { useEffect, useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport \"../styles/Slider.css\"\nimport { useAuth } from '../context/userContext'\n\nimport { ButtonSmall } from './utilities/Buttons'\n\n\n\nconst Slideshow = ({ sellers, eventStatus, windowsWidth, isMobile }) => {\n\n    const [currentPageOffer, setCurrentPageOffer] = useState(0);\n    const { event } = useAuth()\n\n    const history = useHistory()\n\n    useEffect(() => {\n\n    }, [])\n\n\n\n    const container = isMobile ? windowsWidth - (windowsWidth * 0.1) : windowsWidth - 660\n    const itemWidth = windowsWidth < 600 ? windowsWidth - (windowsWidth * 0.20) : 243\n    const itemHeight = itemWidth * 1.4\n\n    function handlePaginationItem(val) {\n        const count = sellers && sellers.length; // 5 pour exemple\n        const maxPage = Math.ceil(count - (container / (itemWidth))); // 4\n        if (val <= maxPage && val >= 0 && (count - maxPage) >= 1) { setCurrentPageOffer(val) }\n    }\n\n    function isButtonDisabled(val) {\n        const count = sellers && sellers.length; // 5 pour exemple\n        const maxPage = Math.ceil(count - (container / (itemWidth))); // 4\n        if (val <= maxPage && val >= 0 && (count - maxPage) >= 1) { return null }\n        else { return \"disabled\" }\n    }\n\n    function sellerClicked(sellerID) {\n        if (eventStatus === \"creating\") {\n            history.push(`/creer-mon-evenement/etape-2/prestataires/${sellerID}`)\n        }\n    }\n\n    return !isMobile ?\n        <div>\n            <div style={{ marginLeft: -(currentPageOffer * itemWidth) }} className=\"detailsServiceItemContainer\">\n                {sellers && sellers.length > 0 && sellers.map((item, key) => {\n                    return (\n\n                        <div\n                            key={key}\n                            className={`itemPrestataireDashboard ${eventStatus === \"creating\" && \"clickable\"}`}\n                            onClick={() => sellerClicked(item.uid)}\n                            style={{\n                                width:320,\n                                height:480,\n                                backgroundImage: (item && item.image_path) && `url(${item.image_path.url})`\n                            }}\n                        >\n                            <span className=\"bottom\">\n                                <p>{(item && item.companyName) && item.companyName}</p>\n                                {\n                                    eventStatus === \"creating\" && <p>+ en savoir plus</p>\n                                }\n                            </span>\n                            <span className=\"top\">\n                                {eventStatus !== \"creating\" && (\n                                    <div>\n                                        { item.status === \"validated\" && <p className=\"validPrestation\">Prestation validée</p>}\n                                        {item.status === \"pending\" && <p className=\"checkingPrestation\">En attente de validation</p>}\n                                    </div>\n                                )\n                                }\n                            </span>\n                        </div>\n                    )\n                })}\n            </div>\n            {sellers && sellers.length > 0 &&\n                <div>\n                    <div className=\"buttonDuoDashboard\">\n                        {/* <ButtonSmall\n                            onClick={() => handlePaginationItem(currentPageOffer - 1)}\n                            color=\"grey\"\n                            value=\"Précédent\"\n                            marginRight=\"20px\"\n                            disabled={isButtonDisabled(currentPageOffer - 1)}\n                        />\n\n                        <ButtonSmall\n                            onClick={() => handlePaginationItem(currentPageOffer + 1)}\n                            color=\"grey\"\n                            value=\"Suivant\"\n                            disabled={isButtonDisabled(currentPageOffer + 1)}\n                        /> */}\n                    </div>\n                </div>\n            }\n        </div>\n\n        : windowsWidth < 600 ?\n            <div>\n                <div style={{ marginLeft: -(currentPageOffer * (windowsWidth - windowsWidth * 0.17)) + windowsWidth * 0.035 }} className=\"detailsServiceItemContainer\">\n                    <button style={{backgroundColor:'white', border:'0px'}} onClick={() => handlePaginationItem(currentPageOffer + 1)}>\n                        <svg width=\"36\" height=\"36\" viewBox=\"0 0 24 24\">\n                            <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\"></path>\n                        </svg>\n                    </button>\n                    {sellers && sellers.length > 0 && sellers.map((item, key) => {\n                        \n                        return (\n                            <div>\n                                <div\n                                    key={key}\n                                    className=\"itemPrestataireDashboard mobile\"\n                                    style={{\n                                        width:'80%',\n                                        height:480,\n                                        marginRight: windowsWidth * 0.030,\n                                        backgroundImage: (item && item.image_path) && `url(${item.image_path.url})`\n                                    }}\n                                >\n                                    <span className=\"bottom\">\n                                        <p>{(item && item.companyName) && item.companyName}</p>\n                                        <p>+ en savoir plus</p>\n                                    </span>\n                                    <span className=\"top\">\n                                        {eventStatus !== \"creating\" &&\n                                            <div>\n                                                {item.status === \"validated\" && <p className=\"validPrestation\">Prestation validée</p>}\n                                                {item.status === \"pending\" && <p className=\"checkingPrestation\">En attente de validation</p>}\n                                            </div>\n                                        }\n                                    </span>\n                                </div>\n                            </div>\n                        )\n                    })}\n                    <button style={{backgroundColor:'white', border:'0px'}} onClick={() => handlePaginationItem(currentPageOffer - 1)}>\n                        <svg width=\"36\" height=\"36\" viewBox=\"0 0 24 24\">\n                            <path d=\"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z\"></path>\n                        </svg>\n                    </button>\n                </div>\n                {sellers && sellers.length > 0 &&\n                    <div style={{textAlign:'center',fontSize:'25px'}}>\n                        <p><b>Le paiement de <br/>l'acompte a été <span style={{color:'rgb(85 233 32)'}}>validé</span></b></p>\n                        <p><b>Reste a payer: {event.budget}€</b> <br/> Le jour de l'événement</p>\n                    </div>\n                } \n            </div>\n\n            : (windowsWidth > 600 && isMobile) &&\n            <div>\n                <div style={{ marginLeft: -(currentPageOffer * (itemWidth + 25)) }} className=\"detailsServiceItemContainer\">\n                    {sellers && sellers.length > 0 && sellers.map((item, key) => {\n                        return (\n                            <div\n                                key={key}\n                                className=\"itemPrestataireDashboard\"\n                                style={{\n                                    minWidth: itemWidth,\n                                    maxWidth: itemWidth,\n                                    marginRight: '25px',\n                                    backgroundImage: (item && item.image_path) && `url(${item.image_path.url})`\n                                }}\n                            >\n                                <span className=\"bottom\">\n                                    <p>{(item && item.companyName) && item.companyName}</p>\n                                    <p>+ en savoir plus</p>\n                                </span>\n                                <span className=\"top\">\n                                    {eventStatus !== \"creating\" &&\n                                        <div>\n                                            {item.status === \"validated\" && <p className=\"validPrestation\">Prestation validée</p>}\n                                            {item.status === \"pending\" && <p className=\"checkingPrestation\">En attente de validation</p>}\n                                        </div>\n                                    }\n                                </span>\n                            </div>\n                        )\n                    })}\n                </div>\n                {sellers && sellers.length > 0 &&\n                    <div>\n                        <div className=\"buttonDuoDashboard mobileLight\">\n\n                            <ButtonSmall\n                                onClick={() => handlePaginationItem(currentPageOffer - 1)}\n                                color=\"grey\"\n                                value=\"Précédent\"\n                                marginRight=\"20px\"\n                                disabled={isButtonDisabled(currentPageOffer - 1)}\n                            />\n\n                            <ButtonSmall\n                                onClick={() => handlePaginationItem(currentPageOffer + 1)}\n                                color=\"grey\"\n                                value=\"Suivant\"\n                                disabled={isButtonDisabled(currentPageOffer + 1)}\n                            />\n                        </div>\n                    </div>\n                }\n            </div>\n\n\n\n\n}\n\nexport default Slideshow;","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/WishList.js",["1211"],"import React, { useState, useEffect } from \"react\";\nimport { useAuth } from '../context/userContext'\nimport { useHistory } from \"react-router-dom\";\nimport ReactLoading from 'react-loading';\n\nimport { ButtonSmall } from './utilities/Buttons'\nimport Image from './utilities/Image'\n\nconst WishList = ({ eventStatus, isMobile }) => {\n\n    const { user, getWishList, getSellersInDbWithUids, deleteItemFromWishList } = useAuth()\n\n    const [loading, setLoading] = useState(true)\n    const [wishList, setWishList] = useState([])\n\n    const history = useHistory()\n\n\n    useEffect(() => {\n        getWishList(user.uid)\n            .then(sellersIds => {\n                sellersIds.length > 0 ?\n                    getSellersInDbWithUids(sellersIds)\n                        .then(sellersData => {\n                            setWishList(sellersData)\n                            setLoading(false)\n                        })\n                    :\n                    setLoading(false)\n\n            })\n    }, [])\n\n    async function deleteItem(sellerID) {\n        await deleteItemFromWishList(sellerID)\n        const newWishList = wishList.filter(item => item.uid !== sellerID)\n        setWishList(newWishList)\n        return\n    }\n\n    function handleSellerClicked(sellerID) {\n        if (eventStatus === \"creating\") {\n            history.push(`/creer-mon-evenement/etape-2/prestataires/${sellerID}`)\n        }\n    }\n\n    return loading ?\n        <div className={isMobile ? \"dashboardWishlist mobile\" : \"dashboardWishlist\"}>\n            <ReactLoading className={isMobile ? \"loadingSpinner mobile\" : \"loadingSpinner\"} type=\"spin\" color=\"rgba(245, 192, 67)\" height={50} width={50} />\n        </div>\n        : (\n            <div className={isMobile ? \"dashboardWishlist mobile\" : \"dashboardWishlist\"}>\n                <div className=\"leftSide\">\n                    <h1>Vos prestataires favoris</h1>\n                    <div className=\"wishlist_content\">\n                        {wishList.map((item, key) =>\n                            <div key={key} className=\"wishlist__item\">\n                                <span className=\"heartContainer\">\n                                    <Image url=\"/images/heart.svg\" />\n                                </span>\n                                <div\n                                    onClick={() => handleSellerClicked(item.uid)}\n                                    className={`wishlist__item_top ${eventStatus === \"creating\" && \"clickable\"}`}\n                                    style={{backgroundImage:`url(${item.image_path.url})`, backgroundSize:\"cover\"}}\n                                >\n                                    <div className=\"wishlist__item_details\">\n                                        <p>{item.companyName}</p>\n                                        <p>+ en savoir plus</p>\n                                    </div>\n                                </div>\n                                <div className=\"wishlist__item_bottom\">\n                                    <ButtonSmall onClick={() => deleteItem(item.uid)} color=\"red\" value=\"Retirer de ma liste\" />\n                                </div>\n                            </div>\n                        )}\n                        {wishList.length === 0 && <p className=\"noContent\">Pas de prestataires dans vos favoris</p>}\n                    </div>\n                </div>\n            </div >\n        )\n}\n\nexport default WishList","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/InterestedSellers.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/BlogWidget.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/autocompletePlaces.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/Sellers.js",["1212"],"import React, { useEffect, useState } from \"react\";\nimport { useFirebase } from \"../../assets/base-context\";\nimport ShowSeller from './ShowSeller'\nimport { Table } from './Table'\nimport { CreateSeller } from './CreateSeller'\n\nexport const Sellers = () => {\n\n    const firebaseContext = useFirebase()\n    const firestore = firebaseContext.firestore()\n\n    const refSellers = firestore.collection(\"sellers\");\n    const [sellers, setSellers] = useState([])\n    const [loading, setLoading] = useState(true)\n    const [step, setStep] = useState(\"list\")\n    const [currentSeller, setCurrentSeller] = useState(\"\")\n\n    useEffect(() => {\n        const refSellers = firestore.collection(\"sellers\");\n\n        async function getData() {\n            const query = await refSellers.get();\n            const results = []\n\n            query.forEach(doc => {\n                results.push({\n                    ...doc.data(),\n                    id: doc.id,\n                    action: <button onClick={() => handleOpeningSeller(doc.id)}>Voir</button>\n                })\n            })\n            setSellers(results)\n        }\n\n        getData().then(() => {\n            setLoading(false)\n        })\n    }, [step])\n\n\n    async function handleDeletePrestataire() {\n        await refSellers.doc(currentSeller).delete().then(() => {\n            setStep(\"list\")\n        })\n    }\n\n    function handleOpeningSeller(id) {\n        setStep('show')\n        setCurrentSeller(id)\n    }\n\n\n    return !loading && (\n        <div title=\"Liste des prestataires\">\n            {\n                step === \"list\" ?\n                    <div>\n                        <button onClick={() => setStep(\"create\")} className=\"buttonAdminTransparent\"> + Créer un préstataire</button>\n                        <Table data={sellers} type=\"sellers\" />\n                    </div>\n                    : step === \"show\" ?\n                        <div>\n                            <button onClick={() => setStep(\"list\")} className=\"buttonAdminTransparent\">Revenir à la liste des préstataires</button>\n                            <ShowSeller handleDeletePrestataire={handleDeletePrestataire} currentSeller={currentSeller} />\n                        </div>\n                        : step === \"create\" &&\n                        <div>\n                            <button onClick={() => setStep(\"list\")} className=\"buttonAdminTransparent\">Revenir à la liste des préstataires</button>\n                            <CreateSeller setStep={setStep} setCurrentSeller={setCurrentSeller} />\n                        </div>\n            }\n        </div>\n    );\n}","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/NoteWidget.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/Buttons.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/Image.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/user/Users.js",["1213","1214","1215"],"import React, { useEffect, useState } from \"react\";\nimport { Table } from '../Table'\nimport { useFirebase } from \"../../../assets/base-context\";\n\nexport const Users = () => {\n\n    const firebaseContext = useFirebase()\n    const firestore = firebaseContext.firestore()\n\n\n    const refUsers = firestore.collection(\"users\");\n    const [users, setUsers] = useState([])\n    const [loading, setLoading] = useState(true)\n    const [step, setStep] = useState(true)\n    const [search, setSearch] = useState(\"\")\n\n    useEffect(() => {\n        getData().then(() => {\n            setLoading(false)\n        })\n    }, [step])\n\n    async function getData() {\n        const query = await refUsers.get();\n        const results = []\n\n        query.forEach(doc => {\n            results.push({\n                ...doc.data(),\n                id: doc.id,\n                action: <button onClick={() => (handleDeleteUser(doc.id))}>Supprimer</button>\n            })\n        })\n        setUsers(results)\n    }\n\n    async function handleDeleteUser(id) {\n        await refUsers.doc(id).delete().then(() => {\n            setStep(!step)\n        })\n    }\n\n    function handleSearch(val) {\n        setSearch(val)\n    }\n\n    return !loading && (\n        <div title=\"Liste des users\">\n                    <div>\n                        <Table data={users} type=\"users\" />\n                    </div>\n        </div>\n    );\n}","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/event/Events.js",["1216","1217"],"import React, { useEffect, useState } from \"react\";\nimport { useFirebase } from \"../../../assets/base-context\";\nimport ShowEvent from './ShowEvent'\nimport { Table } from '../Table'\n\nexport const Events = () => {\n\n    const firebaseContext = useFirebase()\n    const firestore = firebaseContext.firestore()\n\n\n    const refEvents = firestore.collection(\"events\");\n    const [events, setEvents] = useState([])\n    const [loading, setLoading] = useState(true)\n    const [step, setStep] = useState(\"list\")\n    const [currentEvent, setCurrentEvent] = useState(\"\")\n\n    useEffect(() => {\n        getData().then(() => {\n            setLoading(false)\n        })\n    }, [step])\n\n    async function getData() {\n        const query = await refEvents.get();\n        const results = []\n\n        query.forEach(doc => {\n            // Cette variable nous permet d'attendre que les data soit chargées avant de continuer, car on avait un souci avec la date\n            const data = doc.data()\n            const timstamp = (data && data.date) && data.date.toDate()\n            results.push({  \n                ...doc.data(),\n                id: doc.id, \n                date: timstamp.toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"numeric\", day: \"numeric\" }),  \n                action: <button onClick={() => (setStep(\"show\"), setCurrentEvent(doc.id))}>Voir</button> })\n        })\n        setEvents(results)\n    }\n    \n    async function handleDeleteEvent() {\n        await refEvents.doc(currentEvent).delete().then(() => {\n            setStep(\"list\")\n        })\n    }\n\n\n    return !loading && (\n        <div title=\"Liste des events\">\n            {\n                step === \"list\" ?\n                    <div>\n                        <Table data={events} type=\"events\" />\n                    </div>\n                    : step === \"show\" &&\n                        <div>\n                        <button onClick={() => setStep(\"list\")} className=\"buttonAdminTransparent\">Revenir à la liste des évènements</button>\n                            <ShowEvent handleDeleteEvent={handleDeleteEvent} currentEvent={currentEvent} />\n                        </div>\n            }\n        </div>\n    );\n}","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/SubTitle.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/Layout.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/Title.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/StickerBudgetLeft.js",["1218"],"import React, { useEffect, useState } from 'react'\nimport { useAuth } from '../context/userContext'\nimport { CircularProgressbarWithChildren } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\nimport { useHistory } from \"react-router-dom\";\n\nconst StickerBudgetLeft = () => {\n\n    const history = useHistory()\n\n    const { event } = useAuth() \n    const [pourcentLeft, setPourcentLeft] = useState((event.budgetLeft / event.budget) * 100); // s= % left\n    const [leftBudget, setLeftBudget] = useState(0)\n    \n\n    useEffect(() => {\n        const total = (event.budgetLeft / event.budget) * 100\n        if(total < 0) {\n            setLeftBudget(0)\n            setPourcentLeft(0)\n        }\n        else {\n            setPourcentLeft(total)\n            setLeftBudget(event.budgetLeft)\n        }\n    })\n\n    return (\n        <div className=\"stickerBudgetContainer\" onClick={() => history.push('/creer-mon-evenement/etape-1')}>\n        <CircularProgressbarWithChildren value={pourcentLeft} strokeWidth={5}>\n            <p>{leftBudget}€</p>\n            <span>restant</span>\n        </CircularProgressbarWithChildren>\n        </div>\n    )\n}\n\nexport default StickerBudgetLeft","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/ServiceDescription.js",["1219","1220","1221","1222"],"import React, { useEffect, useState } from \"react\";\nimport NumericInput from \"react-numeric-input\";\nimport { useAuth } from \"../context/userContext\"; // context\nimport ReactLoading from \"react-loading\";\n\nimport { ButtonLarge } from \"./utilities/Buttons\";\nimport Image from \"./utilities/Image\";\nimport ServiceConfirmModal from \"./ServiceConfirmModal\";\n\nimport CustomSelect from \"../components/utilities/CustomSelect\";\n\nimport { ReactComponent as CheckTypeImg } from \"../images/checked-type.svg\";\n\nimport FullScreenImg from \"./FullScreenImg\";\n\nconst ServiceDescription = (props) => {\n  const item = props.item;\n  const handleAddToCard = props.handleAddToCard;\n  const display = props.display;\n  const isMobile = props.isMobile;\n  const handleCloseService = props.handleCloseService;\n\n  const {\n    event,\n    getServiceQuantityInCard,\n    loadingButtonAddToCard,\n    setLoadingButtonAddToCard,\n  } = useAuth(); // context\n\n  const [activePathImage, setActivePathImage] = useState();\n  const [quantity, setQuantity] = useState(1);\n  const [variation, setVariation] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [isModalOpened, setIsModalOpened] = useState(false);\n  const [currentQuantity, setCurrentQuantity] = useState(0);\n  const [isFullscreenImgOpen, setIsFullscreenImgOpen] = useState(false);\n\n  useEffect(() => {\n    function getActivePath() {\n      setActivePathImage(item.images[0].url);\n      setQuantity(1);\n      setLoadingButtonAddToCard(false);\n    }\n    item.variations && item.variations.length > 0\n      ? setVariation(item.variations[0].name)\n      : setVariation(\"\");\n    if (item.images) getActivePath();\n  }, [item]);\n\n  function handleImageClick(path) {\n    setActivePathImage(path);\n  }\n\n  function preHandleAddToCard(note, quantity) {\n    handleCloseModal();\n    const currentQuantity = getServiceQuantityInCard(item.id);\n    const total = (quantity - currentQuantity) * item.price;\n    setError(\"\");\n    handleAddToCard(quantity, variation, note);\n  }\n\n  function organizeImg() {\n    if (item.images) {\n      return Object.entries(item.images).map(([key, item]) => {\n        return (\n          <div\n            key={key}\n            onClick={() => handleImageClick(item.url)}\n            className={\n              item.url === activePathImage\n                ? \"active verticalImgItem\"\n                : \"verticalImgItem\"\n            }\n          >\n            <Image url={item.url} />\n          </div>\n        );\n      });\n    }\n  }\n\n  function openModal(e, quantity) {\n    e.stopPropagation();\n    setLoadingButtonAddToCard(true);\n    setCurrentQuantity(quantity);\n    setIsModalOpened(true);\n  }\n\n  function handleCloseModal() {\n    setLoadingButtonAddToCard(false);\n    setIsModalOpened(false);\n  }\n\n  return (\n    <div\n      className={\n        display\n          ? \"serviceDescriptionContainer active\"\n          : \"serviceDescriptionContainer\"\n      }\n    >\n      <div className=\"serviceDescription\">\n        <span\n          onClick={() => handleCloseService()}\n          className=\"closeButton\"\n        ></span>\n        <div className=\"serviceDescriptionImgAndDetails\">\n          {!isMobile && (\n            <div className=\"serviceDescriptionLeft\">\n              <div className=\"verticalLineImg\">{organizeImg()}</div>\n              <div className=\"activeImageItem\" onClick={() => setIsFullscreenImgOpen(true)}>\n                <Image url={activePathImage} />\n              </div>\n            </div>\n          )}\n          <div className=\"serviceDescriptionRight\">\n            <div>\n              <p className=\"title\">\n                {item.name && item.name}{\" \"}\n                <span>\n                  {item.foodType && (\n                    <>\n                      <CheckTypeImg />\n                      {item.foodType}\n                    </>\n                  )}\n                </span>\n              </p>\n              {item.variations && item.variations.length > 0 && (\n                <p className=\"subtitle\">{variation}</p>\n              )}\n              <span>\n                {item.variations && item.variations.length > 0\n                  ? variation === \"\"\n                    ? item.variations[0].price\n                    : item.variations.filter((vari) => vari.name === variation)\n                        .length > 0 &&\n                      item.variations.filter(\n                        (vari) => vari.name === variation\n                      )[0].price + \"€\"\n                  : item.price && item.price + \"€\"}\n              </span>\n            </div>\n            <p onClick={(e) => e.stopPropagation()} className=\"smallTitle\">\n              Description de l'offre:\n            </p>\n            <p onClick={(e) => e.stopPropagation()}>\n              {item.description && item.description}\n            </p>\n          </div>\n        </div>\n        <div className=\"serviceDescriptionActionContainer\">\n          {!isMobile && (\n            <div className=\"infoServiceDescriptionAction\">\n              {item.id && getServiceQuantityInCard(item.id) !== 0 && (\n                <p>\n                  Déjà dans votre panier{\" \"}\n                  <span>x {getServiceQuantityInCard(item.id)}</span>\n                </p>\n              )}\n            </div>\n          )}\n          {error.length > 0 && <p className=\"errorMessage\">{error}</p>}\n\n          {item.variations && item.variations.length > 0 && (\n            <div\n              onClick={(e) => e.stopPropagation()}\n              className=\"serviceDescriptionAction\"\n            >\n              <div style={{ marginBottom: \"20px\" }}>\n                <p className=\"smallTitle\">Variante:</p>\n                <CustomSelect\n                  currentVariation={variation}\n                  callback={(e) => setVariation(e.target.value)}\n                  options={item.variations}\n                />\n              </div>\n            </div>\n          )}\n\n          <div\n            onClick={(e) => e.stopPropagation()}\n            className=\"serviceDescriptionAction\"\n          >\n            <div>\n              <p className=\"smallTitle\">Quantité:</p>\n              <NumericInput\n                className=\"form-control\"\n                value={quantity}\n                min={1}\n                max={20}\n                step={1}\n                precision={0}\n                size={4}\n                mobile\n                onChange={(value) => setQuantity(value)}\n              />\n            </div>\n            <ButtonLarge\n              onClick={(e) => openModal(e, quantity)}\n              color=\"orange\"\n              value={\n                loadingButtonAddToCard ? (\n                  <ReactLoading\n                    className=\"loadingSpinnerButton\"\n                    type=\"spin\"\n                    color=\"white\"\n                    height={23}\n                    width={23}\n                  />\n                ) : (\n                  \"Ajouter au panier\"\n                )\n              }\n              marginTop=\"10px\"\n              disabled={loadingButtonAddToCard ? \"disabled\" : null}\n            />\n          </div>\n        </div>\n      </div>\n      {isModalOpened && (\n        <ServiceConfirmModal\n          item={item}\n          variation={variation}\n          closeCallback={handleCloseModal}\n          confirmCallback={(note) => preHandleAddToCard(note, quantity)}\n        />\n      )}\n\n      {isFullscreenImgOpen && <FullScreenImg imgpath={activePathImage} closeCallback={() => setIsFullscreenImgOpen(false)} />}\n    </div>\n  );\n};\nexport default ServiceDescription;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/servicesData.js",["1223","1224"],"\nimport fleuristeImg from '../images/Fleuristes.png'\nimport meubleImg from '../images/Meubles.png'\nimport luminaireImg from '../images/Luminaires.png'\nimport accessoiresDecoImg from '../images/AccessoiresDecoratifs.png'\n\nimport spectacleImg from '../images/spectacle.png'\nimport djImg from '../images/Dj.png'\nimport groupeImg from '../images/groupe de musique.png'\n\nexport const items = {\n    decorations: {\n        'Décorations intérieures': {\n            icon: fleuristeImg,\n            content: [\n            ]\n        },\n        'Décorations extérieurs': {\n            icon: meubleImg,\n            content: [\n            ]\n        },\n        'Éclairages': {\n            icon: luminaireImg,\n            content: [\n            ]\n        }\n    },\n    ambiance: {\n        'Musique': {\n            icon: spectacleImg,\n            content: [\n            ]\n        },\n        'Activités': {\n            icon: djImg,\n            content: [\n            ]\n        }\n    },\n    table: {\n        'Nourriture': {\n            icon: fleuristeImg,\n            content: [\n            ]\n        },\n        'Boissons': {\n            icon: meubleImg,\n            content: [\n            ]\n        }\n    }\n}","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/ModalYesNo.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/CreateSeller.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/Table.js",["1225","1226"],"import React, { useState } from \"react\";\nimport { useTable } from 'react-table'\n\n\nexport const Table = (props) => {\n\n    const type = props.type\n    const dataTable = props.data\n\n    const tableTemplate =\n        type === \"services\" ? [\n            { Header: 'Nom', accessor: 'name' },\n            { Header: 'Prix', accessor: 'price' },\n            { Header: 'Catégorie', accessor: 'category' },\n            { Header: 'Prestataire', accessor: 'id' },\n            { Header: 'Action', accessor: 'action' }\n        ]\n            : type === \"sellers\" ?\n                [\n                    { Header: 'Nom', accessor: 'companyName' },\n                    { Header: 'Adresse', accessor: 'adress' },\n                    { Header: 'Catégorie', accessor: 'category' },\n                    { Header: 'Sous catégorie', accessor: 'subcategory' },\n                    { Header: 'Id', accessor: 'id' },\n                    { Header: 'statut', accessor: 'status' },\n                    { Header: 'Action', accessor: 'action' }\n                ]\n                : type === \"events\" ?\n                    [\n                        { Header: 'Nom', accessor: 'name' },\n                        { Header: 'Adresse', accessor: 'place' },\n                        { Header: 'Budget', accessor: 'budget' },\n                        { Header: 'Personnes', accessor: 'people' },\n                        { Header: 'm²', accessor: 'placeSize' },\n                        { Header: 'Statut', accessor: 'statut' },\n                        { Header: 'Date', accessor: 'date' },\n                        { Header: 'Action', accessor: 'action' }\n                    ]\n                    : type === \"users\" &&\n                    [\n                        { Header: 'Email', accessor: 'email' },\n                        { Header: 'Prénom', accessor: 'firstName' },\n                        { Header: 'Nom', accessor: 'name' },\n                        { Header: 'Tel', accessor: 'tel' },\n                        { Header: 'Genre', accessor: 'gender' },\n                        { Header: 'Id', accessor: 'id' },\n                        { Header: 'Action', accessor: 'action' }\n                    ]\n\n\n    const columns = React.useMemo(\n        () => tableTemplate,\n        []\n    )\n\n    const data = React.useMemo(\n        () => dataTable,\n        [dataTable]\n    )\n\n    const tableInstance = useTable({ columns, data })\n    const {\n        getTableProps,\n        getTableBodyProps,\n        headerGroups,\n        rows,\n        prepareRow,\n    } = tableInstance\n\n\n    return (\n        <table {...getTableProps()}>\n            <thead>\n                {// Loop over the header rows\n                    headerGroups.map(headerGroup => (\n                        // Apply the header row props\n                        <tr {...headerGroup.getHeaderGroupProps()}>\n                            {// Loop over the headers in each row\n                                headerGroup.headers.map(column => (\n                                    // Apply the header cell props\n                                    <th {...column.getHeaderProps()}>\n                                        {// Render the header\n                                            column.render('Header')}\n                                    </th>\n                                ))}\n                        </tr>\n                    ))}\n            </thead>\n            {/* Apply the table body props */}\n            <tbody {...getTableBodyProps()}>\n                {// Loop over the table rows\n                    rows.map(row => {\n                        // Prepare the row for display\n                        prepareRow(row)\n                        return (\n                            // Apply the row props\n                            <tr {...row.getRowProps()}>\n                                {// Loop over the rows cells\n                                    row.cells.map(cell => {\n                                        // Apply the cell props\n                                        return (\n                                            <td className={\n                                                cell.value === \"validated\" ? \"validatedStatus\"\n                                                    : cell.value === \"pending\" ? \"pendingStatus\"\n                                                        : cell.value === \"subscribing\" && \"subscribingStatus\"\n                                            }\n                                                {...cell.getCellProps()}\n                                            >\n                                                {// Render the cell contents\n                                                    cell.value === \"validated\" ? \"Validé\"\n                                                        : cell.value === \"pending\" ? \"En attente de validation\"\n                                                            : cell.value === \"subscribing\" ? \"Documents manquants\"\n                                                                :\n                                                                cell.render('Cell')\n                                                }\n                                            </td>\n                                        )\n                                    })}\n                            </tr>\n                        )\n                    })}\n            </tbody>\n        </table>\n    );\n}\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/ShowSeller.js",["1227"],"import React, { useEffect, useState } from \"react\";\nimport { useFirebase } from \"../../assets/base-context\";\nimport { Services } from './Services'\nimport LocationSearchInput from \"../autocompletePlaces\"\nimport { ShowDocuments } from './components/ShowDocuments'\nimport { useAuth } from '../../context/userContext'\n\n\nconst category = [\n    { id: 'decorations', name: 'Décoration' },\n    { id: 'ambiance', name: ' Ambiance' },\n    { id: 'table', name: 'À table' },\n    // { id: 'service', name: 'Service sur place' },\n]\n\nconst subCategory = [\n    { id: 'intérieures', name: 'Décorations intérieures' },\n    { id: 'extérieurs', name: 'Décorations extérieurs' },\n    { id: 'Éclairages', name: 'Éclairages' },\n\n    { id: 'Musique', name: 'Musique' },\n    { id: 'Activités', name: 'Activités' },\n\n    { id: 'Nourriture', name: 'Nourriture' },\n    { id: 'Boissons', name: 'Boissons' },\n]\n\nconst ShowSeller = (props) => {\n\n    const firebaseContext = useFirebase()\n    const firestore = firebaseContext.firestore()\n\n    const currentSeller = props.currentSeller\n    const handleDeletePrestataire = props.handleDeletePrestataire\n    const refSeller = firestore.collection(\"sellers\").doc(currentSeller);\n\n    const [seller, setSeller] = useState([])\n    const [error, setError] = useState({ type: \"\", message: \"\" })\n    const [loading, setLoading] = useState(true)\n    const [currentSubmenu, setCurrentSubmenu] = useState(0)\n    const [step, setStep] = useState(\"show\")\n\n    const { setSellerStatus } = useAuth()\n\n\n    useEffect(() => {\n        getData().then(() => {\n            setLoading(false)\n        })\n    }, [step])\n\n    async function getData() {\n        const query = await refSeller.get();\n        const results = query.data()\n        setSeller({ ...results, uid: query.id })\n    }\n\n    function handleAdressChanged(adress, latLng) {\n        setSeller({ ...seller, adress: adress, latLng: latLng })\n    }\n\n    function handleOnChangeInputs(name, value) {\n        name === \"companyName\" ? setSeller({ ...seller, companyName: value })\n            : name === \"category\" ? setSeller({ ...seller, category: value })\n                : name === \"subcategory\" ? setSeller({ ...seller, subcategory: value })\n                    : name === \"description\" ? setSeller({ ...seller, description: value })\n                        : name === \"firstName\" ? setSeller({ ...seller, firstName: value })\n                            : name === \"lastName\" ? setSeller({ ...seller, lastName: value })\n                                : name === \"phone\" ? setSeller({ ...seller, phone: value })\n                                    : name === \"siret\" ? setSeller({ ...seller, siret: value })\n                                        : name === \"website\" && setSeller({ ...seller, website: value })\n    }\n\n    async function handleSendForm(e) {\n        e.preventDefault()\n\n        await refSeller.update({\n            ...seller,\n            companyName: seller.companyName,\n            adress: seller.adress,\n            latLng: seller.latLng,\n            category: seller.category,\n            subcategory: seller.subcategory,\n            description: seller.description,\n            firstName: seller.firstName,\n            lastName: seller.lastName,\n            phone: seller.phone,\n            siret: seller.siret,\n            website: seller.website,\n        })\n            .catch((error) => {\n                console.error(error)\n            })\n            .then(() => {\n                setStep(\"show\")\n            })\n    }\n\n    async function handleValidSeller() {\n        if (seller.status !== \"validated\" && seller.status !== \"opened\" ) {\n            let countValidDocs = 0\n            for (const doc in seller.documents) {\n                if (seller.documents[doc].status && seller.documents[doc].status === \"validated\") {\n                    countValidDocs += 1\n                }\n            }\n            if (countValidDocs === 5) {\n                await setSellerStatus(seller.uid, \"validated\")\n                setSeller({ ...seller, status: \"validated\" })\n            }\n            else {\n                setError({ type: \"missedValidatedDocs\", message: \"Attention, tout les documents doivent être validés pour valider le prestataire.\" })\n            }\n        }\n        else {\n            await setSellerStatus(seller.uid, \"pending\")\n            setSeller({ ...seller, status: \"pending\" })\n        }\n    }\n\n    async function handleOpenStore() {\n        console.log(seller.status)\n        if (seller.status === \"validated\") {\n            await setSellerStatus(seller.uid, \"opened\")\n            setSeller({ ...seller, status: \"opened\" })\n        }\n        else if (seller.status === \"opened\") {\n            await setSellerStatus(seller.uid, \"validated\")\n            setSeller({ ...seller, status: \"validated\" })\n        }\n        else {\n            await setSellerStatus(seller.uid, \"opened\")\n            setSeller({ ...seller, status: \"opened\" })\n            // setError({ type: \"missedValidatedDocs\", message: \"Le prestataire doit être validé avant de pouvoir ouvrir sa boutique\" })\n        }\n    }\n\n    return !loading && (\n        <div>\n            <h2>{seller.name}</h2>\n            <div className=\"showSellerContainer\">\n                <div className=\"headerShowSellerContainer\">\n                    <div className={currentSubmenu === 0 && \"active\"} onClick={() => setCurrentSubmenu(0)}><h3>Infos</h3></div>\n                    <div className={currentSubmenu === 1 && \"active\"} onClick={() => setCurrentSubmenu(1)}><h3>Services</h3></div>\n                </div>\n                {currentSubmenu === 0 ?\n                    <div>\n                        {step === \"show\" ?\n                            <div className=\"infoShowSellerContainer\">\n                                <img alt={seller.name} src={seller.image_path.url} />\n                                <ul>\n                                    <li><label>Nom: </label>{seller.companyName}</li>\n                                    <li><label>Adresse: </label>{seller.adress}</li>\n                                    <li><label>Catégorie: </label>{seller.category}</li>\n                                    <li><label>Sous catégorie: </label>{seller.subcategory}</li>\n                                    <li><label>Email: </label>{seller.email}</li>\n                                    <li><label>Description: </label>{seller.description}</li>\n                                    <li><label>Siret: </label>{seller.siret}</li>\n                                    <li><label>Site web: </label>{seller.website}</li>\n                                    <li><label>Téléhone: </label>{seller.phone}</li>\n                                    <li><label>Prénom du gérant: </label>{seller.firstName}</li>\n                                    <li><label>Nom du gérant: </label>{seller.lastName}</li>\n                                    <li>\n                                        <label>Statut du compte: </label>\n                                        <span\n                                            className=\"statusSeller\"\n                                            style={{\n                                                color:\n                                                    seller.status === \"validated\" ? \"green\"\n                                                        : seller.status === \"opened\" ? \"green\"\n                                                            : seller.status === \"subscribing\" && \"red\"\n                                            }}>\n                                            {(seller.status === \"validated\" || seller.status === \"opened\") ? \"Validé\"\n                                                : seller.status === \"pending\" ? \"En attente\"\n                                                    : seller.status === \"subscribing\" && \"Inscription ou manque de documents\"\n                                            }\n                                        </span>\n                                    </li>\n                                    <li>\n                                        <label>\n                                            Boutique: <span style={{ color: seller.status === \"opened\" ? \"green\" : \"red\" }}>{seller.status === \"opened\" ? \"Ouverte\" : \"Fermée\"}</span>\n                                        </label>\n                                    </li>\n                                </ul>\n                                <button className=\"buttonAdminTransparent\" onClick={() => setStep(\"edit\")}>Modifier les informations</button>\n                                <button onClick={() => handleDeletePrestataire()} className=\"buttonAdminTransparent\">Supprimer ce préstataire</button>\n                                <button onClick={() => handleValidSeller()} className=\"buttonAdminValid\">\n                                    { (seller.status === \"validated\" || seller.status === \"opened\") ? \"Invalider\" : \"Valider le prestataire\"}\n                                </button>\n                                <button onClick={() => handleOpenStore()} className=\"buttonAdminInfo\">\n                                    {seller.status === \"opened\" ? \"Fermer la boutique\" : \"Ouvrir la boutique\"}\n                                </button>\n                                <div>\n                                    {error.type === \"missedValidatedDocs\" && <p className=\"errorMessage\">{error.message}</p>}\n                                </div>\n                            </div>\n                            : step === \"edit\" &&\n                            <div className=\"infoEditSellerContainer\">\n                                <form>\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Nom de la boutique</label>\n                                            <input type=\"text\" name=\"name\" value={seller.companyName} onChange={e => handleOnChangeInputs(\"companyName\", e.target.value)} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Description</label>\n                                            <textarea value={seller.description} onChange={e => handleOnChangeInputs(\"description\", e.target.value)} name=\"description\" cols=\"30\" rows=\"10\"></textarea>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Lieu de l'évènement</label>\n                                            <LocationSearchInput placeType=\"address\" value={seller.adress} onChanged={handleAdressChanged} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Catégorie</label>\n                                            <select onChange={e => handleOnChangeInputs(\"category\", e.target.value)}>\n                                                {category.map((item) => {\n                                                    return <option selected={seller.category === item.id && \"selected\"} value={item.id}>{item.name}</option>\n                                                })}\n                                            </select>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Sous catégorie</label>\n                                            <select onChange={e => handleOnChangeInputs(\"subcategory\", e.target.value)}>\n                                                {subCategory.map((item) => {\n                                                    return <option selected={seller.subcategory === item.id && \"selected\"} value={item.id}>{item.name}</option>\n                                                })}\n                                            </select>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Prénom du gérant</label>\n                                            <input type=\"text\" name=\"firstName\" value={seller.firstName} onChange={e => handleOnChangeInputs(\"firstName\", e.target.value)} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Nom du gérant</label>\n                                            <input type=\"text\" name=\"lastName\" value={seller.lastName} onChange={e => handleOnChangeInputs(\"lastName\", e.target.value)} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Site web</label>\n                                            <input type=\"text\" name=\"website\" value={seller.website} onChange={e => handleOnChangeInputs(\"website\", e.target.value)} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Numéro de téléphone</label>\n                                            <input type=\"text\" name=\"phone\" value={seller.phone} onChange={e => handleOnChangeInputs(\"phone\", e.target.value)} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Siret</label>\n                                            <input type=\"text\" name=\"siret\" value={seller.siret} onChange={e => handleOnChangeInputs(\"siret\", e.target.value)} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <input type=\"submit\" value=\"Sauvegarder\" onClick={(e) => handleSendForm(e)} />\n                                            <button className=\"buttonAdminTransparent\" onClick={() => setStep('show')}>Revenir en arrière</button>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                        }\n                        {(seller.status && seller.documents) && <ShowDocuments sellerId={seller.uid} documents={seller.documents} />}\n                    </div>\n                    :\n                    <Services categorySeller={seller.category} sellerName={seller.name} currentSeller={currentSeller} />\n                }\n            </div>\n\n        </div>\n\n    );\n}\n\nexport default ShowSeller","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/event/ShowEvent.js",["1228"],"import React, { useEffect, useState } from \"react\";\nimport { useFirebase } from \"../../../assets/base-context\";\n// import { Services } from './Services'\nimport LocationSearchInput from \"../../autocompletePlaces\"\nimport { useAuth } from \"../../../context/userContext\"; // context\nimport InputRange from 'react-input-range';\nimport \"react-input-range/lib/css/index.css\";\nimport DatePicker from \"react-date-picker\";\nimport { Services } from './Services'\nimport { GoogleApiWrapper } from 'google-maps-react';\n\nconst ShowEvent = (props) => {\n\n    const firebaseContext = useFirebase()\n    const firestore = firebaseContext.firestore()\n\n    const currentEvent = props.currentEvent\n    const handleDeleteEvent = props.handleDeleteEvent\n    const refEvent = firestore.collection(\"events\").doc(currentEvent);\n\n    const [event, setEvent] = useState([])\n    const [loading, setLoading] = useState(true)\n    const [currentSubmenu, setCurrentSubmenu] = useState(0)\n    const [step, setStep] = useState(\"show\")\n\n    const { formatLabelTimePicker } = useAuth()\n\n    useEffect(() => {\n        getData().then(() => {\n            setLoading(false)\n        })\n        appendToSliderTimePicker()\n    }, [step])\n\n    async function getData() {\n        const query = await refEvent.get();\n        const results = query.data()\n        const timstamp = results.date.toDate()\n        setEvent({\n            ...results,\n            date: timstamp\n        })\n    }\n\n    function handleAdressChanged(adress, latLng) {\n        setEvent({ ...event, place: adress, latLng: latLng })\n    }\n\n    function handleOnChangeInputs(name, value) {\n        if (name === \"name\") { setEvent({ ...event, name: value }) }\n        else if (name === \"place\") { setEvent({ ...event, place: value }) }\n        else if (name === \"latLng\") { setEvent({ ...event, latLng: value }) }\n        else if (name === \"budget\") { setEvent({ ...event, budget: value }) }\n        else if (name === \"people\") { setEvent({ ...event, people: value }) }\n        else if (name === \"placeSize\") { setEvent({ ...event, placeSize: value }) }\n        else if (name === \"date\") { setEvent({ ...event, date: value }) }\n        else if (name === \"startAt\") { setEvent({ ...event, startAt: value }); appendToSliderTimePicker() }\n        else if (name === \"endAt\") { setEvent({ ...event, endAt: value }); appendToSliderTimePicker() }\n    }\n\n    async function handleSendForm(e) {\n        e.preventDefault()\n\n        await refEvent.update({\n            ...event,\n            budget: parseInt(event.budget),\n            people: parseInt(event.people),\n            placeSize: parseInt(event.placeSize)\n        })\n            .catch((error) => {\n                console.error(error)\n            })\n            .then(() => {\n                setStep(\"show\")\n            })\n    }\n\n    function appendToSliderTimePicker() {\n        const element = document.getElementsByClassName(\"input-range__slider\")\n        const formatedEndTime = formatLabelTimePicker(event.endAt)\n        const formatedStartTime = formatLabelTimePicker(event.startAt)\n        if (element[0] !== undefined) {\n            element[0].innerHTML = \"Commence à \" + formatedStartTime\n            element[1].innerHTML = \"Termine à \" + formatedEndTime\n        }\n    }\n\n    return !loading && (\n        <div>\n            <h2>{event.name}</h2>\n            <div className=\"showSellerContainer\">\n                <div className=\"headerShowSellerContainer\">\n                    <div className={currentSubmenu === 0 && \"active\"} onClick={() => setCurrentSubmenu(0)}><h3>Infos</h3></div>\n                    <div className={currentSubmenu === 1 && \"active\"} onClick={() => setCurrentSubmenu(1)}><h3>Services</h3></div>\n                </div>\n                {currentSubmenu === 0 ?\n                    <div>\n                        {step === \"show\" ?\n                            <div className=\"infoShowSellerContainer\">\n                                <ul>\n                                    <li><label>Nom: </label>{event.name}</li>\n                                    <li><label>Adresse: </label>{event.place}</li>\n                                    <li><label>Budget: </label>{event.budget}</li>\n                                    <li><label>Nombre de personnes: </label>{event.people}</li>\n                                    <li><label>Surface du lieu: </label>{event.placeSize}</li>\n                                    <li><label>Date: </label>{event.date.toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"numeric\", day: \"numeric\" })}</li>\n                                    <li><label>Commence à: </label>{formatLabelTimePicker(event.startAt)}</li>\n                                    <li><label>Termine à: </label>{formatLabelTimePicker(event.endAt)}</li>\n                                    <li><label>Utilisateur: </label>{event.user}</li>\n                                </ul>\n                                <button className=\"buttonAdminTransparent\" onClick={() => setStep(\"edit\")}>Modifier les informations</button>\n                                <button onClick={() => handleDeleteEvent()} className=\"buttonAdminTransparent\">Supprimer cet évènement</button>\n                            </div>\n                            : step === \"edit\" &&\n                            <div className=\"infoEditSellerContainer\">\n                                <form>\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Nom de l'évènement</label>\n                                            <input type=\"text\" name=\"name\" value={event.name} onChange={e => handleOnChangeInputs(\"name\", e.target.value)} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Lieu de l'évènement</label>\n                                            <LocationSearchInput placeType=\"address\" value={event.place} onChanged={handleAdressChanged} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Budget</label>\n                                            <input type=\"text\" name=\"budget\" value={event.budget} onChange={e => handleOnChangeInputs(\"budget\", e.target.value)} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Nombre de personnes</label>\n                                            <input type=\"text\" name=\"people\" value={event.people} onChange={e => handleOnChangeInputs(\"people\", e.target.value)} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Surface du lieu</label>\n                                            <input type=\"text\" name=\"placeSize\" value={event.placeSize} onChange={e => handleOnChangeInputs(\"placeSize\", e.target.value)} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Date</label>\n                                            <DatePicker\n                                                value={event.date}\n                                                onChange={date => handleOnChangeInputs(\"date\", date)}\n                                                className=\"etape1DatePicker\"\n                                                format=\"dd/MM/yyyy\"\n                                                clearIcon={null}\n                                                calendarIcon={null}\n                                                minDate={new Date()}\n                                            />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <label>Créneau horaire</label>\n                                            <div className=\"etape1TimePickerContainer\">\n                                                <InputRange\n                                                    maxValue={86400}\n                                                    minValue={0}\n                                                    draggableTrack\n                                                    step={900}\n                                                    value={event.startAt}\n                                                    formatLabel={value => formatLabelTimePicker(value)}\n                                                    onChange={value => handleOnChangeInputs(\"startAt\", value)} />\n                                            </div>\n                                            <div className=\"etape1TimePickerContainer endAt\">\n                                                <InputRange\n                                                    maxValue={86400}\n                                                    minValue={0}\n                                                    draggableTrack\n                                                    step={900}\n                                                    value={event.endAt}\n                                                    formatLabel={value => formatLabelTimePicker(value)}\n                                                    onChange={value => handleOnChangeInputs(\"endAt\", value)} />\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"formLine\">\n                                        <div className=\"formField\">\n                                            <input type=\"submit\" value=\"Sauvegarder\" onClick={(e) => handleSendForm(e)} />\n                                            <button className=\"buttonAdminTransparent\" onClick={() => setStep('show')}>Revenir en arrière</button>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                        }\n                    </div>\n                    :\n                    <Services eventName={event.name} currentEvent={currentEvent} />\n                }\n            </div>\n        </div>\n\n    );\n}\nexport default GoogleApiWrapper({\n    apiKey: (\"AIzaSyDOQ_vau2uT4Gx_iLMVq2XfsUK3BPULVnY\")\n})(ShowEvent)","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/FullScreenImg.js",["1229","1230","1231"],"import React, { useState, useEffect } from 'react';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { useDetectClickOutside } from \"react-detect-click-outside\";\n\n\nconst FullScreenImg = ({imgpath, closeCallback}) => {\n    \n  const ref = useDetectClickOutside({ onTriggered: closeCallback });\n\n    return ( \n        <div className=\"fullScreenImg_container\">\n            <span onClick={closeCallback}><CloseIcon /></span>\n            <img ref={ref} src={imgpath} />\n        </div>\n     )\n}\n\nexport default FullScreenImg;",["1232","1233"],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/ServiceConfirmModal.js",["1234"],"import React, { useEffect, useState } from \"react\";\nimport Image from \"./utilities/Image\";\nimport { useDetectClickOutside } from \"react-detect-click-outside\";\nimport { ButtonSmall } from \"./utilities/Buttons\";\n\nconst ServiceConfirmModal = ({\n  item,\n  closeCallback,\n  variation,\n  confirmCallback,\n}) => {\n  const [note, setNote] = useState(\"\");\n\n  const ref = useDetectClickOutside({ onTriggered: closeCallback });\n\n  return (\n    <div className=\"serviceConfirmModal_container\">\n      <div ref={ref} className=\"serviceConfirmModal\">\n        <p>Confirmation d'ajout d'un service</p>\n        <div className=\"serviceItem\">\n          <div className=\"imgDetailsServiceItem\">\n            <Image url={item.images[0].url} />\n          </div>\n          <div className=\"contentDetailsServiceItem\">\n            <p className=\"title\">{item.name}</p>\n            {variation.length > 0 && <p className=\"subTitle\">{variation}</p>}\n            <p className=\"price\">{item.price},00€</p>\n          </div>\n        </div>\n        <div className=\"serviceItem_note\">\n          <textarea\n            value={note}\n            onChange={(e) => setNote(e.target.value)}\n            className={\"description\"}\n            placeholder=\"Ajouter un commentaire à l'intention du prestataire\"\n          ></textarea>\n        </div>\n        <div className=\"serviceItem_bottom\">\n          <ButtonSmall\n            onClick={closeCallback}\n            color=\"grey\"\n            value=\"Annuler\"\n            marginRight=\"20px\"\n            disabled={false}\n          />\n          <ButtonSmall\n            onClick={() => confirmCallback(note)}\n            color=\"green\"\n            value=\"Valider et continuer\"\n            marginRight=\"20px\"\n            disabled={false}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ServiceConfirmModal;\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/utilities/CustomSelect.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/event/Services.js",["1235"],"import React, { useEffect, useState } from \"react\";\nimport { useFirebase } from \"../../../assets/base-context\";\nimport { Table } from '../Table'\n\n\n\nexport const Services = (props) => {\n\n    const firebaseContext = useFirebase()\n    const firestore = firebaseContext.firestore()\n\n    const currentEvent = props.currentEvent;\n    const refServices = firestore.collection(\"events\").doc(currentEvent).collection(\"services\");\n\n    const [services, setServices] = useState([])\n    const [loading, setLoading] = useState(true)\n    const [step, setStep] = useState(true)\n\n    useEffect(() => {\n        getData().then(() => {\n            setLoading(false)\n        })\n    }, [step])\n\n    async function getData() {\n        const query = await refServices.get();\n        const results = []\n\n        query.forEach(doc => {\n            results.push({ ...doc.data(), id: doc.id, action: <button onClick={() => (handleDeleteService(doc.id))}>Supprimer</button> })\n        })\n        setServices(results)\n    }\n\n    async function handleDeleteService(id) {\n        await refServices.doc(id).delete().then(() => {\n            setStep(!step)\n        })\n    }\n\n    return !loading && (\n        <div>\n            <div className=\"servicesShowSellerContainer\">\n                <h2>Les services:</h2>\n                <Table data={services} type=\"services\" />\n            </div>\n        </div>\n    );\n}\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/components/ShowDocuments.js",["1236","1237","1238"],"import React, { useEffect, useState } from \"react\";\nimport { useAuth } from '../../../context/userContext'\n\n\nexport const ShowDocuments = ({ sellerId, documents }) => {\n\n    const [loading, setLoading] = useState(true)\n    const [newDocuments, setNewDocuments] = useState(documents)\n\n    const { updateSellerDocumentsStatus } = useAuth()\n\n\n    useEffect(() => {\n    }, [])\n\n    async function validateDocument(key) {\n        const newDocumentsArray = { ...newDocuments }\n        newDocumentsArray[key] = { ...newDocumentsArray[key], status: \"validated\" }\n        await updateSellerDocumentsStatus(sellerId, newDocumentsArray)\n        setNewDocuments(newDocumentsArray)\n    }\n\n    async function rejectDocument(key) {\n        const newDocumentsArray = { ...newDocuments }\n        newDocumentsArray[key] = { ...newDocumentsArray[key], status: \"rejected\" }\n        await updateSellerDocumentsStatus(sellerId, newDocumentsArray)\n        setNewDocuments(newDocumentsArray)\n    }\n\n    return loading && (\n        <div className=\"documentsContainer\">\n            <h1>Documents à vérifier</h1>\n            {Object.entries(newDocuments).map(doc => {\n                return (\n                    <div>\n                        <h2>{doc[0]}:</h2>\n                        {\n                            doc[1] &&\n                            <>\n                                <a href={doc[1].url} target=\"_blank\" rel=\"noreferrer\">\n                                    <img alt=\"nivid\" src={doc[1].url} />\n                                    {\n                                        (doc[1].status && doc[1].status === \"validated\") ? <span className=\"green\">Validé</span>\n                                            : (doc[1].status && doc[1].status === \"rejected\") ? <span className=\"red\">Refusé</span>\n                                                : (doc[1].status && doc[1].status === \"pending\" || !doc[1].status) && <span className=\"yellow\">En attente</span>\n                                    }\n                                </a>\n                                <div className=\"buttonsContainer\">\n                                    {\n                                        (!doc[1].status || doc[1].status === \"pending\") &&\n                                        <div>\n                                            <button onClick={() => validateDocument(doc[0])} className=\"buttonAdminValid\">Valider ce document</button>\n                                            <button onClick={() => rejectDocument(doc[0])} className=\"buttonAdminDelete\">Refuser ce document</button>\n                                        </div>\n\n                                    }\n                                </div>\n                            </>\n                        }\n                    </div>\n                )\n            })}\n        </div>\n\n    );\n}","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/Services.js",["1239"],"import React, { useEffect, useState } from \"react\";\nimport { useFirebase } from \"../../assets/base-context\";\nimport { ShowService } from \"./ShowService\";\nimport { Table } from './Table'\nimport { CreateService } from './CreateService'\n\n\n\nexport const Services = (props) => {\n    \n    const firebaseContext = useFirebase()\n    const firestore = firebaseContext.firestore()\n\n    const categorySeller = props.categorySeller\n    const currentSeller = props.currentSeller;\n    const refServices = firestore.collection(\"sellers\").doc(currentSeller).collection(\"services\");\n\n    const [services, setServices] = useState([])\n    const [currentService, setCurrentService] = useState()\n    const [loading, setLoading] = useState(true)\n    const [step, setStep] = useState(\"list\")\n\n    useEffect(() => {\n        const refServices = firestore.collection(\"sellers\").doc(currentSeller).collection(\"services\");\n\n        async function getData() {\n            const query = await refServices.get();\n            const results = []\n\n            query.forEach(doc => {\n                results.push({\n                    ...doc.data(),\n                    id: doc.id,\n                    action: <button onClick={() => handleOpeningService(doc.id)}>Voir</button>\n                })\n            })\n            setServices(results)\n        }\n\n        getData().then(() => {\n            setLoading(false)\n        })\n    }, [step, currentSeller])\n\n\n    async function handleDeleteService() {\n        await refServices.doc(currentService).delete().then(() => {\n            setStep(\"list\")\n        })\n    }\n\n    function handleOpeningService(id) {\n        setStep('show')\n        setCurrentService(id)\n    }\n\n\n    return !loading && (\n        <div>\n            {step === \"list\" ?\n                <div className=\"servicesShowSellerContainer\">\n                    <h2>Les services:</h2>\n                    <button onClick={() => setStep(\"create\")} className=\"buttonAdminTransparent\"> + Créer un service</button>\n                    <Table data={services} type=\"services\" />\n                </div>\n                : step === \"show\" ?\n                    <div className=\"showServiceContainer\">\n                        <button onClick={() => setStep(\"list\")} className=\"buttonAdminTransparent\">Retour à la liste des services</button>\n                        <ShowService handleDeleteService={handleDeleteService} currentService={currentService} currentSeller={currentSeller} />\n                    </div>\n                    : step === \"create\" &&\n                    <CreateService categorySeller={categorySeller} setStep={setStep} setCurrentService={setCurrentService} currentSeller={currentSeller} />\n            }\n        </div>\n    );\n}\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/CreateService.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Admin/ShowService.js",["1240"],"import React, { useEffect, useState } from \"react\";\nimport { useFirebase } from \"../../assets/base-context\";\n\n\nexport const ShowService = (props) => {\n\n    const firebaseContext = useFirebase()\n    const firestore = firebaseContext.firestore()\n\n    const currentSeller = props.currentSeller\n    const currentService = props.currentService\n    const handleDeleteService = props.handleDeleteService\n    const refService = firestore.collection(\"sellers\").doc(currentSeller).collection(\"services\").doc(currentService);\n\n    const [service, setService] = useState([])\n    const [loading, setLoading] = useState(true)\n    const [step, setStep] = useState(\"show\")\n\n    useEffect(() => {\n        getData().then(() => {\n            setLoading(false)\n        })\n    }, [])\n\n    async function getData() {\n        const query = await refService.get();\n        const results = query.data()\n        setService(results)\n    }\n\n    function handleOnChangeInputs(name, value) {\n        if (name === \"name\") { setService({ ...service, name: value }) }\n        else if (name === \"price\") { setService({ ...service, price: value }) }\n        else if (name === \"description\") { setService({ ...service, description: value }) }\n    }\n\n    async function handleSendForm(e) {\n        e.preventDefault()\n\n        await refService.update(service)\n            .catch((error) => {\n                console.error(error)\n            })\n            .then(() => {\n                setStep(\"show\")\n            })\n    }\n\n\n    return !loading && (\n        <div>\n            {step === \"show\" ?\n                <div className=\"infoShowServiceContainer\">\n                    <h2>{service.name}</h2>\n                    <div className=\"infoShowServiceImages\">\n                        {service.images.map(image => {\n                            return <img alt=\"nivid\" src={image.url} />\n                        })}\n                    </div>\n                    <ul>\n                        {service.variations.length === 0 && <li><label>Prix: </label>{service.price}</li>}\n                        <li><label>Catégorie: </label>{service.category}</li>\n                        <li><label>Déscription: </label>{service.description}</li>\n                        <li>\n                            <label>Variations: </label>\n                            <p>{\n                                service.variations.length === 0 ? \"Non\"\n                            : service.variations.map(variation => `${variation.name} -- ${variation.price}€ `)\n                            }</p>\n                        </li>\n                    </ul>\n                    <button onClick={() => setStep(\"edit\")} className=\"buttonAdminTransparent\">Modifier</button>\n                    <button onClick={() => handleDeleteService()} className=\"buttonAdminTransparent\">Supprimer ce service</button>\n                </div>\n                : step === \"edit\" &&\n                <div className=\"infoEditSellerContainer\">\n                    <form>\n                        <div className=\"formLine\">\n                            <div className=\"formField\">\n                                <label>Nom du service</label>\n                                <input type=\"text\" name=\"name\" value={service.name} onChange={e => handleOnChangeInputs(\"name\", e.target.value)} />\n                            </div>\n                        </div>\n\n                        <div className=\"formLine\">\n                            <div className=\"formField\">\n                                <label>Prix</label>\n                                <input type=\"text\" name=\"price\" value={service.price} onChange={e => handleOnChangeInputs(\"price\", e.target.value)} />\n                            </div>\n                        </div>\n\n                        <div className=\"formLine\">\n                            <div className=\"formField\">\n                                <label>Déscription</label>\n                                <textarea type=\"text\" name=\"description\" value={service.description} onChange={e => handleOnChangeInputs(\"description\", e.target.value)} />\n                            </div>\n                        </div>\n\n\n                        <div className=\"formLine\">\n                            <div className=\"formField\">\n                                <input type=\"submit\" value=\"Sauvegarder\" onClick={(e) => handleSendForm(e)} />\n                                <button className=\"buttonAdminTransparent\" onClick={() => setStep('show')}>Revenir en arrière</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            }\n        </div>\n    );\n}\n","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Status_Message.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Calendar.js",["1241","1242","1243","1244","1245","1246","1247","1248","1249","1250","1251","1252","1253","1254","1255","1256","1257","1258","1259","1260","1261","1262","1263","1264","1265","1266","1267","1268","1269","1270","1271"],"import React, { useRef, useState, useEffect, useReducer } from 'react'\nimport { useAuth } from '../context/userContext'\n\nimport Title from './utilities/Title'\n\nimport { ButtonSmall } from '../components/utilities/Buttons'\nimport { CSSTransition } from 'react-transition-group';\nimport {Button, DatePicker} from 'antd';\nimport moment from \"moment\";\nimport ReactLoading from \"react-loading\";\nimport 'antd/dist/antd.css'\n\n\nconst Prest_Dashboard_Sponsorship = () => {\n\n    const {\n        seller,\n        setSeller,\n        saveHoliday,\n        getSellerReferralCountFromDB\n    } = useAuth()\n    const isMobile = () =>  windowsWidth < 1100\n    const [buttonLoading, setButtonLoading] = useState(false);\n\n    const [calendar_divs, setCalendar_divs] = useState(loading_get_month());\n\n    const [year, setYear] = useState(moment()._d.getFullYear())\n    const [month, setMonth] = useState(moment()._d.getUTCMonth())\n    const [windowsWidth, setWindowsWidth] = useState(window.innerWidth)\n    const handleResize = (width) => setWindowsWidth(width)\n\n    const [allDays, setAllDays] = useState(new Date(moment()._d.getFullYear(), moment()._d.getUTCMonth()+1, 0).getDate())\n    const [beforeDays, setBeforeDays] = useState(new Date(moment()._d.getFullYear(), moment()._d.getUTCMonth(), 0).getDate())\n    const [startDay, setStartDay] = useState(new Date(moment()._d.getFullYear() + \"-\" + moment()._d.getUTCMonth() + \"-01\").getDay())\n\n    // const [isLinkCopied, setIsLinkCopied] = useState(false)\n\n    const [isMounted, setIsMounted] = useState(false);\n\n    const initialState = {\n        click: false,\n        change: false\n    };\n    const dayState = {\n        open_shop: true,\n    };\n    const reducer = (state, action) => ({ ...state, ...action });\n\n    const [state, setState] = useReducer(reducer, initialState);\n\n    const [day_state, setDay_state] = useReducer(reducer, dayState);\n\n    const [referralCount, setReferralCount] = useState(0)\n\n    const Checkbox = ({ fnClick, fnChange, title = \"\", checked = false }) => (\n        <label>\n          <input\n          className='check_box'\n            onClick={e => {\n              if (fnClick !== undefined) fnClick(e.target.checked);\n            }}\n            onChange={e => {\n              if (fnChange !== undefined) fnChange(e.target.checked);\n            }}\n            type=\"checkbox\"\n            checked={checked}\n          />\n          <p className='viewp'>{title}</p>\n        </label>\n    );\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", (e) => handleResize(window.innerWidth))\n        getSellerReferralCountFromDB().then(count => {\n            setReferralCount(count)\n        })\n        return setIsMounted(true)\n    }, [])\n\n    function loading_get_month() {\n        var holiday_data = seller.holiday\n        var all_Days = new Date(moment()._d.getFullYear(), moment()._d.getUTCMonth()+1, 0).getDate()\n        var start_day = new Date(moment()._d.getFullYear() , moment()._d.getUTCMonth() , 0).getDay()\n        var before_days = new Date(moment()._d.getFullYear() , moment()._d.getUTCMonth() , 0).getDate()\n        var div_array = [];\n        for (let i = (start_day+6)%7; i >= 0; i--) {\n            div_array.push({time: 'before', day: before_days-i, state: 'grey', check: false})\n        }\n        for (let i = 0; i < all_Days; i++) {\n            if (holiday_data!=undefined) {\n                for (let j = 0; j < holiday_data.length; j++) {\n                    if (holiday_data[j] == (moment()._d.getFullYear()+'.'+(moment()._d.getUTCMonth()+1)+'.'+(i+1))) {\n                        div_array.push({time: 'now', day: i+1, state: 'red', check: false})\n                        continue;\n                    }\n                }\n            }\n            if (div_array[div_array.length-1].day != i+1) {\n                div_array.push({time: 'now', day: i+1, state: 'green', check: false})\n            }\n        }\n        var next_limit = div_array.length\n        for (let i = 0; i < 7-(next_limit%7); i++) {\n            div_array.push({time: 'next', day: i+1, state: 'grey', check: false})\n        }\n        return div_array;\n    }\n\n    function get_month(date) {\n        setYear(date._d.getFullYear())\n        setMonth(date._d.getUTCMonth())\n        setAllDays(new Date(date._d.getFullYear(), date._d.getUTCMonth()+1, 0).getDate())\n        setStartDay(new Date(date._d.getFullYear(), date._d.getUTCMonth(), 0).getDay())\n        setBeforeDays(new Date(date._d.getFullYear(), date._d.getUTCMonth(), 0).getDate())\n        var holiday_data = seller.holiday\n        var all_Days = new Date(date._d.getFullYear(), date._d.getUTCMonth()+1, 0).getDate()\n        var start_day = new Date(date._d.getFullYear() , date._d.getUTCMonth() , 0).getDay()\n        var before_days = new Date(date._d.getFullYear() , date._d.getUTCMonth() , 0).getDate()\n        var div_array = [];\n        let number = (start_day+7)%7;\n        console.log(number)\n        for (let i = number; i > 0; i--) {\n            div_array.push({time: 'before', day: before_days-i, state: 'grey', check: false})\n        }\n        for (let i = 0; i < all_Days; i++) {\n            for (let j = 0; j < holiday_data.length; j++) {\n                if (holiday_data[j] == (date._d.getFullYear()+'.'+(date._d.getUTCMonth()+1)+'.'+(i+1))) {\n                    div_array.push({time: 'now', day: i+1, state: 'red', check: false})\n                    continue;\n                }\n            }\n            if (div_array.length) {\n                if (div_array[div_array.length-1].day != i+1) {\n                    div_array.push({time: 'now', day: i+1, state: 'green', check: false})\n                }\n            }else {\n                div_array.push({time: 'now', day: i+1, state: 'green', check: false})\n            }\n\n        }\n        var next_limit = div_array.length\n        for (let i = 0; i < 7-(next_limit%7); i++) {\n            div_array.push({time: 'next', day: i+1, state: 'grey', check: false})\n        }\n        setCalendar_divs(div_array)\n    }\n\n    function click_day(e) {\n        const update_array = [];\n        switch (e.nativeEvent.path[1].className) {\n            case 'calendar_cell_red':\n                for (let i = 0; i < calendar_divs.length; i++) {\n                    update_array.push(calendar_divs[i]);\n                    if (i==e.nativeEvent.path[1].dataset.tab && update_array[i].check == false) {\n                        update_array[i].state = 'green';\n                    }\n                }\n                setCalendar_divs(update_array)\n                break;\n        \n            case 'calendar_cell_green':\n                for (let i = 0; i < calendar_divs.length; i++) {\n                    update_array.push(calendar_divs[i]);\n                    if (i==e.nativeEvent.path[1].dataset.tab) {\n                        update_array[i].state = 'red';\n                    }\n                }\n                setCalendar_divs(update_array)\n                break;\n        \n            \n            case 'calendar_cell_mobile_red':\n                for (let i = 0; i < calendar_divs.length; i++) {\n                    update_array.push(calendar_divs[i]);\n                    if (i==e.nativeEvent.path[1].dataset.tab && update_array[i].check == false) {\n                        update_array[i].state = 'green';\n                    }\n                }\n                setCalendar_divs(update_array)\n                break;\n        \n            case 'calendar_cell_mobile_green':\n                for (let i = 0; i < calendar_divs.length; i++) {\n                    update_array.push(calendar_divs[i]);\n                    if (i==e.nativeEvent.path[1].dataset.tab) {\n                        update_array[i].state = 'red';\n                    }\n                }\n                setCalendar_divs(update_array)\n                break;\n        \n            case 'calendar_cell_grey':\n                \n                break;\n        }\n    }\n\n    function check_day(e, check) {\n        const update_array = [];\n        for (let i = 0; i < calendar_divs.length; i++) {\n            update_array.push(calendar_divs[i]);\n            if (i%7==check&&update_array[i].time == 'now') {\n                if (e) {\n                    update_array[i].check = true;\n                    update_array[i].state = 'red';\n                }else {\n                    update_array[i].check = false;\n                    update_array[i].state = 'green';\n                }\n            }\n        }\n        switch (check) {\n            case 0:\n                setState({'Lundi':e})\n                break;\n        \n            case 1:\n                setState({'Mondi':e})\n                break;\n        \n            case 2:\n                setState({'Mercredi':e})\n                break;\n        \n            case 3:\n                setState({'Jeudi':e})\n                break;\n        \n            case 4:\n                setState({'Vendredi':e})\n                break;\n        \n            case 5:\n                setState({'Samedi':e})\n                break;\n        \n            case 6:\n                setState({'Demanche':e})\n                break;\n        \n        }\n        setCalendar_divs(update_array)\n    }\n\n    function GetHoliday() {\n        setButtonLoading(true);\n        var save_db = [];\n        var before = 0;\n        for (let i = 0; i < calendar_divs.length; i++) {\n            if (calendar_divs[i].state == 'grey') {\n                before++;\n            }\n            if (calendar_divs[i].state == 'red') {\n                let string = year + '.' + (month+1) + '.' + (i+1-before);\n                save_db.push(string)\n            }\n        }\n        var UD_Info = seller\n        if (UD_Info.holiday!=undefined) {\n            for (let i = 0; i < UD_Info.holiday.length; i++) {\n                var monthArray = UD_Info.holiday[i].split('.');\n                if (monthArray[0] == year && monthArray[1] == month+1) {\n                    UD_Info.holiday.splice(i,1);\n                    i--;\n                }\n            }\n            UD_Info.holiday = UD_Info.holiday.concat(save_db)\n        }else {\n            UD_Info.holiday = save_db;\n        }\n        setSeller(UD_Info)\n        saveHoliday(seller.uid, save_db, year, month+1).then((res) => {\n            if(res){\n                setTimeout(() => {\n                    setButtonLoading(false);\n                }, 1000);\n            }\n          });\n    }\n    return (\n        <CSSTransition\n            in={isMounted}\n            timeout={300}\n            classNames=\"pageTransition\"\n            unmountOnExit\n        >\n            <div className=\"prest_Dashboard_Sponsorship\">\n                <div className=\"prest_dashboard_sponsorship_header calendar_header\">\n                    <div className=\"sponsorship_header_content\">\n                        <Title value=\"Calendrier de disponibilités\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                    </div>\n                </div>\n                <div className='select_month'>Mois sélectionné</div>\n                <DatePicker\n                    picker=\"month\"\n                    dateFormat=\"MM.YYYY\"\n                    format=\"MMMM YYYY\"\n                    style={{width: \"280px\"}}\n                    defaultValue={moment()}\n                    size=\"large\"\n                    onChange={(date) => {\n                        get_month(date);\n                    }}\n                    placeholderText=\"Select month\"\n                />\n                    <div className='total_calendar'>\n                        {!isMobile() ? \n                            <div className='calendar_view'>\n                                <div className='week_value'>Lundi</div>\n                                <div className='week_value'>Mondi</div>\n                                <div className='week_value'>Mercredi</div>\n                                <div className='week_value'>Jeudi</div>\n                                <div className='week_value'>Vendredi</div>\n                                <div className='week_value'>Samedi</div>\n                                <div className='week_value'>Demanche</div>\n                                {\n                                    calendar_divs.map((value, index) => {\n                                        return (\n                                            <div key={index} className={`calendar_cell_${value.state}`} onClick={e => click_day(e)} data-tab={index}>\n                                                <p className='cell_text'>{value.day}</p>\n                                            </div>\n                                        );\n                                    })\n                                }\n                            </div>\n                        :\n                        <div className='total_calendar_mobile'>\n                            <div className={!isMobile() ? 'calendar_view' : 'calendar_view_mobile'}>\n                                {\n                                    calendar_divs.map((value, index) => {\n                                        if (value.time=='now') {\n                                            return (\n                                                <div key={index} className={ isMobile() ? `calendar_cell_mobile_${value.state}` : `calendar_cell_${value.state}`} onClick={e => click_day(e)} data-tab={index}>\n                                                    <p className='cell_text'>{value.day}</p>\n                                                </div>\n                                            );\n                                        }\n                                    })\n                                }\n                            </div>\n                        </div>\n                        }\n                        {!isMobile() && \n                            <div className='calendar_setting'>\n                                <p className='viewp'>Légende</p>\n                                <div className='state_view'>\n                                    <div className='green_veiw'></div>\n                                    <p className='viewp'>Ouvert aux réservations</p> \n                                </div>\n                                <div className='state_view'>\n                                    <div className='red_veiw'></div>\n                                    <p className='viewp'>Fermé aux réservations</p> \n                                </div>\n                                <div className='state_view'>\n                                    <div className='grey_veiw'></div>\n                                    <p className='viewp'>Fermé aux réservations</p> \n                                </div>\n                                <div className='check_setting'>\n                                    <p className='viewp'>Jours de fermeture</p>\n                                    <p className='explain'>Ces jours seront outomatiququement fermes chque semaine</p>\n                                    <Checkbox\n                                        title=\" Lundi\"\n                                        fnClick={(e) => check_day(e, 0)}\n                                        checked={state.Lundi}\n                                    /><br/>\n                                    <Checkbox\n                                        title=\" Mondi\"\n                                        fnClick={(e) => check_day(e, 1)}\n                                        checked={state.Mondi}\n                                    /><br/>\n                                    <Checkbox\n                                        title=\" Mercredi\"\n                                        fnClick={(e) => check_day(e, 2)}\n                                        checked={state.Mercredi}\n                                    /><br/>\n                                    <Checkbox\n                                        title=\" Jeudi\"\n                                        fnClick={(e) => check_day(e, 3)}\n                                        checked={state.Jeudi}\n                                    /><br/>\n                                    <Checkbox\n                                        title=\" Vendredi\"\n                                        fnClick={(e) => check_day(e, 4)}\n                                        checked={state.Vendredi}\n                                    /><br/>\n                                    <Checkbox\n                                        title=\" Samedi\"\n                                        fnClick={(e) => check_day(e, 5)}\n                                        checked={state.Samedi}\n                                    /><br/>\n                                    <Checkbox\n                                        title=\" Demanche\"\n                                        fnClick={(e) => check_day(e, 6)}\n                                        checked={state.Demanche}\n                                    />\n                                </div>\n                            </div>\n                        }\n                    </div>\n                    <div className='save_button_div'>\n                        <div className='button_explain'>Ñ'oubliez pas de sauvegarder à chaque modifications</div>\n                        <ButtonSmall\n                            color=\"green\"\n                            onClick={()=>GetHoliday()}\n                            value={\n                                buttonLoading ? (\n                                <ReactLoading\n                                    className=\"loadingSpinnerButton\"\n                                    type=\"spin\"\n                                    color=\"white\"\n                                    height={23}\n                                    width={23}\n                                />\n                                ) : (\n                                \"Sauvegarder les modifications\"\n                                )\n                            }\n                            disabled={buttonLoading ? \"disabled\" : null}\n                            backgroundColor=\"green\"\n                            marginTop=\"10px\"\n                            width={'20%'}\n                        />\n                    </div>\n            </div>\n        </CSSTransition>\n    )\n}\n\nexport default Prest_Dashboard_Sponsorship","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Info.js",["1272"],"import React, { useState, useEffect } from 'react'\nimport { useAuth } from '../context/userContext'\n\nimport Title from './utilities/Title'\nimport { ButtonSmall } from './utilities/Buttons'\n\nimport { CSSTransition } from 'react-transition-group'\nimport ReactLoading from 'react-loading';\n\n\nconst Prest_Dashboard_Info = () => {\n\n    const {\n        updateSellerProfil,\n        seller\n    } = useAuth()\n\n    const [error, setError] = useState({ type: \"\", message: \"\" });\n    const [confirm, setConfirm] = useState(\"\");\n    const [buttonLoading, setButtonLoading] = useState(false)\n\n    const initialData = {\n        companyName: \"\",\n        adress: \"\",\n        siret: \"\",\n        website: \"\",\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        phone: \"\",\n        affiliateCode: \"\",\n        status: \"\"\n    }\n\n    const [isMounted, setIsMounted] = useState(false);\n\n    const [sellerData, setSellerData] = useState(initialData);\n    const [sellerDataStatus, setSellerDataStatus] = useState({\n        companyName: false,\n        website: false,\n        firstName: false,\n        lastName: false,\n        phone: false,\n    });\n\n    useEffect(() => {\n        setSellerData({\n            companyName: seller.companyName,\n            adress: seller.adress,\n            siret: seller.siret,\n            website: seller.website,\n            firstName: seller.firstName,\n            lastName: seller.lastName,\n            email: seller.email,\n            phone: seller.phone,\n            status: seller.status\n        })\n        setFieldsStatus(seller)\n        return setIsMounted(true)\n    }, [])\n\n    function setFieldsStatus(data) {\n        setSellerDataStatus({\n            companyName: data.companyName.length > 0 ? true : false,\n            firstName: data.firstName.length > 0 ? true : false,\n            lastName: data.lastName.length > 0 ? true : false,\n            phone: data.phone.length === 10 || data.phone.length === 0 ? true : false,\n        })\n    }\n\n    async function handleFormSubmit() {\n        if (buttonLoading) return\n        if (!sellerDataStatus.companyName) return setError({ type: \"companyName\", message: \"Vous devez renseigner le nom de votre entreprise.\" })\n        if (!sellerDataStatus.firstName) return setError({ type: \"firstName\", message: \"Merci de renseigner le prénom du gérant\" })\n        if (!sellerDataStatus.lastName) return setError({ type: \"lastName\", message: \"Merci de renseigner le nom du gérant\" })\n        if (!sellerDataStatus.phone) return setError({ type: \"phone\", message: \"Merci de renseigner un numéro de téléphone valide\" })\n        setButtonLoading(true)\n        const data = {\n            companyName: sellerData.companyName,\n            website: sellerData.website,\n            firstName: sellerData.firstName,\n            lastName: sellerData.lastName,\n            phone: sellerData.phone\n        }\n        await updateSellerProfil(data)\n        setButtonLoading(false)\n        setError({ type: \"\", message: \"\" })\n        setConfirm(\"Vos informations ont été modifiées\")\n    }\n\n\n    function handleFieldChange(data) {\n        setFieldsStatus(data)\n        setSellerData(data)\n    }\n\n\n    return (\n        <CSSTransition\n            in={isMounted}\n            timeout={300}\n            classNames=\"pageTransition\"\n            unmountOnExit\n        >\n            <div className=\"prest_Dashboard_Info\">\n                <div className=\"prest_dashboard_info_container\">\n                   {/*} <div className=\"prest_dashboard_info_header\">\n                        <p>Vous pouvez modifier sur cette page vos informations personnelles entrées lors de votre inscription mais attention ! <br />\n                    Celles-ci ne sont modifiables seulement pendant la période d'attente de validation de votre compte, après cette période in ne sera plus possible de modifier vos informations personnelles.\n                    </p>\n                    </div>*/}\n\n                    {error && <div className=\"errorMessage\">{error.message}</div>}\n\n                    <form>\n                        <div className=\"leftForm\">\n                            <Title value=\"Votre entreprise\" type=\"h2\" font=\"roboto-medium\" />\n                            <div className=\"formLine\">\n                                <div className=\"formField withoutMargin\">\n                                    <label>Nom de l'entreprise</label>\n                                    <input\n                                        className={sellerDataStatus.companyName ? \"valid\" : \"notValid\"}\n                                        value={sellerData.companyName}\n                                        type=\"text\"\n                                        name=\"companyName\"\n                                        onChange={(e) => handleFieldChange({ ...sellerData, companyName: e.target.value })}\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"formLine\">\n                                <div className=\"formField withoutMargin\">\n                                    <label>Adresse</label>\n                                    <input disabled value={sellerData.adress} type=\"text\" name=\"adress\" />\n                                </div>\n                            </div>\n\n                            <div className=\"formLine\">\n                                <div className=\"formField withoutMargin\">\n                                    <label>Numéro de Siret</label>\n                                    <input disabled value={sellerData.siret} type=\"text\" name=\"siret\" />\n                                </div>\n                            </div>\n\n                            <div className=\"formLine\">\n                                <div className=\"formField withoutMargin\">\n                                    <label>Site internet</label>\n                                    <input\n                                        value={sellerData.website}\n                                        type=\"text\"\n                                        name=\"text\"\n                                        onChange={(e) => handleFieldChange({ ...sellerData, website: e.target.value })}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"rightForm\">\n                            <Title value=\"Coordonnées du gérant\" type=\"h2\" font=\"roboto-medium\" />\n\n                            <div className=\"formLine\">\n                                <div className=\"formField\">\n                                    <label>Prénom</label>\n                                    <input\n                                        className={sellerDataStatus.firstName ? \"valid\" : \"notValid\"}\n                                        value={sellerData.firstName}\n                                        type=\"text\"\n                                        name=\"firstName\"\n                                        onChange={(e) => handleFieldChange({ ...sellerData, firstName: e.target.value })}\n                                    />\n                                </div>\n                                <div className=\"formField\">\n                                    <label>Nom</label>\n                                    <input\n                                        className={sellerDataStatus.lastName ? \"valid\" : \"notValid\"}\n                                        value={sellerData.lastName}\n                                        type=\"text\"\n                                        name=\"lastName\"\n                                        onChange={(e) => handleFieldChange({ ...sellerData, lastName: e.target.value })}\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"formLine\">\n                                <div className=\"formField\">\n                                    <label>Email</label>\n                                    <input disabled value={sellerData.email} type=\"email\" name=\"email\" />\n                                </div>\n                            </div>\n\n                            <div className=\"formLine\">\n                                <div className=\"formField\">\n                                    <label>Numéro de téléphone (fixe ou portable)</label>\n                                    <input\n                                        className={sellerDataStatus.phone ? \"valid\" : sellerData.phone.length === 0 ? \"\" : \"notValid\"}\n                                        value={sellerData.phone}\n                                        type=\"text\"\n                                        name=\"phone\"\n                                        onChange={(e) => handleFieldChange({ ...sellerData, phone: e.target.value })}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </form>\n                    <div className=\"actionFormContainer\">\n                        {confirm.length > 0 && <p>{confirm}</p>}\n                        <ButtonSmall\n                            onClick={() => handleFormSubmit()}\n                            color=\"orange\"\n                            disabled={buttonLoading}\n                            value={buttonLoading ? <ReactLoading className=\"loadingSpinnerButton\" type=\"spin\" color=\"white\" height={23} width={23} /> : \"Sauvegarder les changements\"}\n                        />\n                    </div>\n                </div>\n            </div>\n        </CSSTransition>\n    )\n}\n\nexport default Prest_Dashboard_Info","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Sponsorship.js",["1273"],"import React, { useRef, useState, useEffect } from 'react'\nimport { useAuth } from '../context/userContext'\n\nimport Title from './utilities/Title'\nimport SubTitle from './utilities/SubTitle'\n\nimport smileyOne from '../images/star-struck_1f929.png';\nimport smileyTwo from '../images/smiling-face-with-sunglasses_1f60e.png';\nimport imgParrainage from '../images/parrainage.png';\nimport imgParrainage1 from '../images/parrainage1.png';\nimport imgParrainage2 from '../images/parrainage2.png';\nimport imgParrainage3 from '../images/parrainage3.png';\nimport { FaCheck } from 'react-icons/fa'\nimport { CSSTransition } from 'react-transition-group'\n\nconst Prest_Dashboard_Sponsorship = () => {\n\n    const {\n        seller,\n        getSellerReferralCountFromDB\n    } = useAuth()\n\n    const [isLinkCopied, setIsLinkCopied] = useState(false)\n\n    const [isMounted, setIsMounted] = useState(false);\n\n    const [referralCount, setReferralCount] = useState(0)\n\n    useEffect(() => {\n        getSellerReferralCountFromDB().then(count => {\n            setReferralCount(count)\n        })\n        return setIsMounted(true)\n    }, [])\n\n    const sponsorLinkInput = useRef()\n\n    function handleCopyLink() {\n        sponsorLinkInput.current.select()\n        document.execCommand(\"copy\")\n        setIsLinkCopied(true)\n    }\n\n    return (\n        <CSSTransition\n            in={isMounted}\n            timeout={300}\n            classNames=\"pageTransition\"\n            unmountOnExit\n        >\n            <div className=\"prest_Dashboard_Sponsorship\">\n                <div className=\"prest_dashboard_sponsorship_header\">\n                    <div className=\"sponsorship_header_content\">\n                        <img alt=\"\" className=\"sponsorship_smileyOne_right\" src={smileyOne} />\n                        <img alt=\"\" className=\"sponsorship_smileyTwo_right\" src={smileyTwo} />\n                        <img alt=\"\" className=\"sponsorship_smallSmileyTwo_right\" src={smileyTwo} />\n\n                        <img alt=\"\" className=\"sponsorship_smileyOne_left\" src={smileyOne} />\n                        <img alt=\"\" className=\"sponsorship_smileyTwo_left\" src={smileyTwo} />\n                        <img alt=\"\" className=\"sponsorship_smallSmileyOne_left\" src={smileyOne} />\n\n                        <Title value=\"Dites-leur qu'on s'amuse bien ici!\" type=\"h2\" font=\"roboto-medium\" align=\"center\" />\n                        <SubTitle color=\"rgb(189, 189, 189)\" type=\"big\" font=\"roboto-bold\" value=\"Dans notre programme de parrainage, tout le monde y gagne\" />\n                    </div>\n                </div>\n                <div className=\"prest_dashboard_sponsorship_content\">\n                    <img alt=\"\" src={imgParrainage} />\n                    <div className=\"prest_dashboard_sponsorship_content_features\">\n                        <div className=\"features_item\">\n                            <img alt=\"\" src={imgParrainage1} />\n                            <h2>Partagez votre lien</h2>\n                            <p><FaCheck />Invitez vos amis professionnels à rejoindre NIVID en partageant votre lien unique.</p>\n                        </div>\n                        <div className=\"features_item\">\n                            <img alt=\"\" src={imgParrainage2} />\n                            <h2>Offrez la première prestation</h2>\n                            <p><FaCheck />Dès leur inscription vos filleuls bénéficient de leur première prestation libre de commission NIVID, <br />en plus de vous être éternellement reconnaissants pour cette découverte</p>\n                        </div>\n                        <div className=\"features_item\">\n                            <img alt=\"\" src={imgParrainage3} />\n                            <h2>Soyez récompensé.e</h2>\n                            <p><FaCheck />Lorsque vos filleuls effectuent leur première réservation, vous recevez à votre tour votre prochaine prestation libre de commission. Plus vous avez de filleuls, plus votre cagnotte augmente, vous suivez ? 😏</p>\n                        </div>\n                    </div>\n                    <div className=\"prest_dashboard_sponsorship_content_sponsorCode\">\n                        <Title value=\"Partagez votre code parrain\" type=\"h2\" font=\"roboto-medium\" align=\"center\" />\n                        <div className=\"sponsorCode_inputContainer\">\n                            <input ref={sponsorLinkInput} value={`nivid.fr/referral=${seller.referralToken}`} type=\"text\" />\n                            <span onClick={() => handleCopyLink()}>{isLinkCopied ? \"Lien copié\" : \"Copier le lien\"}</span>\n                        </div>\n                    </div>\n                    <div className=\"prest_dashboard_sponsorship_content_stats\">\n                        <h2>Vous avez invité <span>{referralCount} personnes</span> pour le moment</h2>\n                        <p>Ce décompte ne tient compte que des personnes ayant acceptés votre invitation & qui a ouvert un compte valide.</p>\n                    </div>\n                    <div className=\"prest_dashboard_sponsorship_content_video\">\n\n                    </div>\n                </div>\n            </div>\n        </CSSTransition>\n    )\n}\n\nexport default Prest_Dashboard_Sponsorship","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Services.js",["1274","1275","1276"],"import React, { useState, useEffect } from 'react'\nimport { useAuth } from '../context/userContext'\nimport { useFirebase } from \"../assets/base-context\";\n\nimport Title from './utilities/Title'\nimport SubTitle from './utilities/SubTitle'\nimport { ButtonSmall, ButtonLarge } from './utilities/Buttons'\nimport Image from '../components/utilities/Image'\n\nimport DeleteIcon from '@mui/icons-material/DeleteOutline';\nimport IconButton from '@mui/material/IconButton';\nimport AddIcon from '@mui/icons-material/Add';\n\nimport NumericInput from 'react-numeric-input';\nimport { useDetectClickOutside } from 'react-detect-click-outside';\n\nimport { CSSTransition } from 'react-transition-group'\nimport { FaTrashAlt } from 'react-icons/fa'\nimport { FaTimes } from 'react-icons/fa'\n\nimport Loader from './Loader'\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\n\nconst BoxConfirm = ({ type, position, callback, callbackClose }) => {\n    const refConfirmBox = useDetectClickOutside({ onTriggered: callbackClose });\n    return <div ref={refConfirmBox} className={`confirmBox ${position}`}>\n        <span>\n            {type === \"delete\" && \"Confirmation de suprresion d'une variation\"}\n            {type === \"save\" && \"Confirmation de sauvegarde\"}\n        </span>\n        <h2>\n            {type === \"delete\" && \"Êtes-vous sûr de vouloir supprimer cette variation ?\"}\n            {type === \"save\" && \"Vous n'avez rien oublié ?\"}\n        </h2>\n        <p>\n            {type === \"delete\" && \"Cette action est irréversible\"}\n            {type === \"save\" && \"Si jamais... Vous pouvez toujours modifier ce service directement depuis votre dashboard\"}\n        </p>\n\n        <ButtonSmall\n            onClick={callback}\n            color={type === \"delete\" ? \"red\" : \"green\"}\n            value=\"Je confirme\"\n            marginTop=\"20px\"\n        />\n    </div>\n}\n\nconst initialNewService = {\n    // category: seller.category,\n    name: \"\",\n    images: [],\n    description: \"\",\n    price: 0,\n    variations: [],\n    foodType: \"Aucun\",\n    id: null\n}\n\nconst Prest_Dashboard_Services = ({ setStep }) => {\n\n    const firebaseContext = useFirebase()\n    const storage = firebaseContext.storage()\n\n    const [error, setError] = useState({ type: \"\", message: \"\" });\n\n    const [services, setServices] = useState([])\n    const [pictureTokensToDelete, setPictureTokensToDelete] = useState([])\n    const [isFormOpen, setIsFormOpen] = useState(false)\n\n    const [isMounted, setIsMounted] = useState(false);\n\n    const [newService, setNewService] = useState(initialNewService)\n\n    const [addingService, setAddingService] = useState(false)\n\n    const [isPopupConfirmDeleteOpened, setIsPopupConfirmDeleteOpened] = useState(false)\n    const [isPopupConfirmSaveOpened, setIsPopupConfirmSaveOpened] = useState(false)\n    const [currentDeletingVariation, setCurrentDeletingVariation] = useState(-1)\n\n    const [isServiceAddedCorrectly, setIsServiceAddedCorrectly] = useState(false)\n\n    const [isVariations, setIsVariations] = useState(false)\n\n    const { seller,\n        addOneSellerService,\n        getServicesOfCurrentSellerFromDB,\n        deleteOldSellerPicture,\n        isSellerAllowedToModifyAndDeleteService,\n        deleteServiceOfSeller,\n        addFoodTypeToSeller,\n        deleteFoodTypeToSeller\n    } = useAuth()\n\n    useEffect(() => {\n        getServicesOfCurrentSellerFromDB().then(services => {\n            setServices(services)\n            setIsMounted(true)\n        })\n    }, [])\n\n\n    function euroFormat(num) { return num + '€'; }\n\n    function handleChange(e) {\n        const type = e.target.files[0].type\n        const size = e.target.files[0].size\n        if (type !== \"image/png\" && type !== \"image/jpeg\" && type !== \"image/jpg\") {\n            setError({ type: \"imageType\", message: \"Votre fichier n'est ni une image jpeg, jpg ou PNG.\" })\n        }\n        else if (size > 2000000) {\n            setError({ type: \"imageSize\", message: \"Votre image fait plus de 2Mo.\" })\n        }\n        else {\n            const newURL = URL.createObjectURL(e.target.files[0])\n            e.target.files[0].localURL = newURL\n            setNewService({ ...newService, images: [...newService.images, e.target.files[0]] })\n            setError({ type: \"\", message: \"\" })\n        }\n    }\n\n    function handleDeletePicture(item) {\n        const newPictures = [...newService.images]\n        for (var i = 0; i < newPictures.length; i++) {\n            if (newPictures[i].localURL === item || newPictures[i].url === item) {\n                if (newPictures[i].url === item) {\n                    setPictureTokensToDelete([...pictureTokensToDelete, newPictures[i].token])\n                }\n                newPictures.splice(i, 1);\n            }\n        }\n        setNewService({ ...newService, images: newPictures })\n    }\n\n    function handleServiceClicked(item) {\n        setIsFormOpen(true)\n\n        setIsVariations(item.variations > 0 ? true : false)\n        if (newService.id === item.id) {\n            return\n        }\n        clearInputs()\n        setNewService(item)\n    }\n\n    function clearInputs() {\n        setNewService(initialNewService)\n        setError({ type: \"\", message: \"\" })\n    }\n\n    async function handleAddService() {\n        setIsPopupConfirmSaveOpened(false)\n        setAddingService(true)\n        if (newService.name.length < 5) {\n            setError({ type: \"name\", message: \"Le nom de votre offre doit faire au minimum 5 caractères.\" })\n        }\n        else if (newService.description.length < 20 || newService.description.length > 300) {\n            setError({ type: \"description\", message: \"Votre description doit comporter entre 20 et 300 caractères.\" })\n        }\n        else if (newService.images.length === 0) {\n            setError({ type: \"noPictures\", message: \"Vous devez ajouter au moins une photo de votre service.\" })\n        }\n        else if (newService.images.length > 3) {\n            setError({ type: \"tooMuchPictures\", message: \"Impossible d'ajouter plus de 3 photos au service.\" })\n        }\n        else {\n\n            //Si l'id est égal à Null, c'est que le service est nouveau\n            //Si l'id n'est pas null, on ne créera pas un nouveau service on modifiera l'actuel\n            if (newService.id !== null) {\n                const isAllowed = await isSellerAllowedToModifyAndDeleteService(newService.id)\n                if (isAllowed) {\n                    const newServicesList = [...services]\n                    var index = newServicesList.findIndex(service => service.id === newService.id)\n                    const serviceToUpload = { ...newService }\n                    if (!isVariations) serviceToUpload.variations = []\n                    newServicesList[index] = serviceToUpload\n\n                    const service = await handleImagesFiles(serviceToUpload)\n                    setServices(newServicesList)\n                    await addOneSellerService(service)\n                    clearInputs()\n                    setIsServiceAddedCorrectly(true)\n                    setTimeout(() => {\n                        setIsServiceAddedCorrectly(false)\n                    }, 2000)\n                }\n            }\n            else {\n\n                if (services.length >= 5) {\n                    setError({ type: \"maxServices\", message: \"Vous avez déjà atteint le maximum d'offres sur votre boutique.\" })\n                }\n                else {\n                    const reconstructedService = newService\n                    reconstructedService.id = services.length\n                    if (!isVariations) reconstructedService.variations = []\n\n                    const service = await handleImagesFiles(reconstructedService)\n                    const refDocID = await addOneSellerService(service)\n                    if (seller.category === \"nourriture\")\n                        await addFoodTypeToSeller(service.foodType !== undefined ? service.foodType : \"Aucun\")\n                    const newServiceWithId = { ...service, id: refDocID }\n                    setServices([...services, newServiceWithId])\n                    clearInputs()\n                    setIsServiceAddedCorrectly(true)\n                    setTimeout(() => {\n                        setIsServiceAddedCorrectly(false)\n                    }, 2000)\n                }\n            }\n            setIsFormOpen(false)\n            window.scrollTo(0, 0);\n        }\n        setAddingService(false)\n    }\n\n    async function handleImagesFiles(service) {\n        let newServiceImageArray = service.images.filter(image => !image.localURL)\n        let newServiceArray = {\n            description: service.description,\n            id: service.id,\n            name: service.name,\n            images: newServiceImageArray,\n            price: service.price,\n            category: seller.category,\n            variations: service.variations,\n            foodType: service.foodType !== undefined ? service.foodType : \"Aucun\"\n        }\n\n        for (var i = 0; i < service.images.length; i++) {\n            if (service.images[i].localURL) {\n                const token = Math.random().toString(36).substr(2, 19)\n                const url = await handleUploadFile(service.images[i], token)\n                let newImg = { url: url, token: token }\n                newServiceImageArray.push(newImg)\n                newServiceArray.images = newServiceImageArray\n                pictureTokensToDelete.length > 0 && deleteOldSellerPicture(pictureTokensToDelete, \"services\")\n            }\n        }\n        return newServiceArray\n    }\n\n    function handleUploadFile(image, token) {\n        return new Promise((resolve, reject) => {\n            const upload = storage.ref(`services/${token}`).put(image)\n            upload.on(\n                \"state_changed\", snapshot => { },\n                error => {\n                    console.log(error)\n                }, () => {\n                    storage\n                        .ref(\"services\")\n                        .child(token)\n                        .getDownloadURL()\n                        .then(url => {\n                            resolve(url);\n                        })\n                        .catch(error => {\n                            console.error(error)\n                            reject(error);\n                        })\n                }\n            )\n        })\n    }\n\n    function handleClickedAddService() {\n        setIsVariations(false)\n        clearInputs()\n        setIsFormOpen(true)\n    }\n\n    async function handleDeleteService(serviceID) {\n        const isAllowed = await isSellerAllowedToModifyAndDeleteService(serviceID)\n        if (isAllowed) {\n            if (seller.category === \"nourriture\")\n                await deleteFoodTypeToSeller(serviceID)\n            await deleteServiceOfSeller(serviceID)\n            const services = await getServicesOfCurrentSellerFromDB()\n            setServices(services)\n        }\n    }\n\n    function handleVariationChanged(type, val, key) {\n        let newVariations = [...newService.variations]\n        let newVariation = { ...newService.variations[key] }\n        if (type === \"name\") newVariation.name = val\n        else if (type === \"price\") newVariation.price = val\n        newVariations[key] = newVariation\n        setNewService({ ...newService, variations: newVariations })\n    }\n\n    function handleDeleteVariation(key) {\n        let newVariations = [...newService.variations]\n        newVariations.splice(key, key + 1)\n        setNewService({ ...newService, variations: newVariations })\n        setCurrentDeletingVariation(-1)\n        setIsPopupConfirmDeleteOpened(false)\n    }\n\n    function handleFoodTypeChanged(e) {\n        let newNewService = { ...newService }\n        newNewService.foodType = e.target.value\n        setNewService(newNewService)\n    }\n\n    return (\n        <>\n            <CSSTransition\n                in={!isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <Loader />\n            </CSSTransition>\n\n            <CSSTransition\n                in={isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <div className=\"prest_Dashboard_Services\">\n\n                    <section className=\"prest_dashboard_header\">\n                        <div className=\"Prest-Step2-Header\">\n                           <SubTitle type=\"big\" font=\"roboto-bold\" value=\"Modifications de vos services\" />\n                            {/*<p>Sur cette page, vous pourrez modifier les services que vous aurez créés au préalable lors de votre\n                                inscription.<br />\n                                L'indication de vos services maximales autorisés est en lien avec notre programme de parrainage.<br />\n    Pour en savoir plus cliquez-ici</p>*/}\n                            <div className=\"servicesListeContainer\">\n                                {\n                                    services.map((item, key) => {\n                                        return (\n                                            <div>\n                                                <div\n                                                    className=\"detailsServiceItem active\"\n                                                    onClick={() => handleServiceClicked(item)}\n                                                    key={key}\n                                                >\n                                                    <div className=\"serviceItem\">\n                                                        <div className=\"imgDetailsServiceItem\">\n                                                            <Image url={item.images[0].localURL || item.images[0].url} />\n                                                        </div>\n                                                        <div className=\"contentDetailsServiceItem\">\n                                                            <p className=\"title\">{item.name}</p>\n                                                            <p>{item.variations > 0 ? item.variations[0].price : item.price},00€</p>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div className=\"detailsServiceItem_buttons\">\n                                                    <a href=\"#details\">\n                                                    <ButtonSmall\n                                                        onClick={() => handleServiceClicked(item)}\n                                                        color=\"grey\"\n                                                        value=\"Modifier le service\"\n                                                    /></a>\n                                                    <ButtonSmall\n                                                        onClick={() => handleDeleteService(item.id)}\n                                                        color=\"red\"\n                                                        value=\"Supprimer le service\"\n                                                    />\n                                                </div>\n                                            </div>\n                                        )\n                                    })}\n                                {services < 5 && <label onClick={() => handleClickedAddService()} className=\"label-file\">+</label>}\n                            </div>\n                            <span>{services.length} / 5</span>\n                        </div>\n                    </section>\n                    <div id=\"details\" className=\"divider\"></div>\n\n                    <section className={`addServiceWrapper ${isFormOpen && \"active\"}`}>\n                        <div className=\"Prest-Step2-Section0\">\n                            <Title value=\"Type de service:\" type=\"h3\" font=\"roboto-medium\" align=\"left\" />\n                            <div className=\"Prest-Step2-Section0_serviceType\">\n                                <Title onClick={() => setIsVariations(false)} customClass={!isVariations && \"active\"} value=\"Service simple\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                <Title onClick={() => { newService.variations.length === 0 && setNewService({ ...newService, variations: [{ name: \"\", price: 0 }] }); setIsVariations(true) }} customClass={isVariations && \"active\"} value=\"Service variable\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                            </div>\n                        </div>\n                        <span onClick={() => setIsFormOpen(false)} className=\"closeIcon\">\n                            <FaTimes />\n                        </span>\n                        <div className={`Prest-Step2-Section1 ${isVariations ? \"noFlex\" : \"\"}`}>\n                            <div className=\"left\">\n                                <Title value=\"Intitulé du service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                <p>Le nom de votre offre, par exemple : x5 fleurs de décorations de table</p>\n                                <div className=\"formField withoutMargin\">\n                                    <input\n                                        className={error.type === \"name\" && \"invalid\"}\n                                        id=\"serviceName\"\n                                        type=\"text\"\n                                        value={newService.name}\n                                        onChange={(e) => (setError({ type: \"\", message: \"\" }), setNewService({ ...newService, name: e.target.value }))}\n                                    />\n                                </div>\n                            </div>\n                            {!isVariations &&\n                                <div className=\"right\">\n                                    <Title value=\"Prix de votre service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                    <div className=\"formField withoutMargin\">\n                                        <NumericInput\n                                            format={euroFormat}\n                                            className=\"form-control\"\n                                            value={newService.price}\n                                            min={0}\n                                            max={1000}\n                                            step={20}\n                                            precision={0}\n                                            size={9}\n                                            mobile\n                                            onChange={(value) => (setError({ type: \"\", message: \"\" }), setNewService({ ...newService, price: value }))}\n                                        />\n                                    </div>\n                                </div>\n                            }\n                        </div>\n                        {\n                            seller.category === \"nourriture\" &&\n                            <div className=\"Prest-Step2-Section1bis\">\n                                <Title value=\"Régime alimentaire\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                <RadioGroup\n                                    row\n                                    aria-label=\"gender\"\n                                    name=\"row-radio-buttons-group\"\n                                    onChange={handleFoodTypeChanged}\n                                    value={newService.foodType !== undefined ? newService.foodType : \"Aucun\"}\n                                >\n                                    <FormControlLabel value=\"Vegan\" control={<Radio />} label=\"Vegan\" />\n                                    <FormControlLabel value=\"Casher\" control={<Radio />} label=\"Casher\" />\n                                    <FormControlLabel value=\"Halal\" control={<Radio />} label=\"Halal\" />\n                                    <FormControlLabel value=\"Vegetarien\" control={<Radio />} label=\"Végétarien\" />\n                                    <FormControlLabel value=\"Aucun\" control={<Radio />} label=\"Aucun\" />\n                                </RadioGroup>\n                            </div>\n\n                        }\n\n                        <div className=\"Prest-Step2-Section2\">\n                            <Title value=\"Description de votre service\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                            <p>Décrivez au mieux le service que vous proposez au travers de cette offre.</p>\n                            <textarea\n                                value={newService.description}\n                                onChange={(e) => setNewService({ ...newService, description: e.target.value })}\n                                className={error.type === \"description\" && \"invalid\"}\n                            >\n                            </textarea>\n                        </div>\n\n                        {isVariations > 0 &&\n                            <div className=\"Prest-Step2-Section2bis\">\n                                <Title value=\"Création des déclinaisons\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                <div className=\"Prest-Step2-Section2bis_variations\">\n                                    {newService.variations.map((variation, key) => {\n                                        return <>\n                                            <div className=\"variation_header\">\n                                                <Title value={`Variation ${key}`} type=\"h3\" font=\"roboto-medium\" align=\"left\" />\n                                                <IconButton\n                                                    onClick={() => { setCurrentDeletingVariation(key); setIsPopupConfirmDeleteOpened(true) }}\n                                                    color=\"error\"\n                                                    aria-label=\"delete\"\n                                                >\n                                                    <DeleteIcon />\n                                                </IconButton>\n                                                {(isPopupConfirmDeleteOpened && currentDeletingVariation === key) &&\n                                                    <BoxConfirm\n                                                        type=\"delete\"\n                                                        position=\"bottom\"\n                                                        callback={() => handleDeleteVariation(key)}\n                                                        callbackClose={() => { setCurrentDeletingVariation(-1); setIsPopupConfirmDeleteOpened(false) }}\n                                                    />\n                                                }\n                                            </div>\n                                            <div className=\"Prest-Step2-Section2bis_variation_item\"><div className=\"left\">\n                                                <Title value=\"Intitulé de la variation\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                                <p>Le nom de votre variation, par exemple : 6 parts/6 personnes</p>\n                                                <div className=\"formField withoutMargin\">\n                                                    <input\n                                                        className={error.type === \"name\" && \"invalid\"}\n                                                        id=\"serviceName\"\n                                                        type=\"text\"\n                                                        value={newService.variations[key].name}\n                                                        onChange={(e) => handleVariationChanged(\"name\", e.target.value, key)}\n                                                    />\n                                                </div>\n                                            </div>\n                                                <div className=\"right\">\n                                                    <Title value=\"Prix de la variation\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                                                    <div className=\"formField withoutMargin\">\n                                                        <NumericInput\n                                                            format={euroFormat}\n                                                            className=\"form-control\"\n                                                            value={newService.variations[key].price}\n                                                            min={1}\n                                                            max={1000}\n                                                            step={1}\n                                                            precision={0}\n                                                            size={9}\n                                                            mobile\n                                                            onChange={(value) => handleVariationChanged(\"price\", value, key)}\n                                                        />\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </>\n                                    })}\n                                </div>\n                                <ButtonSmall\n                                    onClick={() => setNewService({ ...newService, variations: [...newService.variations, { name: \"\", price: 0 }] })}\n                                    color=\"blue\"\n                                    value=\"Ajouter une variation\"\n                                    marginTop=\"20px\"\n                                    classname=\"flex\"\n                                    iconMUIStart={<AddIcon />}\n                                />\n                            </div>\n                        }\n\n                        <div className=\"Prest-Step2-Section3\">\n                            <Title value=\"Photos du services\" type=\"h2\" font=\"roboto-medium\" align=\"left\" />\n                            {(error.type === \"imageSize\" || error.type === \"imageType\" || error.type === \"noPictures\") && <p className=\"errorMessage\">{error.message}</p>}\n                            <p>Plusieurs photos peuvent être utile pour le client, cela lui permettra de voir votre service plus en détails.</p>\n                            <div className=\"servicesListeContainer\">\n                                {newService.images.map((item, key) => { return <div key={key} onClick={() => handleDeletePicture(item.localURL || item.url)}><Image url={item.localURL || item.url} /><FaTrashAlt color={\"white\"} size={32} /></div> })}\n                                {newService.images.length < 3 && <label htmlFor=\"file\" className=\"label-file\">+</label>}\n                            </div>\n\n                            <input accept=\"image/jpeg, image/jpg, image/png\" id=\"file\" className=\"input-file\" type=\"file\" onChange={(e) => handleChange(e)} />\n                            <div className=\"Prest-Step2-Section3-bottom\">\n                                <p>2Mo max par photo</p>\n                                <p>Type de fichiers acceptés : jpeg, jpg, PNG</p>\n                                <ButtonSmall\n                                    onClick={() => document.getElementById('file').click()}\n                                    color=\"grey\"\n                                    value=\"Ajouter une image\"\n                                    marginTop=\"20px\"\n                                    disabled={newService.images.length >= 4}\n                                />\n                            </div>\n                            <div className=\"buttonSaveOffer\">\n                                {error.type === \"maxServices\" && <p className=\"errorMessage\">{error.message}</p>}\n                                {error.type === \"name\" && <p className=\"errorMessage\">{error.message}</p>}\n                                {error.type === \"description\" && <p className=\"errorMessage\">{error.message}</p>}\n                                <ButtonSmall\n                                    onClick={() => setIsPopupConfirmSaveOpened(true)}\n                                    color=\"green\"\n                                    value=\"Sauvergarder cette offre\"\n                                    marginTop=\"20px\"\n                                    disabled={addingService}\n                                />\n                                {isPopupConfirmSaveOpened &&\n                                    <BoxConfirm\n                                        type=\"save\"\n                                        position=\"top\"\n                                        callback={() => handleAddService()}\n                                        callbackClose={() => setIsPopupConfirmSaveOpened(false)}\n                                    />\n                                }\n                            </div>\n                        </div>\n\n                        <div className=\"divider\"></div>\n\n                    </section>\n                    <div className=\"Prest-Step2-Section4\">\n                        <ButtonLarge\n                            onClick={() => setStep(1)}\n                            color=\"orange\"\n                            width=\"400px\"\n                            value=\"Revenir au tableau de bord\"\n                        />\n                    </div>\n                </div>\n            </CSSTransition>\n            <CSSTransition\n                in={isServiceAddedCorrectly}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <div className=\"serviceAddedMessage inDashboard\">\n                    <p>Annonce sauvegardée avec succès</p>\n                </div>\n            </CSSTransition>\n        </>\n    )\n}\n\nexport default Prest_Dashboard_Services","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Commandes.js",["1277"],"import React, { useState, useEffect } from 'react'\nimport { useAuth } from '../context/userContext'\nimport { CSSTransition } from 'react-transition-group'\n\nimport Loader from './Loader'\nimport ModalYesNo from './utilities/ModalYesNo'\n\nimport Title from './utilities/Title'\nimport SubTitle from './utilities/SubTitle'\nimport { ButtonSmall } from './utilities/Buttons'\nimport Image from '../components/utilities/Image'\nimport PrintIcon from '@mui/icons-material/Print';\nimport { FaChevronDown } from 'react-icons/fa';\nimport IconButton from '@mui/material/IconButton';\n\nimport Fade from '@mui/material/Fade';\n\nconst Prest_Dashboard_Commandes = () => {\n\n    const {\n        seller,\n        getSalesOfSellerIdFromDB,\n        formateToDateWithWords,\n        formateToDate,\n        formatLabelTimePicker,\n        updateSaleStatusInDB,\n        updateSaleNote,\n        sendInBlue_sendBillRequestToAdmin\n    } = useAuth()\n\n    const [openedEvent, setOpenedEvent] = useState(\"\")\n    const [sales, setSales] = useState([]);\n    const [noteObj, setNoteObj] = useState({ saleID: 0, message: \"\" });\n    const [isModalOpened, setIsModalOpened] = useState(false);\n    const [currentKey, setCurrentKey] = useState();\n\n    const [filterStatus, setFilterStatus] = useState(\"\");\n    const [filterYear, setFilterYear] = useState(0);\n\n    const [isBillEmailSent, setIsBillEmailSent] = useState(false);\n\n    const [isMounted, setIsMounted] = useState(false);\n\n    useEffect(() => {\n        getSales().then(() => {\n            setIsMounted(true)\n        })\n    }, [])\n\n    async function getSales() {\n        const salesList = await getSalesOfSellerIdFromDB(seller.uid)\n        return setSales(salesList)\n    }\n\n    async function handleActionSale(key, status) {\n        if (status === \"rejected\") {\n            setIsModalOpened(true)\n            setCurrentKey(key)\n            return\n        }\n        else {\n            let sale = sales.filter(sale => sale.id === key)\n            sale[0].status = status\n            let newSales = sales.filter(sale => sale.id !== key)\n            newSales = [...newSales, sale[0]]\n            await updateSaleStatusInDB(sale[0].id, sale[0].sellerID, status)\n            return setSales(newSales)\n        }\n\n    }\n\n    async function handleModalYesNoReturn(val) {\n        setIsModalOpened(false)\n        if (val === \"no\") return\n\n        let sale = sales.filter(sale => sale.id === currentKey)\n        sale[0].status = \"rejected\"\n        let newSales = sales.filter(sale => sale.id !== currentKey)\n        newSales = [...newSales, sale[0]]\n        await updateSaleStatusInDB(sale[0].id, sale[0].sellerID, \"rejected\")\n        return setSales(newSales)\n    }\n\n    function handleChangeNote(saleID, value) {\n        setNoteObj({ saleID, message: value })\n    }\n\n    async function handleSaveNote(eventID) {\n        let newSale\n        let newSaleList = [...sales]\n        sales.forEach((sale, key) => {\n            if (sale.eventID === eventID) {\n                newSale = sale\n                newSale.note = noteObj.message\n                newSaleList[key] = newSale\n            }\n        })\n        await updateSaleNote(noteObj.saleID, noteObj.message)\n        setSales(newSaleList)\n        return\n    }\n\n    function handleOpeningSale(key) {\n        if (openedEvent === key) {\n            setOpenedEvent(\"\")\n            setNoteObj({ saleID: 0, message: \"\" })\n        } else {\n            setOpenedEvent(key)\n            let newSale = {}\n            sales.forEach(sale => {\n                if (sale.id === key) {\n                    newSale = sale\n                }\n            })\n            setNoteObj({ saleID: key, message: newSale.note })\n        }\n    }\n\n    function getStartYearMinus(val) {\n        let yearWanted = new Date(new Date().setFullYear(new Date().getFullYear() - val))\n        yearWanted = yearWanted.getFullYear()\n        const dateWanted = new Date(yearWanted, 0, 1)\n        return dateWanted.getTime()\n    }\n\n    function getEndYearMinus(val) {\n        let yearWanted = new Date(new Date().setFullYear(new Date().getFullYear() - val))\n        yearWanted = yearWanted.getFullYear()\n        const dateWanted = new Date(yearWanted, 12, 31)\n        return dateWanted.getTime()\n    }\n\n    function handlePrintClicked(transcationID, sellerID) {\n        sendInBlue_sendBillRequestToAdmin(transcationID, sellerID).then(res => {\n            if (res === true) {\n                setIsBillEmailSent(true)\n                setTimeout(() => {\n                    setIsBillEmailSent(false)\n                }, 2000)\n            }\n        })\n    }\n\n    return (\n        <>\n            <CSSTransition\n                in={!isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <Loader />\n            </CSSTransition>\n\n            <CSSTransition\n                in={isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <div className=\"prest_Dashboard_Commandes\">\n\n                    <section className=\"prest_dashboard_header\">\n                        <div>\n                            <SubTitle type=\"big\" font=\"roboto-bold\" value=\"Commandes reçues\" />\n                            <p>Vos commandes récentes s'afficheront ici, ne s'afficherint que celle de l'année en cours.<br />\n                                Si vous avez besoin de voit vos commandes archivées, vous pourrez y accéder en filtrant\n                                les commandes à afficher dans la liste ci-dessous.</p>\n                        </div>\n                    </section>\n\n                    <section className=\"prest_dashboard_commandes_list\">\n                        <div className=\"prest_dashboard_commandes_list__header\">\n                            <div>\n                                <label>Filtrer par:</label>\n                                <div className=\"filterBloc\">\n                                    <div className=\"filterField year\">Année <FaChevronDown /></div>\n                                    <div className=\"filterOptions year\">\n                                        <div onClick={() => setFilterYear(0)}>{new Date().getFullYear()}</div>\n                                        <div onClick={() => setFilterYear(1)}>{new Date().getFullYear() - 1}</div>\n                                        <div onClick={() => setFilterYear(2)}>{new Date().getFullYear() - 2}</div>\n                                        <div onClick={() => setFilterYear(3)}>{new Date().getFullYear() - 3}</div>\n                                    </div>\n                                </div>\n\n                                <div className=\"filterBloc\">\n                                    <div className=\"filterField year\">Statut <FaChevronDown /></div>\n                                    <div className=\"filterOptions year\">\n                                        <div onClick={() => setFilterStatus(\"\")}>Tous</div>\n                                        <div onClick={() => setFilterStatus(\"validated\")}>Validé</div>\n                                        <div onClick={() => setFilterStatus(\"rejected\")}>Rejeté</div>\n                                        <div onClick={() => setFilterStatus(\"pending\")}>En attente</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        {sales\n                            .filter(sale => sale.date > getStartYearMinus(filterYear) && sale.date < getEndYearMinus(filterYear))\n                            .filter(sale => (filterStatus.length > 0 ? sale.status === filterStatus : sale.status.length > 0))\n                            .sort((a, b) => b.date - a.date)\n                            .map((sale, key) =>\n                                <div key={key} className=\"prest_dashboard_commandes_list__item\">\n                                    <div className=\"item__header\">\n\n                                        <p className=\"commandTitle\">Commande #{sale.id} - <span>{formateToDate(sale.date)}</span>\n                                            {(sale.status === \"validated\") &&\n                                                // Traitement à changer, je lemet comme ça pour qu'il soit visible \n                                                // de Léo, mais ensuite on devra ne l'afficher que sur c'est à \"passed\"\n                                                <>\n                                                    <IconButton onClick={() => handlePrintClicked(sale.transactionID, sale.sellerID)} aria-label=\"bill\">\n                                                        <PrintIcon />\n                                                    </IconButton>\n                                                    <Fade in={isBillEmailSent}>\n                                                        <div className=\"confirmBox_print\">\n                                                            <p>Votre demande de facture a bien été prise en compte, vous recevrez un mail d'ici peu.</p>\n                                                        </div>\n                                                    </Fade>\n                                                </>\n                                            }\n                                        </p>\n                                        <p className=\"blueLink\" onClick={() => handleOpeningSale(sale.id)}>\n                                            {openedEvent === sale.id ? \"Fermer les détails de la commande\" : \"Voir les détails de la commande\"}\n                                        </p>\n                                        <p className=\"commandTitle\">Montant de la commande : <span>{sale.total}€</span></p>\n                                    </div>\n                                    <div className=\"item__content\">\n\n                                        <div className={`item__content__left imagesSuperpos ${openedEvent === sale.id && \"closed\"}`}>\n                                            {sale.choosedServices.slice(0, 3).map(service =>\n                                                <div><Image url={service.image} /></div>\n                                            )}\n                                        </div>\n                                        <div className={`item__content__right ${sale.status}`}>\n                                            <div>\n                                                <label>Date de l'évènement :</label>\n                                                <p>{formateToDateWithWords(sale.eventDate)}</p>\n                                            </div>\n                                            <div>\n                                                <label>Nombre de personne :</label>\n                                                <p>{sale.people} personnes</p>\n                                            </div>\n                                            <div>\n                                                <label>Créneau :</label>\n                                                <p>Commence à <span>{formatLabelTimePicker(sale.startAt)}</span> & se termine à <span>{formatLabelTimePicker(sale.endAt)}</span>\n                                                </p>\n                                            </div>\n                                            <div>\n                                                <label>Nombre de m² :</label>\n                                                <p>{sale.placeSize}m²</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div\n                                        className={openedEvent === sale.id ? \"item__details active\" : \"item__details\"}\n                                    >\n                                        <div className=\"item__details__services__list\">\n                                            {sale.choosedServices.map((service, key) =>\n                                                <div key={key} className=\"item__details__services__item\">\n                                                    <div className=\"services__item__left\">\n                                                        <div>\n                                                            <img src={service.image} alt=\"\" />\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"services__item__right\">\n                                                        <p>{service.name}</p>\n                                                        <div>\n                                                            <span className=\"price\">{service.price}€</span>\n                                                            <span className=\"quantity\">x{service.quantity}</span>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            )}\n                                        </div>\n                                        <div className=\"item__details__note\">\n                                            <Title type=\"h2\" font=\"roboto-bold\" value=\"Ajouter une note pense-bête\" />\n                                            <p>Si vous avez besoin de noter quelque chose à ne pas oublier concernant cette commande, c'est ici.</p>\n                                            <textarea value={noteObj.message} onChange={(e) => handleChangeNote(sale.id, e.target.value)}></textarea>\n                                            {noteObj.message !== sale.note && <ButtonSmall onClick={() => handleSaveNote(sale.eventID)} color=\"blue\" value=\"Sauvegarder\" />}\n                                        </div>\n                                    </div>\n                                    <div className=\"item__bottom\">\n                                        <div className=\"item__bottom__left\">\n                                            <p>Reste à payer à charge du client : {sale.paid !== sale.total ? (sale.total * 0.7).toFixed(2) : 0}€</p>\n                                            <span>Ce montant sera réglé 2 jours avant le début de l'évènement</span>\n                                        </div>\n\n                                        <CSSTransition\n                                            in={sale.status !== \"pending\"}\n                                            timeout={0}\n                                            classNames=\"opacityTransition\"\n                                            unmountOnExit\n                                        >\n                                            <div className=\"item__bottom__center\">\n                                                <p className={sale.status}>\n                                                    Statut : <span>{sale.status === \"validated\" ? \"Validé\" : \"Refusé\"}</span>\n                                                </p>\n                                            </div>\n                                        </CSSTransition>\n                                        {sale.status === \"pending\" &&\n                                            <div className=\"item__bottom__right\">\n                                                <ButtonSmall onClick={() => handleActionSale(sale.id, \"rejected\")} color=\"red\" value=\"Refuser la commande\" />\n                                                <ButtonSmall onClick={() => handleActionSale(sale.id, \"validated\")} color=\"green\" value=\"Accepter la commande\" />\n                                            </div>\n                                        }\n\n                                        <CSSTransition\n                                            in={sale.status === \"validated\"}\n                                            timeout={200}\n                                            classNames=\"fromLeftTransition\"\n                                            unmountOnExit\n                                        >\n                                            <ButtonSmall onClick={() => handleActionSale(sale.id, \"rejected\")} color=\"red\" value=\"Annuler la commmande\" />\n                                        </CSSTransition>\n\n                                    </div>\n                                    <CSSTransition\n                                        in={isModalOpened}\n                                        timeout={200}\n                                        classNames=\"pageTransition\"\n                                        unmountOnExit\n                                    >\n                                        <ModalYesNo\n                                            callback={(val) => handleModalYesNoReturn(val)}\n                                            value=\"L'annulation d'une commande est irréversible.\"\n                                        />\n                                    </CSSTransition>\n                                </div>\n                            )}\n                    </section>\n                </div>\n            </CSSTransition>\n        </>\n    )\n}\n\nexport default Prest_Dashboard_Commandes","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/Prest_Dashboard_Dashboard.js",["1278"],"import { useState, useEffect } from 'react'\nimport { useAuth } from '../context/userContext'\nimport { CSSTransition } from 'react-transition-group'\n\nimport Title from './utilities/Title'\nimport SubTitle from './utilities/SubTitle'\nimport { ButtonSmall } from './utilities/Buttons'\nimport Image from '../components/utilities/Image'\nimport ModalYesNo from './utilities/ModalYesNo'\n\nimport imgwitness from '../images/witness.svg'\nimport imgwishlist from '../images/wishlist.svg'\nimport imgshooping from '../images/shopping-bag.svg'\nimport emptyStar from \"../images/starempty.png\"\nimport star from \"../images/star.svg\"\nimport greenTrace from \"../images/greenTrace.png\"\n\nimport EarningChart from '../components/EarningChart'\nimport NoteWidget from '../components/NoteWidget'\nimport Loader from './Loader'\n\n\nconst Prest_Dashboard_Dashboard = ({ setStep }) => {\n\n    const [isMounted, setIsMounted] = useState(false);\n    const [sales, setSales] = useState([]);\n    const [monthlyEarns, setmMonthlyEarns] = useState(0);\n    const [monthlySales, setmMonthlySales] = useState(0);\n    const [monthlyViews, setmMonthlyViews] = useState(0);\n    const [isModalOpened, setIsModalOpened] = useState(false)\n    const [totalAmount, setTotalAmount] = useState(0)\n    const [wishListCount, setWishListCount] = useState(0)\n    const [reviews, setReviews] = useState([])\n    const [position, setPosition] = useState(0)\n    const [sellersCount, setSellersCount] = useState(0)\n\n    const { seller,\n        getSalesOfSellerIdFromDB,\n        formateToDateWithWords,\n        formateToDate,\n        getViewsOfSeller,\n        sendInBlue_sendPaymentRequestToAdmin,\n        getTotalAmountDueToSeller,\n        getWishListCountOfSeller,\n        getReviewsOfSellerUid,\n        getSellerPosition,\n        getSellersCount } = useAuth()\n\n    useEffect(() => {\n        getSales().then(salesList => {\n            getMonthlyEarns(salesList).then(res => {\n                setmMonthlyEarns(res)\n                getMonthlySales(salesList).then(res => {\n                    setmMonthlySales(res)\n                    getMonthlyViews().then(res => {\n                        setmMonthlyViews(res)\n                        getWishListCountOfSeller(seller.uid).then(res => {\n                            setWishListCount(res)\n                            getReviewsOfSellerUid(seller.uid).then(res => {\n                                setReviews(res)\n                                getPositionOfSeller().then(res => {\n                                    getSellersCount().then(res => {\n                                        setSellersCount(res)\n                                        setIsMounted(true)\n                                    })\n                                })\n                            })\n                        })\n                    })\n                })\n            })\n        })\n    }, [])\n\n    async function getSales() {\n        const salesList = await getSalesOfSellerIdFromDB(seller.uid)\n        setSales(salesList)\n        return salesList\n    }\n\n    async function getMonthlyEarns(salesList) {\n        const lastMonthEarns = salesList.filter(sale => sale.date > dateTodayMinusByDay(30) && sale.status === \"validated\" && sale.total === sale.paid)\n        let earns = 0\n        lastMonthEarns.map(sale => earns = earns + sale.total)\n        return earns\n    }\n\n    async function getMonthlySales(salesList) {\n        const lastMonthSales = salesList.filter(sale => sale.date > dateTodayMinusByDay(30) && sale.status === \"validated\")\n        const lastMonthServices = []\n        lastMonthSales.forEach(sale => {\n            sale.choosedServices.forEach(service => {\n                lastMonthServices.push(service)\n            })\n        })\n        return lastMonthServices.length\n    }\n\n    async function getMonthlyViews() {\n        const views = await getViewsOfSeller(seller.uid)\n        const lastMonthViews = views.filter(view => view.date.seconds * 1000 > dateTodayMinusByDay(30))\n        return lastMonthViews\n    }\n\n    function dateTodayMinusByDay(day) {\n        const date = new Date()\n        date.setHours(date.getHours() - (24 * day))\n        return date\n    }\n\n    function dateTodayPlusByDay(day) {\n        const date = new Date()\n        date.setHours(date.getHours() + (24 * day))\n        return date\n    }\n\n    function getDaysLeftBeforeSaleDelete(eventDate) {\n        const daysLeftTimestamp = (eventDate.seconds * 1000 || eventDate) - Date.now()\n        const daysLeft = Math.ceil(daysLeftTimestamp / 1000 / 86400)\n        return daysLeft - 10 === 0 ? \"aujourd'hui\" : `${daysLeft - 10} jours`\n    }\n\n    async function handlePaymentRequest() {\n        const amount = await getTotalAmountDueToSeller()\n        setTotalAmount(amount)\n        setIsModalOpened(true)\n    }\n\n    function handleYesNoRequestPayment(val) {\n        if (val === \"yes\") {\n            if (totalAmount > 10) {\n                sendInBlue_sendPaymentRequestToAdmin()\n            }\n            else {\n\n            }\n        }\n        setIsModalOpened(false)\n    }\n\n    async function getPositionOfSeller() {\n        const position = await getSellerPosition(seller.uid)\n        setPosition(position)\n    }\n\n    return (\n        <>\n            <CSSTransition\n                in={!isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <Loader />\n            </CSSTransition>\n\n            <CSSTransition\n                in={isMounted}\n                timeout={300}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <div className=\"prest_Dashboard_Dashboard\">\n\n                    <section className=\"prest_dashboard_header\">\n                        <div className=\"dashboard_left_container\">\n                            <Title class=\"Revenusmois\" type=\"h2\" font=\"roboto-medium\" value=\"Revenus du mois actuel\" />\n                            <Title type=\"h1\" font=\"roboto-bold\" value={`${monthlyEarns}€`} />\n                            <ButtonSmall onClick={() => handlePaymentRequest()} color=\"blue\" value=\"Demander un virement\" />\n                        </div>\n                        <div className=\"dashboard_statsHeader_container\">\n                            <div className=\"item\">\n                                <div className=\"image blue\"><span><Image url={imgwitness} /></span></div>\n                                <div className=\"content\">\n                                    <Title type=\"h2\" font=\"roboto-bold\" value={`${monthlyViews.length}`} />\n                                    <span></span>\n                                    <SubTitle color=\"grey\" type=\"big\" font=\"roboto-bold\" value=\"Nombre de vues mensuelles\" />\n                                </div>\n                            </div>\n                            <div className=\"item\">\n                                <div className=\"image red\"><span><Image url={imgwishlist} /></span></div>\n                                <div className=\"content\">\n                                    <Title type=\"h2\" font=\"roboto-bold\" value={wishListCount} />\n                                    <span></span>\n                                    <SubTitle color=\"grey\" type=\"big\" font=\"roboto-bold\" value=\"Ajouts en wishlist\" />\n                                </div>\n                            </div>\n                            <div className=\"item\">\n                                <div className=\"image yellow\"><span><Image url={imgshooping} /></span></div>\n                                <div className=\"content\">\n                                    <Title type=\"h2\" font=\"roboto-bold\" value={`${monthlySales}`} />\n                                    <span></span>\n                                    <SubTitle color=\"grey\" type=\"big\" font=\"roboto-bold\" value=\"Nombre de ventes mensuelles\" />\n                                </div>\n                            </div>\n                        </div>\n                    </section>\n\n                    <section className=\"prest_dashboard_1\">\n                        <div className=\"header\">\n                            <Title type=\"h2\" font=\"roboto-medium\" value=\"Vos commandes récentes\" />\n                            {sales.length > 0 &&\n                                <p className=\"blueLink\" onClick={() => setStep(2)}>Voir toutes les commandes</p>\n                            }\n                        </div>\n                        <div className=\"content\">\n\n                            {sales\n                                .filter(sale => sale.status !== \"rejected\")\n                                .sort((a, b) => b.date - a.date)\n                                .slice(0, 4)\n                                .map((sale, key) =>\n                                    <div className=\"item\" key={key}>\n                                        <div className=\"header\">\n                                            {sale.status === \"pending\" && <SubTitle color=\"#acacac\" type=\"big\" font=\"roboto-bold\" value=\"Commande récente en attente de validation\" />}\n                                            {sale.status === \"validated\" && <SubTitle color=\"rgb(127, 207, 127)\" type=\"big\" font=\"roboto-bold\" value=\"Commande validée\" />}\n                                        </div>\n                                        <div className=\"content\">\n                                            <div className=\"left imagesSuperpos\">\n                                                {sale.choosedServices.slice(0, 3).map(service =>\n                                                    <div><Image url={service.image} /></div>\n                                                )}\n                                            </div>\n                                            <div className=\"right\">\n                                                <p className=\"commandTitle\">Commande #{sale.id} - <span>{formateToDate(sale.date)}</span></p>\n                                                <p>Montant de la commande : <span>{sale.total}€</span></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                )}\n                            {sales.filter(sale => sale.status !== \"rejected\").length < 1 &&\n                                <div className=\"textInEmptyQuery\"><p>Aucune commande récente</p></div>\n                            }\n\n                        </div>\n                    </section>\n                    <section className=\"prest_dashboard_2\">\n                        <div className=\"header\">\n                            <Title type=\"h2\" font=\"roboto-medium\" value=\"Rappel\" />\n                        </div>\n                        <div className=\"content\">\n                            <div className=\"left\">\n                                <div className=\"header\">\n                                    <SubTitle type=\"big\" font=\"roboto-bold\" value=\"Évènements prochains à préparer\" />\n                                </div>\n                                <div className=\"content\">\n\n                                    {sales\n                                        .filter(sale => sale.eventDate < dateTodayPlusByDay(10) && sale.status === \"validated\")\n                                        .sort((a, b) => b.eventDate - a.eventDate)\n                                        .slice(0, 3)\n                                        .map((sale, key) =>\n                                            <div key={key} className={`item ${sale.eventDate < dateTodayPlusByDay(5) ? \"red\" : \"blue\"}`}>\n                                                <div className=\"left\">\n                                                    <p className=\"commandTitle\">Commande #{sale.id} - <span>{formateToDate(sale.date)}</span></p>\n                                                    <p className=\"blueLink\">Voir les détails de la commande</p>\n                                                </div>\n                                                <div className=\"right\">\n                                                    <label>Date de l'évènement :</label>\n                                                    <p>{formateToDateWithWords(sale.eventDate)}</p>\n                                                </div>\n                                            </div>\n                                        )}\n                                    {sales.filter(sale => sale.date > dateTodayMinusByDay(10) && sale.status === \"validated\").length < 1 &&\n                                        <div className=\"textInEmptyQuery\"><p>Aucun rappel</p></div>\n                                    }\n\n                                </div>\n                            </div>\n                            <div className=\"right\">\n                                <div className=\"header\">\n                                    <SubTitle type=\"big\" font=\"roboto-bold\" value=\"Commandes à valider/vérifier avant expiration\" />\n                                </div>\n                                <div className=\"content\">\n\n                                    {sales\n                                        .filter(sale => sale.eventDate < dateTodayPlusByDay(20) && sale.status === \"pending\")\n                                        .sort((a, b) => b.eventDate - a.eventDate)\n                                        .slice(0, 2)\n                                        .map((sale, key) =>\n                                            <div key={key} className=\"item\">\n                                                <div className=\"header\">\n                                                    <p>Commande toujours en attente de validation</p>\n                                                    <p>Expire: <span>{getDaysLeftBeforeSaleDelete(sale.eventDate)}</span></p>\n                                                </div>\n                                                <div className=\"content\">\n                                                    <div className=\"left imagesSuperpos\">\n                                                        {sale.choosedServices.slice(0, 3).map(service =>\n                                                            <div><Image url={service.image} /></div>\n                                                        )}\n                                                    </div>\n                                                    <div className=\"right\">\n                                                        <p className=\"commandTitle\">Commande #{sale.id} - <span>{formateToDate(sale.date)}</span></p>\n                                                        <p className=\"commandTitle\">Montant de la commande : <span>{sale.total}€</span></p>\n                                                    </div>\n                                                </div>\n                                                <div className=\"bottom\">\n                                                    <div>\n                                                        <label>Date de l'évènement :</label>\n                                                        <p>{formateToDateWithWords(sale.eventDate)}</p>\n                                                    </div>\n                                                    <div>\n                                                        <label>Nombre de personne :</label>\n                                                        <p>{sale.people} personnes</p>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        )}\n                                    {sales.filter(sale => sale.eventDate < dateTodayPlusByDay(20) && sale.status === \"pending\").length < 1 &&\n                                        <div className=\"textInEmptyQuery\"><p>Aucune commande à valider</p></div>\n                                    }\n\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"bottom\">\n                            <div className=\"legendeContainer\">\n                                <label>Légende :</label>\n                                <div className=\"blueLegend\">\n                                    <span></span>\n                                    <p>Prochainement</p>\n                                </div>\n                                <div className=\"redLegend\">\n                                    <span></span>\n                                    <p>Très prochainement</p>\n                                </div>\n                            </div>\n                            {sales.length > 0 &&\n                                <div className=\"buttonContainer\">\n                                    <ButtonSmall onClick={() => setStep(2)} color=\"blue\" value=\"Voir toutes les commandes\" />\n                                </div>\n                            }\n                        </div>\n                    </section>\n\n                    <section className=\"reviewsContainer\">\n                        <div className=\"reviewsContainer__header\">\n                            <Title type=\"h2\" font=\"roboto-medium\" value=\"Commentaires récents\" />\n                        </div>\n                        {reviews.length === 0 ?\n\n\n                            <div className=\"textInEmptyQuery\">\n                                <p>Aucun commentaire à afficher</p>\n                            </div>\n                            :\n                            <>\n                                <div className=\"reviewsContainer__content\">\n                                    <div className=\"reviewsContainer__left\">\n                                        <Title type=\"h2\" font=\"roboto-medium\" value=\"Votre note actuelle est\" />\n                                        <div className=\"reviewsContainer__globalNoteStars\">\n                                            <Image url={star} />\n                                            <Image url={star} />\n                                            <Image url={star} />\n                                            <Image url={star} />\n                                            <Image url={emptyStar} />\n                                        </div>\n\n                                        <div className=\"reviewsContainer__globalNote\">\n                                            <p>{seller.note}/5</p>\n                                        </div>\n\n                                        <div className=\"reviewsContainer__classement\">\n                                            <Title type=\"h2\" align=\"center\" font=\"roboto-medium\" value=\"Vous êtes classé*\" />\n                                            <div className=\"reviewsContainer__classementContent\">\n                                                <p>{position}ème<Image url={greenTrace} /></p>\n                                                <span>sur {sellersCount}</span>\n                                            </div>\n                                        </div>\n\n                                    </div>\n                                    <div className=\"reviewsContainer__right\">\n                                        <div className=\"reviewsContainer__cards__container\">\n                                            {reviews\n                                                .sort((a, b) => {\n                                                    var keyA = new Date(a.date),\n                                                        keyB = new Date(b.date);\n                                                    // Compare the 2 dates\n                                                    if (keyA < keyB) return -1;\n                                                    if (keyA > keyB) return 1;\n                                                    return 0;\n                                                })\n                                                .slice(0, 3)\n                                                .map(item =>\n                                                    <div className=\"reviewsContainer__card\">\n                                                        {new Date().getDate() - 7 < new Date(item.date.seconds * 1000).getDate() &&\n                                                            <span>Nouveau</span>\n                                                        }\n                                                        <h3>{item.name}</h3>\n                                                        <p className=\"reviewsContainer__card__subTitle\">Evènement du {formateToDate(item.eventDate.seconds * 1000)}</p>\n                                                        <p className=\"reviewsContainer__card__content\">{item.comment}</p>\n                                                        <NoteWidget note={item.note} />\n                                                    </div>\n                                                )}\n\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"reviewsContainer__bottom\">\n                                    <div className=\"reviewsContainer__bottom_button\">\n                                        <ButtonSmall color=\"grey\" value=\"Voir plus de commentaires\" />\n                                    </div>\n                                    <p>* Ce classement est généré en fonction du type de service que vous proposez\n                                        & du périmètre dans lequel vous vous trouvez par rapport aux autres préstataires</p>\n                                </div>\n                            </>\n                        }\n\n                    </section>\n\n                    <section className=\"chartContainer\">\n                        <div className=\"chartContainer__header\">\n                            <Title type=\"h2\" font=\"roboto-medium\" value=\"Vos statistiques\" />\n                        </div>\n                        <EarningChart sales={sales} />\n                    </section>\n\n                </div>\n            </CSSTransition>\n            <CSSTransition\n                in={isModalOpened}\n                timeout={200}\n                classNames=\"pageTransition\"\n                unmountOnExit\n            >\n                <ModalYesNo\n                    callback={(val) => handleYesNoRequestPayment(val)}\n                    value={`Solde actuel: ${totalAmount}€`}\n                    value2={totalAmount < 10 && \"Impossible de demander un virement, votre solde est nul.\"}\n                    disabled={totalAmount < 10 ? true : false}\n                />\n            </CSSTransition>\n        </>\n    )\n}\n\nexport default Prest_Dashboard_Dashboard","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/SellersMap.js",[],"/Users/bc/Desktop/New Nivid/Leo-Project/src/components/ServicesSlider.js",["1279","1280","1281","1282"],"import React, { useState, useRef } from \"react\";\nimport ReactLoading from 'react-loading';\nimport { items } from './servicesData'\n\nimport { ButtonSmall } from './utilities/Buttons'\nimport Image from './utilities/Image'\n\n\n\nconst ServicesSlider = (props) => {\n\n    // Props reçu de Etape2.js\n    const currentPageOffers = props.currentPageOffers\n    const setCurrentPageOffers = props.setCurrentPageOffers // function\n    const handleOpeningSellersDetails = props.handleOpeningSellersDetails // function\n    const sellers = props.sellers\n    const loading = props.loading\n    const leftBudget = props.leftBudget\n    // const isMobile = props.isMobile\n    const isMobile = () => (windowsWidth > 1100) ? false : true\n    const windowsWidth = props.windowsWidth\n    const selectedSubMenu = props.selectedSubMenu\n    const selectedMenu = props.selectedMenu\n\n    const [isDown, setIsDown] = useState(false)\n    const [startX, setStartX] = useState()\n    const [scrollLeft, setScrollLeft] = useState()\n\n    const [isSliderIsMoving, setIsSliderIsMoving] = useState(false)\n\n\n    // Compte le nombre d'offre pour le transmettre au slice() plus bas, \n    function offersCountLine(line) {\n        const count = sellers.length; // 6\n        const countPerLine = Math.round(count / 2); // 3\n        const firstLine = countPerLine;\n        const secondLineFirst = countPerLine;\n        const secondLineSecond = countPerLine * 2;\n        if (line === 1) { return firstLine }\n        else if (line === 2) { return secondLineFirst }\n        else if (line === 3) { return secondLineSecond }\n    }\n\n    // On va tester si la valeur n'est pas en dessous de 0, ou si elle n'est pas trop élevé en fonction du nombre de page\n    function handlePagination(val) {\n        const count = sellers.length; // 11 pour exemple\n        const maxPage = Math.ceil((Math.round(count / 2)) / 4); // 2 page max\n        if (val >= 0 && maxPage > 1 && val < maxPage) { setCurrentPageOffers(val) }\n    }\n\n    function isButtonDisabled(val) {\n        const count = sellers.length; // 11 pour exemple\n        const maxPage = Math.ceil((Math.round(count / 2)) / 4); // 2 page max\n        if (val >= 0 && maxPage > 1 && val < maxPage) { return null }\n        else { return \"disabled\" }\n    }\n\n    const container = isMobile ? windowsWidth : 450\n    const itemWidth = windowsWidth < 600 ? windowsWidth - (windowsWidth * 0.20) : 320\n    const itemHeight = itemWidth * 1.2\n\n    function handlePaginationMobile(val) {\n        const count = sellers.length; // 5 pour exemple\n        const maxPage = Math.ceil(count - (container / (itemWidth))); // 4\n        if (val <= maxPage && val >= 0 && (count - maxPage) >= 1) { setCurrentPageOffers(val) }\n    }\n\n    function isButtonMobileDisabled(val) {\n        const count = sellers.length; // 5 pour exemple\n        const maxPage = Math.ceil(count - (container / (itemWidth))); // 4\n        if (val <= maxPage && val >= 0 && (count - maxPage) >= 1) { return null }\n        else { return \"disabled\" }\n    }\n\n    const sliderSellers = useRef()\n\n    function handleMouseDownSliderHeader(e) {\n        setIsDown(true)\n        setStartX(windowsWidth < 1000 ? e.clientX : e.pageX - sliderSellers.current.offsetLeft)\n        setScrollLeft(sliderSellers.current.scrollLeft)\n        setIsSliderIsMoving(false)\n    }\n\n    function handleMouseLeaveAndUpSliderHeader() {\n        setIsDown(false)\n    }\n\n    function handleMouseMoveSliderHeader(e) {\n        if (!isDown) return\n        setIsSliderIsMoving(true)\n        e.preventDefault()\n        const x = windowsWidth < 1000 ? e.clientX : e.pageX - sliderSellers.current.offsetLeft;\n        const walk = (x - startX) * 2; //scroll-fast\n        sliderSellers.current.scrollLeft = scrollLeft - walk;\n    }\n\n    function handleSellerClicked(id) {\n        if (isSliderIsMoving) {\n            return;\n        }\n        else {\n            handleOpeningSellersDetails(id)\n        }\n    }\n\n    return loading ? <div className=\"offersContainer\"><ReactLoading className={isMobile() ? \"loadingSpinner mobile\" : \"loadingSpinner\"} type=\"spin\" color=\"rgba(245, 192, 67)\" height={50} width={50} /></div> : (\n        // 3 Condition ci dessous : Si on ismobile est false, si on est à  moins de 600px, et si on est entre les deux\n        !isMobile() ?\n            <div className=\"offersContainer\">\n                <div style={{ marginLeft: -(currentPageOffers * 204) }} className=\"offersLine\"\n                >\n                    {Object.entries(sellers\n                    .slice(0, offersCountLine(1)))\n                    .map(([key, item]) => {\n                        return (\n                            <div\n                                key={key}\n                                onClick={() => handleOpeningSellersDetails(item.id)}\n                                style={{ backgroundImage: `url(\"${item.image_path.url}\")` }}\n                                className=\"offersItem\"\n                            >\n                                <span className=\"bottom\">\n                                    <p>{item.companyName}</p>\n                                    <p>+ en savoir plus</p>\n                                </span>\n                            </div>\n                        )\n                    })}\n                </div>\n\n                {sellers.length === 0 &&\n                    <div className=\"noSellersAlert\">\n                        <Image url={items[selectedMenu][selectedSubMenu].icon} />\n                        <p>Il n’y a aucun prestataires actuellement dans cette catégorie, essayez une autre catégorie !</p>\n                    </div>\n                }\n\n                <div style={{ marginLeft: -(currentPageOffers * 204) }} className=\"offersLine\">\n                    {Object.entries(sellers\n                    .slice(offersCountLine(2), offersCountLine(3)))\n                    .map(([key, item]) => {\n                        return (\n                            <div\n                                key={key}\n                                onClick={() => handleOpeningSellersDetails(item.id)}\n                                style={{ backgroundImage: `url(\"${item.image_path.url}\")` }}\n                                className=\"offersItem\"\n                            >\n                                <span className=\"bottom\">\n                                    <p>{item.companyName}</p>\n                                    <p>- en savoir plus</p>\n                                </span>\n                            </div>\n                        )\n                    })}\n                </div>\n                {sellers.length != 0 &&\n                    <div className=\"offersListButtonContainer\">\n                        <ButtonSmall\n                            onClick={() => handlePagination(currentPageOffers - 1)}\n                            color=\"grey\"\n                            value=\"Précédent\"\n                            marginRight=\"20px\"\n                            disabled={isButtonDisabled(currentPageOffers - 1)}\n                        />\n                        <ButtonSmall\n                            onClick={() => handlePagination(currentPageOffers + 1)}\n                            color=\"grey\"\n                            value=\"Suivant\"\n                            marginRight=\"20px\"\n                            disabled={isButtonDisabled(currentPageOffers + 1)}\n                        />\n                    </div>\n                }\n            </div>\n\n            : windowsWidth < 600 ?\n                <div className=\"offersContainer mobile\">\n                    <div\n                        style={{ marginLeft: -(currentPageOffers * (windowsWidth - windowsWidth * 0.17)) }}\n                        className={isDown ? \"detailsServiceItemContainer active\" : \"detailsServiceItemContainer\"}\n                        ref={sliderSellers}\n                        onMouseDown={(e) => handleMouseDownSliderHeader(e)}\n                        onMouseLeave={() => handleMouseLeaveAndUpSliderHeader()}\n                        onMouseUp={() => handleMouseLeaveAndUpSliderHeader()}\n                        onMouseMove={(e) => handleMouseMoveSliderHeader(e)}\n                    >   \n                    \n                    {sellers.length > 1 &&\n                        <button style={{backgroundColor:'white', border:'0px'}} onClick={() => handlePaginationMobile(currentPageOffers + 1)}>\n                            <svg width=\"36\" height=\"36\" viewBox=\"0 0 24 24\">\n                                <path d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\"></path>\n                            </svg>\n                        </button>}\n                        {/* <ButtonSmall\n                            onClick={() => handlePaginationMobile(currentPageOffers + 1)}\n                            color=\"rgba(245, 192, 67)\"\n                            padding=\"77px 17px\"\n                            backgroundColor=\"white\"\n                            value=\"<\"\n                            disabled={isButtonMobileDisabled(currentPageOffers + 1)}\n                        /> */}\n                        {Object.entries(sellers).map(([key, item]) => {\n                            return (\n\n                                \n                                <div\n                                    key={key}\n                                    className={windowsWidth < 600 ? \"offersItem mobile\" : \"offersItem\"}\n                                    onClick={() => handleSellerClicked(item.id)}\n                                    style={{\n                                        backgroundImage: `url(\"${item.image_path.url}\")`,\n                                        minWidth: \"50vw\",\n                                        maxWidth: \"50vw\",\n                                        margin: \"0px 15px\",\n                                        maxHeight: \"80vw\",\n                                        minHeight: \"80vw\"\n                                    }}\n\n                                >\n                                    <span className=\"bottom\">\n                                        <p>{item.companyName}</p>\n                                        <p>+ en savoir plus</p>\n                                    </span>\n                                </div>\n                            )\n                        })}\n                        {/* <ButtonSmall\n                            onClick={() => handlePaginationMobile(currentPageOffers - 1)}\n                            color=\"rgba(245, 192, 67)\"\n                            value=\">\"\n                            backgroundColor=\"white\"\n                            padding=\"77px 17px\"\n                            disabled={isButtonMobileDisabled(currentPageOffers - 1)}\n                        /> */}\n                        {sellers.length > 1 && <button style={{backgroundColor:'white', border:'0px'}} onClick={() => handlePaginationMobile(currentPageOffers - 1)}>\n                            <svg width=\"36\" height=\"36\" viewBox=\"0 0 24 24\">\n                                <path d=\"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z\"></path>\n                            </svg>\n                        </button> }\n                    </div>\n                    {sellers.length === 0 &&\n                        <div className=\"noSellersAlert\">\n                            <Image url={items[selectedMenu][selectedSubMenu].icon} />\n                            <p>Il n’y a aucun prestataires actuellement dans cette catégorie, essayez une autre catégorie !</p>\n                        </div>\n                    }\n                    {leftBudget!=0 && \n                        <div class=\"mobilebudget\">\n                            II vous reste <span style={{color:'rgb(245, 192, 67)'}}>{leftBudget}€</span> de budget\n                        </div>\n                    }\n                    {leftBudget==0 &&\n                        <div>\n                            Quand on aime on  ne compte pas, toutefois vous venez de dépasser votre budget\n                        </div>\n                    }\n                </div>\n                \n\n                : (windowsWidth > 600 && isMobile()) &&\n                <div className=\"offersContainer mobile\">\n                    <div\n                        style={{ marginLeft: -(currentPageOffers * (itemWidth + 25)) }}\n                        className={isDown ? \"detailsServiceItemContainer active\" : \"detailsServiceItemContainer\"}\n                        ref={sliderSellers}\n                        onMouseDown={(e) => handleMouseDownSliderHeader(e)}\n                        onMouseLeave={() => handleMouseLeaveAndUpSliderHeader()}\n                        onMouseUp={() => handleMouseLeaveAndUpSliderHeader()}\n                        onMouseMove={(e) => handleMouseMoveSliderHeader(e)}\n\n                    >\n                        {Object.entries(sellers).map(([key, item]) => {\n                            return (\n\n                                <div\n                                    key={key}\n                                    className=\"offersItem\"\n                                    onClick={() => handleSellerClicked(item.id)}\n                                    style={{\n                                        backgroundImage: `url(\"${item.image_path.url}\")`,\n                                        minWidth: itemWidth,\n                                        maxWidth: itemWidth,\n                                        marginRight: '25px'\n                                    }}\n\n                                >\n                                    <span className=\"bottom\">\n                                        <p>{item.companyName}</p>\n                                        <p>+ en savoir plus</p>\n                                    </span>\n                                </div>\n                            )\n                        })}\n                    </div>\n                    {sellers.length === 0 &&\n                        <div className=\"noSellersAlert\">\n                            <Image url={items[selectedMenu][selectedSubMenu].icon} />\n                            <p>Il n’y a aucun prestataires actuellement dans cette catégorie, essayez une autre catégorie !</p>\n                        </div>\n                    }\n                    {sellers.length !== 0 &&\n                        <div className=\"buttonDuoDashboard mobile\">\n                        <ButtonSmall\n                            onClick={() => handlePaginationMobile(currentPageOffers + 1)}\n                            color=\"grey\"\n                            value=\"Suivant\"\n                            disabled={isButtonMobileDisabled(currentPageOffers + 1)}\n                        />\n                        <ButtonSmall\n                            onClick={() => handlePaginationMobile(currentPageOffers - 1)}\n                            color=\"grey\"\n                            value=\"Précédent\"\n                            disabled={isButtonMobileDisabled(currentPageOffers - 1)}\n                        />\n                        </div>\n                    }\n                </div>\n\n    )\n}\n\nexport default ServicesSlider;","/Users/bc/Desktop/New Nivid/Leo-Project/src/components/EarningChart.js",["1283","1284"],"import React, { useEffect, useState } from 'react'\nimport '../../node_modules/react-vis/dist/style.css';\nimport { XYPlot, VerticalBarSeries, XAxis, YAxis } from 'react-vis';\nimport { useAuth } from '../context/userContext'\n\nconst EarningChart = ({ sales }) => {\n\n    const { seller } = useAuth()\n    const [yearSales, setYearSales] = useState([])\n\n\n    const [dataGraph, setDataGraph] = useState([\n        { x: \"Jan\", y: 0 },\n        { x: \"Fev\", y: 0 },\n        { x: \"Mar\", y: 0 },\n        { x: \"Avr\", y: 0 },\n        { x: \"Mai\", y: 0 },\n        { x: \"Juin\", y: 0 },\n        { x: \"Juil\", y: 0 },\n        { x: \"Août\", y: 0 },\n        { x: \"Sept\", y: 0 },\n        { x: \"Oct\", y: 0 },\n        { x: \"Nov\", y: 0 },\n        { x: \"Dec\", y: 0 }\n    ])\n\n    useEffect(() => {\n        const rectList = document.querySelectorAll('rect')\n        rectList.forEach(rect => {\n            rect.setAttributeNS(null, \"ry\", \"20\");\n        })\n        return getSalesAndMountGraphData()\n    }, [])\n\n    function getSalesAndMountGraphData() {\n        const yearStart = new Date(new Date().getFullYear(), 0, 1);\n        const yearSalesArray = sales.filter(sale => sale.date > yearStart && sale.status !== \"rejected\") // && sale.status === \"validated\"\n\n        setYearSales(yearSalesArray)\n\n        let newDataGraph = [...dataGraph]\n        yearSalesArray.forEach(sale => {\n            const month = new Date(sale.date).getMonth()\n            newDataGraph[month].y = newDataGraph[month].y + sale.total\n        }, () => setDataGraph(newDataGraph))\n\n    }\n\n    return yearSales.length > 0 ? (\n        <XYPlot xType=\"ordinal\" xDistance={0} color=\"rgb(159, 232, 184)\" height={300} width={window.innerWidth * 0.9}>\n            <XAxis hideLine />\n            <YAxis hideLine />\n            <VerticalBarSeries\n                style={{ transform: `translate(${window.innerWidth * .02}px)`, width: `${window.innerWidth * .02}px` }}\n                data={dataGraph} />\n        </XYPlot>\n    )\n        : <div className=\"textInEmptyQuery\"><p>Aucune commande validée cette année</p></div>\n}\n\nexport default EarningChart",{"ruleId":"1285","replacedBy":"1286"},{"ruleId":"1287","replacedBy":"1288"},{"ruleId":"1289","severity":1,"message":"1290","line":93,"column":13,"nodeType":"1291","endLine":93,"endColumn":33},{"ruleId":"1289","severity":1,"message":"1292","line":133,"column":109,"nodeType":"1291","endLine":133,"endColumn":124},{"ruleId":"1289","severity":1,"message":"1293","line":134,"column":115,"nodeType":"1291","endLine":134,"endColumn":134},{"ruleId":"1289","severity":1,"message":"1294","line":146,"column":71,"nodeType":"1291","endLine":146,"endColumn":93},{"ruleId":"1295","severity":1,"message":"1296","line":162,"column":214,"nodeType":"1291","endLine":162,"endColumn":235},{"ruleId":"1297","severity":1,"message":"1298","line":6,"column":8,"nodeType":"1299","messageId":"1300","endLine":6,"endColumn":14},{"ruleId":"1297","severity":1,"message":"1301","line":7,"column":8,"nodeType":"1299","messageId":"1300","endLine":7,"endColumn":17},{"ruleId":"1297","severity":1,"message":"1302","line":8,"column":10,"nodeType":"1299","messageId":"1300","endLine":8,"endColumn":31},{"ruleId":"1303","severity":1,"message":"1304","line":115,"column":6,"nodeType":"1305","endLine":115,"endColumn":8,"suggestions":"1306"},{"ruleId":"1297","severity":1,"message":"1307","line":463,"column":9,"nodeType":"1299","messageId":"1300","endLine":463,"endColumn":14},{"ruleId":"1297","severity":1,"message":"1308","line":489,"column":11,"nodeType":"1299","messageId":"1300","endLine":489,"endColumn":21},{"ruleId":"1309","severity":1,"message":"1310","line":122,"column":79,"nodeType":"1311","messageId":"1312","endLine":122,"endColumn":81},{"ruleId":"1309","severity":1,"message":"1310","line":122,"column":115,"nodeType":"1311","messageId":"1312","endLine":122,"endColumn":117},{"ruleId":"1309","severity":1,"message":"1310","line":178,"column":89,"nodeType":"1311","messageId":"1312","endLine":178,"endColumn":91},{"ruleId":"1309","severity":1,"message":"1310","line":178,"column":125,"nodeType":"1311","messageId":"1312","endLine":178,"endColumn":127},{"ruleId":"1309","severity":1,"message":"1310","line":183,"column":90,"nodeType":"1311","messageId":"1312","endLine":183,"endColumn":92},{"ruleId":"1309","severity":1,"message":"1310","line":183,"column":126,"nodeType":"1311","messageId":"1312","endLine":183,"endColumn":128},{"ruleId":"1309","severity":1,"message":"1310","line":189,"column":86,"nodeType":"1311","messageId":"1312","endLine":189,"endColumn":88},{"ruleId":"1309","severity":1,"message":"1310","line":189,"column":122,"nodeType":"1311","messageId":"1312","endLine":189,"endColumn":124},{"ruleId":"1297","severity":1,"message":"1313","line":2,"column":10,"nodeType":"1299","messageId":"1300","endLine":2,"endColumn":18},{"ruleId":"1297","severity":1,"message":"1314","line":6,"column":13,"nodeType":"1299","messageId":"1300","endLine":6,"endColumn":19},{"ruleId":"1303","severity":1,"message":"1315","line":18,"column":8,"nodeType":"1305","endLine":18,"endColumn":27,"suggestions":"1316"},{"ruleId":"1295","severity":1,"message":"1296","line":63,"column":29,"nodeType":"1291","endLine":63,"endColumn":78},{"ruleId":"1303","severity":1,"message":"1315","line":23,"column":6,"nodeType":"1305","endLine":23,"endColumn":25,"suggestions":"1317"},{"ruleId":"1318","severity":1,"message":"1319","line":40,"column":18,"nodeType":"1320","messageId":"1321","endLine":40,"endColumn":20},{"ruleId":"1295","severity":1,"message":"1296","line":58,"column":15,"nodeType":"1291","endLine":58,"endColumn":64},{"ruleId":"1297","severity":1,"message":"1322","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":25},{"ruleId":"1297","severity":1,"message":"1323","line":3,"column":8,"nodeType":"1299","messageId":"1300","endLine":3,"endColumn":15},{"ruleId":"1297","severity":1,"message":"1324","line":26,"column":12,"nodeType":"1299","messageId":"1300","endLine":26,"endColumn":17},{"ruleId":"1318","severity":1,"message":"1319","line":190,"column":58,"nodeType":"1320","messageId":"1321","endLine":190,"endColumn":60},{"ruleId":"1297","severity":1,"message":"1325","line":14,"column":8,"nodeType":"1299","messageId":"1300","endLine":14,"endColumn":16},{"ruleId":"1297","severity":1,"message":"1326","line":15,"column":8,"nodeType":"1299","messageId":"1300","endLine":15,"endColumn":19},{"ruleId":"1297","severity":1,"message":"1327","line":16,"column":8,"nodeType":"1299","messageId":"1300","endLine":16,"endColumn":14},{"ruleId":"1297","severity":1,"message":"1328","line":16,"column":18,"nodeType":"1299","messageId":"1300","endLine":16,"endColumn":35},{"ruleId":"1303","severity":1,"message":"1329","line":75,"column":8,"nodeType":"1305","endLine":75,"endColumn":55,"suggestions":"1330"},{"ruleId":"1331","severity":1,"message":"1332","line":109,"column":56,"nodeType":"1333","messageId":"1334","endLine":109,"endColumn":57},{"ruleId":"1335","severity":1,"message":"1336","line":348,"column":83,"nodeType":"1337","messageId":"1338","endLine":348,"endColumn":85},{"ruleId":"1335","severity":1,"message":"1336","line":362,"column":87,"nodeType":"1337","messageId":"1338","endLine":362,"endColumn":89},{"ruleId":"1297","severity":1,"message":"1322","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":25},{"ruleId":"1297","severity":1,"message":"1339","line":1,"column":27,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":36},{"ruleId":"1297","severity":1,"message":"1322","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":25},{"ruleId":"1297","severity":1,"message":"1339","line":1,"column":27,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":36},{"ruleId":"1297","severity":1,"message":"1340","line":20,"column":10,"nodeType":"1299","messageId":"1300","endLine":20,"endColumn":16},{"ruleId":"1297","severity":1,"message":"1341","line":45,"column":20,"nodeType":"1299","messageId":"1300","endLine":45,"endColumn":29},{"ruleId":"1303","severity":1,"message":"1342","line":72,"column":8,"nodeType":"1305","endLine":72,"endColumn":47,"suggestions":"1343"},{"ruleId":"1318","severity":1,"message":"1319","line":160,"column":23,"nodeType":"1320","messageId":"1321","endLine":160,"endColumn":25},{"ruleId":"1318","severity":1,"message":"1319","line":160,"column":32,"nodeType":"1320","messageId":"1321","endLine":160,"endColumn":34},{"ruleId":"1318","severity":1,"message":"1319","line":177,"column":124,"nodeType":"1320","messageId":"1321","endLine":177,"endColumn":126},{"ruleId":"1318","severity":1,"message":"1319","line":177,"column":157,"nodeType":"1320","messageId":"1321","endLine":177,"endColumn":159},{"ruleId":"1318","severity":1,"message":"1319","line":184,"column":124,"nodeType":"1320","messageId":"1321","endLine":184,"endColumn":126},{"ruleId":"1318","severity":1,"message":"1319","line":184,"column":157,"nodeType":"1320","messageId":"1321","endLine":184,"endColumn":159},{"ruleId":"1318","severity":1,"message":"1319","line":222,"column":124,"nodeType":"1320","messageId":"1321","endLine":222,"endColumn":126},{"ruleId":"1318","severity":1,"message":"1319","line":222,"column":157,"nodeType":"1320","messageId":"1321","endLine":222,"endColumn":159},{"ruleId":"1318","severity":1,"message":"1319","line":248,"column":172,"nodeType":"1320","messageId":"1321","endLine":248,"endColumn":174},{"ruleId":"1318","severity":1,"message":"1319","line":248,"column":205,"nodeType":"1320","messageId":"1321","endLine":248,"endColumn":207},{"ruleId":"1318","severity":1,"message":"1319","line":281,"column":124,"nodeType":"1320","messageId":"1321","endLine":281,"endColumn":126},{"ruleId":"1318","severity":1,"message":"1319","line":281,"column":157,"nodeType":"1320","messageId":"1321","endLine":281,"endColumn":159},{"ruleId":"1318","severity":1,"message":"1319","line":288,"column":124,"nodeType":"1320","messageId":"1321","endLine":288,"endColumn":126},{"ruleId":"1318","severity":1,"message":"1319","line":288,"column":157,"nodeType":"1320","messageId":"1321","endLine":288,"endColumn":159},{"ruleId":"1318","severity":1,"message":"1319","line":313,"column":29,"nodeType":"1320","messageId":"1321","endLine":313,"endColumn":31},{"ruleId":"1318","severity":1,"message":"1319","line":349,"column":49,"nodeType":"1320","messageId":"1321","endLine":349,"endColumn":51},{"ruleId":"1297","severity":1,"message":"1344","line":7,"column":8,"nodeType":"1299","messageId":"1300","endLine":7,"endColumn":26},{"ruleId":"1297","severity":1,"message":"1345","line":12,"column":23,"nodeType":"1299","messageId":"1300","endLine":12,"endColumn":35},{"ruleId":"1303","severity":1,"message":"1346","line":45,"column":8,"nodeType":"1305","endLine":45,"endColumn":10,"suggestions":"1347"},{"ruleId":"1297","severity":1,"message":"1348","line":10,"column":12,"nodeType":"1299","messageId":"1300","endLine":10,"endColumn":24},{"ruleId":"1303","severity":1,"message":"1315","line":25,"column":8,"nodeType":"1305","endLine":25,"endColumn":27,"suggestions":"1349"},{"ruleId":"1297","severity":1,"message":"1350","line":4,"column":10,"nodeType":"1299","messageId":"1300","endLine":4,"endColumn":14},{"ruleId":"1297","severity":1,"message":"1351","line":4,"column":28,"nodeType":"1299","messageId":"1300","endLine":4,"endColumn":39},{"ruleId":"1297","severity":1,"message":"1352","line":28,"column":12,"nodeType":"1299","messageId":"1300","endLine":28,"endColumn":19},{"ruleId":"1303","severity":1,"message":"1353","line":58,"column":8,"nodeType":"1305","endLine":58,"endColumn":15,"suggestions":"1354"},{"ruleId":"1297","severity":1,"message":"1355","line":32,"column":5,"nodeType":"1299","messageId":"1300","endLine":32,"endColumn":24},{"ruleId":"1303","severity":1,"message":"1356","line":62,"column":6,"nodeType":"1305","endLine":62,"endColumn":8,"suggestions":"1357"},{"ruleId":"1297","severity":1,"message":"1348","line":20,"column":12,"nodeType":"1299","messageId":"1300","endLine":20,"endColumn":24},{"ruleId":"1303","severity":1,"message":"1358","line":44,"column":8,"nodeType":"1305","endLine":44,"endColumn":31,"suggestions":"1359"},{"ruleId":"1331","severity":1,"message":"1332","line":145,"column":110,"nodeType":"1333","messageId":"1334","endLine":145,"endColumn":111},{"ruleId":"1297","severity":1,"message":"1360","line":5,"column":10,"nodeType":"1299","messageId":"1300","endLine":5,"endColumn":21},{"ruleId":"1297","severity":1,"message":"1361","line":7,"column":8,"nodeType":"1299","messageId":"1300","endLine":7,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1362","line":11,"column":10,"nodeType":"1299","messageId":"1300","endLine":11,"endColumn":16},{"ruleId":"1297","severity":1,"message":"1363","line":28,"column":34,"nodeType":"1299","messageId":"1300","endLine":28,"endColumn":54},{"ruleId":"1297","severity":1,"message":"1364","line":28,"column":56,"nodeType":"1299","messageId":"1300","endLine":28,"endColumn":66},{"ruleId":"1297","severity":1,"message":"1314","line":28,"column":68,"nodeType":"1299","messageId":"1300","endLine":28,"endColumn":74},{"ruleId":"1297","severity":1,"message":"1365","line":33,"column":9,"nodeType":"1299","messageId":"1300","endLine":33,"endColumn":17},{"ruleId":"1366","severity":1,"message":"1367","line":63,"column":19,"nodeType":"1291","endLine":63,"endColumn":68},{"ruleId":"1366","severity":1,"message":"1367","line":66,"column":19,"nodeType":"1291","endLine":66,"endColumn":68},{"ruleId":"1366","severity":1,"message":"1367","line":69,"column":19,"nodeType":"1291","endLine":69,"endColumn":69},{"ruleId":"1366","severity":1,"message":"1367","line":72,"column":19,"nodeType":"1291","endLine":72,"endColumn":69},{"ruleId":"1366","severity":1,"message":"1367","line":75,"column":19,"nodeType":"1291","endLine":75,"endColumn":68},{"ruleId":"1366","severity":1,"message":"1367","line":88,"column":17,"nodeType":"1291","endLine":88,"endColumn":39},{"ruleId":"1366","severity":1,"message":"1367","line":95,"column":17,"nodeType":"1291","endLine":95,"endColumn":38},{"ruleId":"1289","severity":1,"message":"1368","line":53,"column":55,"nodeType":"1291","endLine":53,"endColumn":112},{"ruleId":"1289","severity":1,"message":"1369","line":56,"column":36,"nodeType":"1291","endLine":56,"endColumn":83},{"ruleId":"1289","severity":1,"message":"1370","line":57,"column":36,"nodeType":"1291","endLine":57,"endColumn":65},{"ruleId":"1289","severity":1,"message":"1371","line":58,"column":36,"nodeType":"1291","endLine":58,"endColumn":82},{"ruleId":"1289","severity":1,"message":"1372","line":59,"column":36,"nodeType":"1291","endLine":59,"endColumn":60},{"ruleId":"1289","severity":1,"message":"1373","line":60,"column":36,"nodeType":"1291","endLine":60,"endColumn":67},{"ruleId":"1297","severity":1,"message":"1350","line":3,"column":10,"nodeType":"1299","messageId":"1300","endLine":3,"endColumn":14},{"ruleId":"1295","severity":1,"message":"1296","line":112,"column":41,"nodeType":"1291","endLine":112,"endColumn":121},{"ruleId":"1297","severity":1,"message":"1314","line":36,"column":13,"nodeType":"1299","messageId":"1300","endLine":36,"endColumn":19},{"ruleId":"1303","severity":1,"message":"1374","line":56,"column":8,"nodeType":"1305","endLine":56,"endColumn":10,"suggestions":"1375"},{"ruleId":"1303","severity":1,"message":"1376","line":106,"column":8,"nodeType":"1305","endLine":106,"endColumn":10,"suggestions":"1377"},{"ruleId":"1331","severity":1,"message":"1332","line":371,"column":98,"nodeType":"1333","messageId":"1334","endLine":371,"endColumn":99},{"ruleId":"1331","severity":1,"message":"1332","line":389,"column":106,"nodeType":"1333","messageId":"1334","endLine":389,"endColumn":107},{"ruleId":"1297","severity":1,"message":"1350","line":3,"column":10,"nodeType":"1299","messageId":"1300","endLine":3,"endColumn":14},{"ruleId":"1297","severity":1,"message":"1360","line":5,"column":23,"nodeType":"1299","messageId":"1300","endLine":5,"endColumn":34},{"ruleId":"1297","severity":1,"message":"1378","line":14,"column":14,"nodeType":"1299","messageId":"1300","endLine":14,"endColumn":22},{"ruleId":"1303","severity":1,"message":"1374","line":57,"column":8,"nodeType":"1305","endLine":57,"endColumn":10,"suggestions":"1379"},{"ruleId":"1303","severity":1,"message":"1380","line":72,"column":6,"nodeType":"1305","endLine":72,"endColumn":8,"suggestions":"1381"},{"ruleId":"1303","severity":1,"message":"1382","line":85,"column":6,"nodeType":"1305","endLine":85,"endColumn":8,"suggestions":"1383"},{"ruleId":"1303","severity":1,"message":"1384","line":91,"column":6,"nodeType":"1305","endLine":91,"endColumn":8,"suggestions":"1385"},{"ruleId":"1297","severity":1,"message":"1386","line":12,"column":26,"nodeType":"1299","messageId":"1300","endLine":12,"endColumn":41},{"ruleId":"1303","severity":1,"message":"1387","line":30,"column":8,"nodeType":"1305","endLine":30,"endColumn":10,"suggestions":"1388"},{"ruleId":"1297","severity":1,"message":"1389","line":53,"column":17,"nodeType":"1299","messageId":"1300","endLine":53,"endColumn":29},{"ruleId":"1303","severity":1,"message":"1390","line":70,"column":8,"nodeType":"1305","endLine":70,"endColumn":10,"suggestions":"1391"},{"ruleId":"1297","severity":1,"message":"1392","line":3,"column":10,"nodeType":"1299","messageId":"1300","endLine":3,"endColumn":22},{"ruleId":"1297","severity":1,"message":"1393","line":3,"column":24,"nodeType":"1299","messageId":"1300","endLine":3,"endColumn":35},{"ruleId":"1297","severity":1,"message":"1394","line":5,"column":8,"nodeType":"1299","messageId":"1300","endLine":5,"endColumn":15},{"ruleId":"1297","severity":1,"message":"1395","line":5,"column":8,"nodeType":"1299","messageId":"1300","endLine":5,"endColumn":18},{"ruleId":"1297","severity":1,"message":"1396","line":6,"column":8,"nodeType":"1299","messageId":"1300","endLine":6,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1397","line":9,"column":8,"nodeType":"1299","messageId":"1300","endLine":9,"endColumn":18},{"ruleId":"1297","severity":1,"message":"1398","line":11,"column":8,"nodeType":"1299","messageId":"1300","endLine":11,"endColumn":18},{"ruleId":"1297","severity":1,"message":"1399","line":15,"column":11,"nodeType":"1299","messageId":"1300","endLine":15,"endColumn":18},{"ruleId":"1297","severity":1,"message":"1400","line":18,"column":11,"nodeType":"1299","messageId":"1300","endLine":18,"endColumn":19},{"ruleId":"1297","severity":1,"message":"1401","line":20,"column":12,"nodeType":"1299","messageId":"1300","endLine":20,"endColumn":29},{"ruleId":"1297","severity":1,"message":"1402","line":20,"column":31,"nodeType":"1299","messageId":"1300","endLine":20,"endColumn":51},{"ruleId":"1297","severity":1,"message":"1403","line":63,"column":11,"nodeType":"1299","messageId":"1300","endLine":63,"endColumn":32},{"ruleId":"1297","severity":1,"message":"1363","line":63,"column":34,"nodeType":"1299","messageId":"1300","endLine":63,"endColumn":54},{"ruleId":"1297","severity":1,"message":"1364","line":63,"column":56,"nodeType":"1299","messageId":"1300","endLine":63,"endColumn":66},{"ruleId":"1297","severity":1,"message":"1314","line":63,"column":68,"nodeType":"1299","messageId":"1300","endLine":63,"endColumn":74},{"ruleId":"1303","severity":1,"message":"1404","line":68,"column":6,"nodeType":"1305","endLine":68,"endColumn":8,"suggestions":"1405"},{"ruleId":"1297","severity":1,"message":"1339","line":1,"column":27,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":36},{"ruleId":"1297","severity":1,"message":"1406","line":6,"column":8,"nodeType":"1299","messageId":"1300","endLine":6,"endColumn":14},{"ruleId":"1297","severity":1,"message":"1407","line":14,"column":26,"nodeType":"1299","messageId":"1300","endLine":14,"endColumn":41},{"ruleId":"1297","severity":1,"message":"1365","line":18,"column":11,"nodeType":"1299","messageId":"1300","endLine":18,"endColumn":19},{"ruleId":"1318","severity":1,"message":"1319","line":60,"column":72,"nodeType":"1320","messageId":"1321","endLine":60,"endColumn":74},{"ruleId":"1318","severity":1,"message":"1319","line":60,"column":103,"nodeType":"1320","messageId":"1321","endLine":60,"endColumn":105},{"ruleId":"1318","severity":1,"message":"1319","line":78,"column":92,"nodeType":"1320","messageId":"1321","endLine":78,"endColumn":94},{"ruleId":"1318","severity":1,"message":"1319","line":78,"column":123,"nodeType":"1320","messageId":"1321","endLine":78,"endColumn":125},{"ruleId":"1297","severity":1,"message":"1322","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":25},{"ruleId":"1297","severity":1,"message":"1339","line":1,"column":27,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":36},{"ruleId":"1297","severity":1,"message":"1408","line":2,"column":8,"nodeType":"1299","messageId":"1300","endLine":2,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1409","line":3,"column":8,"nodeType":"1299","messageId":"1300","endLine":3,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1410","line":4,"column":8,"nodeType":"1299","messageId":"1300","endLine":4,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1411","line":5,"column":8,"nodeType":"1299","messageId":"1300","endLine":5,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1412","line":6,"column":8,"nodeType":"1299","messageId":"1300","endLine":6,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1392","line":8,"column":10,"nodeType":"1299","messageId":"1300","endLine":8,"endColumn":22},{"ruleId":"1297","severity":1,"message":"1393","line":8,"column":24,"nodeType":"1299","messageId":"1300","endLine":8,"endColumn":35},{"ruleId":"1297","severity":1,"message":"1394","line":10,"column":8,"nodeType":"1299","messageId":"1300","endLine":10,"endColumn":15},{"ruleId":"1297","severity":1,"message":"1413","line":11,"column":10,"nodeType":"1299","messageId":"1300","endLine":11,"endColumn":21},{"ruleId":"1297","severity":1,"message":"1395","line":7,"column":8,"nodeType":"1299","messageId":"1300","endLine":7,"endColumn":18},{"ruleId":"1297","severity":1,"message":"1414","line":13,"column":8,"nodeType":"1299","messageId":"1300","endLine":13,"endColumn":25},{"ruleId":"1297","severity":1,"message":"1415","line":21,"column":8,"nodeType":"1299","messageId":"1300","endLine":21,"endColumn":22},{"ruleId":"1297","severity":1,"message":"1323","line":22,"column":8,"nodeType":"1299","messageId":"1300","endLine":22,"endColumn":15},{"ruleId":"1297","severity":1,"message":"1416","line":23,"column":8,"nodeType":"1299","messageId":"1300","endLine":23,"endColumn":16},{"ruleId":"1297","severity":1,"message":"1417","line":24,"column":10,"nodeType":"1299","messageId":"1300","endLine":24,"endColumn":17},{"ruleId":"1297","severity":1,"message":"1418","line":70,"column":12,"nodeType":"1299","messageId":"1300","endLine":70,"endColumn":23},{"ruleId":"1297","severity":1,"message":"1419","line":70,"column":25,"nodeType":"1299","messageId":"1300","endLine":70,"endColumn":39},{"ruleId":"1366","severity":1,"message":"1367","line":153,"column":25,"nodeType":"1291","endLine":153,"endColumn":45},{"ruleId":"1303","severity":1,"message":"1420","line":24,"column":13,"nodeType":"1337","endLine":28,"endColumn":4},{"ruleId":"1297","severity":1,"message":"1421","line":60,"column":11,"nodeType":"1299","messageId":"1300","endLine":60,"endColumn":21},{"ruleId":"1318","severity":1,"message":"1422","line":157,"column":33,"nodeType":"1320","messageId":"1321","endLine":157,"endColumn":35},{"ruleId":"1318","severity":1,"message":"1422","line":248,"column":32,"nodeType":"1320","messageId":"1321","endLine":248,"endColumn":34},{"ruleId":"1318","severity":1,"message":"1319","line":253,"column":32,"nodeType":"1320","messageId":"1321","endLine":253,"endColumn":34},{"ruleId":"1297","severity":1,"message":"1423","line":5,"column":8,"nodeType":"1299","messageId":"1300","endLine":5,"endColumn":26},{"ruleId":"1297","severity":1,"message":"1424","line":9,"column":8,"nodeType":"1299","messageId":"1300","endLine":9,"endColumn":17},{"ruleId":"1303","severity":1,"message":"1425","line":16,"column":5,"nodeType":"1299","endLine":16,"endColumn":14,"suggestions":"1426"},{"ruleId":"1303","severity":1,"message":"1427","line":38,"column":8,"nodeType":"1305","endLine":38,"endColumn":14,"suggestions":"1428"},{"ruleId":"1297","severity":1,"message":"1429","line":15,"column":12,"nodeType":"1299","messageId":"1300","endLine":15,"endColumn":18},{"ruleId":"1303","severity":1,"message":"1430","line":21,"column":8,"nodeType":"1305","endLine":21,"endColumn":14,"suggestions":"1431"},{"ruleId":"1297","severity":1,"message":"1432","line":43,"column":14,"nodeType":"1299","messageId":"1300","endLine":43,"endColumn":26},{"ruleId":"1303","severity":1,"message":"1430","line":22,"column":8,"nodeType":"1305","endLine":22,"endColumn":14,"suggestions":"1433"},{"ruleId":"1331","severity":1,"message":"1332","line":36,"column":64,"nodeType":"1333","messageId":"1334","endLine":36,"endColumn":65},{"ruleId":"1297","severity":1,"message":"1322","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":25},{"ruleId":"1303","severity":1,"message":"1434","line":53,"column":9,"nodeType":"1305","endLine":53,"endColumn":11,"suggestions":"1435"},{"ruleId":"1303","severity":1,"message":"1430","line":50,"column":8,"nodeType":"1305","endLine":50,"endColumn":14,"suggestions":"1436"},{"ruleId":"1303","severity":1,"message":"1437","line":33,"column":8,"nodeType":"1305","endLine":33,"endColumn":14,"suggestions":"1438"},{"ruleId":"1303","severity":1,"message":"1427","line":43,"column":8,"nodeType":"1305","endLine":43,"endColumn":29,"suggestions":"1439"},{"ruleId":"1303","severity":1,"message":"1430","line":23,"column":8,"nodeType":"1305","endLine":23,"endColumn":14,"suggestions":"1440"},{"ruleId":"1297","severity":1,"message":"1441","line":7,"column":21,"nodeType":"1299","messageId":"1300","endLine":7,"endColumn":31},{"ruleId":"1309","severity":1,"message":"1442","line":45,"column":66,"nodeType":"1311","messageId":"1312","endLine":45,"endColumn":68},{"ruleId":"1309","severity":1,"message":"1442","line":45,"column":97,"nodeType":"1311","messageId":"1312","endLine":45,"endColumn":99},{"ruleId":"1303","severity":1,"message":"1430","line":23,"column":8,"nodeType":"1305","endLine":23,"endColumn":10,"suggestions":"1443"},{"ruleId":"1303","severity":1,"message":"1444","line":34,"column":8,"nodeType":"1305","endLine":34,"endColumn":10,"suggestions":"1445"},{"ruleId":"1303","severity":1,"message":"1446","line":60,"column":8,"nodeType":"1305","endLine":60,"endColumn":10,"suggestions":"1447"},{"ruleId":"1303","severity":1,"message":"1376","line":102,"column":8,"nodeType":"1305","endLine":102,"endColumn":10,"suggestions":"1448"},{"ruleId":"1331","severity":1,"message":"1332","line":400,"column":94,"nodeType":"1333","messageId":"1334","endLine":400,"endColumn":95},{"ruleId":"1331","severity":1,"message":"1332","line":418,"column":102,"nodeType":"1333","messageId":"1334","endLine":418,"endColumn":103},{"ruleId":"1303","severity":1,"message":"1449","line":48,"column":8,"nodeType":"1305","endLine":48,"endColumn":10,"suggestions":"1450"},{"ruleId":"1303","severity":1,"message":"1451","line":73,"column":8,"nodeType":"1305","endLine":73,"endColumn":10,"suggestions":"1452"},{"ruleId":"1297","severity":1,"message":"1453","line":24,"column":5,"nodeType":"1299","messageId":"1300","endLine":24,"endColumn":10},{"ruleId":"1297","severity":1,"message":"1454","line":35,"column":10,"nodeType":"1299","messageId":"1300","endLine":35,"endColumn":25},{"ruleId":"1303","severity":1,"message":"1455","line":48,"column":6,"nodeType":"1305","endLine":48,"endColumn":12,"suggestions":"1456"},{"ruleId":"1297","severity":1,"message":"1457","line":57,"column":11,"nodeType":"1299","messageId":"1300","endLine":57,"endColumn":16},{"ruleId":"1303","severity":1,"message":"1458","line":43,"column":8,"nodeType":"1305","endLine":43,"endColumn":10,"suggestions":"1459"},{"ruleId":"1331","severity":1,"message":"1332","line":167,"column":105,"nodeType":"1333","messageId":"1334","endLine":167,"endColumn":106},{"ruleId":"1331","severity":1,"message":"1332","line":175,"column":105,"nodeType":"1333","messageId":"1334","endLine":175,"endColumn":106},{"ruleId":"1297","severity":1,"message":"1421","line":25,"column":11,"nodeType":"1299","messageId":"1300","endLine":25,"endColumn":21},{"ruleId":"1303","severity":1,"message":"1460","line":32,"column":8,"nodeType":"1305","endLine":32,"endColumn":10,"suggestions":"1461"},{"ruleId":"1297","severity":1,"message":"1314","line":8,"column":13,"nodeType":"1299","messageId":"1300","endLine":8,"endColumn":19},{"ruleId":"1303","severity":1,"message":"1462","line":33,"column":8,"nodeType":"1305","endLine":33,"endColumn":10,"suggestions":"1463"},{"ruleId":"1297","severity":1,"message":"1339","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":26},{"ruleId":"1297","severity":1,"message":"1322","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":25},{"ruleId":"1297","severity":1,"message":"1339","line":1,"column":27,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":36},{"ruleId":"1366","severity":1,"message":"1367","line":13,"column":13,"nodeType":"1291","endLine":13,"endColumn":44},{"ruleId":"1285","replacedBy":"1464"},{"ruleId":"1287","replacedBy":"1465"},{"ruleId":"1289","severity":1,"message":"1290","line":93,"column":13,"nodeType":"1291","endLine":93,"endColumn":33},{"ruleId":"1289","severity":1,"message":"1292","line":133,"column":109,"nodeType":"1291","endLine":133,"endColumn":124},{"ruleId":"1289","severity":1,"message":"1293","line":134,"column":115,"nodeType":"1291","endLine":134,"endColumn":134},{"ruleId":"1289","severity":1,"message":"1294","line":146,"column":71,"nodeType":"1291","endLine":146,"endColumn":93},{"ruleId":"1295","severity":1,"message":"1296","line":162,"column":214,"nodeType":"1291","endLine":162,"endColumn":235},{"ruleId":"1297","severity":1,"message":"1298","line":6,"column":8,"nodeType":"1299","messageId":"1300","endLine":6,"endColumn":14},{"ruleId":"1297","severity":1,"message":"1301","line":7,"column":8,"nodeType":"1299","messageId":"1300","endLine":7,"endColumn":17},{"ruleId":"1297","severity":1,"message":"1302","line":8,"column":10,"nodeType":"1299","messageId":"1300","endLine":8,"endColumn":31},{"ruleId":"1303","severity":1,"message":"1304","line":117,"column":6,"nodeType":"1305","endLine":117,"endColumn":8,"suggestions":"1466"},{"ruleId":"1318","severity":1,"message":"1422","line":453,"column":20,"nodeType":"1320","messageId":"1321","endLine":453,"endColumn":22},{"ruleId":"1318","severity":1,"message":"1319","line":456,"column":27,"nodeType":"1320","messageId":"1321","endLine":456,"endColumn":29},{"ruleId":"1318","severity":1,"message":"1319","line":456,"column":52,"nodeType":"1320","messageId":"1321","endLine":456,"endColumn":54},{"ruleId":"1297","severity":1,"message":"1307","line":506,"column":9,"nodeType":"1299","messageId":"1300","endLine":506,"endColumn":14},{"ruleId":"1297","severity":1,"message":"1308","line":532,"column":11,"nodeType":"1299","messageId":"1300","endLine":532,"endColumn":21},{"ruleId":"1309","severity":1,"message":"1310","line":122,"column":79,"nodeType":"1311","messageId":"1312","endLine":122,"endColumn":81},{"ruleId":"1309","severity":1,"message":"1310","line":122,"column":115,"nodeType":"1311","messageId":"1312","endLine":122,"endColumn":117},{"ruleId":"1309","severity":1,"message":"1310","line":178,"column":89,"nodeType":"1311","messageId":"1312","endLine":178,"endColumn":91},{"ruleId":"1309","severity":1,"message":"1310","line":178,"column":125,"nodeType":"1311","messageId":"1312","endLine":178,"endColumn":127},{"ruleId":"1309","severity":1,"message":"1310","line":183,"column":90,"nodeType":"1311","messageId":"1312","endLine":183,"endColumn":92},{"ruleId":"1309","severity":1,"message":"1310","line":183,"column":126,"nodeType":"1311","messageId":"1312","endLine":183,"endColumn":128},{"ruleId":"1309","severity":1,"message":"1310","line":189,"column":86,"nodeType":"1311","messageId":"1312","endLine":189,"endColumn":88},{"ruleId":"1309","severity":1,"message":"1310","line":189,"column":122,"nodeType":"1311","messageId":"1312","endLine":189,"endColumn":124},{"ruleId":"1303","severity":1,"message":"1315","line":23,"column":6,"nodeType":"1305","endLine":23,"endColumn":25,"suggestions":"1467"},{"ruleId":"1318","severity":1,"message":"1319","line":40,"column":18,"nodeType":"1320","messageId":"1321","endLine":40,"endColumn":20},{"ruleId":"1295","severity":1,"message":"1296","line":58,"column":15,"nodeType":"1291","endLine":58,"endColumn":64},{"ruleId":"1297","severity":1,"message":"1313","line":2,"column":10,"nodeType":"1299","messageId":"1300","endLine":2,"endColumn":18},{"ruleId":"1297","severity":1,"message":"1314","line":6,"column":13,"nodeType":"1299","messageId":"1300","endLine":6,"endColumn":19},{"ruleId":"1303","severity":1,"message":"1315","line":18,"column":8,"nodeType":"1305","endLine":18,"endColumn":27,"suggestions":"1468"},{"ruleId":"1295","severity":1,"message":"1296","line":63,"column":29,"nodeType":"1291","endLine":63,"endColumn":78},{"ruleId":"1297","severity":1,"message":"1322","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":25},{"ruleId":"1297","severity":1,"message":"1323","line":3,"column":8,"nodeType":"1299","messageId":"1300","endLine":3,"endColumn":15},{"ruleId":"1297","severity":1,"message":"1339","line":1,"column":27,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":36},{"ruleId":"1297","severity":1,"message":"1406","line":6,"column":8,"nodeType":"1299","messageId":"1300","endLine":6,"endColumn":14},{"ruleId":"1297","severity":1,"message":"1407","line":14,"column":26,"nodeType":"1299","messageId":"1300","endLine":14,"endColumn":41},{"ruleId":"1297","severity":1,"message":"1365","line":18,"column":11,"nodeType":"1299","messageId":"1300","endLine":18,"endColumn":19},{"ruleId":"1318","severity":1,"message":"1319","line":60,"column":72,"nodeType":"1320","messageId":"1321","endLine":60,"endColumn":74},{"ruleId":"1318","severity":1,"message":"1319","line":60,"column":103,"nodeType":"1320","messageId":"1321","endLine":60,"endColumn":105},{"ruleId":"1318","severity":1,"message":"1319","line":78,"column":92,"nodeType":"1320","messageId":"1321","endLine":78,"endColumn":94},{"ruleId":"1318","severity":1,"message":"1319","line":78,"column":123,"nodeType":"1320","messageId":"1321","endLine":78,"endColumn":125},{"ruleId":"1297","severity":1,"message":"1350","line":4,"column":10,"nodeType":"1299","messageId":"1300","endLine":4,"endColumn":14},{"ruleId":"1297","severity":1,"message":"1351","line":4,"column":28,"nodeType":"1299","messageId":"1300","endLine":4,"endColumn":39},{"ruleId":"1297","severity":1,"message":"1352","line":28,"column":12,"nodeType":"1299","messageId":"1300","endLine":28,"endColumn":19},{"ruleId":"1303","severity":1,"message":"1353","line":58,"column":8,"nodeType":"1305","endLine":58,"endColumn":15,"suggestions":"1469"},{"ruleId":"1297","severity":1,"message":"1322","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":25},{"ruleId":"1297","severity":1,"message":"1339","line":1,"column":27,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":36},{"ruleId":"1297","severity":1,"message":"1408","line":2,"column":8,"nodeType":"1299","messageId":"1300","endLine":2,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1409","line":3,"column":8,"nodeType":"1299","messageId":"1300","endLine":3,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1410","line":4,"column":8,"nodeType":"1299","messageId":"1300","endLine":4,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1411","line":5,"column":8,"nodeType":"1299","messageId":"1300","endLine":5,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1412","line":6,"column":8,"nodeType":"1299","messageId":"1300","endLine":6,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1392","line":8,"column":10,"nodeType":"1299","messageId":"1300","endLine":8,"endColumn":22},{"ruleId":"1297","severity":1,"message":"1393","line":8,"column":24,"nodeType":"1299","messageId":"1300","endLine":8,"endColumn":35},{"ruleId":"1297","severity":1,"message":"1394","line":10,"column":8,"nodeType":"1299","messageId":"1300","endLine":10,"endColumn":15},{"ruleId":"1297","severity":1,"message":"1413","line":11,"column":10,"nodeType":"1299","messageId":"1300","endLine":11,"endColumn":21},{"ruleId":"1297","severity":1,"message":"1322","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":25},{"ruleId":"1297","severity":1,"message":"1339","line":1,"column":27,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":36},{"ruleId":"1297","severity":1,"message":"1348","line":10,"column":12,"nodeType":"1299","messageId":"1300","endLine":10,"endColumn":24},{"ruleId":"1303","severity":1,"message":"1315","line":25,"column":8,"nodeType":"1305","endLine":25,"endColumn":27,"suggestions":"1470"},{"ruleId":"1297","severity":1,"message":"1325","line":14,"column":8,"nodeType":"1299","messageId":"1300","endLine":14,"endColumn":16},{"ruleId":"1297","severity":1,"message":"1326","line":15,"column":8,"nodeType":"1299","messageId":"1300","endLine":15,"endColumn":19},{"ruleId":"1297","severity":1,"message":"1327","line":16,"column":8,"nodeType":"1299","messageId":"1300","endLine":16,"endColumn":14},{"ruleId":"1297","severity":1,"message":"1328","line":16,"column":18,"nodeType":"1299","messageId":"1300","endLine":16,"endColumn":35},{"ruleId":"1303","severity":1,"message":"1329","line":75,"column":8,"nodeType":"1305","endLine":75,"endColumn":55,"suggestions":"1471"},{"ruleId":"1331","severity":1,"message":"1332","line":109,"column":56,"nodeType":"1333","messageId":"1334","endLine":109,"endColumn":57},{"ruleId":"1318","severity":1,"message":"1319","line":179,"column":97,"nodeType":"1320","messageId":"1321","endLine":179,"endColumn":99},{"ruleId":"1318","severity":1,"message":"1319","line":179,"column":117,"nodeType":"1320","messageId":"1321","endLine":179,"endColumn":119},{"ruleId":"1318","severity":1,"message":"1319","line":180,"column":143,"nodeType":"1320","messageId":"1321","endLine":180,"endColumn":145},{"ruleId":"1318","severity":1,"message":"1319","line":180,"column":163,"nodeType":"1320","messageId":"1321","endLine":180,"endColumn":165},{"ruleId":"1335","severity":1,"message":"1336","line":351,"column":83,"nodeType":"1337","messageId":"1338","endLine":351,"endColumn":85},{"ruleId":"1335","severity":1,"message":"1336","line":365,"column":87,"nodeType":"1337","messageId":"1338","endLine":365,"endColumn":89},{"ruleId":"1297","severity":1,"message":"1348","line":20,"column":12,"nodeType":"1299","messageId":"1300","endLine":20,"endColumn":24},{"ruleId":"1297","severity":1,"message":"1340","line":20,"column":10,"nodeType":"1299","messageId":"1300","endLine":20,"endColumn":16},{"ruleId":"1297","severity":1,"message":"1341","line":45,"column":20,"nodeType":"1299","messageId":"1300","endLine":45,"endColumn":29},{"ruleId":"1303","severity":1,"message":"1342","line":72,"column":8,"nodeType":"1305","endLine":72,"endColumn":47,"suggestions":"1472"},{"ruleId":"1318","severity":1,"message":"1319","line":160,"column":23,"nodeType":"1320","messageId":"1321","endLine":160,"endColumn":25},{"ruleId":"1318","severity":1,"message":"1319","line":160,"column":32,"nodeType":"1320","messageId":"1321","endLine":160,"endColumn":34},{"ruleId":"1318","severity":1,"message":"1319","line":177,"column":124,"nodeType":"1320","messageId":"1321","endLine":177,"endColumn":126},{"ruleId":"1318","severity":1,"message":"1319","line":177,"column":157,"nodeType":"1320","messageId":"1321","endLine":177,"endColumn":159},{"ruleId":"1318","severity":1,"message":"1319","line":184,"column":124,"nodeType":"1320","messageId":"1321","endLine":184,"endColumn":126},{"ruleId":"1318","severity":1,"message":"1319","line":184,"column":157,"nodeType":"1320","messageId":"1321","endLine":184,"endColumn":159},{"ruleId":"1318","severity":1,"message":"1319","line":222,"column":124,"nodeType":"1320","messageId":"1321","endLine":222,"endColumn":126},{"ruleId":"1318","severity":1,"message":"1319","line":222,"column":157,"nodeType":"1320","messageId":"1321","endLine":222,"endColumn":159},{"ruleId":"1318","severity":1,"message":"1319","line":248,"column":172,"nodeType":"1320","messageId":"1321","endLine":248,"endColumn":174},{"ruleId":"1318","severity":1,"message":"1319","line":248,"column":205,"nodeType":"1320","messageId":"1321","endLine":248,"endColumn":207},{"ruleId":"1318","severity":1,"message":"1319","line":281,"column":124,"nodeType":"1320","messageId":"1321","endLine":281,"endColumn":126},{"ruleId":"1318","severity":1,"message":"1319","line":281,"column":157,"nodeType":"1320","messageId":"1321","endLine":281,"endColumn":159},{"ruleId":"1318","severity":1,"message":"1319","line":288,"column":124,"nodeType":"1320","messageId":"1321","endLine":288,"endColumn":126},{"ruleId":"1318","severity":1,"message":"1319","line":288,"column":157,"nodeType":"1320","messageId":"1321","endLine":288,"endColumn":159},{"ruleId":"1318","severity":1,"message":"1319","line":313,"column":29,"nodeType":"1320","messageId":"1321","endLine":313,"endColumn":31},{"ruleId":"1318","severity":1,"message":"1319","line":349,"column":49,"nodeType":"1320","messageId":"1321","endLine":349,"endColumn":51},{"ruleId":"1303","severity":1,"message":"1358","line":44,"column":8,"nodeType":"1305","endLine":44,"endColumn":31,"suggestions":"1473"},{"ruleId":"1331","severity":1,"message":"1332","line":145,"column":110,"nodeType":"1333","messageId":"1334","endLine":145,"endColumn":111},{"ruleId":"1289","severity":1,"message":"1368","line":55,"column":55,"nodeType":"1291","endLine":55,"endColumn":112},{"ruleId":"1289","severity":1,"message":"1369","line":58,"column":36,"nodeType":"1291","endLine":58,"endColumn":83},{"ruleId":"1289","severity":1,"message":"1370","line":59,"column":36,"nodeType":"1291","endLine":59,"endColumn":65},{"ruleId":"1289","severity":1,"message":"1371","line":60,"column":36,"nodeType":"1291","endLine":60,"endColumn":82},{"ruleId":"1289","severity":1,"message":"1372","line":61,"column":36,"nodeType":"1291","endLine":61,"endColumn":60},{"ruleId":"1289","severity":1,"message":"1373","line":62,"column":36,"nodeType":"1291","endLine":62,"endColumn":67},{"ruleId":"1289","severity":1,"message":"1474","line":63,"column":36,"nodeType":"1291","endLine":63,"endColumn":64},{"ruleId":"1297","severity":1,"message":"1344","line":7,"column":8,"nodeType":"1299","messageId":"1300","endLine":7,"endColumn":26},{"ruleId":"1297","severity":1,"message":"1345","line":12,"column":23,"nodeType":"1299","messageId":"1300","endLine":12,"endColumn":35},{"ruleId":"1303","severity":1,"message":"1346","line":45,"column":8,"nodeType":"1305","endLine":45,"endColumn":10,"suggestions":"1475"},{"ruleId":"1297","severity":1,"message":"1403","line":64,"column":11,"nodeType":"1299","messageId":"1300","endLine":64,"endColumn":32},{"ruleId":"1297","severity":1,"message":"1363","line":64,"column":34,"nodeType":"1299","messageId":"1300","endLine":64,"endColumn":54},{"ruleId":"1297","severity":1,"message":"1364","line":64,"column":56,"nodeType":"1299","messageId":"1300","endLine":64,"endColumn":66},{"ruleId":"1297","severity":1,"message":"1314","line":64,"column":68,"nodeType":"1299","messageId":"1300","endLine":64,"endColumn":74},{"ruleId":"1303","severity":1,"message":"1404","line":69,"column":6,"nodeType":"1305","endLine":69,"endColumn":8,"suggestions":"1476"},{"ruleId":"1297","severity":1,"message":"1360","line":5,"column":10,"nodeType":"1299","messageId":"1300","endLine":5,"endColumn":21},{"ruleId":"1297","severity":1,"message":"1361","line":7,"column":8,"nodeType":"1299","messageId":"1300","endLine":7,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1362","line":11,"column":10,"nodeType":"1299","messageId":"1300","endLine":11,"endColumn":16},{"ruleId":"1297","severity":1,"message":"1363","line":28,"column":34,"nodeType":"1299","messageId":"1300","endLine":28,"endColumn":54},{"ruleId":"1297","severity":1,"message":"1364","line":28,"column":56,"nodeType":"1299","messageId":"1300","endLine":28,"endColumn":66},{"ruleId":"1297","severity":1,"message":"1314","line":28,"column":68,"nodeType":"1299","messageId":"1300","endLine":28,"endColumn":74},{"ruleId":"1297","severity":1,"message":"1365","line":33,"column":9,"nodeType":"1299","messageId":"1300","endLine":33,"endColumn":17},{"ruleId":"1366","severity":1,"message":"1367","line":63,"column":19,"nodeType":"1291","endLine":63,"endColumn":68},{"ruleId":"1366","severity":1,"message":"1367","line":66,"column":19,"nodeType":"1291","endLine":66,"endColumn":68},{"ruleId":"1366","severity":1,"message":"1367","line":69,"column":19,"nodeType":"1291","endLine":69,"endColumn":69},{"ruleId":"1366","severity":1,"message":"1367","line":72,"column":19,"nodeType":"1291","endLine":72,"endColumn":69},{"ruleId":"1366","severity":1,"message":"1367","line":75,"column":19,"nodeType":"1291","endLine":75,"endColumn":68},{"ruleId":"1366","severity":1,"message":"1367","line":88,"column":17,"nodeType":"1291","endLine":88,"endColumn":39},{"ruleId":"1366","severity":1,"message":"1367","line":95,"column":17,"nodeType":"1291","endLine":95,"endColumn":38},{"ruleId":"1303","severity":1,"message":"1380","line":72,"column":6,"nodeType":"1305","endLine":72,"endColumn":8,"suggestions":"1477"},{"ruleId":"1303","severity":1,"message":"1382","line":85,"column":6,"nodeType":"1305","endLine":85,"endColumn":8,"suggestions":"1478"},{"ruleId":"1303","severity":1,"message":"1384","line":91,"column":6,"nodeType":"1305","endLine":91,"endColumn":8,"suggestions":"1479"},{"ruleId":"1297","severity":1,"message":"1350","line":3,"column":10,"nodeType":"1299","messageId":"1300","endLine":3,"endColumn":14},{"ruleId":"1295","severity":1,"message":"1296","line":112,"column":41,"nodeType":"1291","endLine":112,"endColumn":121},{"ruleId":"1297","severity":1,"message":"1314","line":36,"column":13,"nodeType":"1299","messageId":"1300","endLine":36,"endColumn":19},{"ruleId":"1303","severity":1,"message":"1374","line":56,"column":8,"nodeType":"1305","endLine":56,"endColumn":10,"suggestions":"1480"},{"ruleId":"1303","severity":1,"message":"1376","line":106,"column":8,"nodeType":"1305","endLine":106,"endColumn":10,"suggestions":"1481"},{"ruleId":"1331","severity":1,"message":"1332","line":371,"column":98,"nodeType":"1333","messageId":"1334","endLine":371,"endColumn":99},{"ruleId":"1331","severity":1,"message":"1332","line":389,"column":106,"nodeType":"1333","messageId":"1334","endLine":389,"endColumn":107},{"ruleId":"1297","severity":1,"message":"1350","line":3,"column":10,"nodeType":"1299","messageId":"1300","endLine":3,"endColumn":14},{"ruleId":"1297","severity":1,"message":"1360","line":5,"column":23,"nodeType":"1299","messageId":"1300","endLine":5,"endColumn":34},{"ruleId":"1297","severity":1,"message":"1378","line":14,"column":14,"nodeType":"1299","messageId":"1300","endLine":14,"endColumn":22},{"ruleId":"1297","severity":1,"message":"1355","line":32,"column":5,"nodeType":"1299","messageId":"1300","endLine":32,"endColumn":24},{"ruleId":"1303","severity":1,"message":"1356","line":62,"column":6,"nodeType":"1305","endLine":62,"endColumn":8,"suggestions":"1482"},{"ruleId":"1303","severity":1,"message":"1374","line":57,"column":8,"nodeType":"1305","endLine":57,"endColumn":10,"suggestions":"1483"},{"ruleId":"1297","severity":1,"message":"1386","line":12,"column":26,"nodeType":"1299","messageId":"1300","endLine":12,"endColumn":41},{"ruleId":"1303","severity":1,"message":"1387","line":30,"column":8,"nodeType":"1305","endLine":30,"endColumn":10,"suggestions":"1484"},{"ruleId":"1297","severity":1,"message":"1389","line":53,"column":17,"nodeType":"1299","messageId":"1300","endLine":53,"endColumn":29},{"ruleId":"1303","severity":1,"message":"1390","line":70,"column":8,"nodeType":"1305","endLine":70,"endColumn":10,"suggestions":"1485"},{"ruleId":"1297","severity":1,"message":"1392","line":3,"column":10,"nodeType":"1299","messageId":"1300","endLine":3,"endColumn":22},{"ruleId":"1297","severity":1,"message":"1393","line":3,"column":24,"nodeType":"1299","messageId":"1300","endLine":3,"endColumn":35},{"ruleId":"1297","severity":1,"message":"1394","line":5,"column":8,"nodeType":"1299","messageId":"1300","endLine":5,"endColumn":15},{"ruleId":"1297","severity":1,"message":"1395","line":7,"column":8,"nodeType":"1299","messageId":"1300","endLine":7,"endColumn":18},{"ruleId":"1297","severity":1,"message":"1414","line":13,"column":8,"nodeType":"1299","messageId":"1300","endLine":13,"endColumn":25},{"ruleId":"1297","severity":1,"message":"1415","line":21,"column":8,"nodeType":"1299","messageId":"1300","endLine":21,"endColumn":22},{"ruleId":"1297","severity":1,"message":"1323","line":22,"column":8,"nodeType":"1299","messageId":"1300","endLine":22,"endColumn":15},{"ruleId":"1297","severity":1,"message":"1416","line":23,"column":8,"nodeType":"1299","messageId":"1300","endLine":23,"endColumn":16},{"ruleId":"1297","severity":1,"message":"1417","line":24,"column":10,"nodeType":"1299","messageId":"1300","endLine":24,"endColumn":17},{"ruleId":"1297","severity":1,"message":"1418","line":70,"column":12,"nodeType":"1299","messageId":"1300","endLine":70,"endColumn":23},{"ruleId":"1297","severity":1,"message":"1419","line":70,"column":25,"nodeType":"1299","messageId":"1300","endLine":70,"endColumn":39},{"ruleId":"1366","severity":1,"message":"1367","line":153,"column":25,"nodeType":"1291","endLine":153,"endColumn":45},{"ruleId":"1297","severity":1,"message":"1395","line":5,"column":8,"nodeType":"1299","messageId":"1300","endLine":5,"endColumn":18},{"ruleId":"1297","severity":1,"message":"1396","line":6,"column":8,"nodeType":"1299","messageId":"1300","endLine":6,"endColumn":13},{"ruleId":"1297","severity":1,"message":"1397","line":9,"column":8,"nodeType":"1299","messageId":"1300","endLine":9,"endColumn":18},{"ruleId":"1297","severity":1,"message":"1398","line":11,"column":8,"nodeType":"1299","messageId":"1300","endLine":11,"endColumn":18},{"ruleId":"1297","severity":1,"message":"1399","line":15,"column":11,"nodeType":"1299","messageId":"1300","endLine":15,"endColumn":18},{"ruleId":"1297","severity":1,"message":"1400","line":18,"column":11,"nodeType":"1299","messageId":"1300","endLine":18,"endColumn":19},{"ruleId":"1297","severity":1,"message":"1401","line":20,"column":12,"nodeType":"1299","messageId":"1300","endLine":20,"endColumn":29},{"ruleId":"1297","severity":1,"message":"1402","line":20,"column":31,"nodeType":"1299","messageId":"1300","endLine":20,"endColumn":51},{"ruleId":"1297","severity":1,"message":"1322","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":25},{"ruleId":"1297","severity":1,"message":"1339","line":1,"column":27,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":36},{"ruleId":"1297","severity":1,"message":"1324","line":26,"column":12,"nodeType":"1299","messageId":"1300","endLine":26,"endColumn":17},{"ruleId":"1318","severity":1,"message":"1319","line":190,"column":58,"nodeType":"1320","messageId":"1321","endLine":190,"endColumn":60},{"ruleId":"1303","severity":1,"message":"1420","line":24,"column":13,"nodeType":"1337","endLine":28,"endColumn":4},{"ruleId":"1303","severity":1,"message":"1458","line":43,"column":8,"nodeType":"1305","endLine":43,"endColumn":10,"suggestions":"1486"},{"ruleId":"1331","severity":1,"message":"1332","line":167,"column":105,"nodeType":"1333","messageId":"1334","endLine":167,"endColumn":106},{"ruleId":"1331","severity":1,"message":"1332","line":175,"column":105,"nodeType":"1333","messageId":"1334","endLine":175,"endColumn":106},{"ruleId":"1297","severity":1,"message":"1421","line":25,"column":11,"nodeType":"1299","messageId":"1300","endLine":25,"endColumn":21},{"ruleId":"1303","severity":1,"message":"1460","line":32,"column":8,"nodeType":"1305","endLine":32,"endColumn":10,"suggestions":"1487"},{"ruleId":"1303","severity":1,"message":"1427","line":38,"column":8,"nodeType":"1305","endLine":38,"endColumn":14,"suggestions":"1488"},{"ruleId":"1297","severity":1,"message":"1429","line":15,"column":12,"nodeType":"1299","messageId":"1300","endLine":15,"endColumn":18},{"ruleId":"1303","severity":1,"message":"1430","line":21,"column":8,"nodeType":"1305","endLine":21,"endColumn":14,"suggestions":"1489"},{"ruleId":"1297","severity":1,"message":"1432","line":43,"column":14,"nodeType":"1299","messageId":"1300","endLine":43,"endColumn":26},{"ruleId":"1303","severity":1,"message":"1430","line":22,"column":8,"nodeType":"1305","endLine":22,"endColumn":14,"suggestions":"1490"},{"ruleId":"1331","severity":1,"message":"1332","line":36,"column":64,"nodeType":"1333","messageId":"1334","endLine":36,"endColumn":65},{"ruleId":"1303","severity":1,"message":"1425","line":16,"column":5,"nodeType":"1299","endLine":16,"endColumn":14,"suggestions":"1491"},{"ruleId":"1297","severity":1,"message":"1453","line":24,"column":5,"nodeType":"1299","messageId":"1300","endLine":24,"endColumn":10},{"ruleId":"1297","severity":1,"message":"1454","line":35,"column":10,"nodeType":"1299","messageId":"1300","endLine":35,"endColumn":25},{"ruleId":"1303","severity":1,"message":"1455","line":48,"column":6,"nodeType":"1305","endLine":48,"endColumn":12,"suggestions":"1492"},{"ruleId":"1297","severity":1,"message":"1457","line":57,"column":11,"nodeType":"1299","messageId":"1300","endLine":57,"endColumn":16},{"ruleId":"1297","severity":1,"message":"1423","line":5,"column":8,"nodeType":"1299","messageId":"1300","endLine":5,"endColumn":26},{"ruleId":"1297","severity":1,"message":"1424","line":9,"column":8,"nodeType":"1299","messageId":"1300","endLine":9,"endColumn":17},{"ruleId":"1297","severity":1,"message":"1322","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":25},{"ruleId":"1303","severity":1,"message":"1434","line":53,"column":9,"nodeType":"1305","endLine":53,"endColumn":11,"suggestions":"1493"},{"ruleId":"1303","severity":1,"message":"1430","line":50,"column":8,"nodeType":"1305","endLine":50,"endColumn":14,"suggestions":"1494"},{"ruleId":"1303","severity":1,"message":"1437","line":33,"column":8,"nodeType":"1305","endLine":33,"endColumn":14,"suggestions":"1495"},{"ruleId":"1297","severity":1,"message":"1322","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":25},{"ruleId":"1297","severity":1,"message":"1339","line":1,"column":27,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":36},{"ruleId":"1366","severity":1,"message":"1367","line":13,"column":13,"nodeType":"1291","endLine":13,"endColumn":44},{"ruleId":"1285","replacedBy":"1496"},{"ruleId":"1287","replacedBy":"1497"},{"ruleId":"1297","severity":1,"message":"1339","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":26},{"ruleId":"1303","severity":1,"message":"1430","line":23,"column":8,"nodeType":"1305","endLine":23,"endColumn":14,"suggestions":"1498"},{"ruleId":"1297","severity":1,"message":"1441","line":7,"column":21,"nodeType":"1299","messageId":"1300","endLine":7,"endColumn":31},{"ruleId":"1309","severity":1,"message":"1442","line":45,"column":66,"nodeType":"1311","messageId":"1312","endLine":45,"endColumn":68},{"ruleId":"1309","severity":1,"message":"1442","line":45,"column":97,"nodeType":"1311","messageId":"1312","endLine":45,"endColumn":99},{"ruleId":"1303","severity":1,"message":"1427","line":43,"column":8,"nodeType":"1305","endLine":43,"endColumn":29,"suggestions":"1499"},{"ruleId":"1303","severity":1,"message":"1430","line":23,"column":8,"nodeType":"1305","endLine":23,"endColumn":10,"suggestions":"1500"},{"ruleId":"1297","severity":1,"message":"1501","line":1,"column":17,"nodeType":"1299","messageId":"1300","endLine":1,"endColumn":23},{"ruleId":"1297","severity":1,"message":"1502","line":8,"column":9,"nodeType":"1299","messageId":"1300","endLine":8,"endColumn":15},{"ruleId":"1297","severity":1,"message":"1503","line":32,"column":12,"nodeType":"1299","messageId":"1300","endLine":32,"endColumn":19},{"ruleId":"1297","severity":1,"message":"1504","line":33,"column":12,"nodeType":"1299","messageId":"1300","endLine":33,"endColumn":22},{"ruleId":"1297","severity":1,"message":"1505","line":34,"column":12,"nodeType":"1299","messageId":"1300","endLine":34,"endColumn":20},{"ruleId":"1297","severity":1,"message":"1506","line":51,"column":12,"nodeType":"1299","messageId":"1300","endLine":51,"endColumn":21},{"ruleId":"1297","severity":1,"message":"1507","line":51,"column":23,"nodeType":"1299","messageId":"1300","endLine":51,"endColumn":35},{"ruleId":"1297","severity":1,"message":"1508","line":53,"column":12,"nodeType":"1299","messageId":"1300","endLine":53,"endColumn":25},{"ruleId":"1303","severity":1,"message":"1444","line":78,"column":8,"nodeType":"1305","endLine":78,"endColumn":10,"suggestions":"1509"},{"ruleId":"1318","severity":1,"message":"1422","line":90,"column":29,"nodeType":"1320","messageId":"1321","endLine":90,"endColumn":31},{"ruleId":"1318","severity":1,"message":"1319","line":92,"column":41,"nodeType":"1320","messageId":"1321","endLine":92,"endColumn":43},{"ruleId":"1318","severity":1,"message":"1422","line":98,"column":51,"nodeType":"1320","messageId":"1321","endLine":98,"endColumn":53},{"ruleId":"1318","severity":1,"message":"1319","line":127,"column":37,"nodeType":"1320","messageId":"1321","endLine":127,"endColumn":39},{"ruleId":"1318","severity":1,"message":"1422","line":133,"column":55,"nodeType":"1320","messageId":"1321","endLine":133,"endColumn":57},{"ruleId":"1510","severity":1,"message":"1511","line":150,"column":9,"nodeType":"1512","messageId":"1513","endLine":195,"endColumn":10},{"ruleId":"1318","severity":1,"message":"1319","line":154,"column":26,"nodeType":"1320","messageId":"1321","endLine":154,"endColumn":28},{"ruleId":"1318","severity":1,"message":"1319","line":154,"column":87,"nodeType":"1320","messageId":"1321","endLine":154,"endColumn":89},{"ruleId":"1318","severity":1,"message":"1319","line":164,"column":26,"nodeType":"1320","messageId":"1321","endLine":164,"endColumn":28},{"ruleId":"1318","severity":1,"message":"1319","line":175,"column":26,"nodeType":"1320","messageId":"1321","endLine":175,"endColumn":28},{"ruleId":"1318","severity":1,"message":"1319","line":175,"column":87,"nodeType":"1320","messageId":"1321","endLine":175,"endColumn":89},{"ruleId":"1318","severity":1,"message":"1319","line":185,"column":26,"nodeType":"1320","messageId":"1321","endLine":185,"endColumn":28},{"ruleId":"1318","severity":1,"message":"1319","line":202,"column":20,"nodeType":"1320","messageId":"1321","endLine":202,"endColumn":22},{"ruleId":"1318","severity":1,"message":"1319","line":202,"column":50,"nodeType":"1320","messageId":"1321","endLine":202,"endColumn":52},{"ruleId":"1510","severity":1,"message":"1511","line":212,"column":9,"nodeType":"1512","messageId":"1513","endLine":241,"endColumn":10},{"ruleId":"1318","severity":1,"message":"1319","line":250,"column":40,"nodeType":"1320","messageId":"1321","endLine":250,"endColumn":42},{"ruleId":"1318","severity":1,"message":"1319","line":253,"column":40,"nodeType":"1320","messageId":"1321","endLine":253,"endColumn":42},{"ruleId":"1318","severity":1,"message":"1422","line":259,"column":28,"nodeType":"1320","messageId":"1321","endLine":259,"endColumn":30},{"ruleId":"1318","severity":1,"message":"1319","line":262,"column":35,"nodeType":"1320","messageId":"1321","endLine":262,"endColumn":37},{"ruleId":"1318","severity":1,"message":"1319","line":262,"column":60,"nodeType":"1320","messageId":"1321","endLine":262,"endColumn":62},{"ruleId":"1335","severity":1,"message":"1336","line":330,"column":70,"nodeType":"1337","messageId":"1338","endLine":330,"endColumn":72},{"ruleId":"1318","severity":1,"message":"1319","line":331,"column":55,"nodeType":"1320","messageId":"1321","endLine":331,"endColumn":57},{"ruleId":"1303","severity":1,"message":"1446","line":60,"column":8,"nodeType":"1305","endLine":60,"endColumn":10,"suggestions":"1514"},{"ruleId":"1303","severity":1,"message":"1444","line":34,"column":8,"nodeType":"1305","endLine":34,"endColumn":10,"suggestions":"1515"},{"ruleId":"1303","severity":1,"message":"1376","line":102,"column":8,"nodeType":"1305","endLine":102,"endColumn":10,"suggestions":"1516"},{"ruleId":"1331","severity":1,"message":"1332","line":400,"column":94,"nodeType":"1333","messageId":"1334","endLine":400,"endColumn":95},{"ruleId":"1331","severity":1,"message":"1332","line":418,"column":102,"nodeType":"1333","messageId":"1334","endLine":418,"endColumn":103},{"ruleId":"1303","severity":1,"message":"1449","line":48,"column":8,"nodeType":"1305","endLine":48,"endColumn":10,"suggestions":"1517"},{"ruleId":"1303","severity":1,"message":"1451","line":73,"column":8,"nodeType":"1305","endLine":73,"endColumn":10,"suggestions":"1518"},{"ruleId":"1297","severity":1,"message":"1421","line":60,"column":11,"nodeType":"1299","messageId":"1300","endLine":60,"endColumn":21},{"ruleId":"1318","severity":1,"message":"1422","line":157,"column":33,"nodeType":"1320","messageId":"1321","endLine":157,"endColumn":35},{"ruleId":"1318","severity":1,"message":"1422","line":248,"column":32,"nodeType":"1320","messageId":"1321","endLine":248,"endColumn":34},{"ruleId":"1318","severity":1,"message":"1319","line":253,"column":32,"nodeType":"1320","messageId":"1321","endLine":253,"endColumn":34},{"ruleId":"1297","severity":1,"message":"1314","line":8,"column":13,"nodeType":"1299","messageId":"1300","endLine":8,"endColumn":19},{"ruleId":"1303","severity":1,"message":"1462","line":33,"column":8,"nodeType":"1305","endLine":33,"endColumn":10,"suggestions":"1519"},"no-native-reassign",["1520"],"no-negated-in-lhs",["1521"],"react/jsx-pascal-case","Imported JSX component Contact_Boutique must be in PascalCase or SCREAMING_SNAKE_CASE","JSXOpeningElement","Imported JSX component Prest_Login must be in PascalCase or SCREAMING_SNAKE_CASE","Imported JSX component Prest_Subscribe must be in PascalCase or SCREAMING_SNAKE_CASE","Imported JSX component Prest_Step_Confirm must be in PascalCase or SCREAMING_SNAKE_CASE","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-unused-vars","'Stripe' is defined but never used.","Identifier","unusedVar","'functions' is defined but never used.","'inputAdornmentClasses' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'auth' and 'handleAuthChanged'. Either include them or remove the dependency array.","ArrayExpression",["1522"],"'token' is assigned a value but never used.","'refService' is assigned a value but never used.","no-mixed-operators","Unexpected mix of '||' and '&&'. Use parentheses to clarify the intended order of operations.","LogicalExpression","unexpectedMixedOperator","'Redirect' is defined but never used.","'seller' is assigned a value but never used.","React Hook useEffect has an unnecessary dependency: 'window.innerWidth'. Either exclude it or remove the dependency array. Outer scope values like 'window.innerWidth' aren't valid dependencies because mutating them doesn't re-render the component.",["1523"],["1524"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'useState' is defined but never used.","'imgTest' is defined but never used.","'error' is assigned a value but never used.","'MenuItem' is defined but never used.","'FormControl' is defined but never used.","'Select' is defined but never used.","'SelectChangeEvent' is defined but never used.","React Hook useEffect has missing dependencies: 'event', 'getSellersFromDB', 'history', and 'setCurrentStepProcess'. Either include them or remove the dependency array.",["1525"],"no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'useEffect' is defined but never used.","'Hidden' is defined but never used.","'setStatus' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'appendToSliderTimePicker', 'event', 'history', and 'setCurrentStepProcess'. Either include them or remove the dependency array. Outer scope values like 'window.innerWidth' aren't valid dependencies because mutating them doesn't re-render the component.",["1526"],"'ServiceDescription' is defined but never used.","'setIsPayment' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'checkoutCheck', 'createSales', 'event', 'eventId', 'getSaleTokenOfEventFromDb', 'history', 'saleToken', and 'session_id'. Either include them or remove the dependency array.",["1527"],"'windowsWidth' is assigned a value but never used.",["1528"],"'Link' is defined but never used.","'useLocation' is defined but never used.","'loading' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'clearEvent', 'getPourcentBar', 'getSellerListFromServices', and 'updateEventStatus'. Either include them or remove the dependency array.",["1529"],"'setIsCardWidgetOpen' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'addViewsOfSeller', 'getSellerServicesFromDB', 'isSellerInWishListOfUser', 'refSellers', 'sellerId', and 'setCurrentStepProcess'. Either include them or remove the dependency array.",["1530"],"React Hook useEffect has missing dependencies: 'getAllChoosedServicesFromDB' and 'setCurrentStepProcess'. Either include them or remove the dependency array.",["1531"],"'ButtonLarge' is defined but never used.","'Title' is defined but never used.","'FaPlus' is defined but never used.","'checkoutSubscription' is assigned a value but never used.","'refSellers' is assigned a value but never used.","'isMobile' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","Imported JSX component Prest_Dashboard_Status_Message must be in PascalCase or SCREAMING_SNAKE_CASE","Imported JSX component Prest_Dashboard_Dashboard must be in PascalCase or SCREAMING_SNAKE_CASE","Imported JSX component Prest_Dashboard_Commandes must be in PascalCase or SCREAMING_SNAKE_CASE","Imported JSX component Prest_Dashboard_Services must be in PascalCase or SCREAMING_SNAKE_CASE","Imported JSX component Prest_Dashboard_Info must be in PascalCase or SCREAMING_SNAKE_CASE","Imported JSX component Prest_Dashboard_Sponsorship must be in PascalCase or SCREAMING_SNAKE_CASE","React Hook useEffect has missing dependencies: 'getSellerDocumentsFromDB' and 'initialDocuments'. Either include them or remove the dependency array.",["1532"],"React Hook useEffect has a missing dependency: 'getServicesOfCurrentSellerFromDB'. Either include it or remove the dependency array.",["1533"],"'isMobile' is defined but never used.",["1534"],"React Hook useEffect has missing dependencies: 'seller.category', 'seller.description', 'seller.image_path', and 'seller.subcategory'. Either include them or remove the dependency array.",["1535"],"React Hook useEffect has missing dependencies: 'checkoutCheck', 'refSellers', 'seller', 'session_id', and 'setSeller'. Either include them or remove the dependency array.",["1536"],"React Hook useEffect has missing dependencies: 'seller.subscription_id' and 'session_id'. Either include them or remove the dependency array.",["1537"],"'setErrorMessage' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'continueUrl', 'handleResetPassword', 'handleVerifyEmail', 'lang', 'mode', and 'oobCode'. Either include them or remove the dependency array.",["1538"],"'accountEmail' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'eventId', 'getAllowedSellers', 'getEventFromUid', 'history', and 'user'. Either include them or remove the dependency array.",["1539"],"'FaArrowRight' is defined but never used.","'FaArrowLeft' is defined but never used.","'PlusImg' is defined but never used.","'NoteWidget' is defined but never used.","'Image' is defined but never used.","'rappelImg1' is defined but never used.","'rappelImg3' is defined but never used.","'history' is assigned a value but never used.","'referral' is assigned a value but never used.","'openedFAQDropdown' is assigned a value but never used.","'setOpenedFAQDropdown' is assigned a value but never used.","'setCurrentStepProcess' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'referral' and 'sellerData'. Either include them or remove the dependency array. You can also do a functional update 'setSellerData(s => ...)' if you only need 'sellerData' in the 'setSellerData' call.",["1540"],"'footer' is defined but never used.","'setWindowsWidth' is assigned a value but never used.","'pres1' is defined but never used.","'pres2' is defined but never used.","'pres3' is defined but never used.","'pres4' is defined but never used.","'pres5' is defined but never used.","'ButtonSmall' is defined but never used.","'SimpleImageSlider' is defined but never used.","'backgroundHome' is defined but never used.","'imgTest2' is defined but never used.","'padding' is defined but never used.","'activeSlide' is assigned a value but never used.","'setActiveSlide' is assigned a value but never used.","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","'itemHeight' is assigned a value but never used.","Expected '!==' and instead saw '!='.","'accessoiresDecoImg' is defined but never used.","'groupeImg' is defined but never used.","React Hook useEffect contains a call to 'setLeftBudget'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [event.budgetLeft, event.budget] as a second argument to the useEffect Hook.",["1541"],"React Hook useEffect has a missing dependency: 'firestore'. Either include it or remove the dependency array.",["1542"],"'search' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getData'. Either include it or remove the dependency array.",["1543"],"'handleSearch' is defined but never used.",["1544"],"React Hook React.useMemo has a missing dependency: 'tableTemplate'. Either include it or remove the dependency array.",["1545"],["1546"],"React Hook useEffect has missing dependencies: 'appendToSliderTimePicker' and 'getData'. Either include them or remove the dependency array.",["1547"],["1548"],["1549"],"'setLoading' is assigned a value but never used.","Unexpected mix of '&&' and '||'. Use parentheses to clarify the intended order of operations.",["1550"],"React Hook useEffect has a missing dependency: 'getSellerReferralCountFromDB'. Either include it or remove the dependency array.",["1551"],"React Hook useEffect has a missing dependency: 'seller'. Either include it or remove the dependency array.",["1552"],["1553"],"React Hook useEffect has a missing dependency: 'getSales'. Either include it or remove the dependency array.",["1554"],"React Hook useEffect has missing dependencies: 'getMonthlyEarns', 'getMonthlySales', 'getMonthlyViews', 'getPositionOfSeller', 'getReviewsOfSellerUid', 'getSales', 'getSellersCount', 'getWishListCountOfSeller', and 'seller.uid'. Either include them or remove the dependency array.",["1555"],"'event' is assigned a value but never used.","'currentQuantity' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'setLoadingButtonAddToCard'. Either include it or remove the dependency array.",["1556"],"'total' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'data' and 'getCurrentUserProfil'. Either include them or remove the dependency array. You can also do a functional update 'setData(d => ...)' if you only need 'data' in the 'setData' call.",["1557"],"React Hook useEffect has missing dependencies: 'getSellersInDbWithUids', 'getWishList', and 'user.uid'. Either include them or remove the dependency array.",["1558"],"React Hook useEffect has a missing dependency: 'getSalesAndMountGraphData'. Either include it or remove the dependency array.",["1559"],["1520"],["1521"],["1560"],["1561"],["1562"],["1563"],["1564"],["1565"],["1566"],["1567"],"Imported JSX component Prest_Dashboard_Calendar must be in PascalCase or SCREAMING_SNAKE_CASE",["1568"],["1569"],["1570"],["1571"],["1572"],["1573"],["1574"],["1575"],["1576"],["1577"],["1578"],["1579"],["1580"],["1581"],["1582"],["1583"],["1584"],["1585"],["1586"],["1587"],["1588"],["1520"],["1521"],["1589"],["1590"],["1591"],"'useRef' is defined but never used.","'Button' is defined but never used.","'allDays' is assigned a value but never used.","'beforeDays' is assigned a value but never used.","'startDay' is assigned a value but never used.","'day_state' is assigned a value but never used.","'setDay_state' is assigned a value but never used.","'referralCount' is assigned a value but never used.",["1592"],"default-case","Expected a default case.","SwitchStatement","missingDefaultCase",["1593"],["1594"],["1595"],["1596"],["1597"],["1598"],"no-global-assign","no-unsafe-negation",{"desc":"1599","fix":"1600"},{"desc":"1601","fix":"1602"},{"desc":"1601","fix":"1603"},{"desc":"1604","fix":"1605"},{"desc":"1606","fix":"1607"},{"desc":"1608","fix":"1609"},{"desc":"1601","fix":"1610"},{"desc":"1611","fix":"1612"},{"desc":"1613","fix":"1614"},{"desc":"1615","fix":"1616"},{"desc":"1617","fix":"1618"},{"desc":"1619","fix":"1620"},{"desc":"1617","fix":"1621"},{"desc":"1622","fix":"1623"},{"desc":"1624","fix":"1625"},{"desc":"1626","fix":"1627"},{"desc":"1628","fix":"1629"},{"desc":"1630","fix":"1631"},{"desc":"1632","fix":"1633"},{"desc":"1634","fix":"1635"},{"desc":"1636","fix":"1637"},{"desc":"1638","fix":"1639"},{"desc":"1638","fix":"1640"},{"desc":"1641","fix":"1642"},{"desc":"1638","fix":"1643"},{"desc":"1644","fix":"1645"},{"desc":"1646","fix":"1647"},{"desc":"1638","fix":"1648"},{"desc":"1649","fix":"1650"},{"desc":"1651","fix":"1652"},{"desc":"1653","fix":"1654"},{"desc":"1619","fix":"1655"},{"desc":"1656","fix":"1657"},{"desc":"1658","fix":"1659"},{"desc":"1660","fix":"1661"},{"desc":"1662","fix":"1663"},{"desc":"1664","fix":"1665"},{"desc":"1666","fix":"1667"},{"desc":"1599","fix":"1668"},{"desc":"1601","fix":"1669"},{"desc":"1601","fix":"1670"},{"desc":"1611","fix":"1671"},{"desc":"1601","fix":"1672"},{"desc":"1604","fix":"1673"},{"desc":"1606","fix":"1674"},{"desc":"1615","fix":"1675"},{"desc":"1608","fix":"1676"},{"desc":"1632","fix":"1677"},{"desc":"1622","fix":"1678"},{"desc":"1624","fix":"1679"},{"desc":"1626","fix":"1680"},{"desc":"1617","fix":"1681"},{"desc":"1619","fix":"1682"},{"desc":"1613","fix":"1683"},{"desc":"1617","fix":"1684"},{"desc":"1628","fix":"1685"},{"desc":"1630","fix":"1686"},{"desc":"1662","fix":"1687"},{"desc":"1664","fix":"1688"},{"desc":"1636","fix":"1689"},{"desc":"1638","fix":"1690"},{"desc":"1638","fix":"1691"},{"desc":"1634","fix":"1692"},{"desc":"1660","fix":"1693"},{"desc":"1641","fix":"1694"},{"desc":"1638","fix":"1695"},{"desc":"1644","fix":"1696"},{"desc":"1638","fix":"1697"},{"desc":"1646","fix":"1698"},{"desc":"1649","fix":"1699"},{"desc":"1651","fix":"1700"},{"desc":"1653","fix":"1701"},{"desc":"1651","fix":"1702"},{"desc":"1619","fix":"1703"},{"desc":"1656","fix":"1704"},{"desc":"1658","fix":"1705"},{"desc":"1666","fix":"1706"},"Update the dependencies array to be: [auth, handleAuthChanged]",{"range":"1707","text":"1708"},"Update the dependencies array to be: []",{"range":"1709","text":"1710"},{"range":"1711","text":"1710"},"Update the dependencies array to be: [selectedMenu, selectedSubMenu, foodTypeFilter, event, history, getSellersFromDB, setCurrentStepProcess]",{"range":"1712","text":"1713"},"Update the dependencies array to be: [appendToSliderTimePicker, endTime, event, history, setCurrentStepProcess, startTime]",{"range":"1714","text":"1715"},"Update the dependencies array to be: [checkoutCheck, createSales, event, eventId, getSaleTokenOfEventFromDb, history, saleToken, session_id]",{"range":"1716","text":"1717"},{"range":"1718","text":"1710"},"Update the dependencies array to be: [clearEvent, event, getPourcentBar, getSellerListFromServices, updateEventStatus]",{"range":"1719","text":"1720"},"Update the dependencies array to be: [addViewsOfSeller, getSellerServicesFromDB, isSellerInWishListOfUser, refSellers, sellerId, setCurrentStepProcess]",{"range":"1721","text":"1722"},"Update the dependencies array to be: [event.choosedServices, getAllChoosedServicesFromDB, setCurrentStepProcess]",{"range":"1723","text":"1724"},"Update the dependencies array to be: [getSellerDocumentsFromDB, initialDocuments]",{"range":"1725","text":"1726"},"Update the dependencies array to be: [getServicesOfCurrentSellerFromDB]",{"range":"1727","text":"1728"},{"range":"1729","text":"1726"},"Update the dependencies array to be: [seller.category, seller.description, seller.image_path, seller.subcategory]",{"range":"1730","text":"1731"},"Update the dependencies array to be: [checkoutCheck, refSellers, seller, session_id, setSeller]",{"range":"1732","text":"1733"},"Update the dependencies array to be: [seller.subscription_id, session_id]",{"range":"1734","text":"1735"},"Update the dependencies array to be: [continueUrl, handleResetPassword, handleVerifyEmail, lang, mode, oobCode]",{"range":"1736","text":"1737"},"Update the dependencies array to be: [eventId, getAllowedSellers, getEventFromUid, history, user]",{"range":"1738","text":"1739"},"Update the dependencies array to be: [referral, sellerData]",{"range":"1740","text":"1741"},"Add dependencies array: [event.budgetLeft, event.budget]",{"range":"1742","text":"1743"},"Update the dependencies array to be: [firestore, step]",{"range":"1744","text":"1745"},"Update the dependencies array to be: [getData, step]",{"range":"1746","text":"1747"},{"range":"1748","text":"1747"},"Update the dependencies array to be: [tableTemplate]",{"range":"1749","text":"1750"},{"range":"1751","text":"1747"},"Update the dependencies array to be: [appendToSliderTimePicker, getData, step]",{"range":"1752","text":"1753"},"Update the dependencies array to be: [step, currentSeller, firestore]",{"range":"1754","text":"1755"},{"range":"1756","text":"1747"},"Update the dependencies array to be: [getData]",{"range":"1757","text":"1758"},"Update the dependencies array to be: [getSellerReferralCountFromDB]",{"range":"1759","text":"1760"},"Update the dependencies array to be: [seller]",{"range":"1761","text":"1762"},{"range":"1763","text":"1728"},"Update the dependencies array to be: [getSales]",{"range":"1764","text":"1765"},"Update the dependencies array to be: [getMonthlyEarns, getMonthlySales, getMonthlyViews, getPositionOfSeller, getReviewsOfSellerUid, getSales, getSellersCount, getWishListCountOfSeller, seller.uid]",{"range":"1766","text":"1767"},"Update the dependencies array to be: [item, setLoadingButtonAddToCard]",{"range":"1768","text":"1769"},"Update the dependencies array to be: [data, getCurrentUserProfil]",{"range":"1770","text":"1771"},"Update the dependencies array to be: [getSellersInDbWithUids, getWishList, user.uid]",{"range":"1772","text":"1773"},"Update the dependencies array to be: [getSalesAndMountGraphData]",{"range":"1774","text":"1775"},{"range":"1776","text":"1708"},{"range":"1777","text":"1710"},{"range":"1778","text":"1710"},{"range":"1779","text":"1720"},{"range":"1780","text":"1710"},{"range":"1781","text":"1713"},{"range":"1782","text":"1715"},{"range":"1783","text":"1724"},{"range":"1784","text":"1717"},{"range":"1785","text":"1741"},{"range":"1786","text":"1731"},{"range":"1787","text":"1733"},{"range":"1788","text":"1735"},{"range":"1789","text":"1726"},{"range":"1790","text":"1728"},{"range":"1791","text":"1722"},{"range":"1792","text":"1726"},{"range":"1793","text":"1737"},{"range":"1794","text":"1739"},{"range":"1795","text":"1771"},{"range":"1796","text":"1773"},{"range":"1797","text":"1745"},{"range":"1798","text":"1747"},{"range":"1799","text":"1747"},{"range":"1800","text":"1743"},{"range":"1801","text":"1769"},{"range":"1802","text":"1750"},{"range":"1803","text":"1747"},{"range":"1804","text":"1753"},{"range":"1805","text":"1747"},{"range":"1806","text":"1755"},{"range":"1807","text":"1758"},{"range":"1808","text":"1760"},{"range":"1809","text":"1762"},{"range":"1810","text":"1760"},{"range":"1811","text":"1728"},{"range":"1812","text":"1765"},{"range":"1813","text":"1767"},{"range":"1814","text":"1775"},[3476,3478],"[auth, handleAuthChanged]",[577,596],"[]",[822,841],[3359,3406],"[selectedMenu, selectedSubMenu, foodTypeFilter, event, history, getSellersFromDB, setCurrentStepProcess]",[2971,3010],"[appendToSliderTimePicker, endTime, event, history, setCurrentStepProcess, startTime]",[1682,1684],"[checkoutCheck, createSales, event, eventId, getSaleTokenOfEventFromDb, history, saleToken, session_id]",[902,921],[2064,2071],"[clearEvent, event, getPourcentBar, getSellerListFromServices, updateEventStatus]",[2158,2160],"[addViewsOfSeller, getSellerServicesFromDB, isSellerInWishListOfUser, refSellers, sellerId, setCurrentStepProcess]",[1532,1555],"[event.choosedServices, getAllChoosedServicesFromDB, setCurrentStepProcess]",[1849,1851],"[getSellerDocumentsFromDB, initialDocuments]",[3945,3947],"[getServicesOfCurrentSellerFromDB]",[1903,1905],[2133,2135],"[seller.category, seller.description, seller.image_path, seller.subcategory]",[2536,2538],"[checkoutCheck, refSellers, seller, session_id, setSeller]",[2711,2713],"[seller.subscription_id, session_id]",[994,996],"[continueUrl, handleResetPassword, handleVerifyEmail, lang, mode, oobCode]",[2485,2487],"[eventId, getAllowedSellers, getEventFromUid, history, user]",[2142,2144],"[referral, sellerData]",[859,859],", [event.budgetLeft, event.budget]",[1228,1234],"[firestore, step]",[624,630],"[getData, step]",[680,686],[2287,2289],"[tableTemplate]",[1655,1661],[1216,1222],"[appendToSliderTimePicker, getData, step]",[1441,1462],"[step, currentSeller, firestore]",[687,693],[781,783],"[getData]",[1145,1147],"[getSellerReferralCountFromDB]",[1661,1663],"[seller]",[3654,3656],[1587,1589],"[getSales]",[2935,2937],"[getMonthlyEarns, getMonthlySales, getMonthlyViews, getPositionOfSeller, getReviewsOfSellerUid, getSales, getSellersCount, getWishListCountOfSeller, seller.uid]",[1693,1699],"[item, setLoadingButtonAddToCard]",[1485,1487],"[data, getCurrentUserProfil]",[1026,1028],"[getSellersInDbWithUids, getWishList, user.uid]",[1005,1007],"[getSalesAndMountGraphData]",[3395,3397],[800,819],[560,579],[2007,2014],[878,897],[3285,3332],[2900,2939],[1489,1512],[1638,1640],[2092,2094],[2162,2164],[2552,2554],[2721,2723],[1794,1796],[3840,3842],[2097,2099],[1847,1849],[965,967],[2416,2418],[1443,1445],[995,997],[1191,1197],[604,610],[659,665],[834,834],[1646,1652],[2235,2237],[1606,1612],[1184,1190],[665,671],[1399,1420],[759,761],[2692,2694],[1602,1604],[1112,1114],[3553,3555],[1540,1542],[2863,2865],[973,975]]